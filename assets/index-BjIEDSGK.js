var sO=Object.defineProperty;var PP=n=>{throw TypeError(n)};var rO=(n,t,e)=>t in n?sO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var tt=(n,t,e)=>rO(n,typeof t!="symbol"?t+"":t,e),yx=(n,t,e)=>t.has(n)||PP("Cannot "+e);var l=(n,t,e)=>(yx(n,t,"read from private field"),e?e.call(n):t.get(n)),M=(n,t,e)=>t.has(n)?PP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),S=(n,t,e,i)=>(yx(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),N=(n,t,e)=>(yx(n,t,"access private method"),e);var Ie=(n,t,e,i)=>({set _(s){S(n,t,s,e)},get _(){return l(n,t,i)}});function oO(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var dk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fk={exports:{}},lw={},pk={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv=Symbol.for("react.element"),aO=Symbol.for("react.portal"),lO=Symbol.for("react.fragment"),cO=Symbol.for("react.strict_mode"),uO=Symbol.for("react.profiler"),hO=Symbol.for("react.provider"),dO=Symbol.for("react.context"),fO=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),gO=Symbol.for("react.memo"),mO=Symbol.for("react.lazy"),CP=Symbol.iterator;function vO(n){return n===null||typeof n!="object"?null:(n=CP&&n[CP]||n["@@iterator"],typeof n=="function"?n:null)}var gk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mk=Object.assign,vk={};function op(n,t,e){this.props=n,this.context=t,this.refs=vk,this.updater=e||gk}op.prototype.isReactComponent={};op.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};op.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function yk(){}yk.prototype=op.prototype;function VS(n,t,e){this.props=n,this.context=t,this.refs=vk,this.updater=e||gk}var GS=VS.prototype=new yk;GS.constructor=VS;mk(GS,op.prototype);GS.isPureReactComponent=!0;var TP=Array.isArray,_k=Object.prototype.hasOwnProperty,qS={current:null},wk={key:!0,ref:!0,__self:!0,__source:!0};function xk(n,t,e){var i,s={},r=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(r=""+t.key),t)_k.call(t,i)&&!wk.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(c===1)s.children=e;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(n&&n.defaultProps)for(i in c=n.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:Uv,type:n,key:r,ref:a,props:s,_owner:qS.current}}function yO(n,t){return{$$typeof:Uv,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function ZS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Uv}function _O(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var kP=/\/+/g;function _x(n,t){return typeof n=="object"&&n!==null&&n.key!=null?_O(""+n.key):t.toString(36)}function o0(n,t,e,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Uv:case aO:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+_x(a,0):i,TP(s)?(e="",n!=null&&(e=n.replace(kP,"$&/")+"/"),o0(s,t,e,"",function(d){return d})):s!=null&&(ZS(s)&&(s=yO(s,e+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(kP,"$&/")+"/")+n)),t.push(s)),1;if(a=0,i=i===""?".":i+":",TP(n))for(var c=0;c<n.length;c++){r=n[c];var u=i+_x(r,c);a+=o0(r,t,e,u,s)}else if(u=vO(n),typeof u=="function")for(n=u.call(n),c=0;!(r=n.next()).done;)r=r.value,u=i+_x(r,c++),a+=o0(r,t,e,u,s);else if(r==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Cy(n,t,e){if(n==null)return n;var i=[],s=0;return o0(n,i,"","",function(r){return t.call(e,r,s++)}),i}function wO(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var ui={current:null},a0={transition:null},xO={ReactCurrentDispatcher:ui,ReactCurrentBatchConfig:a0,ReactCurrentOwner:qS};function bk(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Cy,forEach:function(n,t,e){Cy(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Cy(n,function(){t++}),t},toArray:function(n){return Cy(n,function(t){return t})||[]},only:function(n){if(!ZS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ot.Component=op;Ot.Fragment=lO;Ot.Profiler=uO;Ot.PureComponent=VS;Ot.StrictMode=cO;Ot.Suspense=pO;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xO;Ot.act=bk;Ot.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=mk({},n.props),s=n.key,r=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,a=qS.current),t.key!==void 0&&(s=""+t.key),n.type&&n.type.defaultProps)var c=n.type.defaultProps;for(u in t)_k.call(t,u)&&!wk.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=e;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:Uv,type:n.type,key:s,ref:r,props:i,_owner:a}};Ot.createContext=function(n){return n={$$typeof:dO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:hO,_context:n},n.Consumer=n};Ot.createElement=xk;Ot.createFactory=function(n){var t=xk.bind(null,n);return t.type=n,t};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(n){return{$$typeof:fO,render:n}};Ot.isValidElement=ZS;Ot.lazy=function(n){return{$$typeof:mO,_payload:{_status:-1,_result:n},_init:wO}};Ot.memo=function(n,t){return{$$typeof:gO,type:n,compare:t===void 0?null:t}};Ot.startTransition=function(n){var t=a0.transition;a0.transition={};try{n()}finally{a0.transition=t}};Ot.unstable_act=bk;Ot.useCallback=function(n,t){return ui.current.useCallback(n,t)};Ot.useContext=function(n){return ui.current.useContext(n)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(n){return ui.current.useDeferredValue(n)};Ot.useEffect=function(n,t){return ui.current.useEffect(n,t)};Ot.useId=function(){return ui.current.useId()};Ot.useImperativeHandle=function(n,t,e){return ui.current.useImperativeHandle(n,t,e)};Ot.useInsertionEffect=function(n,t){return ui.current.useInsertionEffect(n,t)};Ot.useLayoutEffect=function(n,t){return ui.current.useLayoutEffect(n,t)};Ot.useMemo=function(n,t){return ui.current.useMemo(n,t)};Ot.useReducer=function(n,t,e){return ui.current.useReducer(n,t,e)};Ot.useRef=function(n){return ui.current.useRef(n)};Ot.useState=function(n){return ui.current.useState(n)};Ot.useSyncExternalStore=function(n,t,e){return ui.current.useSyncExternalStore(n,t,e)};Ot.useTransition=function(){return ui.current.useTransition()};Ot.version="18.3.1";pk.exports=Ot;var O=pk.exports;const nt=WS(O),Sk=oO({__proto__:null,default:nt},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO=O,SO=Symbol.for("react.element"),AO=Symbol.for("react.fragment"),EO=Object.prototype.hasOwnProperty,PO=bO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CO={key:!0,ref:!0,__self:!0,__source:!0};function Ak(n,t,e){var i,s={},r=null,a=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)EO.call(t,i)&&!CO.hasOwnProperty(i)&&(s[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:SO,type:n,key:r,ref:a,props:s,_owner:PO.current}}lw.Fragment=AO;lw.jsx=Ak;lw.jsxs=Ak;fk.exports=lw;var R=fk.exports,Ek={exports:{}},cs={},Pk={exports:{}},Ck={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(H,q){var X=H.length;H.push(q);t:for(;0<X;){var rt=X-1>>>1,J=H[rt];if(0<s(J,q))H[rt]=q,H[X]=J,X=rt;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],X=H.pop();if(X!==q){H[0]=X;t:for(var rt=0,J=H.length,st=J>>>1;rt<st;){var at=2*(rt+1)-1,ut=H[at],dt=at+1,ct=H[dt];if(0>s(ut,X))dt<J&&0>s(ct,ut)?(H[rt]=ct,H[dt]=X,rt=dt):(H[rt]=ut,H[at]=X,rt=at);else if(dt<J&&0>s(ct,X))H[rt]=ct,H[dt]=X,rt=dt;else break t}}return q}function s(H,q){var X=H.sortIndex-q.sortIndex;return X!==0?X:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,p=null,m=3,y=!1,E=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var q=e(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=H)i(d),q.sortIndex=q.expirationTime,t(u,q);else break;q=e(d)}}function v(H){if(w=!1,A(H),!E)if(e(u)!==null)E=!0,Z(x);else{var q=e(d);q!==null&&Y(v,q.startTime-H)}}function x(H,q){E=!1,w&&(w=!1,b(F),F=-1),y=!0;var X=m;try{for(A(q),p=e(u);p!==null&&(!(p.expirationTime>q)||H&&!U());){var rt=p.callback;if(typeof rt=="function"){p.callback=null,m=p.priorityLevel;var J=rt(p.expirationTime<=q);q=n.unstable_now(),typeof J=="function"?p.callback=J:p===e(u)&&i(u),A(q)}else i(u);p=e(u)}if(p!==null)var st=!0;else{var at=e(d);at!==null&&Y(v,at.startTime-q),st=!1}return st}finally{p=null,m=X,y=!1}}var k=!1,I=null,F=-1,B=5,z=-1;function U(){return!(n.unstable_now()-z<B)}function $(){if(I!==null){var H=n.unstable_now();z=H;var q=!0;try{q=I(!0,H)}finally{q?K():(k=!1,I=null)}}else k=!1}var K;if(typeof P=="function")K=function(){P($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,it=W.port2;W.port1.onmessage=$,K=function(){it.postMessage(null)}}else K=function(){C($,0)};function Z(H){I=H,k||(k=!0,K())}function Y(H,q){F=C(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){E||y||(E=!0,Z(x))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return e(u)},n.unstable_next=function(H){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var X=m;m=q;try{return H()}finally{m=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=m;m=H;try{return q()}finally{m=X}},n.unstable_scheduleCallback=function(H,q,X){var rt=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?rt+X:rt):X=rt,H){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,H={id:f++,callback:q,priorityLevel:H,startTime:X,expirationTime:J,sortIndex:-1},X>rt?(H.sortIndex=X,t(d,H),e(u)===null&&H===e(d)&&(w?(b(F),F=-1):w=!0,Y(v,X-rt))):(H.sortIndex=J,t(u,H),E||y||(E=!0,Z(x))),H},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(H){var q=m;return function(){var X=m;m=q;try{return H.apply(this,arguments)}finally{m=X}}}})(Ck);Pk.exports=Ck;var TO=Pk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=O,as=TO;function et(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tk=new Set,kg={};function uh(n,t){Zf(n,t),Zf(n+"Capture",t)}function Zf(n,t){for(kg[n]=t,n=0;n<t.length;n++)Tk.add(t[n])}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lb=Object.prototype.hasOwnProperty,LO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LP={},MP={};function MO(n){return lb.call(MP,n)?!0:lb.call(LP,n)?!1:LO.test(n)?MP[n]=!0:(LP[n]=!0,!1)}function RO(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function NO(n,t,e,i){if(t===null||typeof t>"u"||RO(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hi(n,t,e,i,s,r,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Nn[n]=new hi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Nn[t]=new hi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Nn[n]=new hi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Nn[n]=new hi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Nn[n]=new hi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Nn[n]=new hi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Nn[n]=new hi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Nn[n]=new hi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Nn[n]=new hi(n,5,!1,n.toLowerCase(),null,!1,!1)});var XS=/[\-:]([a-z])/g;function YS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(XS,YS);Nn[t]=new hi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(XS,YS);Nn[t]=new hi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(XS,YS);Nn[t]=new hi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Nn[n]=new hi(n,1,!1,n.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Nn[n]=new hi(n,1,!1,n.toLowerCase(),null,!0,!0)});function KS(n,t,e,i){var s=Nn.hasOwnProperty(t)?Nn[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NO(t,e,s,i)&&(e=null),i||s===null?MO(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):s.mustUseProperty?n[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,i=s.attributeNamespace,e===null?n.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var Na=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ty=Symbol.for("react.element"),jh=Symbol.for("react.portal"),zh=Symbol.for("react.fragment"),QS=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Lk=Symbol.for("react.context"),JS=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),hb=Symbol.for("react.suspense_list"),tA=Symbol.for("react.memo"),$a=Symbol.for("react.lazy"),Mk=Symbol.for("react.offscreen"),RP=Symbol.iterator;function Np(n){return n===null||typeof n!="object"?null:(n=RP&&n[RP]||n["@@iterator"],typeof n=="function"?n:null)}var Me=Object.assign,wx;function qp(n){if(wx===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);wx=t&&t[1]||""}return`
`+wx+n}var xx=!1;function bx(n,t){if(!n||xx)return"";xx=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(n,[],t)}else{try{t.call()}catch(d){i=d}n.call(t.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),r=i.stack.split(`
`),a=s.length-1,c=r.length-1;1<=a&&0<=c&&s[a]!==r[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==r[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==r[c]){var u=`
`+s[a].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=a&&0<=c);break}}}finally{xx=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?qp(n):""}function IO(n){switch(n.tag){case 5:return qp(n.type);case 16:return qp("Lazy");case 13:return qp("Suspense");case 19:return qp("SuspenseList");case 0:case 2:case 15:return n=bx(n.type,!1),n;case 11:return n=bx(n.type.render,!1),n;case 1:return n=bx(n.type,!0),n;default:return""}}function db(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case zh:return"Fragment";case jh:return"Portal";case cb:return"Profiler";case QS:return"StrictMode";case ub:return"Suspense";case hb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Lk:return(n.displayName||"Context")+".Consumer";case kk:return(n._context.displayName||"Context")+".Provider";case JS:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tA:return t=n.displayName||null,t!==null?t:db(n.type)||"Memo";case $a:t=n._payload,n=n._init;try{return db(n(t))}catch{}}return null}function DO(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return db(t);case 8:return t===QS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rk(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OO(n){var t=Rk(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,r=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function ky(n){n._valueTracker||(n._valueTracker=OO(n))}function Nk(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=Rk(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function J0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fb(n,t){var e=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function NP(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=sc(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ik(n,t){t=t.checked,t!=null&&KS(n,"checked",t,!1)}function pb(n,t){Ik(n,t);var e=sc(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?gb(n,t.type,e):t.hasOwnProperty("defaultValue")&&gb(n,t.type,sc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function IP(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function gb(n,t,e){(t!=="number"||J0(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Zp=Array.isArray;function nd(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+sc(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function mb(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(et(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function DP(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(et(92));if(Zp(e)){if(1<e.length)throw Error(et(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:sc(e)}}function Dk(n,t){var e=sc(t.value),i=sc(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function OP(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function Ok(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vb(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?Ok(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ly,Fk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,s)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Ly=Ly||document.createElement("div"),Ly.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ly.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Lg(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var yg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FO=["Webkit","ms","Moz","O"];Object.keys(yg).forEach(function(n){FO.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),yg[t]=yg[n]})});function Bk(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||yg.hasOwnProperty(n)&&yg[n]?(""+t).trim():t+"px"}function jk(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,s=Bk(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,s):n[e]=s}}var BO=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yb(n,t){if(t){if(BO[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(et(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(et(62))}}function _b(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function eA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xb=null,id=null,sd=null;function FP(n){if(n=Vv(n)){if(typeof xb!="function")throw Error(et(280));var t=n.stateNode;t&&(t=fw(t),xb(n.stateNode,n.type,t))}}function zk(n){id?sd?sd.push(n):sd=[n]:id=n}function Hk(){if(id){var n=id,t=sd;if(sd=id=null,FP(n),t)for(n=0;n<t.length;n++)FP(t[n])}}function Uk(n,t){return n(t)}function $k(){}var Sx=!1;function Wk(n,t,e){if(Sx)return n(t,e);Sx=!0;try{return Uk(n,t,e)}finally{Sx=!1,(id!==null||sd!==null)&&($k(),Hk())}}function Mg(n,t){var e=n.stateNode;if(e===null)return null;var i=fw(e);if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(et(231,t,typeof e));return e}var bb=!1;if(Sa)try{var Ip={};Object.defineProperty(Ip,"passive",{get:function(){bb=!0}}),window.addEventListener("test",Ip,Ip),window.removeEventListener("test",Ip,Ip)}catch{bb=!1}function jO(n,t,e,i,s,r,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(e,d)}catch(f){this.onError(f)}}var _g=!1,t_=null,e_=!1,Sb=null,zO={onError:function(n){_g=!0,t_=n}};function HO(n,t,e,i,s,r,a,c,u){_g=!1,t_=null,jO.apply(zO,arguments)}function UO(n,t,e,i,s,r,a,c,u){if(HO.apply(this,arguments),_g){if(_g){var d=t_;_g=!1,t_=null}else throw Error(et(198));e_||(e_=!0,Sb=d)}}function hh(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function Vk(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function BP(n){if(hh(n)!==n)throw Error(et(188))}function $O(n){var t=n.alternate;if(!t){if(t=hh(n),t===null)throw Error(et(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===e)return BP(s),n;if(r===i)return BP(s),t;r=r.sibling}throw Error(et(188))}if(e.return!==i.return)e=s,i=r;else{for(var a=!1,c=s.child;c;){if(c===e){a=!0,e=s,i=r;break}if(c===i){a=!0,i=s,e=r;break}c=c.sibling}if(!a){for(c=r.child;c;){if(c===e){a=!0,e=r,i=s;break}if(c===i){a=!0,i=r,e=s;break}c=c.sibling}if(!a)throw Error(et(189))}}if(e.alternate!==i)throw Error(et(190))}if(e.tag!==3)throw Error(et(188));return e.stateNode.current===e?n:t}function Gk(n){return n=$O(n),n!==null?qk(n):null}function qk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=qk(n);if(t!==null)return t;n=n.sibling}return null}var Zk=as.unstable_scheduleCallback,jP=as.unstable_cancelCallback,WO=as.unstable_shouldYield,VO=as.unstable_requestPaint,qe=as.unstable_now,GO=as.unstable_getCurrentPriorityLevel,nA=as.unstable_ImmediatePriority,Xk=as.unstable_UserBlockingPriority,n_=as.unstable_NormalPriority,qO=as.unstable_LowPriority,Yk=as.unstable_IdlePriority,cw=null,go=null;function ZO(n){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(cw,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:KO,XO=Math.log,YO=Math.LN2;function KO(n){return n>>>=0,n===0?32:31-(XO(n)/YO|0)|0}var My=64,Ry=4194304;function Xp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function i_(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,a=e&268435455;if(a!==0){var c=a&~s;c!==0?i=Xp(c):(r&=a,r!==0&&(i=Xp(r)))}else a=e&~s,a!==0?i=Xp(a):r!==0&&(i=Xp(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-pr(t),s=1<<e,i|=n[e],t&=~s;return i}function QO(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JO(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-pr(r),c=1<<a,u=s[a];u===-1?(!(c&e)||c&i)&&(s[a]=QO(c,t)):u<=t&&(n.expiredLanes|=c),r&=~c}}function Ab(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Kk(){var n=My;return My<<=1,!(My&4194240)&&(My=64),n}function Ax(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function $v(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-pr(t),n[t]=e}function tF(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var s=31-pr(e),r=1<<s;t[s]=0,i[s]=-1,n[s]=-1,e&=~r}}function iA(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-pr(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}var Yt=0;function Qk(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Jk,sA,tL,eL,nL,Eb=!1,Ny=[],Xl=null,Yl=null,Kl=null,Rg=new Map,Ng=new Map,Va=[],eF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zP(n,t){switch(n){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":Rg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ng.delete(t.pointerId)}}function Dp(n,t,e,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Vv(t),t!==null&&sA(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function nF(n,t,e,i,s){switch(t){case"focusin":return Xl=Dp(Xl,n,t,e,i,s),!0;case"dragenter":return Yl=Dp(Yl,n,t,e,i,s),!0;case"mouseover":return Kl=Dp(Kl,n,t,e,i,s),!0;case"pointerover":var r=s.pointerId;return Rg.set(r,Dp(Rg.get(r)||null,n,t,e,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Ng.set(r,Dp(Ng.get(r)||null,n,t,e,i,s)),!0}return!1}function iL(n){var t=Nc(n.target);if(t!==null){var e=hh(t);if(e!==null){if(t=e.tag,t===13){if(t=Vk(e),t!==null){n.blockedOn=t,nL(n.priority,function(){tL(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function l0(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Pb(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);wb=i,e.target.dispatchEvent(i),wb=null}else return t=Vv(e),t!==null&&sA(t),n.blockedOn=e,!1;t.shift()}return!0}function HP(n,t,e){l0(n)&&e.delete(t)}function iF(){Eb=!1,Xl!==null&&l0(Xl)&&(Xl=null),Yl!==null&&l0(Yl)&&(Yl=null),Kl!==null&&l0(Kl)&&(Kl=null),Rg.forEach(HP),Ng.forEach(HP)}function Op(n,t){n.blockedOn===t&&(n.blockedOn=null,Eb||(Eb=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,iF)))}function Ig(n){function t(s){return Op(s,n)}if(0<Ny.length){Op(Ny[0],n);for(var e=1;e<Ny.length;e++){var i=Ny[e];i.blockedOn===n&&(i.blockedOn=null)}}for(Xl!==null&&Op(Xl,n),Yl!==null&&Op(Yl,n),Kl!==null&&Op(Kl,n),Rg.forEach(t),Ng.forEach(t),e=0;e<Va.length;e++)i=Va[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<Va.length&&(e=Va[0],e.blockedOn===null);)iL(e),e.blockedOn===null&&Va.shift()}var rd=Na.ReactCurrentBatchConfig,s_=!0;function sF(n,t,e,i){var s=Yt,r=rd.transition;rd.transition=null;try{Yt=1,rA(n,t,e,i)}finally{Yt=s,rd.transition=r}}function rF(n,t,e,i){var s=Yt,r=rd.transition;rd.transition=null;try{Yt=4,rA(n,t,e,i)}finally{Yt=s,rd.transition=r}}function rA(n,t,e,i){if(s_){var s=Pb(n,t,e,i);if(s===null)Ix(n,t,i,r_,e),zP(n,i);else if(nF(s,n,t,e,i))i.stopPropagation();else if(zP(n,i),t&4&&-1<eF.indexOf(n)){for(;s!==null;){var r=Vv(s);if(r!==null&&Jk(r),r=Pb(n,t,e,i),r===null&&Ix(n,t,i,r_,e),r===s)break;s=r}s!==null&&i.stopPropagation()}else Ix(n,t,i,null,e)}}var r_=null;function Pb(n,t,e,i){if(r_=null,n=eA(i),n=Nc(n),n!==null)if(t=hh(n),t===null)n=null;else if(e=t.tag,e===13){if(n=Vk(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return r_=n,null}function sL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GO()){case nA:return 1;case Xk:return 4;case n_:case qO:return 16;case Yk:return 536870912;default:return 16}default:return 16}}var Gl=null,oA=null,c0=null;function rL(){if(c0)return c0;var n,t=oA,e=t.length,i,s="value"in Gl?Gl.value:Gl.textContent,r=s.length;for(n=0;n<e&&t[n]===s[n];n++);var a=e-n;for(i=1;i<=a&&t[e-i]===s[r-i];i++);return c0=s.slice(n,1<i?1-i:void 0)}function u0(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Iy(){return!0}function UP(){return!1}function us(n){function t(e,i,s,r,a){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var c in n)n.hasOwnProperty(c)&&(e=n[c],this[c]=e?e(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Iy:UP,this.isPropagationStopped=UP,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Iy)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Iy)},persist:function(){},isPersistent:Iy}),t}var ap={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aA=us(ap),Wv=Me({},ap,{view:0,detail:0}),oF=us(Wv),Ex,Px,Fp,uw=Me({},Wv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fp&&(Fp&&n.type==="mousemove"?(Ex=n.screenX-Fp.screenX,Px=n.screenY-Fp.screenY):Px=Ex=0,Fp=n),Ex)},movementY:function(n){return"movementY"in n?n.movementY:Px}}),$P=us(uw),aF=Me({},uw,{dataTransfer:0}),lF=us(aF),cF=Me({},Wv,{relatedTarget:0}),Cx=us(cF),uF=Me({},ap,{animationName:0,elapsedTime:0,pseudoElement:0}),hF=us(uF),dF=Me({},ap,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fF=us(dF),pF=Me({},ap,{data:0}),WP=us(pF),gF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yF(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=vF[n])?!!t[n]:!1}function lA(){return yF}var _F=Me({},Wv,{key:function(n){if(n.key){var t=gF[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=u0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mF[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lA,charCode:function(n){return n.type==="keypress"?u0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?u0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wF=us(_F),xF=Me({},uw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VP=us(xF),bF=Me({},Wv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lA}),SF=us(bF),AF=Me({},ap,{propertyName:0,elapsedTime:0,pseudoElement:0}),EF=us(AF),PF=Me({},uw,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),CF=us(PF),TF=[9,13,27,32],cA=Sa&&"CompositionEvent"in window,wg=null;Sa&&"documentMode"in document&&(wg=document.documentMode);var kF=Sa&&"TextEvent"in window&&!wg,oL=Sa&&(!cA||wg&&8<wg&&11>=wg),GP=" ",qP=!1;function aL(n,t){switch(n){case"keyup":return TF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hh=!1;function LF(n,t){switch(n){case"compositionend":return lL(t);case"keypress":return t.which!==32?null:(qP=!0,GP);case"textInput":return n=t.data,n===GP&&qP?null:n;default:return null}}function MF(n,t){if(Hh)return n==="compositionend"||!cA&&aL(n,t)?(n=rL(),c0=oA=Gl=null,Hh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oL&&t.locale!=="ko"?null:t.data;default:return null}}var RF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZP(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!RF[n.type]:t==="textarea"}function cL(n,t,e,i){zk(i),t=o_(t,"onChange"),0<t.length&&(e=new aA("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var xg=null,Dg=null;function NF(n){wL(n,0)}function hw(n){var t=Wh(n);if(Nk(t))return n}function IF(n,t){if(n==="change")return t}var uL=!1;if(Sa){var Tx;if(Sa){var kx="oninput"in document;if(!kx){var XP=document.createElement("div");XP.setAttribute("oninput","return;"),kx=typeof XP.oninput=="function"}Tx=kx}else Tx=!1;uL=Tx&&(!document.documentMode||9<document.documentMode)}function YP(){xg&&(xg.detachEvent("onpropertychange",hL),Dg=xg=null)}function hL(n){if(n.propertyName==="value"&&hw(Dg)){var t=[];cL(t,Dg,n,eA(n)),Wk(NF,t)}}function DF(n,t,e){n==="focusin"?(YP(),xg=t,Dg=e,xg.attachEvent("onpropertychange",hL)):n==="focusout"&&YP()}function OF(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hw(Dg)}function FF(n,t){if(n==="click")return hw(t)}function BF(n,t){if(n==="input"||n==="change")return hw(t)}function jF(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var mr=typeof Object.is=="function"?Object.is:jF;function Og(n,t){if(mr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!lb.call(t,s)||!mr(n[s],t[s]))return!1}return!0}function KP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function QP(n,t){var e=KP(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=KP(e)}}function dL(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?dL(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function fL(){for(var n=window,t=J0();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=J0(n.document)}return t}function uA(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function zF(n){var t=fL(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&dL(e.ownerDocument.documentElement,e)){if(i!==null&&uA(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var s=e.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=QP(e,r);var a=QP(e,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var HF=Sa&&"documentMode"in document&&11>=document.documentMode,Uh=null,Cb=null,bg=null,Tb=!1;function JP(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Tb||Uh==null||Uh!==J0(i)||(i=Uh,"selectionStart"in i&&uA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bg&&Og(bg,i)||(bg=i,i=o_(Cb,"onSelect"),0<i.length&&(t=new aA("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=Uh)))}function Dy(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var $h={animationend:Dy("Animation","AnimationEnd"),animationiteration:Dy("Animation","AnimationIteration"),animationstart:Dy("Animation","AnimationStart"),transitionend:Dy("Transition","TransitionEnd")},Lx={},pL={};Sa&&(pL=document.createElement("div").style,"AnimationEvent"in window||(delete $h.animationend.animation,delete $h.animationiteration.animation,delete $h.animationstart.animation),"TransitionEvent"in window||delete $h.transitionend.transition);function dw(n){if(Lx[n])return Lx[n];if(!$h[n])return n;var t=$h[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in pL)return Lx[n]=t[e];return n}var gL=dw("animationend"),mL=dw("animationiteration"),vL=dw("animationstart"),yL=dw("transitionend"),_L=new Map,tC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(n,t){_L.set(n,t),uh(t,[n])}for(var Mx=0;Mx<tC.length;Mx++){var Rx=tC[Mx],UF=Rx.toLowerCase(),$F=Rx[0].toUpperCase()+Rx.slice(1);pc(UF,"on"+$F)}pc(gL,"onAnimationEnd");pc(mL,"onAnimationIteration");pc(vL,"onAnimationStart");pc("dblclick","onDoubleClick");pc("focusin","onFocus");pc("focusout","onBlur");pc(yL,"onTransitionEnd");Zf("onMouseEnter",["mouseout","mouseover"]);Zf("onMouseLeave",["mouseout","mouseover"]);Zf("onPointerEnter",["pointerout","pointerover"]);Zf("onPointerLeave",["pointerout","pointerover"]);uh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uh("onBeforeInput",["compositionend","keypress","textInput","paste"]);uh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yp));function eC(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,UO(i,t,void 0,n),n.currentTarget=null}function wL(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var c=i[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==r&&s.isPropagationStopped())break t;eC(s,c,d),r=u}else for(a=0;a<i.length;a++){if(c=i[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==r&&s.isPropagationStopped())break t;eC(s,c,d),r=u}}}if(e_)throw n=Sb,e_=!1,Sb=null,n}function ve(n,t){var e=t[Nb];e===void 0&&(e=t[Nb]=new Set);var i=n+"__bubble";e.has(i)||(xL(t,n,2,!1),e.add(i))}function Nx(n,t,e){var i=0;t&&(i|=4),xL(e,n,i,t)}var Oy="_reactListening"+Math.random().toString(36).slice(2);function Fg(n){if(!n[Oy]){n[Oy]=!0,Tk.forEach(function(e){e!=="selectionchange"&&(WF.has(e)||Nx(e,!1,n),Nx(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Oy]||(t[Oy]=!0,Nx("selectionchange",!1,t))}}function xL(n,t,e,i){switch(sL(t)){case 1:var s=sF;break;case 4:s=rF;break;default:s=rA}e=s.bind(null,t,e,n),s=void 0,!bb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function Ix(n,t,e,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Nc(c),a===null)return;if(u=a.tag,u===5||u===6){i=r=a;continue t}c=c.parentNode}}i=i.return}Wk(function(){var d=r,f=eA(e),p=[];t:{var m=_L.get(n);if(m!==void 0){var y=aA,E=n;switch(n){case"keypress":if(u0(e)===0)break t;case"keydown":case"keyup":y=wF;break;case"focusin":E="focus",y=Cx;break;case"focusout":E="blur",y=Cx;break;case"beforeblur":case"afterblur":y=Cx;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$P;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=lF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=SF;break;case gL:case mL:case vL:y=hF;break;case yL:y=EF;break;case"scroll":y=oF;break;case"wheel":y=CF;break;case"copy":case"cut":case"paste":y=fF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=VP}var w=(t&4)!==0,C=!w&&n==="scroll",b=w?m!==null?m+"Capture":null:m;w=[];for(var P=d,A;P!==null;){A=P;var v=A.stateNode;if(A.tag===5&&v!==null&&(A=v,b!==null&&(v=Mg(P,b),v!=null&&w.push(Bg(P,v,A)))),C)break;P=P.return}0<w.length&&(m=new y(m,E,null,e,f),p.push({event:m,listeners:w}))}}if(!(t&7)){t:{if(m=n==="mouseover"||n==="pointerover",y=n==="mouseout"||n==="pointerout",m&&e!==wb&&(E=e.relatedTarget||e.fromElement)&&(Nc(E)||E[Aa]))break t;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=e.relatedTarget||e.toElement,y=d,E=E?Nc(E):null,E!==null&&(C=hh(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=d),y!==E)){if(w=$P,v="onMouseLeave",b="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(w=VP,v="onPointerLeave",b="onPointerEnter",P="pointer"),C=y==null?m:Wh(y),A=E==null?m:Wh(E),m=new w(v,P+"leave",y,e,f),m.target=C,m.relatedTarget=A,v=null,Nc(f)===d&&(w=new w(b,P+"enter",E,e,f),w.target=A,w.relatedTarget=C,v=w),C=v,y&&E)e:{for(w=y,b=E,P=0,A=w;A;A=Th(A))P++;for(A=0,v=b;v;v=Th(v))A++;for(;0<P-A;)w=Th(w),P--;for(;0<A-P;)b=Th(b),A--;for(;P--;){if(w===b||b!==null&&w===b.alternate)break e;w=Th(w),b=Th(b)}w=null}else w=null;y!==null&&nC(p,m,y,w,!1),E!==null&&C!==null&&nC(p,C,E,w,!0)}}t:{if(m=d?Wh(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var x=IF;else if(ZP(m))if(uL)x=BF;else{x=OF;var k=DF}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=FF);if(x&&(x=x(n,d))){cL(p,x,e,f);break t}k&&k(n,m,d),n==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&gb(m,"number",m.value)}switch(k=d?Wh(d):window,n){case"focusin":(ZP(k)||k.contentEditable==="true")&&(Uh=k,Cb=d,bg=null);break;case"focusout":bg=Cb=Uh=null;break;case"mousedown":Tb=!0;break;case"contextmenu":case"mouseup":case"dragend":Tb=!1,JP(p,e,f);break;case"selectionchange":if(HF)break;case"keydown":case"keyup":JP(p,e,f)}var I;if(cA)t:{switch(n){case"compositionstart":var F="onCompositionStart";break t;case"compositionend":F="onCompositionEnd";break t;case"compositionupdate":F="onCompositionUpdate";break t}F=void 0}else Hh?aL(n,e)&&(F="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(F="onCompositionStart");F&&(oL&&e.locale!=="ko"&&(Hh||F!=="onCompositionStart"?F==="onCompositionEnd"&&Hh&&(I=rL()):(Gl=f,oA="value"in Gl?Gl.value:Gl.textContent,Hh=!0)),k=o_(d,F),0<k.length&&(F=new WP(F,n,null,e,f),p.push({event:F,listeners:k}),I?F.data=I:(I=lL(e),I!==null&&(F.data=I)))),(I=kF?LF(n,e):MF(n,e))&&(d=o_(d,"onBeforeInput"),0<d.length&&(f=new WP("onBeforeInput","beforeinput",null,e,f),p.push({event:f,listeners:d}),f.data=I))}wL(p,t)})}function Bg(n,t,e){return{instance:n,listener:t,currentTarget:e}}function o_(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Mg(n,e),r!=null&&i.unshift(Bg(n,r,s)),r=Mg(n,t),r!=null&&i.push(Bg(n,r,s))),n=n.return}return i}function Th(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nC(n,t,e,i,s){for(var r=t._reactName,a=[];e!==null&&e!==i;){var c=e,u=c.alternate,d=c.stateNode;if(u!==null&&u===i)break;c.tag===5&&d!==null&&(c=d,s?(u=Mg(e,r),u!=null&&a.unshift(Bg(e,u,c))):s||(u=Mg(e,r),u!=null&&a.push(Bg(e,u,c)))),e=e.return}a.length!==0&&n.push({event:t,listeners:a})}var VF=/\r\n?/g,GF=/\u0000|\uFFFD/g;function iC(n){return(typeof n=="string"?n:""+n).replace(VF,`
`).replace(GF,"")}function Fy(n,t,e){if(t=iC(t),iC(n)!==t&&e)throw Error(et(425))}function a_(){}var kb=null,Lb=null;function Mb(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rb=typeof setTimeout=="function"?setTimeout:void 0,qF=typeof clearTimeout=="function"?clearTimeout:void 0,sC=typeof Promise=="function"?Promise:void 0,ZF=typeof queueMicrotask=="function"?queueMicrotask:typeof sC<"u"?function(n){return sC.resolve(null).then(n).catch(XF)}:Rb;function XF(n){setTimeout(function(){throw n})}function Dx(n,t){var e=t,i=0;do{var s=e.nextSibling;if(n.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(i===0){n.removeChild(s),Ig(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=s}while(e);Ig(t)}function Ql(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function rC(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var lp=Math.random().toString(36).slice(2),uo="__reactFiber$"+lp,jg="__reactProps$"+lp,Aa="__reactContainer$"+lp,Nb="__reactEvents$"+lp,YF="__reactListeners$"+lp,KF="__reactHandles$"+lp;function Nc(n){var t=n[uo];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Aa]||e[uo]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=rC(n);n!==null;){if(e=n[uo])return e;n=rC(n)}return t}n=e,e=n.parentNode}return null}function Vv(n){return n=n[uo]||n[Aa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Wh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(et(33))}function fw(n){return n[jg]||null}var Ib=[],Vh=-1;function gc(n){return{current:n}}function _e(n){0>Vh||(n.current=Ib[Vh],Ib[Vh]=null,Vh--)}function de(n,t){Vh++,Ib[Vh]=n.current,n.current=t}var rc={},Xn=gc(rc),Ti=gc(!1),nh=rc;function Xf(n,t){var e=n.type.contextTypes;if(!e)return rc;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in e)s[r]=t[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=s),s}function ki(n){return n=n.childContextTypes,n!=null}function l_(){_e(Ti),_e(Xn)}function oC(n,t,e){if(Xn.current!==rc)throw Error(et(168));de(Xn,t),de(Ti,e)}function bL(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(et(108,DO(n)||"Unknown",s));return Me({},e,i)}function c_(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||rc,nh=Xn.current,de(Xn,n),de(Ti,Ti.current),!0}function aC(n,t,e){var i=n.stateNode;if(!i)throw Error(et(169));e?(n=bL(n,t,nh),i.__reactInternalMemoizedMergedChildContext=n,_e(Ti),_e(Xn),de(Xn,n)):_e(Ti),de(Ti,e)}var Oo=null,pw=!1,Ox=!1;function SL(n){Oo===null?Oo=[n]:Oo.push(n)}function QF(n){pw=!0,SL(n)}function mc(){if(!Ox&&Oo!==null){Ox=!0;var n=0,t=Yt;try{var e=Oo;for(Yt=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}Oo=null,pw=!1}catch(s){throw Oo!==null&&(Oo=Oo.slice(n+1)),Zk(nA,mc),s}finally{Yt=t,Ox=!1}}return null}var Gh=[],qh=0,u_=null,h_=0,Ls=[],Ms=0,ih=null,ya=1,_a="";function Ac(n,t){Gh[qh++]=h_,Gh[qh++]=u_,u_=n,h_=t}function AL(n,t,e){Ls[Ms++]=ya,Ls[Ms++]=_a,Ls[Ms++]=ih,ih=n;var i=ya;n=_a;var s=32-pr(i)-1;i&=~(1<<s),e+=1;var r=32-pr(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,ya=1<<32-pr(t)+s|e<<s|i,_a=r+n}else ya=1<<r|e<<s|i,_a=n}function hA(n){n.return!==null&&(Ac(n,1),AL(n,1,0))}function dA(n){for(;n===u_;)u_=Gh[--qh],Gh[qh]=null,h_=Gh[--qh],Gh[qh]=null;for(;n===ih;)ih=Ls[--Ms],Ls[Ms]=null,_a=Ls[--Ms],Ls[Ms]=null,ya=Ls[--Ms],Ls[Ms]=null}var ss=null,is=null,Se=!1,hr=null;function EL(n,t){var e=Ds(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function lC(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,ss=n,is=Ql(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,ss=n,is=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=ih!==null?{id:ya,overflow:_a}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ds(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,ss=n,is=null,!0):!1;default:return!1}}function Db(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ob(n){if(Se){var t=is;if(t){var e=t;if(!lC(n,t)){if(Db(n))throw Error(et(418));t=Ql(e.nextSibling);var i=ss;t&&lC(n,t)?EL(i,e):(n.flags=n.flags&-4097|2,Se=!1,ss=n)}}else{if(Db(n))throw Error(et(418));n.flags=n.flags&-4097|2,Se=!1,ss=n}}}function cC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ss=n}function By(n){if(n!==ss)return!1;if(!Se)return cC(n),Se=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Mb(n.type,n.memoizedProps)),t&&(t=is)){if(Db(n))throw PL(),Error(et(418));for(;t;)EL(n,t),t=Ql(t.nextSibling)}if(cC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(et(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){is=Ql(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}is=null}}else is=ss?Ql(n.stateNode.nextSibling):null;return!0}function PL(){for(var n=is;n;)n=Ql(n.nextSibling)}function Yf(){is=ss=null,Se=!1}function fA(n){hr===null?hr=[n]:hr.push(n)}var JF=Na.ReactCurrentBatchConfig;function Bp(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(et(309));var i=e.stateNode}if(!i)throw Error(et(147,n));var s=i,r=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(a){var c=s.refs;a===null?delete c[r]:c[r]=a},t._stringRef=r,t)}if(typeof n!="string")throw Error(et(284));if(!e._owner)throw Error(et(290,n))}return n}function jy(n,t){throw n=Object.prototype.toString.call(t),Error(et(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function uC(n){var t=n._init;return t(n._payload)}function CL(n){function t(b,P){if(n){var A=b.deletions;A===null?(b.deletions=[P],b.flags|=16):A.push(P)}}function e(b,P){if(!n)return null;for(;P!==null;)t(b,P),P=P.sibling;return null}function i(b,P){for(b=new Map;P!==null;)P.key!==null?b.set(P.key,P):b.set(P.index,P),P=P.sibling;return b}function s(b,P){return b=nc(b,P),b.index=0,b.sibling=null,b}function r(b,P,A){return b.index=A,n?(A=b.alternate,A!==null?(A=A.index,A<P?(b.flags|=2,P):A):(b.flags|=2,P)):(b.flags|=1048576,P)}function a(b){return n&&b.alternate===null&&(b.flags|=2),b}function c(b,P,A,v){return P===null||P.tag!==6?(P=$x(A,b.mode,v),P.return=b,P):(P=s(P,A),P.return=b,P)}function u(b,P,A,v){var x=A.type;return x===zh?f(b,P,A.props.children,v,A.key):P!==null&&(P.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$a&&uC(x)===P.type)?(v=s(P,A.props),v.ref=Bp(b,P,A),v.return=b,v):(v=v0(A.type,A.key,A.props,null,b.mode,v),v.ref=Bp(b,P,A),v.return=b,v)}function d(b,P,A,v){return P===null||P.tag!==4||P.stateNode.containerInfo!==A.containerInfo||P.stateNode.implementation!==A.implementation?(P=Wx(A,b.mode,v),P.return=b,P):(P=s(P,A.children||[]),P.return=b,P)}function f(b,P,A,v,x){return P===null||P.tag!==7?(P=eh(A,b.mode,v,x),P.return=b,P):(P=s(P,A),P.return=b,P)}function p(b,P,A){if(typeof P=="string"&&P!==""||typeof P=="number")return P=$x(""+P,b.mode,A),P.return=b,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ty:return A=v0(P.type,P.key,P.props,null,b.mode,A),A.ref=Bp(b,null,P),A.return=b,A;case jh:return P=Wx(P,b.mode,A),P.return=b,P;case $a:var v=P._init;return p(b,v(P._payload),A)}if(Zp(P)||Np(P))return P=eh(P,b.mode,A,null),P.return=b,P;jy(b,P)}return null}function m(b,P,A,v){var x=P!==null?P.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return x!==null?null:c(b,P,""+A,v);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ty:return A.key===x?u(b,P,A,v):null;case jh:return A.key===x?d(b,P,A,v):null;case $a:return x=A._init,m(b,P,x(A._payload),v)}if(Zp(A)||Np(A))return x!==null?null:f(b,P,A,v,null);jy(b,A)}return null}function y(b,P,A,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return b=b.get(A)||null,c(P,b,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ty:return b=b.get(v.key===null?A:v.key)||null,u(P,b,v,x);case jh:return b=b.get(v.key===null?A:v.key)||null,d(P,b,v,x);case $a:var k=v._init;return y(b,P,A,k(v._payload),x)}if(Zp(v)||Np(v))return b=b.get(A)||null,f(P,b,v,x,null);jy(P,v)}return null}function E(b,P,A,v){for(var x=null,k=null,I=P,F=P=0,B=null;I!==null&&F<A.length;F++){I.index>F?(B=I,I=null):B=I.sibling;var z=m(b,I,A[F],v);if(z===null){I===null&&(I=B);break}n&&I&&z.alternate===null&&t(b,I),P=r(z,P,F),k===null?x=z:k.sibling=z,k=z,I=B}if(F===A.length)return e(b,I),Se&&Ac(b,F),x;if(I===null){for(;F<A.length;F++)I=p(b,A[F],v),I!==null&&(P=r(I,P,F),k===null?x=I:k.sibling=I,k=I);return Se&&Ac(b,F),x}for(I=i(b,I);F<A.length;F++)B=y(I,b,F,A[F],v),B!==null&&(n&&B.alternate!==null&&I.delete(B.key===null?F:B.key),P=r(B,P,F),k===null?x=B:k.sibling=B,k=B);return n&&I.forEach(function(U){return t(b,U)}),Se&&Ac(b,F),x}function w(b,P,A,v){var x=Np(A);if(typeof x!="function")throw Error(et(150));if(A=x.call(A),A==null)throw Error(et(151));for(var k=x=null,I=P,F=P=0,B=null,z=A.next();I!==null&&!z.done;F++,z=A.next()){I.index>F?(B=I,I=null):B=I.sibling;var U=m(b,I,z.value,v);if(U===null){I===null&&(I=B);break}n&&I&&U.alternate===null&&t(b,I),P=r(U,P,F),k===null?x=U:k.sibling=U,k=U,I=B}if(z.done)return e(b,I),Se&&Ac(b,F),x;if(I===null){for(;!z.done;F++,z=A.next())z=p(b,z.value,v),z!==null&&(P=r(z,P,F),k===null?x=z:k.sibling=z,k=z);return Se&&Ac(b,F),x}for(I=i(b,I);!z.done;F++,z=A.next())z=y(I,b,F,z.value,v),z!==null&&(n&&z.alternate!==null&&I.delete(z.key===null?F:z.key),P=r(z,P,F),k===null?x=z:k.sibling=z,k=z);return n&&I.forEach(function($){return t(b,$)}),Se&&Ac(b,F),x}function C(b,P,A,v){if(typeof A=="object"&&A!==null&&A.type===zh&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Ty:t:{for(var x=A.key,k=P;k!==null;){if(k.key===x){if(x=A.type,x===zh){if(k.tag===7){e(b,k.sibling),P=s(k,A.props.children),P.return=b,b=P;break t}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$a&&uC(x)===k.type){e(b,k.sibling),P=s(k,A.props),P.ref=Bp(b,k,A),P.return=b,b=P;break t}e(b,k);break}else t(b,k);k=k.sibling}A.type===zh?(P=eh(A.props.children,b.mode,v,A.key),P.return=b,b=P):(v=v0(A.type,A.key,A.props,null,b.mode,v),v.ref=Bp(b,P,A),v.return=b,b=v)}return a(b);case jh:t:{for(k=A.key;P!==null;){if(P.key===k)if(P.tag===4&&P.stateNode.containerInfo===A.containerInfo&&P.stateNode.implementation===A.implementation){e(b,P.sibling),P=s(P,A.children||[]),P.return=b,b=P;break t}else{e(b,P);break}else t(b,P);P=P.sibling}P=Wx(A,b.mode,v),P.return=b,b=P}return a(b);case $a:return k=A._init,C(b,P,k(A._payload),v)}if(Zp(A))return E(b,P,A,v);if(Np(A))return w(b,P,A,v);jy(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,P!==null&&P.tag===6?(e(b,P.sibling),P=s(P,A),P.return=b,b=P):(e(b,P),P=$x(A,b.mode,v),P.return=b,b=P),a(b)):e(b,P)}return C}var Kf=CL(!0),TL=CL(!1),d_=gc(null),f_=null,Zh=null,pA=null;function gA(){pA=Zh=f_=null}function mA(n){var t=d_.current;_e(d_),n._currentValue=t}function Fb(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function od(n,t){f_=n,pA=Zh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Ci=!0),n.firstContext=null)}function Bs(n){var t=n._currentValue;if(pA!==n)if(n={context:n,memoizedValue:t,next:null},Zh===null){if(f_===null)throw Error(et(308));Zh=n,f_.dependencies={lanes:0,firstContext:n}}else Zh=Zh.next=n;return t}var Ic=null;function vA(n){Ic===null?Ic=[n]:Ic.push(n)}function kL(n,t,e,i){var s=t.interleaved;return s===null?(e.next=e,vA(t)):(e.next=s.next,s.next=e),t.interleaved=e,Ea(n,i)}function Ea(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Wa=!1;function yA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LL(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wa(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Jl(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ht&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ea(n,e)}return s=i.interleaved,s===null?(t.next=t,vA(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ea(n,e)}function h0(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,iA(n,e)}}function hC(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?s=r=a:r=r.next=a,e=e.next}while(e!==null);r===null?s=r=t:r=r.next=t}else s=r=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function p_(n,t,e,i){var s=n.updateQueue;Wa=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?r=d:a.next=d,a=u;var f=n.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,f=d=u=null,c=r;do{var m=c.lane,y=c.eventTime;if((i&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});t:{var E=n,w=c;switch(m=t,y=e,w.tag){case 1:if(E=w.payload,typeof E=="function"){p=E.call(y,p,m);break t}p=E;break t;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,m=typeof E=="function"?E.call(y,p,m):E,m==null)break t;p=Me({},p,m);break t;case 2:Wa=!0}}c.callback!==null&&c.lane!==0&&(n.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else y={eventTime:y,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=y,u=p):f=f.next=y,a|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);rh|=a,n.lanes=a,n.memoizedState=p}}function dC(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],s=i.callback;if(s!==null){if(i.callback=null,i=e,typeof s!="function")throw Error(et(191,s));s.call(i)}}}var Gv={},mo=gc(Gv),zg=gc(Gv),Hg=gc(Gv);function Dc(n){if(n===Gv)throw Error(et(174));return n}function _A(n,t){switch(de(Hg,t),de(zg,n),de(mo,Gv),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vb(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=vb(t,n)}_e(mo),de(mo,t)}function Qf(){_e(mo),_e(zg),_e(Hg)}function ML(n){Dc(Hg.current);var t=Dc(mo.current),e=vb(t,n.type);t!==e&&(de(zg,n),de(mo,e))}function wA(n){zg.current===n&&(_e(mo),_e(zg))}var Ce=gc(0);function g_(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fx=[];function xA(){for(var n=0;n<Fx.length;n++)Fx[n]._workInProgressVersionPrimary=null;Fx.length=0}var d0=Na.ReactCurrentDispatcher,Bx=Na.ReactCurrentBatchConfig,sh=0,ke=null,rn=null,yn=null,m_=!1,Sg=!1,Ug=0,tB=0;function Dn(){throw Error(et(321))}function bA(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!mr(n[e],t[e]))return!1;return!0}function SA(n,t,e,i,s,r){if(sh=r,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,d0.current=n===null||n.memoizedState===null?sB:rB,n=e(i,s),Sg){r=0;do{if(Sg=!1,Ug=0,25<=r)throw Error(et(301));r+=1,yn=rn=null,t.updateQueue=null,d0.current=oB,n=e(i,s)}while(Sg)}if(d0.current=v_,t=rn!==null&&rn.next!==null,sh=0,yn=rn=ke=null,m_=!1,t)throw Error(et(300));return n}function AA(){var n=Ug!==0;return Ug=0,n}function Fr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?ke.memoizedState=yn=n:yn=yn.next=n,yn}function js(){if(rn===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=rn.next;var t=yn===null?ke.memoizedState:yn.next;if(t!==null)yn=t,rn=n;else{if(n===null)throw Error(et(310));rn=n,n={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},yn===null?ke.memoizedState=yn=n:yn=yn.next=n}return yn}function $g(n,t){return typeof t=="function"?t(n):t}function jx(n){var t=js(),e=t.queue;if(e===null)throw Error(et(311));e.lastRenderedReducer=n;var i=rn,s=i.baseQueue,r=e.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}i.baseQueue=s=r,e.pending=null}if(s!==null){r=s.next,i=i.baseState;var c=a=null,u=null,d=r;do{var f=d.lane;if((sh&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,a=i):u=u.next=p,ke.lanes|=f,rh|=f}d=d.next}while(d!==null&&d!==r);u===null?a=i:u.next=c,mr(i,t.memoizedState)||(Ci=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,e.lastRenderedState=i}if(n=e.interleaved,n!==null){s=n;do r=s.lane,ke.lanes|=r,rh|=r,s=s.next;while(s!==n)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function zx(n){var t=js(),e=t.queue;if(e===null)throw Error(et(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,r=t.memoizedState;if(s!==null){e.pending=null;var a=s=s.next;do r=n(r,a.action),a=a.next;while(a!==s);mr(r,t.memoizedState)||(Ci=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,i]}function RL(){}function NL(n,t){var e=ke,i=js(),s=t(),r=!mr(i.memoizedState,s);if(r&&(i.memoizedState=s,Ci=!0),i=i.queue,EA(OL.bind(null,e,i,n),[n]),i.getSnapshot!==t||r||yn!==null&&yn.memoizedState.tag&1){if(e.flags|=2048,Wg(9,DL.bind(null,e,i,s,t),void 0,null),_n===null)throw Error(et(349));sh&30||IL(e,t,s)}return s}function IL(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function DL(n,t,e,i){t.value=e,t.getSnapshot=i,FL(t)&&BL(n)}function OL(n,t,e){return e(function(){FL(t)&&BL(n)})}function FL(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!mr(n,e)}catch{return!0}}function BL(n){var t=Ea(n,1);t!==null&&gr(t,n,1,-1)}function fC(n){var t=Fr();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},t.queue=n,n=n.dispatch=iB.bind(null,ke,n),[t.memoizedState,n]}function Wg(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function jL(){return js().memoizedState}function f0(n,t,e,i){var s=Fr();ke.flags|=n,s.memoizedState=Wg(1|t,e,void 0,i===void 0?null:i)}function gw(n,t,e,i){var s=js();i=i===void 0?null:i;var r=void 0;if(rn!==null){var a=rn.memoizedState;if(r=a.destroy,i!==null&&bA(i,a.deps)){s.memoizedState=Wg(t,e,r,i);return}}ke.flags|=n,s.memoizedState=Wg(1|t,e,r,i)}function pC(n,t){return f0(8390656,8,n,t)}function EA(n,t){return gw(2048,8,n,t)}function zL(n,t){return gw(4,2,n,t)}function HL(n,t){return gw(4,4,n,t)}function UL(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function $L(n,t,e){return e=e!=null?e.concat([n]):null,gw(4,4,UL.bind(null,t,n),e)}function PA(){}function WL(n,t){var e=js();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&bA(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function VL(n,t){var e=js();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&bA(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function GL(n,t,e){return sh&21?(mr(e,t)||(e=Kk(),ke.lanes|=e,rh|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Ci=!0),n.memoizedState=e)}function eB(n,t){var e=Yt;Yt=e!==0&&4>e?e:4,n(!0);var i=Bx.transition;Bx.transition={};try{n(!1),t()}finally{Yt=e,Bx.transition=i}}function qL(){return js().memoizedState}function nB(n,t,e){var i=ec(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},ZL(n))XL(t,e);else if(e=kL(n,t,e,i),e!==null){var s=li();gr(e,n,i,s),YL(e,t,i)}}function iB(n,t,e){var i=ec(n),s={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(ZL(n))XL(t,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,c=r(a,e);if(s.hasEagerState=!0,s.eagerState=c,mr(c,a)){var u=t.interleaved;u===null?(s.next=s,vA(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}e=kL(n,t,s,i),e!==null&&(s=li(),gr(e,n,i,s),YL(e,t,i))}}function ZL(n){var t=n.alternate;return n===ke||t!==null&&t===ke}function XL(n,t){Sg=m_=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function YL(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,iA(n,e)}}var v_={readContext:Bs,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},sB={readContext:Bs,useCallback:function(n,t){return Fr().memoizedState=[n,t===void 0?null:t],n},useContext:Bs,useEffect:pC,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,f0(4194308,4,UL.bind(null,t,n),e)},useLayoutEffect:function(n,t){return f0(4194308,4,n,t)},useInsertionEffect:function(n,t){return f0(4,2,n,t)},useMemo:function(n,t){var e=Fr();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=Fr();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=nB.bind(null,ke,n),[i.memoizedState,n]},useRef:function(n){var t=Fr();return n={current:n},t.memoizedState=n},useState:fC,useDebugValue:PA,useDeferredValue:function(n){return Fr().memoizedState=n},useTransition:function(){var n=fC(!1),t=n[0];return n=eB.bind(null,n[1]),Fr().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=ke,s=Fr();if(Se){if(e===void 0)throw Error(et(407));e=e()}else{if(e=t(),_n===null)throw Error(et(349));sh&30||IL(i,t,e)}s.memoizedState=e;var r={value:e,getSnapshot:t};return s.queue=r,pC(OL.bind(null,i,r,n),[n]),i.flags|=2048,Wg(9,DL.bind(null,i,r,e,t),void 0,null),e},useId:function(){var n=Fr(),t=_n.identifierPrefix;if(Se){var e=_a,i=ya;e=(i&~(1<<32-pr(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=Ug++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=tB++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},rB={readContext:Bs,useCallback:WL,useContext:Bs,useEffect:EA,useImperativeHandle:$L,useInsertionEffect:zL,useLayoutEffect:HL,useMemo:VL,useReducer:jx,useRef:jL,useState:function(){return jx($g)},useDebugValue:PA,useDeferredValue:function(n){var t=js();return GL(t,rn.memoizedState,n)},useTransition:function(){var n=jx($g)[0],t=js().memoizedState;return[n,t]},useMutableSource:RL,useSyncExternalStore:NL,useId:qL,unstable_isNewReconciler:!1},oB={readContext:Bs,useCallback:WL,useContext:Bs,useEffect:EA,useImperativeHandle:$L,useInsertionEffect:zL,useLayoutEffect:HL,useMemo:VL,useReducer:zx,useRef:jL,useState:function(){return zx($g)},useDebugValue:PA,useDeferredValue:function(n){var t=js();return rn===null?t.memoizedState=n:GL(t,rn.memoizedState,n)},useTransition:function(){var n=zx($g)[0],t=js().memoizedState;return[n,t]},useMutableSource:RL,useSyncExternalStore:NL,useId:qL,unstable_isNewReconciler:!1};function Zs(n,t){if(n&&n.defaultProps){t=Me({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Bb(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:Me({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var mw={isMounted:function(n){return(n=n._reactInternals)?hh(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=li(),s=ec(n),r=wa(i,s);r.payload=t,e!=null&&(r.callback=e),t=Jl(n,r,s),t!==null&&(gr(t,n,s,i),h0(t,n,s))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=li(),s=ec(n),r=wa(i,s);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=Jl(n,r,s),t!==null&&(gr(t,n,s,i),h0(t,n,s))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=li(),i=ec(n),s=wa(e,i);s.tag=2,t!=null&&(s.callback=t),t=Jl(n,s,i),t!==null&&(gr(t,n,i,e),h0(t,n,i))}};function gC(n,t,e,i,s,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Og(e,i)||!Og(s,r):!0}function KL(n,t,e){var i=!1,s=rc,r=t.contextType;return typeof r=="object"&&r!==null?r=Bs(r):(s=ki(t)?nh:Xn.current,i=t.contextTypes,r=(i=i!=null)?Xf(n,s):rc),t=new t(e,r),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mw,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),t}function mC(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&mw.enqueueReplaceState(t,t.state,null)}function jb(n,t,e,i){var s=n.stateNode;s.props=e,s.state=n.memoizedState,s.refs={},yA(n);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Bs(r):(r=ki(t)?nh:Xn.current,s.context=Xf(n,r)),s.state=n.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Bb(n,t,r,e),s.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mw.enqueueReplaceState(s,s.state,null),p_(n,e,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Jf(n,t){try{var e="",i=t;do e+=IO(i),i=i.return;while(i);var s=e}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:t,stack:s,digest:null}}function Hx(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function zb(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var aB=typeof WeakMap=="function"?WeakMap:Map;function QL(n,t,e){e=wa(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){__||(__=!0,Yb=i),zb(n,t)},e}function JL(n,t,e){e=wa(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;e.payload=function(){return i(s)},e.callback=function(){zb(n,t)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){zb(n,t),typeof i!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function vC(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new aB;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(s.add(e),n=xB.bind(null,n,t,e),t.then(n,n))}function yC(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function _C(n,t,e,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=wa(-1,1),t.tag=2,Jl(e,t,1))),e.lanes|=1),n)}var lB=Na.ReactCurrentOwner,Ci=!1;function ri(n,t,e,i){t.child=n===null?TL(t,null,e,i):Kf(t,n.child,e,i)}function wC(n,t,e,i,s){e=e.render;var r=t.ref;return od(t,s),i=SA(n,t,e,i,r,s),e=AA(),n!==null&&!Ci?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,Pa(n,t,s)):(Se&&e&&hA(t),t.flags|=1,ri(n,t,i,s),t.child)}function xC(n,t,e,i,s){if(n===null){var r=e.type;return typeof r=="function"&&!IA(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,tM(n,t,r,i,s)):(n=v0(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(r=n.child,!(n.lanes&s)){var a=r.memoizedProps;if(e=e.compare,e=e!==null?e:Og,e(a,i)&&n.ref===t.ref)return Pa(n,t,s)}return t.flags|=1,n=nc(r,i),n.ref=t.ref,n.return=t,t.child=n}function tM(n,t,e,i,s){if(n!==null){var r=n.memoizedProps;if(Og(r,i)&&n.ref===t.ref)if(Ci=!1,t.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(Ci=!0);else return t.lanes=n.lanes,Pa(n,t,s)}return Hb(n,t,e,i,s)}function eM(n,t,e){var i=t.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Yh,Ji),Ji|=e;else{if(!(e&1073741824))return n=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,de(Yh,Ji),Ji|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:e,de(Yh,Ji),Ji|=i}else r!==null?(i=r.baseLanes|e,t.memoizedState=null):i=e,de(Yh,Ji),Ji|=i;return ri(n,t,s,e),t.child}function nM(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Hb(n,t,e,i,s){var r=ki(e)?nh:Xn.current;return r=Xf(t,r),od(t,s),e=SA(n,t,e,i,r,s),i=AA(),n!==null&&!Ci?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,Pa(n,t,s)):(Se&&i&&hA(t),t.flags|=1,ri(n,t,e,s),t.child)}function bC(n,t,e,i,s){if(ki(e)){var r=!0;c_(t)}else r=!1;if(od(t,s),t.stateNode===null)p0(n,t),KL(t,e,i),jb(t,e,i,s),i=!0;else if(n===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var u=a.context,d=e.contextType;typeof d=="object"&&d!==null?d=Bs(d):(d=ki(e)?nh:Xn.current,d=Xf(t,d));var f=e.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||u!==d)&&mC(t,a,i,d),Wa=!1;var m=t.memoizedState;a.state=m,p_(t,i,a,s),u=t.memoizedState,c!==i||m!==u||Ti.current||Wa?(typeof f=="function"&&(Bb(t,e,f,i),u=t.memoizedState),(c=Wa||gC(t,e,c,i,m,u,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=d,i=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,LL(n,t),c=t.memoizedProps,d=t.type===t.elementType?c:Zs(t.type,c),a.props=d,p=t.pendingProps,m=a.context,u=e.contextType,typeof u=="object"&&u!==null?u=Bs(u):(u=ki(e)?nh:Xn.current,u=Xf(t,u));var y=e.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||m!==u)&&mC(t,a,i,u),Wa=!1,m=t.memoizedState,a.state=m,p_(t,i,a,s);var E=t.memoizedState;c!==p||m!==E||Ti.current||Wa?(typeof y=="function"&&(Bb(t,e,y,i),E=t.memoizedState),(d=Wa||gC(t,e,d,i,m,E,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,E,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,E,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=E),a.props=i,a.state=E,a.context=u,i=d):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=1024),i=!1)}return Ub(n,t,e,i,r,s)}function Ub(n,t,e,i,s,r){nM(n,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&aC(t,e,!1),Pa(n,t,r);i=t.stateNode,lB.current=t;var c=a&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&a?(t.child=Kf(t,n.child,null,r),t.child=Kf(t,null,c,r)):ri(n,t,c,r),t.memoizedState=i.state,s&&aC(t,e,!0),t.child}function iM(n){var t=n.stateNode;t.pendingContext?oC(n,t.pendingContext,t.pendingContext!==t.context):t.context&&oC(n,t.context,!1),_A(n,t.containerInfo)}function SC(n,t,e,i,s){return Yf(),fA(s),t.flags|=256,ri(n,t,e,i),t.child}var $b={dehydrated:null,treeContext:null,retryLane:0};function Wb(n){return{baseLanes:n,cachePool:null,transitions:null}}function sM(n,t,e){var i=t.pendingProps,s=Ce.current,r=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=n!==null&&n.memoizedState===null?!1:(s&2)!==0),c?(r=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),de(Ce,s&1),n===null)return Ob(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,n=i.fallback,r?(i=t.mode,r=t.child,a={mode:"hidden",children:a},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=_w(a,i,0,null),n=eh(n,i,e,null),r.return=t,n.return=t,r.sibling=n,t.child=r,t.child.memoizedState=Wb(e),t.memoizedState=$b,n):CA(t,a));if(s=n.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return cB(n,t,a,i,c,s,e);if(r){r=i.fallback,a=t.mode,s=n.child,c=s.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=nc(s,u),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?r=nc(c,r):(r=eh(r,a,e,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,a=n.child.memoizedState,a=a===null?Wb(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~e,t.memoizedState=$b,i}return r=n.child,n=r.sibling,i=nc(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function CA(n,t){return t=_w({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function zy(n,t,e,i){return i!==null&&fA(i),Kf(t,n.child,null,e),n=CA(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function cB(n,t,e,i,s,r,a){if(e)return t.flags&256?(t.flags&=-257,i=Hx(Error(et(422))),zy(n,t,a,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=_w({mode:"visible",children:i.children},s,0,null),r=eh(r,s,a,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&Kf(t,n.child,null,a),t.child.memoizedState=Wb(a),t.memoizedState=$b,r);if(!(t.mode&1))return zy(n,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,r=Error(et(419)),i=Hx(r,i,void 0),zy(n,t,a,i)}if(c=(a&n.childLanes)!==0,Ci||c){if(i=_n,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Ea(n,s),gr(i,n,s,-1))}return NA(),i=Hx(Error(et(421))),zy(n,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=n.child,t=bB.bind(null,n),s._reactRetry=t,null):(n=r.treeContext,is=Ql(s.nextSibling),ss=t,Se=!0,hr=null,n!==null&&(Ls[Ms++]=ya,Ls[Ms++]=_a,Ls[Ms++]=ih,ya=n.id,_a=n.overflow,ih=t),t=CA(t,i.children),t.flags|=4096,t)}function AC(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),Fb(n.return,t,e)}function Ux(n,t,e,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=e,r.tailMode=s)}function rM(n,t,e){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(ri(n,t,i.children,e),i=Ce.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&AC(n,e,t);else if(n.tag===19)AC(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(de(Ce,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&g_(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),Ux(t,!1,s,e,r);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&g_(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}Ux(t,!0,e,null,r);break;case"together":Ux(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function p0(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Pa(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),rh|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(et(153));if(t.child!==null){for(n=t.child,e=nc(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=nc(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function uB(n,t,e){switch(t.tag){case 3:iM(t),Yf();break;case 5:ML(t);break;case 1:ki(t.type)&&c_(t);break;case 4:_A(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;de(d_,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(de(Ce,Ce.current&1),t.flags|=128,null):e&t.child.childLanes?sM(n,t,e):(de(Ce,Ce.current&1),n=Pa(n,t,e),n!==null?n.sibling:null);de(Ce,Ce.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return rM(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(Ce,Ce.current),i)break;return null;case 22:case 23:return t.lanes=0,eM(n,t,e)}return Pa(n,t,e)}var oM,Vb,aM,lM;oM=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Vb=function(){};aM=function(n,t,e,i){var s=n.memoizedProps;if(s!==i){n=t.stateNode,Dc(mo.current);var r=null;switch(e){case"input":s=fb(n,s),i=fb(n,i),r=[];break;case"select":s=Me({},s,{value:void 0}),i=Me({},i,{value:void 0}),r=[];break;case"textarea":s=mb(n,s),i=mb(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=a_)}yb(e,i);var a;e=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kg.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in i){var u=i[d];if(c=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(e||(e={}),e[a]=u[a])}else e||(r||(r=[]),r.push(d,e)),e=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(r=r||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(r=r||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kg.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ve("scroll",n),r||c===u||(r=[])):(r=r||[]).push(d,u))}e&&(r=r||[]).push("style",e);var d=r;(t.updateQueue=d)&&(t.flags|=4)}};lM=function(n,t,e,i){e!==i&&(t.flags|=4)};function jp(n,t){if(!Se)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function On(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function hB(n,t,e){var i=t.pendingProps;switch(dA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(t),null;case 1:return ki(t.type)&&l_(),On(t),null;case 3:return i=t.stateNode,Qf(),_e(Ti),_e(Xn),xA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(By(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(Jb(hr),hr=null))),Vb(n,t),On(t),null;case 5:wA(t);var s=Dc(Hg.current);if(e=t.type,n!==null&&t.stateNode!=null)aM(n,t,e,i,s),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(et(166));return On(t),null}if(n=Dc(mo.current),By(t)){i=t.stateNode,e=t.type;var r=t.memoizedProps;switch(i[uo]=t,i[jg]=r,n=(t.mode&1)!==0,e){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(s=0;s<Yp.length;s++)ve(Yp[s],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":NP(i,r),ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ve("invalid",i);break;case"textarea":DP(i,r),ve("invalid",i)}yb(e,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var c=r[a];a==="children"?typeof c=="string"?i.textContent!==c&&(r.suppressHydrationWarning!==!0&&Fy(i.textContent,c,n),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(r.suppressHydrationWarning!==!0&&Fy(i.textContent,c,n),s=["children",""+c]):kg.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&ve("scroll",i)}switch(e){case"input":ky(i),IP(i,r,!0);break;case"textarea":ky(i),OP(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=a_)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ok(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(e,{is:i.is}):(n=a.createElement(e),e==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,e),n[uo]=t,n[jg]=i,oM(n,t,!1,!1),t.stateNode=n;t:{switch(a=_b(e,i),e){case"dialog":ve("cancel",n),ve("close",n),s=i;break;case"iframe":case"object":case"embed":ve("load",n),s=i;break;case"video":case"audio":for(s=0;s<Yp.length;s++)ve(Yp[s],n);s=i;break;case"source":ve("error",n),s=i;break;case"img":case"image":case"link":ve("error",n),ve("load",n),s=i;break;case"details":ve("toggle",n),s=i;break;case"input":NP(n,i),s=fb(n,i),ve("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=Me({},i,{value:void 0}),ve("invalid",n);break;case"textarea":DP(n,i),s=mb(n,i),ve("invalid",n);break;default:s=i}yb(e,s),c=s;for(r in c)if(c.hasOwnProperty(r)){var u=c[r];r==="style"?jk(n,u):r==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Fk(n,u)):r==="children"?typeof u=="string"?(e!=="textarea"||u!=="")&&Lg(n,u):typeof u=="number"&&Lg(n,""+u):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(kg.hasOwnProperty(r)?u!=null&&r==="onScroll"&&ve("scroll",n):u!=null&&KS(n,r,u,a))}switch(e){case"input":ky(n),IP(n,i,!1);break;case"textarea":ky(n),OP(n);break;case"option":i.value!=null&&n.setAttribute("value",""+sc(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?nd(n,!!i.multiple,r,!1):i.defaultValue!=null&&nd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=a_)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return On(t),null;case 6:if(n&&t.stateNode!=null)lM(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(et(166));if(e=Dc(Hg.current),Dc(mo.current),By(t)){if(i=t.stateNode,e=t.memoizedProps,i[uo]=t,(r=i.nodeValue!==e)&&(n=ss,n!==null))switch(n.tag){case 3:Fy(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Fy(i.nodeValue,e,(n.mode&1)!==0)}r&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[uo]=t,t.stateNode=i}return On(t),null;case 13:if(_e(Ce),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Se&&is!==null&&t.mode&1&&!(t.flags&128))PL(),Yf(),t.flags|=98560,r=!1;else if(r=By(t),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(et(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(et(317));r[uo]=t}else Yf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;On(t),r=!1}else hr!==null&&(Jb(hr),hr=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||Ce.current&1?an===0&&(an=3):NA())),t.updateQueue!==null&&(t.flags|=4),On(t),null);case 4:return Qf(),Vb(n,t),n===null&&Fg(t.stateNode.containerInfo),On(t),null;case 10:return mA(t.type._context),On(t),null;case 17:return ki(t.type)&&l_(),On(t),null;case 19:if(_e(Ce),r=t.memoizedState,r===null)return On(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)jp(r,!1);else{if(an!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=g_(n),a!==null){for(t.flags|=128,jp(r,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)r=e,n=i,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return de(Ce,Ce.current&1|2),t.child}n=n.sibling}r.tail!==null&&qe()>tp&&(t.flags|=128,i=!0,jp(r,!1),t.lanes=4194304)}else{if(!i)if(n=g_(a),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),jp(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Se)return On(t),null}else 2*qe()-r.renderingStartTime>tp&&e!==1073741824&&(t.flags|=128,i=!0,jp(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=qe(),t.sibling=null,e=Ce.current,de(Ce,i?e&1|2:e&1),t):(On(t),null);case 22:case 23:return RA(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ji&1073741824&&(On(t),t.subtreeFlags&6&&(t.flags|=8192)):On(t),null;case 24:return null;case 25:return null}throw Error(et(156,t.tag))}function dB(n,t){switch(dA(t),t.tag){case 1:return ki(t.type)&&l_(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Qf(),_e(Ti),_e(Xn),xA(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return wA(t),null;case 13:if(_e(Ce),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(et(340));Yf()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return _e(Ce),null;case 4:return Qf(),null;case 10:return mA(t.type._context),null;case 22:case 23:return RA(),null;case 24:return null;default:return null}}var Hy=!1,Gn=!1,fB=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Xh(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){He(n,t,i)}else e.current=null}function Gb(n,t,e){try{e()}catch(i){He(n,t,i)}}var EC=!1;function pB(n,t){if(kb=s_,n=fL(),uA(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var a=0,c=-1,u=-1,d=0,f=0,p=n,m=null;e:for(;;){for(var y;p!==e||s!==0&&p.nodeType!==3||(c=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===n)break e;if(m===e&&++d===s&&(c=a),m===r&&++f===i&&(u=a),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}e=c===-1||u===-1?null:{start:c,end:u}}else e=null}e=e||{start:0,end:0}}else e=null;for(Lb={focusedElem:n,selectionRange:e},s_=!1,gt=t;gt!==null;)if(t=gt,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,gt=n;else for(;gt!==null;){t=gt;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,C=E.memoizedState,b=t.stateNode,P=b.getSnapshotBeforeUpdate(t.elementType===t.type?w:Zs(t.type,w),C);b.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(v){He(t,t.return,v)}if(n=t.sibling,n!==null){n.return=t.return,gt=n;break}gt=t.return}return E=EC,EC=!1,E}function Ag(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&Gb(t,e,r)}s=s.next}while(s!==i)}}function vw(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function qb(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function cM(n){var t=n.alternate;t!==null&&(n.alternate=null,cM(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[uo],delete t[jg],delete t[Nb],delete t[YF],delete t[KF])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function uM(n){return n.tag===5||n.tag===3||n.tag===4}function PC(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||uM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zb(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=a_));else if(i!==4&&(n=n.child,n!==null))for(Zb(n,t,e),n=n.sibling;n!==null;)Zb(n,t,e),n=n.sibling}function Xb(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Xb(n,t,e),n=n.sibling;n!==null;)Xb(n,t,e),n=n.sibling}var Tn=null,ur=!1;function Ba(n,t,e){for(e=e.child;e!==null;)hM(n,t,e),e=e.sibling}function hM(n,t,e){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(cw,e)}catch{}switch(e.tag){case 5:Gn||Xh(e,t);case 6:var i=Tn,s=ur;Tn=null,Ba(n,t,e),Tn=i,ur=s,Tn!==null&&(ur?(n=Tn,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Tn.removeChild(e.stateNode));break;case 18:Tn!==null&&(ur?(n=Tn,e=e.stateNode,n.nodeType===8?Dx(n.parentNode,e):n.nodeType===1&&Dx(n,e),Ig(n)):Dx(Tn,e.stateNode));break;case 4:i=Tn,s=ur,Tn=e.stateNode.containerInfo,ur=!0,Ba(n,t,e),Tn=i,ur=s;break;case 0:case 11:case 14:case 15:if(!Gn&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Gb(e,t,a),s=s.next}while(s!==i)}Ba(n,t,e);break;case 1:if(!Gn&&(Xh(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(c){He(e,t,c)}Ba(n,t,e);break;case 21:Ba(n,t,e);break;case 22:e.mode&1?(Gn=(i=Gn)||e.memoizedState!==null,Ba(n,t,e),Gn=i):Ba(n,t,e);break;default:Ba(n,t,e)}}function CC(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new fB),t.forEach(function(i){var s=SB.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}}function Ws(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];try{var r=n,a=t,c=a;t:for(;c!==null;){switch(c.tag){case 5:Tn=c.stateNode,ur=!1;break t;case 3:Tn=c.stateNode.containerInfo,ur=!0;break t;case 4:Tn=c.stateNode.containerInfo,ur=!0;break t}c=c.return}if(Tn===null)throw Error(et(160));hM(r,a,s),Tn=null,ur=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){He(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dM(t,n),t=t.sibling}function dM(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ws(t,n),Nr(n),i&4){try{Ag(3,n,n.return),vw(3,n)}catch(w){He(n,n.return,w)}try{Ag(5,n,n.return)}catch(w){He(n,n.return,w)}}break;case 1:Ws(t,n),Nr(n),i&512&&e!==null&&Xh(e,e.return);break;case 5:if(Ws(t,n),Nr(n),i&512&&e!==null&&Xh(e,e.return),n.flags&32){var s=n.stateNode;try{Lg(s,"")}catch(w){He(n,n.return,w)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,a=e!==null?e.memoizedProps:r,c=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{c==="input"&&r.type==="radio"&&r.name!=null&&Ik(s,r),_b(c,a);var d=_b(c,r);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?jk(s,p):f==="dangerouslySetInnerHTML"?Fk(s,p):f==="children"?Lg(s,p):KS(s,f,p,d)}switch(c){case"input":pb(s,r);break;case"textarea":Dk(s,r);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var y=r.value;y!=null?nd(s,!!r.multiple,y,!1):m!==!!r.multiple&&(r.defaultValue!=null?nd(s,!!r.multiple,r.defaultValue,!0):nd(s,!!r.multiple,r.multiple?[]:"",!1))}s[jg]=r}catch(w){He(n,n.return,w)}}break;case 6:if(Ws(t,n),Nr(n),i&4){if(n.stateNode===null)throw Error(et(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(w){He(n,n.return,w)}}break;case 3:if(Ws(t,n),Nr(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{Ig(t.containerInfo)}catch(w){He(n,n.return,w)}break;case 4:Ws(t,n),Nr(n);break;case 13:Ws(t,n),Nr(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(LA=qe())),i&4&&CC(n);break;case 22:if(f=e!==null&&e.memoizedState!==null,n.mode&1?(Gn=(d=Gn)||f,Ws(t,n),Gn=d):Ws(t,n),Nr(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(gt=n,f=n.child;f!==null;){for(p=gt=f;gt!==null;){switch(m=gt,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ag(4,m,m.return);break;case 1:Xh(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){i=m,e=m.return;try{t=i,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(w){He(i,e,w)}}break;case 5:Xh(m,m.return);break;case 22:if(m.memoizedState!==null){kC(p);continue}}y!==null?(y.return=m,gt=y):kC(p)}f=f.sibling}t:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(c=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Bk("display",a))}catch(w){He(n,n.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(w){He(n,n.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ws(t,n),Nr(n),i&4&&CC(n);break;case 21:break;default:Ws(t,n),Nr(n)}}function Nr(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(uM(e)){var i=e;break t}e=e.return}throw Error(et(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Lg(s,""),i.flags&=-33);var r=PC(n);Xb(n,r,s);break;case 3:case 4:var a=i.stateNode.containerInfo,c=PC(n);Zb(n,c,a);break;default:throw Error(et(161))}}catch(u){He(n,n.return,u)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function gB(n,t,e){gt=n,fM(n)}function fM(n,t,e){for(var i=(n.mode&1)!==0;gt!==null;){var s=gt,r=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Hy;if(!a){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Gn;c=Hy;var d=Gn;if(Hy=a,(Gn=u)&&!d)for(gt=s;gt!==null;)a=gt,u=a.child,a.tag===22&&a.memoizedState!==null?LC(s):u!==null?(u.return=a,gt=u):LC(s);for(;r!==null;)gt=r,fM(r),r=r.sibling;gt=s,Hy=c,Gn=d}TC(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,gt=r):TC(n)}}function TC(n){for(;gt!==null;){var t=gt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gn||vw(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Gn)if(e===null)i.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:Zs(t.type,e.memoizedProps);i.componentDidUpdate(s,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&dC(t,r,i);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}dC(t,a,e)}break;case 5:var c=t.stateNode;if(e===null&&t.flags&4){e=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&e.focus();break;case"img":u.src&&(e.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ig(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}Gn||t.flags&512&&qb(t)}catch(m){He(t,t.return,m)}}if(t===n){gt=null;break}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function kC(n){for(;gt!==null;){var t=gt;if(t===n){gt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,gt=e;break}gt=t.return}}function LC(n){for(;gt!==null;){var t=gt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{vw(4,t)}catch(u){He(t,e,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){He(t,s,u)}}var r=t.return;try{qb(t)}catch(u){He(t,r,u)}break;case 5:var a=t.return;try{qb(t)}catch(u){He(t,a,u)}}}catch(u){He(t,t.return,u)}if(t===n){gt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,gt=c;break}gt=t.return}}var mB=Math.ceil,y_=Na.ReactCurrentDispatcher,TA=Na.ReactCurrentOwner,Os=Na.ReactCurrentBatchConfig,Ht=0,_n=null,Qe=null,Rn=0,Ji=0,Yh=gc(0),an=0,Vg=null,rh=0,yw=0,kA=0,Eg=null,Pi=null,LA=0,tp=1/0,No=null,__=!1,Yb=null,tc=null,Uy=!1,ql=null,w_=0,Pg=0,Kb=null,g0=-1,m0=0;function li(){return Ht&6?qe():g0!==-1?g0:g0=qe()}function ec(n){return n.mode&1?Ht&2&&Rn!==0?Rn&-Rn:JF.transition!==null?(m0===0&&(m0=Kk()),m0):(n=Yt,n!==0||(n=window.event,n=n===void 0?16:sL(n.type)),n):1}function gr(n,t,e,i){if(50<Pg)throw Pg=0,Kb=null,Error(et(185));$v(n,e,i),(!(Ht&2)||n!==_n)&&(n===_n&&(!(Ht&2)&&(yw|=e),an===4&&Ga(n,Rn)),Li(n,i),e===1&&Ht===0&&!(t.mode&1)&&(tp=qe()+500,pw&&mc()))}function Li(n,t){var e=n.callbackNode;JO(n,t);var i=i_(n,n===_n?Rn:0);if(i===0)e!==null&&jP(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&jP(e),t===1)n.tag===0?QF(MC.bind(null,n)):SL(MC.bind(null,n)),ZF(function(){!(Ht&6)&&mc()}),e=null;else{switch(Qk(i)){case 1:e=nA;break;case 4:e=Xk;break;case 16:e=n_;break;case 536870912:e=Yk;break;default:e=n_}e=xM(e,pM.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function pM(n,t){if(g0=-1,m0=0,Ht&6)throw Error(et(327));var e=n.callbackNode;if(ad()&&n.callbackNode!==e)return null;var i=i_(n,n===_n?Rn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=x_(n,i);else{t=i;var s=Ht;Ht|=2;var r=mM();(_n!==n||Rn!==t)&&(No=null,tp=qe()+500,th(n,t));do try{_B();break}catch(c){gM(n,c)}while(!0);gA(),y_.current=r,Ht=s,Qe!==null?t=0:(_n=null,Rn=0,t=an)}if(t!==0){if(t===2&&(s=Ab(n),s!==0&&(i=s,t=Qb(n,s))),t===1)throw e=Vg,th(n,0),Ga(n,i),Li(n,qe()),e;if(t===6)Ga(n,i);else{if(s=n.current.alternate,!(i&30)&&!vB(s)&&(t=x_(n,i),t===2&&(r=Ab(n),r!==0&&(i=r,t=Qb(n,r))),t===1))throw e=Vg,th(n,0),Ga(n,i),Li(n,qe()),e;switch(n.finishedWork=s,n.finishedLanes=i,t){case 0:case 1:throw Error(et(345));case 2:Ec(n,Pi,No);break;case 3:if(Ga(n,i),(i&130023424)===i&&(t=LA+500-qe(),10<t)){if(i_(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){li(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Rb(Ec.bind(null,n,Pi,No),t);break}Ec(n,Pi,No);break;case 4:if(Ga(n,i),(i&4194240)===i)break;for(t=n.eventTimes,s=-1;0<i;){var a=31-pr(i);r=1<<a,a=t[a],a>s&&(s=a),i&=~r}if(i=s,i=qe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mB(i/1960))-i,10<i){n.timeoutHandle=Rb(Ec.bind(null,n,Pi,No),i);break}Ec(n,Pi,No);break;case 5:Ec(n,Pi,No);break;default:throw Error(et(329))}}}return Li(n,qe()),n.callbackNode===e?pM.bind(null,n):null}function Qb(n,t){var e=Eg;return n.current.memoizedState.isDehydrated&&(th(n,t).flags|=256),n=x_(n,t),n!==2&&(t=Pi,Pi=e,t!==null&&Jb(t)),n}function Jb(n){Pi===null?Pi=n:Pi.push.apply(Pi,n)}function vB(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var s=e[i],r=s.getSnapshot;s=s.value;try{if(!mr(r(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(n,t){for(t&=~kA,t&=~yw,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-pr(t),i=1<<e;n[e]=-1,t&=~i}}function MC(n){if(Ht&6)throw Error(et(327));ad();var t=i_(n,0);if(!(t&1))return Li(n,qe()),null;var e=x_(n,t);if(n.tag!==0&&e===2){var i=Ab(n);i!==0&&(t=i,e=Qb(n,i))}if(e===1)throw e=Vg,th(n,0),Ga(n,t),Li(n,qe()),e;if(e===6)throw Error(et(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Ec(n,Pi,No),Li(n,qe()),null}function MA(n,t){var e=Ht;Ht|=1;try{return n(t)}finally{Ht=e,Ht===0&&(tp=qe()+500,pw&&mc())}}function oh(n){ql!==null&&ql.tag===0&&!(Ht&6)&&ad();var t=Ht;Ht|=1;var e=Os.transition,i=Yt;try{if(Os.transition=null,Yt=1,n)return n()}finally{Yt=i,Os.transition=e,Ht=t,!(Ht&6)&&mc()}}function RA(){Ji=Yh.current,_e(Yh)}function th(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,qF(e)),Qe!==null)for(e=Qe.return;e!==null;){var i=e;switch(dA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&l_();break;case 3:Qf(),_e(Ti),_e(Xn),xA();break;case 5:wA(i);break;case 4:Qf();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:mA(i.type._context);break;case 22:case 23:RA()}e=e.return}if(_n=n,Qe=n=nc(n.current,null),Rn=Ji=t,an=0,Vg=null,kA=yw=rh=0,Pi=Eg=null,Ic!==null){for(t=0;t<Ic.length;t++)if(e=Ic[t],i=e.interleaved,i!==null){e.interleaved=null;var s=i.next,r=e.pending;if(r!==null){var a=r.next;r.next=s,i.next=a}e.pending=i}Ic=null}return n}function gM(n,t){do{var e=Qe;try{if(gA(),d0.current=v_,m_){for(var i=ke.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}m_=!1}if(sh=0,yn=rn=ke=null,Sg=!1,Ug=0,TA.current=null,e===null||e.return===null){an=1,Vg=t,Qe=null;break}t:{var r=n,a=e.return,c=e,u=t;if(t=Rn,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=yC(a);if(y!==null){y.flags&=-257,_C(y,a,c,r,t),y.mode&1&&vC(r,d,t),t=y,u=d;var E=t.updateQueue;if(E===null){var w=new Set;w.add(u),t.updateQueue=w}else E.add(u);break t}else{if(!(t&1)){vC(r,d,t),NA();break t}u=Error(et(426))}}else if(Se&&c.mode&1){var C=yC(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),_C(C,a,c,r,t),fA(Jf(u,c));break t}}r=u=Jf(u,c),an!==4&&(an=2),Eg===null?Eg=[r]:Eg.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var b=QL(r,u,t);hC(r,b);break t;case 1:c=u;var P=r.type,A=r.stateNode;if(!(r.flags&128)&&(typeof P.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(tc===null||!tc.has(A)))){r.flags|=65536,t&=-t,r.lanes|=t;var v=JL(r,c,t);hC(r,v);break t}}r=r.return}while(r!==null)}yM(e)}catch(x){t=x,Qe===e&&e!==null&&(Qe=e=e.return);continue}break}while(!0)}function mM(){var n=y_.current;return y_.current=v_,n===null?v_:n}function NA(){(an===0||an===3||an===2)&&(an=4),_n===null||!(rh&268435455)&&!(yw&268435455)||Ga(_n,Rn)}function x_(n,t){var e=Ht;Ht|=2;var i=mM();(_n!==n||Rn!==t)&&(No=null,th(n,t));do try{yB();break}catch(s){gM(n,s)}while(!0);if(gA(),Ht=e,y_.current=i,Qe!==null)throw Error(et(261));return _n=null,Rn=0,an}function yB(){for(;Qe!==null;)vM(Qe)}function _B(){for(;Qe!==null&&!WO();)vM(Qe)}function vM(n){var t=wM(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,t===null?yM(n):Qe=t,TA.current=null}function yM(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=dB(e,t),e!==null){e.flags&=32767,Qe=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{an=6,Qe=null;return}}else if(e=hB(e,t,Ji),e!==null){Qe=e;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=n}while(t!==null);an===0&&(an=5)}function Ec(n,t,e){var i=Yt,s=Os.transition;try{Os.transition=null,Yt=1,wB(n,t,e,i)}finally{Os.transition=s,Yt=i}return null}function wB(n,t,e,i){do ad();while(ql!==null);if(Ht&6)throw Error(et(327));e=n.finishedWork;var s=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(et(177));n.callbackNode=null,n.callbackPriority=0;var r=e.lanes|e.childLanes;if(tF(n,r),n===_n&&(Qe=_n=null,Rn=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Uy||(Uy=!0,xM(n_,function(){return ad(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Os.transition,Os.transition=null;var a=Yt;Yt=1;var c=Ht;Ht|=4,TA.current=null,pB(n,e),dM(e,n),zF(Lb),s_=!!kb,Lb=kb=null,n.current=e,gB(e),VO(),Ht=c,Yt=a,Os.transition=r}else n.current=e;if(Uy&&(Uy=!1,ql=n,w_=s),r=n.pendingLanes,r===0&&(tc=null),ZO(e.stateNode),Li(n,qe()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)s=t[e],i(s.value,{componentStack:s.stack,digest:s.digest});if(__)throw __=!1,n=Yb,Yb=null,n;return w_&1&&n.tag!==0&&ad(),r=n.pendingLanes,r&1?n===Kb?Pg++:(Pg=0,Kb=n):Pg=0,mc(),null}function ad(){if(ql!==null){var n=Qk(w_),t=Os.transition,e=Yt;try{if(Os.transition=null,Yt=16>n?16:n,ql===null)var i=!1;else{if(n=ql,ql=null,w_=0,Ht&6)throw Error(et(331));var s=Ht;for(Ht|=4,gt=n.current;gt!==null;){var r=gt,a=r.child;if(gt.flags&16){var c=r.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(gt=d;gt!==null;){var f=gt;switch(f.tag){case 0:case 11:case 15:Ag(8,f,r)}var p=f.child;if(p!==null)p.return=f,gt=p;else for(;gt!==null;){f=gt;var m=f.sibling,y=f.return;if(cM(f),f===d){gt=null;break}if(m!==null){m.return=y,gt=m;break}gt=y}}}var E=r.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}gt=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,gt=a;else t:for(;gt!==null;){if(r=gt,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ag(9,r,r.return)}var b=r.sibling;if(b!==null){b.return=r.return,gt=b;break t}gt=r.return}}var P=n.current;for(gt=P;gt!==null;){a=gt;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,gt=A;else t:for(a=P;gt!==null;){if(c=gt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:vw(9,c)}}catch(x){He(c,c.return,x)}if(c===a){gt=null;break t}var v=c.sibling;if(v!==null){v.return=c.return,gt=v;break t}gt=c.return}}if(Ht=s,mc(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(cw,n)}catch{}i=!0}return i}finally{Yt=e,Os.transition=t}}return!1}function RC(n,t,e){t=Jf(e,t),t=QL(n,t,1),n=Jl(n,t,1),t=li(),n!==null&&($v(n,1,t),Li(n,t))}function He(n,t,e){if(n.tag===3)RC(n,n,e);else for(;t!==null;){if(t.tag===3){RC(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tc===null||!tc.has(i))){n=Jf(e,n),n=JL(t,n,1),t=Jl(t,n,1),n=li(),t!==null&&($v(t,1,n),Li(t,n));break}}t=t.return}}function xB(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=li(),n.pingedLanes|=n.suspendedLanes&e,_n===n&&(Rn&e)===e&&(an===4||an===3&&(Rn&130023424)===Rn&&500>qe()-LA?th(n,0):kA|=e),Li(n,t)}function _M(n,t){t===0&&(n.mode&1?(t=Ry,Ry<<=1,!(Ry&130023424)&&(Ry=4194304)):t=1);var e=li();n=Ea(n,t),n!==null&&($v(n,t,e),Li(n,e))}function bB(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),_M(n,e)}function SB(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(et(314))}i!==null&&i.delete(t),_M(n,e)}var wM;wM=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Ti.current)Ci=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Ci=!1,uB(n,t,e);Ci=!!(n.flags&131072)}else Ci=!1,Se&&t.flags&1048576&&AL(t,h_,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;p0(n,t),n=t.pendingProps;var s=Xf(t,Xn.current);od(t,e),s=SA(null,t,i,n,s,e);var r=AA();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(i)?(r=!0,c_(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yA(t),s.updater=mw,t.stateNode=s,s._reactInternals=t,jb(t,i,n,e),t=Ub(null,t,i,!0,r,e)):(t.tag=0,Se&&r&&hA(t),ri(null,t,s,e),t=t.child),t;case 16:i=t.elementType;t:{switch(p0(n,t),n=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=EB(i),n=Zs(i,n),s){case 0:t=Hb(null,t,i,n,e);break t;case 1:t=bC(null,t,i,n,e);break t;case 11:t=wC(null,t,i,n,e);break t;case 14:t=xC(null,t,i,Zs(i.type,n),e);break t}throw Error(et(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),Hb(n,t,i,s,e);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),bC(n,t,i,s,e);case 3:t:{if(iM(t),n===null)throw Error(et(387));i=t.pendingProps,r=t.memoizedState,s=r.element,LL(n,t),p_(t,i,null,e);var a=t.memoizedState;if(i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=Jf(Error(et(423)),t),t=SC(n,t,i,e,s);break t}else if(i!==s){s=Jf(Error(et(424)),t),t=SC(n,t,i,e,s);break t}else for(is=Ql(t.stateNode.containerInfo.firstChild),ss=t,Se=!0,hr=null,e=TL(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Yf(),i===s){t=Pa(n,t,e);break t}ri(n,t,i,e)}t=t.child}return t;case 5:return ML(t),n===null&&Ob(t),i=t.type,s=t.pendingProps,r=n!==null?n.memoizedProps:null,a=s.children,Mb(i,s)?a=null:r!==null&&Mb(i,r)&&(t.flags|=32),nM(n,t),ri(n,t,a,e),t.child;case 6:return n===null&&Ob(t),null;case 13:return sM(n,t,e);case 4:return _A(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=Kf(t,null,i,e):ri(n,t,i,e),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),wC(n,t,i,s,e);case 7:return ri(n,t,t.pendingProps,e),t.child;case 8:return ri(n,t,t.pendingProps.children,e),t.child;case 12:return ri(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,a=s.value,de(d_,i._currentValue),i._currentValue=a,r!==null)if(mr(r.value,a)){if(r.children===s.children&&!Ti.current){t=Pa(n,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var c=r.dependencies;if(c!==null){a=r.child;for(var u=c.firstContext;u!==null;){if(u.context===i){if(r.tag===1){u=wa(-1,e&-e),u.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}r.lanes|=e,u=r.alternate,u!==null&&(u.lanes|=e),Fb(r.return,e,t),c.lanes|=e;break}u=u.next}}else if(r.tag===10)a=r.type===t.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(et(341));a.lanes|=e,c=a.alternate,c!==null&&(c.lanes|=e),Fb(a,e,t),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}ri(n,t,s.children,e),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,od(t,e),s=Bs(s),i=i(s),t.flags|=1,ri(n,t,i,e),t.child;case 14:return i=t.type,s=Zs(i,t.pendingProps),s=Zs(i.type,s),xC(n,t,i,s,e);case 15:return tM(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),p0(n,t),t.tag=1,ki(i)?(n=!0,c_(t)):n=!1,od(t,e),KL(t,i,s),jb(t,i,s,e),Ub(null,t,i,!0,n,e);case 19:return rM(n,t,e);case 22:return eM(n,t,e)}throw Error(et(156,t.tag))};function xM(n,t){return Zk(n,t)}function AB(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(n,t,e,i){return new AB(n,t,e,i)}function IA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function EB(n){if(typeof n=="function")return IA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===JS)return 11;if(n===tA)return 14}return 2}function nc(n,t){var e=n.alternate;return e===null?(e=Ds(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function v0(n,t,e,i,s,r){var a=2;if(i=n,typeof n=="function")IA(n)&&(a=1);else if(typeof n=="string")a=5;else t:switch(n){case zh:return eh(e.children,s,r,t);case QS:a=8,s|=8;break;case cb:return n=Ds(12,e,t,s|2),n.elementType=cb,n.lanes=r,n;case ub:return n=Ds(13,e,t,s),n.elementType=ub,n.lanes=r,n;case hb:return n=Ds(19,e,t,s),n.elementType=hb,n.lanes=r,n;case Mk:return _w(e,s,r,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case kk:a=10;break t;case Lk:a=9;break t;case JS:a=11;break t;case tA:a=14;break t;case $a:a=16,i=null;break t}throw Error(et(130,n==null?n:typeof n,""))}return t=Ds(a,e,t,s),t.elementType=n,t.type=i,t.lanes=r,t}function eh(n,t,e,i){return n=Ds(7,n,i,t),n.lanes=e,n}function _w(n,t,e,i){return n=Ds(22,n,i,t),n.elementType=Mk,n.lanes=e,n.stateNode={isHidden:!1},n}function $x(n,t,e){return n=Ds(6,n,null,t),n.lanes=e,n}function Wx(n,t,e){return t=Ds(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function PB(n,t,e,i,s){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ax(0),this.expirationTimes=Ax(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ax(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function DA(n,t,e,i,s,r,a,c,u){return n=new PB(n,t,e,c,u),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Ds(3,null,null,t),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},yA(r),n}function CB(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jh,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function bM(n){if(!n)return rc;n=n._reactInternals;t:{if(hh(n)!==n||n.tag!==1)throw Error(et(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(et(171))}if(n.tag===1){var e=n.type;if(ki(e))return bL(n,e,t)}return t}function SM(n,t,e,i,s,r,a,c,u){return n=DA(e,i,!0,n,s,r,a,c,u),n.context=bM(null),e=n.current,i=li(),s=ec(e),r=wa(i,s),r.callback=t??null,Jl(e,r,s),n.current.lanes=s,$v(n,s,i),Li(n,i),n}function ww(n,t,e,i){var s=t.current,r=li(),a=ec(s);return e=bM(e),t.context===null?t.context=e:t.pendingContext=e,t=wa(r,a),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=Jl(s,t,a),n!==null&&(gr(n,s,a,r),h0(n,s,a)),a}function b_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function NC(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function OA(n,t){NC(n,t),(n=n.alternate)&&NC(n,t)}function TB(){return null}var AM=typeof reportError=="function"?reportError:function(n){console.error(n)};function FA(n){this._internalRoot=n}xw.prototype.render=FA.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(et(409));ww(n,t,null,null)};xw.prototype.unmount=FA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;oh(function(){ww(null,n,null,null)}),t[Aa]=null}};function xw(n){this._internalRoot=n}xw.prototype.unstable_scheduleHydration=function(n){if(n){var t=eL();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Va.length&&t!==0&&t<Va[e].priority;e++);Va.splice(e,0,n),e===0&&iL(n)}};function BA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function IC(){}function kB(n,t,e,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var d=b_(a);r.call(d)}}var a=SM(t,i,n,0,null,!1,!1,"",IC);return n._reactRootContainer=a,n[Aa]=a.current,Fg(n.nodeType===8?n.parentNode:n),oh(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var d=b_(u);c.call(d)}}var u=DA(n,0,!1,null,null,!1,!1,"",IC);return n._reactRootContainer=u,n[Aa]=u.current,Fg(n.nodeType===8?n.parentNode:n),oh(function(){ww(t,u,e,i)}),u}function Sw(n,t,e,i,s){var r=e._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var c=s;s=function(){var u=b_(a);c.call(u)}}ww(t,a,n,s)}else a=kB(e,t,n,s,i);return b_(a)}Jk=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Xp(t.pendingLanes);e!==0&&(iA(t,e|1),Li(t,qe()),!(Ht&6)&&(tp=qe()+500,mc()))}break;case 13:oh(function(){var i=Ea(n,1);if(i!==null){var s=li();gr(i,n,1,s)}}),OA(n,1)}};sA=function(n){if(n.tag===13){var t=Ea(n,134217728);if(t!==null){var e=li();gr(t,n,134217728,e)}OA(n,134217728)}};tL=function(n){if(n.tag===13){var t=ec(n),e=Ea(n,t);if(e!==null){var i=li();gr(e,n,t,i)}OA(n,t)}};eL=function(){return Yt};nL=function(n,t){var e=Yt;try{return Yt=n,t()}finally{Yt=e}};xb=function(n,t,e){switch(t){case"input":if(pb(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=fw(i);if(!s)throw Error(et(90));Nk(i),pb(i,s)}}}break;case"textarea":Dk(n,e);break;case"select":t=e.value,t!=null&&nd(n,!!e.multiple,t,!1)}};Uk=MA;$k=oh;var LB={usingClientEntryPoint:!1,Events:[Vv,Wh,fw,zk,Hk,MA]},zp={findFiberByHostInstance:Nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MB={bundleType:zp.bundleType,version:zp.version,rendererPackageName:zp.rendererPackageName,rendererConfig:zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Gk(n),n===null?null:n.stateNode},findFiberByHostInstance:zp.findFiberByHostInstance||TB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$y.isDisabled&&$y.supportsFiber)try{cw=$y.inject(MB),go=$y}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LB;cs.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BA(t))throw Error(et(200));return CB(n,t,null,e)};cs.createRoot=function(n,t){if(!BA(n))throw Error(et(299));var e=!1,i="",s=AM;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=DA(n,1,!1,null,null,e,!1,i,s),n[Aa]=t.current,Fg(n.nodeType===8?n.parentNode:n),new FA(t)};cs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(et(188)):(n=Object.keys(n).join(","),Error(et(268,n)));return n=Gk(t),n=n===null?null:n.stateNode,n};cs.flushSync=function(n){return oh(n)};cs.hydrate=function(n,t,e){if(!bw(t))throw Error(et(200));return Sw(null,n,t,!0,e)};cs.hydrateRoot=function(n,t,e){if(!BA(n))throw Error(et(405));var i=e!=null&&e.hydratedSources||null,s=!1,r="",a=AM;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=SM(t,null,n,1,e??null,s,!1,r,a),n[Aa]=t.current,Fg(n),i)for(n=0;n<i.length;n++)e=i[n],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new xw(t)};cs.render=function(n,t,e){if(!bw(t))throw Error(et(200));return Sw(null,n,t,!1,e)};cs.unmountComponentAtNode=function(n){if(!bw(n))throw Error(et(40));return n._reactRootContainer?(oh(function(){Sw(null,null,n,!1,function(){n._reactRootContainer=null,n[Aa]=null})}),!0):!1};cs.unstable_batchedUpdates=MA;cs.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!bw(e))throw Error(et(200));if(n==null||n._reactInternals===void 0)throw Error(et(38));return Sw(n,t,e,!1,i)};cs.version="18.3.1-next-f1338f8080-20240426";function EM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EM)}catch(n){console.error(n)}}EM(),Ek.exports=cs;var cp=Ek.exports;const PM=WS(cp);var CM,DC=cp;CM=DC.createRoot,DC.hydrateRoot;const RB=1,NB=1e6;let Vx=0;function IB(){return Vx=(Vx+1)%Number.MAX_SAFE_INTEGER,Vx.toString()}const Gx=new Map,OC=n=>{if(Gx.has(n))return;const t=setTimeout(()=>{Gx.delete(n),Cg({type:"REMOVE_TOAST",toastId:n})},NB);Gx.set(n,t)},DB=(n,t)=>{switch(t.type){case"ADD_TOAST":return{...n,toasts:[t.toast,...n.toasts].slice(0,RB)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?OC(e):n.toasts.forEach(i=>{OC(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===e||e===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(e=>e.id!==t.toastId)}}},y0=[];let _0={toasts:[]};function Cg(n){_0=DB(_0,n),y0.forEach(t=>{t(_0)})}function OB({...n}){const t=IB(),e=s=>Cg({type:"UPDATE_TOAST",toast:{...s,id:t}}),i=()=>Cg({type:"DISMISS_TOAST",toastId:t});return Cg({type:"ADD_TOAST",toast:{...n,id:t,open:!0,onOpenChange:s=>{s||i()}}}),{id:t,dismiss:i,update:e}}function FB(){const[n,t]=O.useState(_0);return O.useEffect(()=>(y0.push(t),()=>{const e=y0.indexOf(t);e>-1&&y0.splice(e,1)}),[n]),{...n,toast:OB,dismiss:e=>Cg({type:"DISMISS_TOAST",toastId:e})}}function on(n,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(n==null||n(s),e===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function FC(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function TM(...n){return t=>{let e=!1;const i=n.map(s=>{const r=FC(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():FC(n[s],null)}}}}function vr(...n){return O.useCallback(TM(...n),n)}function Aw(n,t=[]){let e=[];function i(r,a){const c=O.createContext(a),u=e.length;e=[...e,a];const d=p=>{var b;const{scope:m,children:y,...E}=p,w=((b=m==null?void 0:m[n])==null?void 0:b[u])||c,C=O.useMemo(()=>E,Object.values(E));return R.jsx(w.Provider,{value:C,children:y})};d.displayName=r+"Provider";function f(p,m){var w;const y=((w=m==null?void 0:m[n])==null?void 0:w[u])||c,E=O.useContext(y);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${r}\``)}return[d,f]}const s=()=>{const r=e.map(a=>O.createContext(a));return function(c){const u=(c==null?void 0:c[n])||r;return O.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return s.scopeName=n,[i,BB(s,...t)]}function BB(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const a=i.reduce((c,{useScope:u,scopeName:d})=>{const p=u(r)[`__scope${d}`];return{...c,...p}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return e.scopeName=t.scopeName,e}function S_(n){const t=zB(n),e=O.forwardRef((i,s)=>{const{children:r,...a}=i,c=O.Children.toArray(r),u=c.find(UB);if(u){const d=u.props.children,f=c.map(p=>p===u?O.Children.count(d)>1?O.Children.only(null):O.isValidElement(d)?d.props.children:null:p);return R.jsx(t,{...a,ref:s,children:O.isValidElement(d)?O.cloneElement(d,void 0,f):null})}return R.jsx(t,{...a,ref:s,children:r})});return e.displayName=`${n}.Slot`,e}var jB=S_("Slot");function zB(n){const t=O.forwardRef((e,i)=>{const{children:s,...r}=e;if(O.isValidElement(s)){const a=WB(s),c=$B(r,s.props);return s.type!==O.Fragment&&(c.ref=i?TM(i,a):a),O.cloneElement(s,c)}return O.Children.count(s)>1?O.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var kM=Symbol("radix.slottable");function HB(n){const t=({children:e})=>R.jsx(R.Fragment,{children:e});return t.displayName=`${n}.Slottable`,t.__radixId=kM,t}function UB(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===kM}function $B(n,t){const e={...t};for(const i in t){const s=n[i],r=t[i];/^on[A-Z]/.test(i)?s&&r?e[i]=(...c)=>{const u=r(...c);return s(...c),u}:s&&(e[i]=s):i==="style"?e[i]={...s,...r}:i==="className"&&(e[i]=[s,r].filter(Boolean).join(" "))}return{...n,...e}}function WB(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function VB(n){const t=n+"CollectionProvider",[e,i]=Aw(t),[s,r]=e(t,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:C,children:b}=w,P=nt.useRef(null),A=nt.useRef(new Map).current;return R.jsx(s,{scope:C,itemMap:A,collectionRef:P,children:b})};a.displayName=t;const c=n+"CollectionSlot",u=S_(c),d=nt.forwardRef((w,C)=>{const{scope:b,children:P}=w,A=r(c,b),v=vr(C,A.collectionRef);return R.jsx(u,{ref:v,children:P})});d.displayName=c;const f=n+"CollectionItemSlot",p="data-radix-collection-item",m=S_(f),y=nt.forwardRef((w,C)=>{const{scope:b,children:P,...A}=w,v=nt.useRef(null),x=vr(C,v),k=r(f,b);return nt.useEffect(()=>(k.itemMap.set(v,{ref:v,...A}),()=>void k.itemMap.delete(v))),R.jsx(m,{[p]:"",ref:x,children:P})});y.displayName=f;function E(w){const C=r(n+"CollectionConsumer",w);return nt.useCallback(()=>{const P=C.collectionRef.current;if(!P)return[];const A=Array.from(P.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((k,I)=>A.indexOf(k.ref.current)-A.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:d,ItemSlot:y},E,i]}var GB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],di=GB.reduce((n,t)=>{const e=S_(`Primitive.${t}`),i=O.forwardRef((s,r)=>{const{asChild:a,...c}=s,u=a?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(u,{...c,ref:r})});return i.displayName=`Primitive.${t}`,{...n,[t]:i}},{});function LM(n,t){n&&cp.flushSync(()=>n.dispatchEvent(t))}function oc(n){const t=O.useRef(n);return O.useEffect(()=>{t.current=n}),O.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}function qB(n,t=globalThis==null?void 0:globalThis.document){const e=oc(n);O.useEffect(()=>{const i=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[e,t])}var ZB="DismissableLayer",t1="dismissableLayer.update",XB="dismissableLayer.pointerDownOutside",YB="dismissableLayer.focusOutside",BC,MM=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jA=O.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,onDismiss:c,...u}=n,d=O.useContext(MM),[f,p]=O.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=O.useState({}),E=vr(t,I=>p(I)),w=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(C),P=f?w.indexOf(f):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,v=P>=b,x=QB(I=>{const F=I.target,B=[...d.branches].some(z=>z.contains(F));!v||B||(s==null||s(I),a==null||a(I),I.defaultPrevented||c==null||c())},m),k=JB(I=>{const F=I.target;[...d.branches].some(z=>z.contains(F))||(r==null||r(I),a==null||a(I),I.defaultPrevented||c==null||c())},m);return qB(I=>{P===d.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&c&&(I.preventDefault(),c()))},m),O.useEffect(()=>{if(f)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(BC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),jC(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=BC)}},[f,m,e,d]),O.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),jC())},[f,d]),O.useEffect(()=>{const I=()=>y({});return document.addEventListener(t1,I),()=>document.removeEventListener(t1,I)},[]),R.jsx(di.div,{...u,ref:E,style:{pointerEvents:A?v?"auto":"none":void 0,...n.style},onFocusCapture:on(n.onFocusCapture,k.onFocusCapture),onBlurCapture:on(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:on(n.onPointerDownCapture,x.onPointerDownCapture)})});jA.displayName=ZB;var KB="DismissableLayerBranch",RM=O.forwardRef((n,t)=>{const e=O.useContext(MM),i=O.useRef(null),s=vr(t,i);return O.useEffect(()=>{const r=i.current;if(r)return e.branches.add(r),()=>{e.branches.delete(r)}},[e.branches]),R.jsx(di.div,{...n,ref:s})});RM.displayName=KB;function QB(n,t=globalThis==null?void 0:globalThis.document){const e=oc(n),i=O.useRef(!1),s=O.useRef(()=>{});return O.useEffect(()=>{const r=c=>{if(c.target&&!i.current){let u=function(){NM(XB,e,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function JB(n,t=globalThis==null?void 0:globalThis.document){const e=oc(n),i=O.useRef(!1);return O.useEffect(()=>{const s=r=>{r.target&&!i.current&&NM(YB,e,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function jC(){const n=new CustomEvent(t1);document.dispatchEvent(n)}function NM(n,t,e,{discrete:i}){const s=e.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(n,t,{once:!0}),i?LM(s,r):s.dispatchEvent(r)}var tj=jA,ej=RM,ac=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},nj="Portal",IM=O.forwardRef((n,t)=>{var c;const{container:e,...i}=n,[s,r]=O.useState(!1);ac(()=>r(!0),[]);const a=e||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?PM.createPortal(R.jsx(di.div,{...i,ref:t}),a):null});IM.displayName=nj;function ij(n,t){return O.useReducer((e,i)=>t[e][i]??e,n)}var zA=n=>{const{present:t,children:e}=n,i=sj(t),s=typeof e=="function"?e({present:i.isPresent}):O.Children.only(e),r=vr(i.ref,rj(s));return typeof e=="function"||i.isPresent?O.cloneElement(s,{ref:r}):null};zA.displayName="Presence";function sj(n){const[t,e]=O.useState(),i=O.useRef(null),s=O.useRef(n),r=O.useRef("none"),a=n?"mounted":"unmounted",[c,u]=ij(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const d=Wy(i.current);r.current=c==="mounted"?d:"none"},[c]),ac(()=>{const d=i.current,f=s.current;if(f!==n){const m=r.current,y=Wy(d);n?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,u]),ac(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,p=y=>{const w=Wy(i.current).includes(y.animationName);if(y.target===t&&w&&(u("ANIMATION_END"),!s.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},m=y=>{y.target===t&&(r.current=Wy(i.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:O.useCallback(d=>{i.current=d?getComputedStyle(d):null,e(d)},[])}}function Wy(n){return(n==null?void 0:n.animationName)||"none"}function rj(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var oj=Sk[" useInsertionEffect ".trim().toString()]||ac;function aj({prop:n,defaultProp:t,onChange:e=()=>{},caller:i}){const[s,r,a]=lj({defaultProp:t,onChange:e}),c=n!==void 0,u=c?n:s;{const f=O.useRef(n!==void 0);O.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,i])}const d=O.useCallback(f=>{var p;if(c){const m=cj(f)?f(n):f;m!==n&&((p=a.current)==null||p.call(a,m))}else r(f)},[c,n,r,a]);return[u,d]}function lj({defaultProp:n,onChange:t}){const[e,i]=O.useState(n),s=O.useRef(e),r=O.useRef(t);return oj(()=>{r.current=t},[t]),O.useEffect(()=>{var a;s.current!==e&&((a=r.current)==null||a.call(r,e),s.current=e)},[e,s]),[e,i,r]}function cj(n){return typeof n=="function"}var uj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hj="VisuallyHidden",Ew=O.forwardRef((n,t)=>R.jsx(di.span,{...n,ref:t,style:{...uj,...n.style}}));Ew.displayName=hj;var dj=Ew,HA="ToastProvider",[UA,fj,pj]=VB("Toast"),[DM,tW]=Aw("Toast",[pj]),[gj,Pw]=DM(HA),OM=n=>{const{__scopeToast:t,label:e="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:r=50,children:a}=n,[c,u]=O.useState(null),[d,f]=O.useState(0),p=O.useRef(!1),m=O.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${HA}\`. Expected non-empty \`string\`.`),R.jsx(UA.Provider,{scope:t,children:R.jsx(gj,{scope:t,label:e,duration:i,swipeDirection:s,swipeThreshold:r,toastCount:d,viewport:c,onViewportChange:u,onToastAdd:O.useCallback(()=>f(y=>y+1),[]),onToastRemove:O.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:a})})};OM.displayName=HA;var FM="ToastViewport",mj=["F8"],e1="toast.viewportPause",n1="toast.viewportResume",BM=O.forwardRef((n,t)=>{const{__scopeToast:e,hotkey:i=mj,label:s="Notifications ({hotkey})",...r}=n,a=Pw(FM,e),c=fj(e),u=O.useRef(null),d=O.useRef(null),f=O.useRef(null),p=O.useRef(null),m=vr(t,p,a.onViewportChange),y=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=a.toastCount>0;O.useEffect(()=>{const C=b=>{var A;i.length!==0&&i.every(v=>b[v]||b.code===v)&&((A=p.current)==null||A.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[i]),O.useEffect(()=>{const C=u.current,b=p.current;if(E&&C&&b){const P=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(e1);b.dispatchEvent(k),a.isClosePausedRef.current=!0}},A=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(n1);b.dispatchEvent(k),a.isClosePausedRef.current=!1}},v=k=>{!C.contains(k.relatedTarget)&&A()},x=()=>{C.contains(document.activeElement)||A()};return C.addEventListener("focusin",P),C.addEventListener("focusout",v),C.addEventListener("pointermove",P),C.addEventListener("pointerleave",x),window.addEventListener("blur",P),window.addEventListener("focus",A),()=>{C.removeEventListener("focusin",P),C.removeEventListener("focusout",v),C.removeEventListener("pointermove",P),C.removeEventListener("pointerleave",x),window.removeEventListener("blur",P),window.removeEventListener("focus",A)}}},[E,a.isClosePausedRef]);const w=O.useCallback(({tabbingDirection:C})=>{const P=c().map(A=>{const v=A.ref.current,x=[v,...kj(v)];return C==="forwards"?x:x.reverse()});return(C==="forwards"?P.reverse():P).flat()},[c]);return O.useEffect(()=>{const C=p.current;if(C){const b=P=>{var x,k,I;const A=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!A){const F=document.activeElement,B=P.shiftKey;if(P.target===C&&B){(x=d.current)==null||x.focus();return}const $=w({tabbingDirection:B?"backwards":"forwards"}),K=$.findIndex(W=>W===F);qx($.slice(K+1))?P.preventDefault():B?(k=d.current)==null||k.focus():(I=f.current)==null||I.focus()}};return C.addEventListener("keydown",b),()=>C.removeEventListener("keydown",b)}},[c,w]),R.jsxs(ej,{ref:u,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&R.jsx(i1,{ref:d,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"forwards"});qx(C)}}),R.jsx(UA.Slot,{scope:e,children:R.jsx(di.ol,{tabIndex:-1,...r,ref:m})}),E&&R.jsx(i1,{ref:f,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"backwards"});qx(C)}})]})});BM.displayName=FM;var jM="ToastFocusProxy",i1=O.forwardRef((n,t)=>{const{__scopeToast:e,onFocusFromOutsideViewport:i,...s}=n,r=Pw(jM,e);return R.jsx(Ew,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var d;const c=a.relatedTarget;!((d=r.viewport)!=null&&d.contains(c))&&i()}})});i1.displayName=jM;var qv="Toast",vj="toast.swipeStart",yj="toast.swipeMove",_j="toast.swipeCancel",wj="toast.swipeEnd",zM=O.forwardRef((n,t)=>{const{forceMount:e,open:i,defaultOpen:s,onOpenChange:r,...a}=n,[c,u]=aj({prop:i,defaultProp:s??!0,onChange:r,caller:qv});return R.jsx(zA,{present:e||c,children:R.jsx(Sj,{open:c,...a,ref:t,onClose:()=>u(!1),onPause:oc(n.onPause),onResume:oc(n.onResume),onSwipeStart:on(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:on(n.onSwipeMove,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:on(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:on(n.onSwipeEnd,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});zM.displayName=qv;var[xj,bj]=DM(qv,{onClose(){}}),Sj=O.forwardRef((n,t)=>{const{__scopeToast:e,type:i="foreground",duration:s,open:r,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:y,...E}=n,w=Pw(qv,e),[C,b]=O.useState(null),P=vr(t,W=>b(W)),A=O.useRef(null),v=O.useRef(null),x=s||w.duration,k=O.useRef(0),I=O.useRef(x),F=O.useRef(0),{onToastAdd:B,onToastRemove:z}=w,U=oc(()=>{var it;(C==null?void 0:C.contains(document.activeElement))&&((it=w.viewport)==null||it.focus()),a()}),$=O.useCallback(W=>{!W||W===1/0||(window.clearTimeout(F.current),k.current=new Date().getTime(),F.current=window.setTimeout(U,W))},[U]);O.useEffect(()=>{const W=w.viewport;if(W){const it=()=>{$(I.current),d==null||d()},Z=()=>{const Y=new Date().getTime()-k.current;I.current=I.current-Y,window.clearTimeout(F.current),u==null||u()};return W.addEventListener(e1,Z),W.addEventListener(n1,it),()=>{W.removeEventListener(e1,Z),W.removeEventListener(n1,it)}}},[w.viewport,x,u,d,$]),O.useEffect(()=>{r&&!w.isClosePausedRef.current&&$(x)},[r,x,w.isClosePausedRef,$]),O.useEffect(()=>(B(),()=>z()),[B,z]);const K=O.useMemo(()=>C?qM(C):null,[C]);return w.viewport?R.jsxs(R.Fragment,{children:[K&&R.jsx(Aj,{__scopeToast:e,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),R.jsx(xj,{scope:e,onClose:U,children:cp.createPortal(R.jsx(UA.ItemSlot,{scope:e,children:R.jsx(tj,{asChild:!0,onEscapeKeyDown:on(c,()=>{w.isFocusedToastEscapeKeyDownRef.current||U(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:R.jsx(di.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:P,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:on(n.onKeyDown,W=>{W.key==="Escape"&&(c==null||c(W.nativeEvent),W.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:on(n.onPointerDown,W=>{W.button===0&&(A.current={x:W.clientX,y:W.clientY})}),onPointerMove:on(n.onPointerMove,W=>{if(!A.current)return;const it=W.clientX-A.current.x,Z=W.clientY-A.current.y,Y=!!v.current,H=["left","right"].includes(w.swipeDirection),q=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,X=H?q(0,it):0,rt=H?0:q(0,Z),J=W.pointerType==="touch"?10:2,st={x:X,y:rt},at={originalEvent:W,delta:st};Y?(v.current=st,Vy(yj,p,at,{discrete:!1})):zC(st,w.swipeDirection,J)?(v.current=st,Vy(vj,f,at,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(it)>J||Math.abs(Z)>J)&&(A.current=null)}),onPointerUp:on(n.onPointerUp,W=>{const it=v.current,Z=W.target;if(Z.hasPointerCapture(W.pointerId)&&Z.releasePointerCapture(W.pointerId),v.current=null,A.current=null,it){const Y=W.currentTarget,H={originalEvent:W,delta:it};zC(it,w.swipeDirection,w.swipeThreshold)?Vy(wj,y,H,{discrete:!0}):Vy(_j,m,H,{discrete:!0}),Y.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Aj=n=>{const{__scopeToast:t,children:e,...i}=n,s=Pw(qv,t),[r,a]=O.useState(!1),[c,u]=O.useState(!1);return Cj(()=>a(!0)),O.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:R.jsx(IM,{asChild:!0,children:R.jsx(Ew,{...i,children:r&&R.jsxs(R.Fragment,{children:[s.label," ",e]})})})},Ej="ToastTitle",HM=O.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return R.jsx(di.div,{...i,ref:t})});HM.displayName=Ej;var Pj="ToastDescription",UM=O.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return R.jsx(di.div,{...i,ref:t})});UM.displayName=Pj;var $M="ToastAction",WM=O.forwardRef((n,t)=>{const{altText:e,...i}=n;return e.trim()?R.jsx(GM,{altText:e,asChild:!0,children:R.jsx($A,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$M}\`. Expected non-empty \`string\`.`),null)});WM.displayName=$M;var VM="ToastClose",$A=O.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n,s=bj(VM,e);return R.jsx(GM,{asChild:!0,children:R.jsx(di.button,{type:"button",...i,ref:t,onClick:on(n.onClick,s.onClose)})})});$A.displayName=VM;var GM=O.forwardRef((n,t)=>{const{__scopeToast:e,altText:i,...s}=n;return R.jsx(di.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function qM(n){const t=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),Tj(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",r=i.dataset.radixToastAnnounceExclude==="";if(!s)if(r){const a=i.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...qM(i))}}),t}function Vy(n,t,e,{discrete:i}){const s=e.originalEvent.currentTarget,r=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:e});t&&s.addEventListener(n,t,{once:!0}),i?LM(s,r):s.dispatchEvent(r)}var zC=(n,t,e=0)=>{const i=Math.abs(n.x),s=Math.abs(n.y),r=i>s;return t==="left"||t==="right"?r&&i>e:!r&&s>e};function Cj(n=()=>{}){const t=oc(n);ac(()=>{let e=0,i=0;return e=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(i)}},[t])}function Tj(n){return n.nodeType===n.ELEMENT_NODE}function kj(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function qx(n){const t=document.activeElement;return n.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var Lj=OM,ZM=BM,XM=zM,YM=HM,KM=UM,QM=WM,JM=$A;function t2(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=t2(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function up(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=t2(n))&&(i&&(i+=" "),i+=t);return i}const HC=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,UC=up,WA=(n,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return UC(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:s,defaultVariants:r}=t,a=Object.keys(s).map(d=>{const f=e==null?void 0:e[d],p=r==null?void 0:r[d];if(f===null)return null;const m=HC(f)||HC(p);return s[d][m]}),c=e&&Object.entries(e).reduce((d,f)=>{let[p,m]=f;return m===void 0||(d[p]=m),d},{}),u=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:p,className:m,...y}=f;return Object.entries(y).every(E=>{let[w,C]=E;return Array.isArray(C)?C.includes({...r,...c}[w]):{...r,...c}[w]===C})?[...d,p,m]:d},[]);return UC(n,a,u,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e2=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=O.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...c},u)=>O.createElement("svg",{ref:u,...Rj,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:e2("lucide",s),...c},[...a.map(([d,f])=>O.createElement(d,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=(n,t)=>{const e=O.forwardRef(({className:i,...s},r)=>O.createElement(Nj,{ref:r,iconNode:t,className:e2(`lucide-${Mj(n)}`,i),...s}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=fi("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=fi("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=fi("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=fi("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=fi("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=fi("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=fi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=fi("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=fi("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=fi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=fi("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=fi("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=fi("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=fi("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=fi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GA="-",Uj=n=>{const t=Wj(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:a=>{const c=a.split(GA);return c[0]===""&&c.length!==1&&c.shift(),o2(c,t)||$j(a)},getConflictingClassGroupIds:(a,c)=>{const u=e[a]||[];return c&&i[a]?[...u,...i[a]]:u}}},o2=(n,t)=>{var a;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?o2(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=n.join(GA);return(a=t.validators.find(({validator:c})=>c(r)))==null?void 0:a.classGroupId},$C=/^\[(.+)\]$/,$j=n=>{if($C.test(n)){const t=$C.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Wj=n=>{const{theme:t,prefix:e}=n,i={nextPart:new Map,validators:[]};return Gj(Object.entries(n.classGroups),e).forEach(([r,a])=>{s1(a,i,r,t)}),i},s1=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?t:WC(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(Vj(s)){s1(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,a])=>{s1(a,WC(t,r),e,i)})})},WC=(n,t)=>{let e=n;return t.split(GA).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},Vj=n=>n.isThemeGetter,Gj=(n,t)=>t?n.map(([e,i])=>{const s=i.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,c])=>[t+a,c])):r);return[e,s]}):n,qj=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(r,a)=>{e.set(r,a),t++,t>n&&(t=0,i=e,e=new Map)};return{get(r){let a=e.get(r);if(a!==void 0)return a;if((a=i.get(r))!==void 0)return s(r,a),a},set(r,a){e.has(r)?e.set(r,a):s(r,a)}}},a2="!",Zj=n=>{const{separator:t,experimentalParseClassName:e}=n,i=t.length===1,s=t[0],r=t.length,a=c=>{const u=[];let d=0,f=0,p;for(let C=0;C<c.length;C++){let b=c[C];if(d===0){if(b===s&&(i||c.slice(C,C+r)===t)){u.push(c.slice(f,C)),f=C+r;continue}if(b==="/"){p=C;continue}}b==="["?d++:b==="]"&&d--}const m=u.length===0?c:c.substring(f),y=m.startsWith(a2),E=y?m.substring(1):m,w=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:w}};return e?c=>e({className:c,parseClassName:a}):a},Xj=n=>{if(n.length<=1)return n;const t=[];let e=[];return n.forEach(i=>{i[0]==="["?(t.push(...e.sort(),i),e=[]):e.push(i)}),t.push(...e.sort()),t},Yj=n=>({cache:qj(n.cacheSize),parseClassName:Zj(n),...Uj(n)}),Kj=/\s+/,Qj=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s}=t,r=[],a=n.trim().split(Kj);let c="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}=e(d);let E=!!y,w=i(E?m.substring(0,y):m);if(!w){if(!E){c=d+(c.length>0?" "+c:c);continue}if(w=i(m),!w){c=d+(c.length>0?" "+c:c);continue}E=!1}const C=Xj(f).join(":"),b=p?C+a2:C,P=b+w;if(r.includes(P))continue;r.push(P);const A=s(w,E);for(let v=0;v<A.length;++v){const x=A[v];r.push(b+x)}c=d+(c.length>0?" "+c:c)}return c};function Jj(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=l2(t))&&(i&&(i+=" "),i+=e);return i}const l2=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=l2(n[i]))&&(e&&(e+=" "),e+=t);return e};function t3(n,...t){let e,i,s,r=a;function a(u){const d=t.reduce((f,p)=>p(f),n());return e=Yj(d),i=e.cache.get,s=e.cache.set,r=c,c(u)}function c(u){const d=i(u);if(d)return d;const f=Qj(u,e);return s(u,f),f}return function(){return r(Jj.apply(null,arguments))}}const me=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},c2=/^\[(?:([a-z-]+):)?(.+)\]$/i,e3=/^\d+\/\d+$/,n3=new Set(["px","full","screen"]),i3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,o3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Co=n=>ld(n)||n3.has(n)||e3.test(n),ja=n=>hp(n,"length",g3),ld=n=>!!n&&!Number.isNaN(Number(n)),Xx=n=>hp(n,"number",ld),Hp=n=>!!n&&Number.isInteger(Number(n)),l3=n=>n.endsWith("%")&&ld(n.slice(0,-1)),Tt=n=>c2.test(n),za=n=>i3.test(n),c3=new Set(["length","size","percentage"]),u3=n=>hp(n,c3,u2),h3=n=>hp(n,"position",u2),d3=new Set(["image","url"]),f3=n=>hp(n,d3,v3),p3=n=>hp(n,"",m3),Up=()=>!0,hp=(n,t,e)=>{const i=c2.exec(n);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):e(i[2]):!1},g3=n=>s3.test(n)&&!r3.test(n),u2=()=>!1,m3=n=>o3.test(n),v3=n=>a3.test(n),y3=()=>{const n=me("colors"),t=me("spacing"),e=me("blur"),i=me("brightness"),s=me("borderColor"),r=me("borderRadius"),a=me("borderSpacing"),c=me("borderWidth"),u=me("contrast"),d=me("grayscale"),f=me("hueRotate"),p=me("invert"),m=me("gap"),y=me("gradientColorStops"),E=me("gradientColorStopPositions"),w=me("inset"),C=me("margin"),b=me("opacity"),P=me("padding"),A=me("saturate"),v=me("scale"),x=me("sepia"),k=me("skew"),I=me("space"),F=me("translate"),B=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Tt,t],$=()=>[Tt,t],K=()=>["",Co,ja],W=()=>["auto",ld,Tt],it=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Tt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],rt=()=>[ld,Tt];return{cacheSize:500,separator:":",theme:{colors:[Up],spacing:[Co,ja],blur:["none","",za,Tt],brightness:rt(),borderColor:[n],borderRadius:["none","","full",za,Tt],borderSpacing:$(),borderWidth:K(),contrast:rt(),grayscale:q(),hueRotate:rt(),invert:q(),gap:$(),gradientColorStops:[n],gradientColorStopPositions:[l3,ja],inset:U(),margin:U(),opacity:rt(),padding:$(),saturate:rt(),scale:rt(),sepia:q(),skew:rt(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Tt]}],container:["container"],columns:[{columns:[za]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...it(),Tt]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hp,Tt]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Tt]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Hp,Tt]}],"grid-cols":[{"grid-cols":[Up]}],"col-start-end":[{col:["auto",{span:["full",Hp,Tt]},Tt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Up]}],"row-start-end":[{row:["auto",{span:[Hp,Tt]},Tt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Tt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Tt,t]}],"min-w":[{"min-w":[Tt,t,"min","max","fit"]}],"max-w":[{"max-w":[Tt,t,"none","full","min","max","fit","prose",{screen:[za]},za]}],h:[{h:[Tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",za,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xx]}],"font-family":[{font:[Up]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Tt]}],"line-clamp":[{"line-clamp":["none",ld,Xx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Co,Tt]}],"list-image":[{"list-image":["none",Tt]}],"list-style-type":[{list:["none","disc","decimal",Tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Co,ja]}],"underline-offset":[{"underline-offset":["auto",Co,Tt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...it(),h3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f3]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Co,Tt]}],"outline-w":[{outline:[Co,ja]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Co,ja]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",za,p3]}],"shadow-color":[{shadow:[Up]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",za,Tt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[A]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Tt]}],duration:[{duration:rt()}],ease:[{ease:["linear","in","out","in-out",Tt]}],delay:[{delay:rt()}],animate:[{animate:["none","spin","ping","pulse","bounce",Tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Hp,Tt]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Tt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Co,ja,Xx]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_3=t3(y3);function Zn(...n){return _3(up(n))}const w3=Lj,h2=O.forwardRef(({className:n,...t},e)=>R.jsx(ZM,{ref:e,className:Zn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...t}));h2.displayName=ZM.displayName;const x3=WA("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d2=O.forwardRef(({className:n,variant:t,...e},i)=>R.jsx(XM,{ref:i,className:Zn(x3({variant:t}),n),...e}));d2.displayName=XM.displayName;const b3=O.forwardRef(({className:n,...t},e)=>R.jsx(QM,{ref:e,className:Zn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...t}));b3.displayName=QM.displayName;const f2=O.forwardRef(({className:n,...t},e)=>R.jsx(JM,{ref:e,className:Zn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...t,children:R.jsx(VA,{className:"h-4 w-4"})}));f2.displayName=JM.displayName;const p2=O.forwardRef(({className:n,...t},e)=>R.jsx(YM,{ref:e,className:Zn("text-sm font-semibold",n),...t}));p2.displayName=YM.displayName;const g2=O.forwardRef(({className:n,...t},e)=>R.jsx(KM,{ref:e,className:Zn("text-sm opacity-90",n),...t}));g2.displayName=KM.displayName;function S3(){const{toasts:n}=FB();return R.jsxs(w3,{children:[n.map(function({id:t,title:e,description:i,action:s,...r}){return R.jsxs(d2,{...r,children:[R.jsxs("div",{className:"grid gap-1",children:[e&&R.jsx(p2,{children:e}),i&&R.jsx(g2,{children:i})]}),s,R.jsx(f2,{})]},t)}),R.jsx(h2,{})]})}var VC=["light","dark"],A3="(prefers-color-scheme: dark)",E3=O.createContext(void 0),P3={setTheme:n=>{},themes:[]},C3=()=>{var n;return(n=O.useContext(E3))!=null?n:P3};O.memo(({forcedTheme:n,storageKey:t,attribute:e,enableSystem:i,enableColorScheme:s,defaultTheme:r,value:a,attrs:c,nonce:u})=>{let d=r==="system",f=e==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${e}',s='setAttribute';`,p=s?VC.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(E,w=!1,C=!0)=>{let b=a?a[E]:E,P=w?E+"|| ''":`'${b}'`,A="";return s&&C&&!w&&VC.includes(E)&&(A+=`d.style.colorScheme = '${E}';`),e==="class"?w||b?A+=`c.add(${P})`:A+="null":b&&(A+=`d[s](n,${P})`),A},y=n?`!function(){${f}${m(n)}}()`:i?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${A3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${d?"":"else{"+m(r,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(r,!1,!1)};}${p}}catch(t){}}();`;return O.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var T3=n=>{switch(n){case"success":return M3;case"info":return N3;case"warning":return R3;case"error":return I3;default:return null}},k3=Array(12).fill(0),L3=({visible:n,className:t})=>nt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},nt.createElement("div",{className:"sonner-spinner"},k3.map((e,i)=>nt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),M3=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),R3=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N3=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),I3=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),D3=nt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},nt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),nt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),O3=()=>{let[n,t]=nt.useState(document.hidden);return nt.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n},r1=1,F3=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let t=this.subscribers.indexOf(n);this.subscribers.splice(t,1)}),this.publish=n=>{this.subscribers.forEach(t=>t(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var t;let{message:e,...i}=n,s=typeof(n==null?void 0:n.id)=="number"||((t=n.id)==null?void 0:t.length)>0?n.id:r1++,r=this.toasts.find(c=>c.id===s),a=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),r?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...n,id:s,title:e}),{...c,...n,id:s,dismissible:a,title:e}):c):this.addToast({title:e,...i,dismissible:a,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(t=>{this.subscribers.forEach(e=>e({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:n,dismiss:!0})),n),this.message=(n,t)=>this.create({...t,message:n}),this.error=(n,t)=>this.create({...t,message:n,type:"error"}),this.success=(n,t)=>this.create({...t,type:"success",message:n}),this.info=(n,t)=>this.create({...t,type:"info",message:n}),this.warning=(n,t)=>this.create({...t,type:"warning",message:n}),this.loading=(n,t)=>this.create({...t,type:"loading",message:n}),this.promise=(n,t)=>{if(!t)return;let e;t.loading!==void 0&&(e=this.create({...t,promise:n,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=n instanceof Promise?n:n(),s=e!==void 0,r,a=i.then(async u=>{if(r=["resolve",u],nt.isValidElement(u))s=!1,this.create({id:e,type:"default",message:u});else if(j3(u)&&!u.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:e,type:"error",message:d,description:f})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(u):t.success,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:e,type:"success",message:d,description:f})}}).catch(async u=>{if(r=["reject",u],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(u):t.error,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:e,type:"error",message:d,description:f})}}).finally(()=>{var u;s&&(this.dismiss(e),e=void 0),(u=t.finally)==null||u.call(t)}),c=()=>new Promise((u,d)=>a.then(()=>r[0]==="reject"?d(r[1]):u(r[1])).catch(d));return typeof e!="string"&&typeof e!="number"?{unwrap:c}:Object.assign(e,{unwrap:c})},this.custom=(n,t)=>{let e=(t==null?void 0:t.id)||r1++;return this.create({jsx:n(e),id:e,...t}),e},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ai=new F3,B3=(n,t)=>{let e=(t==null?void 0:t.id)||r1++;return Ai.addToast({title:n,...t,id:e}),e},j3=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",z3=B3,H3=()=>Ai.toasts,U3=()=>Ai.getActiveToasts(),$3=Object.assign(z3,{success:Ai.success,info:Ai.info,warning:Ai.warning,error:Ai.error,custom:Ai.custom,message:Ai.message,promise:Ai.promise,dismiss:Ai.dismiss,loading:Ai.loading},{getHistory:H3,getToasts:U3});function W3(n,{insertAt:t}={}){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}W3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qy(n){return n.label!==void 0}var V3=3,G3="32px",q3="16px",GC=4e3,Z3=356,X3=14,Y3=20,K3=200;function Vs(...n){return n.filter(Boolean).join(" ")}function Q3(n){let[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}var J3=n=>{var t,e,i,s,r,a,c,u,d,f,p;let{invert:m,toast:y,unstyled:E,interacting:w,setHeights:C,visibleToasts:b,heights:P,index:A,toasts:v,expanded:x,removeToast:k,defaultRichColors:I,closeButton:F,style:B,cancelButtonStyle:z,actionButtonStyle:U,className:$="",descriptionClassName:K="",duration:W,position:it,gap:Z,loadingIcon:Y,expandByDefault:H,classNames:q,icons:X,closeButtonAriaLabel:rt="Close toast",pauseWhenPageIsHidden:J}=n,[st,at]=nt.useState(null),[ut,dt]=nt.useState(null),[ct,pe]=nt.useState(!1),[Ue,ge]=nt.useState(!1),[Et,Re]=nt.useState(!1),[Dt,zt]=nt.useState(!1),[Kt,Ne]=nt.useState(!1),[le,hs]=nt.useState(0),[br,xo]=nt.useState(0),zs=nt.useRef(y.duration||W||GC),Sr=nt.useRef(null),ds=nt.useRef(null),vp=A===0,yp=A+1<=b,cn=y.type,Hs=y.dismissible!==!1,Mi=y.className||"",Ar=y.descriptionClassName||"",In=nt.useMemo(()=>P.findIndex(xt=>xt.toastId===y.id)||0,[P,y.id]),Ia=nt.useMemo(()=>{var xt;return(xt=y.closeButton)!=null?xt:F},[y.closeButton,F]),oy=nt.useMemo(()=>y.duration||W||GC,[y.duration,W]),vh=nt.useRef(0),Er=nt.useRef(0),_p=nt.useRef(0),Da=nt.useRef(null),[vc,Ww]=it.split("-"),ay=nt.useMemo(()=>P.reduce((xt,Gt,ce)=>ce>=In?xt:xt+Gt.height,0),[P,In]),wp=O3(),ly=y.invert||m,yh=cn==="loading";Er.current=nt.useMemo(()=>In*Z+ay,[In,ay]),nt.useEffect(()=>{zs.current=oy},[oy]),nt.useEffect(()=>{pe(!0)},[]),nt.useEffect(()=>{let xt=ds.current;if(xt){let Gt=xt.getBoundingClientRect().height;return xo(Gt),C(ce=>[{toastId:y.id,height:Gt,position:y.position},...ce]),()=>C(ce=>ce.filter(Ri=>Ri.toastId!==y.id))}},[C,y.id]),nt.useLayoutEffect(()=>{if(!ct)return;let xt=ds.current,Gt=xt.style.height;xt.style.height="auto";let ce=xt.getBoundingClientRect().height;xt.style.height=Gt,xo(ce),C(Ri=>Ri.find(Yn=>Yn.toastId===y.id)?Ri.map(Yn=>Yn.toastId===y.id?{...Yn,height:ce}:Yn):[{toastId:y.id,height:ce,position:y.position},...Ri])},[ct,y.title,y.description,C,y.id]);let Pr=nt.useCallback(()=>{ge(!0),hs(Er.current),C(xt=>xt.filter(Gt=>Gt.toastId!==y.id)),setTimeout(()=>{k(y)},K3)},[y,k,C,Er]);nt.useEffect(()=>{if(y.promise&&cn==="loading"||y.duration===1/0||y.type==="loading")return;let xt;return x||w||J&&wp?(()=>{if(_p.current<vh.current){let Gt=new Date().getTime()-vh.current;zs.current=zs.current-Gt}_p.current=new Date().getTime()})():zs.current!==1/0&&(vh.current=new Date().getTime(),xt=setTimeout(()=>{var Gt;(Gt=y.onAutoClose)==null||Gt.call(y,y),Pr()},zs.current)),()=>clearTimeout(xt)},[x,w,y,cn,J,wp,Pr]),nt.useEffect(()=>{y.delete&&Pr()},[Pr,y.delete]);function Vw(){var xt,Gt,ce;return X!=null&&X.loading?nt.createElement("div",{className:Vs(q==null?void 0:q.loader,(xt=y==null?void 0:y.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":cn==="loading"},X.loading):Y?nt.createElement("div",{className:Vs(q==null?void 0:q.loader,(Gt=y==null?void 0:y.classNames)==null?void 0:Gt.loader,"sonner-loader"),"data-visible":cn==="loading"},Y):nt.createElement(L3,{className:Vs(q==null?void 0:q.loader,(ce=y==null?void 0:y.classNames)==null?void 0:ce.loader),visible:cn==="loading"})}return nt.createElement("li",{tabIndex:0,ref:ds,className:Vs($,Mi,q==null?void 0:q.toast,(t=y==null?void 0:y.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[cn],(e=y==null?void 0:y.classNames)==null?void 0:e[cn]),"data-sonner-toast":"","data-rich-colors":(i=y.richColors)!=null?i:I,"data-styled":!(y.jsx||y.unstyled||E),"data-mounted":ct,"data-promise":!!y.promise,"data-swiped":Kt,"data-removed":Ue,"data-visible":yp,"data-y-position":vc,"data-x-position":Ww,"data-index":A,"data-front":vp,"data-swiping":Et,"data-dismissible":Hs,"data-type":cn,"data-invert":ly,"data-swipe-out":Dt,"data-swipe-direction":ut,"data-expanded":!!(x||H&&ct),style:{"--index":A,"--toasts-before":A,"--z-index":v.length-A,"--offset":`${Ue?le:Er.current}px`,"--initial-height":H?"auto":`${br}px`,...B,...y.style},onDragEnd:()=>{Re(!1),at(null),Da.current=null},onPointerDown:xt=>{yh||!Hs||(Sr.current=new Date,hs(Er.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(Re(!0),Da.current={x:xt.clientX,y:xt.clientY}))},onPointerUp:()=>{var xt,Gt,ce,Ri;if(Dt||!Hs)return;Da.current=null;let Yn=Number(((xt=ds.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cr=Number(((Gt=ds.current)==null?void 0:Gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bo=new Date().getTime()-((ce=Sr.current)==null?void 0:ce.getTime()),Ni=st==="x"?Yn:Cr,Tr=Math.abs(Ni)/bo;if(Math.abs(Ni)>=Y3||Tr>.11){hs(Er.current),(Ri=y.onDismiss)==null||Ri.call(y,y),dt(st==="x"?Yn>0?"right":"left":Cr>0?"down":"up"),Pr(),zt(!0),Ne(!1);return}Re(!1),at(null)},onPointerMove:xt=>{var Gt,ce,Ri,Yn;if(!Da.current||!Hs||((Gt=window.getSelection())==null?void 0:Gt.toString().length)>0)return;let Cr=xt.clientY-Da.current.y,bo=xt.clientX-Da.current.x,Ni=(ce=n.swipeDirections)!=null?ce:Q3(it);!st&&(Math.abs(bo)>1||Math.abs(Cr)>1)&&at(Math.abs(bo)>Math.abs(Cr)?"x":"y");let Tr={x:0,y:0};st==="y"?(Ni.includes("top")||Ni.includes("bottom"))&&(Ni.includes("top")&&Cr<0||Ni.includes("bottom")&&Cr>0)&&(Tr.y=Cr):st==="x"&&(Ni.includes("left")||Ni.includes("right"))&&(Ni.includes("left")&&bo<0||Ni.includes("right")&&bo>0)&&(Tr.x=bo),(Math.abs(Tr.x)>0||Math.abs(Tr.y)>0)&&Ne(!0),(Ri=ds.current)==null||Ri.style.setProperty("--swipe-amount-x",`${Tr.x}px`),(Yn=ds.current)==null||Yn.style.setProperty("--swipe-amount-y",`${Tr.y}px`)}},Ia&&!y.jsx?nt.createElement("button",{"aria-label":rt,"data-disabled":yh,"data-close-button":!0,onClick:yh||!Hs?()=>{}:()=>{var xt;Pr(),(xt=y.onDismiss)==null||xt.call(y,y)},className:Vs(q==null?void 0:q.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},(r=X==null?void 0:X.close)!=null?r:D3):null,y.jsx||O.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:nt.createElement(nt.Fragment,null,cn||y.icon||y.promise?nt.createElement("div",{"data-icon":"",className:Vs(q==null?void 0:q.icon,(a=y==null?void 0:y.classNames)==null?void 0:a.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Vw():null,y.type!=="loading"?y.icon||(X==null?void 0:X[cn])||T3(cn):null):null,nt.createElement("div",{"data-content":"",className:Vs(q==null?void 0:q.content,(c=y==null?void 0:y.classNames)==null?void 0:c.content)},nt.createElement("div",{"data-title":"",className:Vs(q==null?void 0:q.title,(u=y==null?void 0:y.classNames)==null?void 0:u.title)},typeof y.title=="function"?y.title():y.title),y.description?nt.createElement("div",{"data-description":"",className:Vs(K,Ar,q==null?void 0:q.description,(d=y==null?void 0:y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),O.isValidElement(y.cancel)?y.cancel:y.cancel&&qy(y.cancel)?nt.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||z,onClick:xt=>{var Gt,ce;qy(y.cancel)&&Hs&&((ce=(Gt=y.cancel).onClick)==null||ce.call(Gt,xt),Pr())},className:Vs(q==null?void 0:q.cancelButton,(f=y==null?void 0:y.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,O.isValidElement(y.action)?y.action:y.action&&qy(y.action)?nt.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||U,onClick:xt=>{var Gt,ce;qy(y.action)&&((ce=(Gt=y.action).onClick)==null||ce.call(Gt,xt),!xt.defaultPrevented&&Pr())},className:Vs(q==null?void 0:q.actionButton,(p=y==null?void 0:y.classNames)==null?void 0:p.actionButton)},y.action.label):null))};function qC(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function tz(n,t){let e={};return[n,t].forEach((i,s)=>{let r=s===1,a=r?"--mobile-offset":"--offset",c=r?q3:G3;function u(d){["top","right","bottom","left"].forEach(f=>{e[`${a}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?e[`${a}-${d}`]=c:e[`${a}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(c)}),e}var ez=O.forwardRef(function(n,t){let{invert:e,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:a,className:c,offset:u,mobileOffset:d,theme:f="light",richColors:p,duration:m,style:y,visibleToasts:E=V3,toastOptions:w,dir:C=qC(),gap:b=X3,loadingIcon:P,icons:A,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:x}=n,[k,I]=nt.useState([]),F=nt.useMemo(()=>Array.from(new Set([i].concat(k.filter(J=>J.position).map(J=>J.position)))),[k,i]),[B,z]=nt.useState([]),[U,$]=nt.useState(!1),[K,W]=nt.useState(!1),[it,Z]=nt.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=nt.useRef(null),H=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=nt.useRef(null),X=nt.useRef(!1),rt=nt.useCallback(J=>{I(st=>{var at;return(at=st.find(ut=>ut.id===J.id))!=null&&at.delete||Ai.dismiss(J.id),st.filter(({id:ut})=>ut!==J.id)})},[]);return nt.useEffect(()=>Ai.subscribe(J=>{if(J.dismiss){I(st=>st.map(at=>at.id===J.id?{...at,delete:!0}:at));return}setTimeout(()=>{PM.flushSync(()=>{I(st=>{let at=st.findIndex(ut=>ut.id===J.id);return at!==-1?[...st.slice(0,at),{...st[at],...J},...st.slice(at+1)]:[J,...st]})})})}),[]),nt.useEffect(()=>{if(f!=="system"){Z(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:st})=>{Z(st?"dark":"light")})}catch{J.addListener(({matches:at})=>{try{Z(at?"dark":"light")}catch(ut){console.error(ut)}})}},[f]),nt.useEffect(()=>{k.length<=1&&$(!1)},[k]),nt.useEffect(()=>{let J=st=>{var at,ut;s.every(dt=>st[dt]||st.code===dt)&&($(!0),(at=Y.current)==null||at.focus()),st.code==="Escape"&&(document.activeElement===Y.current||(ut=Y.current)!=null&&ut.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[s]),nt.useEffect(()=>{if(Y.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,X.current=!1)}},[Y.current]),nt.createElement("section",{ref:t,"aria-label":`${v} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((J,st)=>{var at;let[ut,dt]=J.split("-");return k.length?nt.createElement("ol",{key:J,dir:C==="auto"?qC():C,tabIndex:-1,ref:Y,className:c,"data-sonner-toaster":!0,"data-theme":it,"data-y-position":ut,"data-lifted":U&&k.length>1&&!r,"data-x-position":dt,style:{"--front-toast-height":`${((at=B[0])==null?void 0:at.height)||0}px`,"--width":`${Z3}px`,"--gap":`${b}px`,...y,...tz(u,d)},onBlur:ct=>{X.current&&!ct.currentTarget.contains(ct.relatedTarget)&&(X.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||X.current||(X.current=!0,q.current=ct.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{K||$(!1)},onDragEnd:()=>$(!1),onPointerDown:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},k.filter(ct=>!ct.position&&st===0||ct.position===J).map((ct,pe)=>{var Ue,ge;return nt.createElement(J3,{key:ct.id,icons:A,index:pe,toast:ct,defaultRichColors:p,duration:(Ue=w==null?void 0:w.duration)!=null?Ue:m,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:e,visibleToasts:E,closeButton:(ge=w==null?void 0:w.closeButton)!=null?ge:a,interacting:K,position:J,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:rt,toasts:k.filter(Et=>Et.position==ct.position),heights:B.filter(Et=>Et.position==ct.position),setHeights:z,expandByDefault:r,gap:b,loadingIcon:P,expanded:U,pauseWhenPageIsHidden:x,swipeDirections:n.swipeDirections})})):null}))});const nz=({...n})=>{const{theme:t="system"}=C3();return R.jsx(ez,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},iz=["top","right","bottom","left"],lc=Math.min,es=Math.max,A_=Math.round,Zy=Math.floor,vo=n=>({x:n,y:n}),sz={left:"right",right:"left",bottom:"top",top:"bottom"},rz={start:"end",end:"start"};function o1(n,t,e){return es(n,lc(t,e))}function Ca(n,t){return typeof n=="function"?n(t):n}function Ta(n){return n.split("-")[0]}function dp(n){return n.split("-")[1]}function qA(n){return n==="x"?"y":"x"}function ZA(n){return n==="y"?"height":"width"}const oz=new Set(["top","bottom"]);function po(n){return oz.has(Ta(n))?"y":"x"}function XA(n){return qA(po(n))}function az(n,t,e){e===void 0&&(e=!1);const i=dp(n),s=XA(n),r=ZA(s);let a=s==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=E_(a)),[a,E_(a)]}function lz(n){const t=E_(n);return[a1(n),t,a1(t)]}function a1(n){return n.replace(/start|end/g,t=>rz[t])}const ZC=["left","right"],XC=["right","left"],cz=["top","bottom"],uz=["bottom","top"];function hz(n,t,e){switch(n){case"top":case"bottom":return e?t?XC:ZC:t?ZC:XC;case"left":case"right":return t?cz:uz;default:return[]}}function dz(n,t,e,i){const s=dp(n);let r=hz(Ta(n),e==="start",i);return s&&(r=r.map(a=>a+"-"+s),t&&(r=r.concat(r.map(a1)))),r}function E_(n){return n.replace(/left|right|bottom|top/g,t=>sz[t])}function fz(n){return{top:0,right:0,bottom:0,left:0,...n}}function m2(n){return typeof n!="number"?fz(n):{top:n,right:n,bottom:n,left:n}}function P_(n){const{x:t,y:e,width:i,height:s}=n;return{width:i,height:s,top:e,left:t,right:t+i,bottom:e+s,x:t,y:e}}function YC(n,t,e){let{reference:i,floating:s}=n;const r=po(t),a=XA(t),c=ZA(a),u=Ta(t),d=r==="y",f=i.x+i.width/2-s.width/2,p=i.y+i.height/2-s.height/2,m=i[c]/2-s[c]/2;let y;switch(u){case"top":y={x:f,y:i.y-s.height};break;case"bottom":y={x:f,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:p};break;case"left":y={x:i.x-s.width,y:p};break;default:y={x:i.x,y:i.y}}switch(dp(t)){case"start":y[a]-=m*(e&&d?-1:1);break;case"end":y[a]+=m*(e&&d?-1:1);break}return y}const pz=async(n,t,e)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:a}=e,c=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:n,floating:t,strategy:s}),{x:f,y:p}=YC(d,i,u),m=i,y={},E=0;for(let w=0;w<c.length;w++){const{name:C,fn:b}=c[w],{x:P,y:A,data:v,reset:x}=await b({x:f,y:p,initialPlacement:i,placement:m,strategy:s,middlewareData:y,rects:d,platform:a,elements:{reference:n,floating:t}});f=P??f,p=A??p,y={...y,[C]:{...y[C],...v}},x&&E<=50&&(E++,typeof x=="object"&&(x.placement&&(m=x.placement),x.rects&&(d=x.rects===!0?await a.getElementRects({reference:n,floating:t,strategy:s}):x.rects),{x:f,y:p}=YC(d,m,u)),w=-1)}return{x:f,y:p,placement:m,strategy:s,middlewareData:y}};async function Gg(n,t){var e;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:a,elements:c,strategy:u}=n,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=Ca(t,n),E=m2(y),C=c[m?p==="floating"?"reference":"floating":p],b=P_(await r.getClippingRect({element:(e=await(r.isElement==null?void 0:r.isElement(C)))==null||e?C:C.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),P=p==="floating"?{x:i,y:s,width:a.floating.width,height:a.floating.height}:a.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),v=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},x=P_(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:A,strategy:u}):P);return{top:(b.top-x.top+E.top)/v.y,bottom:(x.bottom-b.bottom+E.bottom)/v.y,left:(b.left-x.left+E.left)/v.x,right:(x.right-b.right+E.right)/v.x}}const gz=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:s,rects:r,platform:a,elements:c,middlewareData:u}=t,{element:d,padding:f=0}=Ca(n,t)||{};if(d==null)return{};const p=m2(f),m={x:e,y:i},y=XA(s),E=ZA(y),w=await a.getDimensions(d),C=y==="y",b=C?"top":"left",P=C?"bottom":"right",A=C?"clientHeight":"clientWidth",v=r.reference[E]+r.reference[y]-m[y]-r.floating[E],x=m[y]-r.reference[y],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let I=k?k[A]:0;(!I||!await(a.isElement==null?void 0:a.isElement(k)))&&(I=c.floating[A]||r.floating[E]);const F=v/2-x/2,B=I/2-w[E]/2-1,z=lc(p[b],B),U=lc(p[P],B),$=z,K=I-w[E]-U,W=I/2-w[E]/2+F,it=o1($,W,K),Z=!u.arrow&&dp(s)!=null&&W!==it&&r.reference[E]/2-(W<$?z:U)-w[E]/2<0,Y=Z?W<$?W-$:W-K:0;return{[y]:m[y]+Y,data:{[y]:it,centerOffset:W-it-Y,...Z&&{alignmentOffset:Y}},reset:Z}}}),mz=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:s,middlewareData:r,rects:a,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...C}=Ca(n,t);if((e=r.arrow)!=null&&e.alignmentOffset)return{};const b=Ta(s),P=po(c),A=Ta(c)===c,v=await(u.isRTL==null?void 0:u.isRTL(d.floating)),x=m||(A||!w?[E_(c)]:lz(c)),k=E!=="none";!m&&k&&x.push(...dz(c,w,E,v));const I=[c,...x],F=await Gg(t,C),B=[];let z=((i=r.flip)==null?void 0:i.overflows)||[];if(f&&B.push(F[b]),p){const W=az(s,a,v);B.push(F[W[0]],F[W[1]])}if(z=[...z,{placement:s,overflows:B}],!B.every(W=>W<=0)){var U,$;const W=(((U=r.flip)==null?void 0:U.index)||0)+1,it=I[W];if(it&&(!(p==="alignment"?P!==po(it):!1)||z.every(H=>H.overflows[0]>0&&po(H.placement)===P)))return{data:{index:W,overflows:z},reset:{placement:it}};let Z=($=z.filter(Y=>Y.overflows[0]<=0).sort((Y,H)=>Y.overflows[1]-H.overflows[1])[0])==null?void 0:$.placement;if(!Z)switch(y){case"bestFit":{var K;const Y=(K=z.filter(H=>{if(k){const q=po(H.placement);return q===P||q==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(q=>q>0).reduce((q,X)=>q+X,0)]).sort((H,q)=>H[1]-q[1])[0])==null?void 0:K[0];Y&&(Z=Y);break}case"initialPlacement":Z=c;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function KC(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function QC(n){return iz.some(t=>n[t]>=0)}const vz=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:i="referenceHidden",...s}=Ca(n,t);switch(i){case"referenceHidden":{const r=await Gg(t,{...s,elementContext:"reference"}),a=KC(r,e.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:QC(a)}}}case"escaped":{const r=await Gg(t,{...s,altBoundary:!0}),a=KC(r,e.floating);return{data:{escapedOffsets:a,escaped:QC(a)}}}default:return{}}}}},v2=new Set(["left","top"]);async function yz(n,t){const{placement:e,platform:i,elements:s}=n,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=Ta(e),c=dp(e),u=po(e)==="y",d=v2.has(a)?-1:1,f=r&&u?-1:1,p=Ca(t,n);let{mainAxis:m,crossAxis:y,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof E=="number"&&(y=c==="end"?E*-1:E),u?{x:y*f,y:m*d}:{x:m*d,y:y*f}}const _z=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:s,y:r,placement:a,middlewareData:c}=t,u=await yz(t,n);return a===((e=c.offset)==null?void 0:e.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:r+u.y,data:{...u,placement:a}}}}},wz=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:c={fn:C=>{let{x:b,y:P}=C;return{x:b,y:P}}},...u}=Ca(n,t),d={x:e,y:i},f=await Gg(t,u),p=po(Ta(s)),m=qA(p);let y=d[m],E=d[p];if(r){const C=m==="y"?"top":"left",b=m==="y"?"bottom":"right",P=y+f[C],A=y-f[b];y=o1(P,y,A)}if(a){const C=p==="y"?"top":"left",b=p==="y"?"bottom":"right",P=E+f[C],A=E-f[b];E=o1(P,E,A)}const w=c.fn({...t,[m]:y,[p]:E});return{...w,data:{x:w.x-e,y:w.y-i,enabled:{[m]:r,[p]:a}}}}}},xz=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:i,placement:s,rects:r,middlewareData:a}=t,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=Ca(n,t),f={x:e,y:i},p=po(s),m=qA(p);let y=f[m],E=f[p];const w=Ca(c,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const A=m==="y"?"height":"width",v=r.reference[m]-r.floating[A]+C.mainAxis,x=r.reference[m]+r.reference[A]-C.mainAxis;y<v?y=v:y>x&&(y=x)}if(d){var b,P;const A=m==="y"?"width":"height",v=v2.has(Ta(s)),x=r.reference[p]-r.floating[A]+(v&&((b=a.offset)==null?void 0:b[p])||0)+(v?0:C.crossAxis),k=r.reference[p]+r.reference[A]+(v?0:((P=a.offset)==null?void 0:P[p])||0)-(v?C.crossAxis:0);E<x?E=x:E>k&&(E=k)}return{[m]:y,[p]:E}}}},bz=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:s,rects:r,platform:a,elements:c}=t,{apply:u=()=>{},...d}=Ca(n,t),f=await Gg(t,d),p=Ta(s),m=dp(s),y=po(s)==="y",{width:E,height:w}=r.floating;let C,b;p==="top"||p==="bottom"?(C=p,b=m===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(b=p,C=m==="end"?"top":"bottom");const P=w-f.top-f.bottom,A=E-f.left-f.right,v=lc(w-f[C],P),x=lc(E-f[b],A),k=!t.middlewareData.shift;let I=v,F=x;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(F=A),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(I=P),k&&!m){const z=es(f.left,0),U=es(f.right,0),$=es(f.top,0),K=es(f.bottom,0);y?F=E-2*(z!==0||U!==0?z+U:es(f.left,f.right)):I=w-2*($!==0||K!==0?$+K:es(f.top,f.bottom))}await u({...t,availableWidth:F,availableHeight:I});const B=await a.getDimensions(c.floating);return E!==B.width||w!==B.height?{reset:{rects:!0}}:{}}}};function Cw(){return typeof window<"u"}function fp(n){return y2(n)?(n.nodeName||"").toLowerCase():"#document"}function rs(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function wo(n){var t;return(t=(y2(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function y2(n){return Cw()?n instanceof Node||n instanceof rs(n).Node:!1}function yr(n){return Cw()?n instanceof Element||n instanceof rs(n).Element:!1}function yo(n){return Cw()?n instanceof HTMLElement||n instanceof rs(n).HTMLElement:!1}function JC(n){return!Cw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof rs(n).ShadowRoot}const Sz=new Set(["inline","contents"]);function Zv(n){const{overflow:t,overflowX:e,overflowY:i,display:s}=_r(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!Sz.has(s)}const Az=new Set(["table","td","th"]);function Ez(n){return Az.has(fp(n))}const Pz=[":popover-open",":modal"];function Tw(n){return Pz.some(t=>{try{return n.matches(t)}catch{return!1}})}const Cz=["transform","translate","scale","rotate","perspective"],Tz=["transform","translate","scale","rotate","perspective","filter"],kz=["paint","layout","strict","content"];function YA(n){const t=KA(),e=yr(n)?_r(n):n;return Cz.some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||Tz.some(i=>(e.willChange||"").includes(i))||kz.some(i=>(e.contain||"").includes(i))}function Lz(n){let t=cc(n);for(;yo(t)&&!ep(t);){if(YA(t))return t;if(Tw(t))return null;t=cc(t)}return null}function KA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mz=new Set(["html","body","#document"]);function ep(n){return Mz.has(fp(n))}function _r(n){return rs(n).getComputedStyle(n)}function kw(n){return yr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function cc(n){if(fp(n)==="html")return n;const t=n.assignedSlot||n.parentNode||JC(n)&&n.host||wo(n);return JC(t)?t.host:t}function _2(n){const t=cc(n);return ep(t)?n.ownerDocument?n.ownerDocument.body:n.body:yo(t)&&Zv(t)?t:_2(t)}function qg(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=_2(n),r=s===((i=n.ownerDocument)==null?void 0:i.body),a=rs(s);if(r){const c=l1(a);return t.concat(a,a.visualViewport||[],Zv(s)?s:[],c&&e?qg(c):[])}return t.concat(s,qg(s,[],e))}function l1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function w2(n){const t=_r(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=yo(n),r=s?n.offsetWidth:e,a=s?n.offsetHeight:i,c=A_(e)!==r||A_(i)!==a;return c&&(e=r,i=a),{width:e,height:i,$:c}}function QA(n){return yr(n)?n:n.contextElement}function cd(n){const t=QA(n);if(!yo(t))return vo(1);const e=t.getBoundingClientRect(),{width:i,height:s,$:r}=w2(t);let a=(r?A_(e.width):e.width)/i,c=(r?A_(e.height):e.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Rz=vo(0);function x2(n){const t=rs(n);return!KA()||!t.visualViewport?Rz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Nz(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==rs(n)?!1:t}function ah(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=n.getBoundingClientRect(),r=QA(n);let a=vo(1);t&&(i?yr(i)&&(a=cd(i)):a=cd(n));const c=Nz(r,e,i)?x2(r):vo(0);let u=(s.left+c.x)/a.x,d=(s.top+c.y)/a.y,f=s.width/a.x,p=s.height/a.y;if(r){const m=rs(r),y=i&&yr(i)?rs(i):i;let E=m,w=l1(E);for(;w&&i&&y!==E;){const C=cd(w),b=w.getBoundingClientRect(),P=_r(w),A=b.left+(w.clientLeft+parseFloat(P.paddingLeft))*C.x,v=b.top+(w.clientTop+parseFloat(P.paddingTop))*C.y;u*=C.x,d*=C.y,f*=C.x,p*=C.y,u+=A,d+=v,E=rs(w),w=l1(E)}}return P_({width:f,height:p,x:u,y:d})}function JA(n,t){const e=kw(n).scrollLeft;return t?t.left+e:ah(wo(n)).left+e}function b2(n,t,e){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=i.left+t.scrollLeft-(e?0:JA(n,i)),r=i.top+t.scrollTop;return{x:s,y:r}}function Iz(n){let{elements:t,rect:e,offsetParent:i,strategy:s}=n;const r=s==="fixed",a=wo(i),c=t?Tw(t.floating):!1;if(i===a||c&&r)return e;let u={scrollLeft:0,scrollTop:0},d=vo(1);const f=vo(0),p=yo(i);if((p||!p&&!r)&&((fp(i)!=="body"||Zv(a))&&(u=kw(i)),yo(i))){const y=ah(i);d=cd(i),f.x=y.x+i.clientLeft,f.y=y.y+i.clientTop}const m=a&&!p&&!r?b2(a,u,!0):vo(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:e.y*d.y-u.scrollTop*d.y+f.y+m.y}}function Dz(n){return Array.from(n.getClientRects())}function Oz(n){const t=wo(n),e=kw(n),i=n.ownerDocument.body,s=es(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=es(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-e.scrollLeft+JA(n);const c=-e.scrollTop;return _r(i).direction==="rtl"&&(a+=es(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:a,y:c}}function Fz(n,t){const e=rs(n),i=wo(n),s=e.visualViewport;let r=i.clientWidth,a=i.clientHeight,c=0,u=0;if(s){r=s.width,a=s.height;const d=KA();(!d||d&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:r,height:a,x:c,y:u}}const Bz=new Set(["absolute","fixed"]);function jz(n,t){const e=ah(n,!0,t==="fixed"),i=e.top+n.clientTop,s=e.left+n.clientLeft,r=yo(n)?cd(n):vo(1),a=n.clientWidth*r.x,c=n.clientHeight*r.y,u=s*r.x,d=i*r.y;return{width:a,height:c,x:u,y:d}}function tT(n,t,e){let i;if(t==="viewport")i=Fz(n,e);else if(t==="document")i=Oz(wo(n));else if(yr(t))i=jz(t,e);else{const s=x2(n);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return P_(i)}function S2(n,t){const e=cc(n);return e===t||!yr(e)||ep(e)?!1:_r(e).position==="fixed"||S2(e,t)}function zz(n,t){const e=t.get(n);if(e)return e;let i=qg(n,[],!1).filter(c=>yr(c)&&fp(c)!=="body"),s=null;const r=_r(n).position==="fixed";let a=r?cc(n):n;for(;yr(a)&&!ep(a);){const c=_r(a),u=YA(a);!u&&c.position==="fixed"&&(s=null),(r?!u&&!s:!u&&c.position==="static"&&!!s&&Bz.has(s.position)||Zv(a)&&!u&&S2(n,a))?i=i.filter(f=>f!==a):s=c,a=cc(a)}return t.set(n,i),i}function Hz(n){let{element:t,boundary:e,rootBoundary:i,strategy:s}=n;const a=[...e==="clippingAncestors"?Tw(t)?[]:zz(t,this._c):[].concat(e),i],c=a[0],u=a.reduce((d,f)=>{const p=tT(t,f,s);return d.top=es(p.top,d.top),d.right=lc(p.right,d.right),d.bottom=lc(p.bottom,d.bottom),d.left=es(p.left,d.left),d},tT(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Uz(n){const{width:t,height:e}=w2(n);return{width:t,height:e}}function $z(n,t,e){const i=yo(t),s=wo(t),r=e==="fixed",a=ah(n,!0,r,t);let c={scrollLeft:0,scrollTop:0};const u=vo(0);function d(){u.x=JA(s)}if(i||!i&&!r)if((fp(t)!=="body"||Zv(s))&&(c=kw(t)),i){const y=ah(t,!0,r,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else s&&d();r&&!i&&s&&d();const f=s&&!i&&!r?b2(s,c):vo(0),p=a.left+c.scrollLeft-u.x-f.x,m=a.top+c.scrollTop-u.y-f.y;return{x:p,y:m,width:a.width,height:a.height}}function Yx(n){return _r(n).position==="static"}function eT(n,t){if(!yo(n)||_r(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return wo(n)===e&&(e=e.ownerDocument.body),e}function A2(n,t){const e=rs(n);if(Tw(n))return e;if(!yo(n)){let s=cc(n);for(;s&&!ep(s);){if(yr(s)&&!Yx(s))return s;s=cc(s)}return e}let i=eT(n,t);for(;i&&Ez(i)&&Yx(i);)i=eT(i,t);return i&&ep(i)&&Yx(i)&&!YA(i)?e:i||Lz(n)||e}const Wz=async function(n){const t=this.getOffsetParent||A2,e=this.getDimensions,i=await e(n.floating);return{reference:$z(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Vz(n){return _r(n).direction==="rtl"}const Gz={convertOffsetParentRelativeRectToViewportRelativeRect:Iz,getDocumentElement:wo,getClippingRect:Hz,getOffsetParent:A2,getElementRects:Wz,getClientRects:Dz,getDimensions:Uz,getScale:cd,isElement:yr,isRTL:Vz};function E2(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function qz(n,t){let e=null,i;const s=wo(n);function r(){var c;clearTimeout(i),(c=e)==null||c.disconnect(),e=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),r();const d=n.getBoundingClientRect(),{left:f,top:p,width:m,height:y}=d;if(c||t(),!m||!y)return;const E=Zy(p),w=Zy(s.clientWidth-(f+m)),C=Zy(s.clientHeight-(p+y)),b=Zy(f),A={rootMargin:-E+"px "+-w+"px "+-C+"px "+-b+"px",threshold:es(0,lc(1,u))||1};let v=!0;function x(k){const I=k[0].intersectionRatio;if(I!==u){if(!v)return a();I?a(!1,I):i=setTimeout(()=>{a(!1,1e-7)},1e3)}I===1&&!E2(d,n.getBoundingClientRect())&&a(),v=!1}try{e=new IntersectionObserver(x,{...A,root:s.ownerDocument})}catch{e=new IntersectionObserver(x,A)}e.observe(n)}return a(!0),r}function Zz(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=QA(n),f=s||r?[...d?qg(d):[],...qg(t)]:[];f.forEach(b=>{s&&b.addEventListener("scroll",e,{passive:!0}),r&&b.addEventListener("resize",e)});const p=d&&c?qz(d,e):null;let m=-1,y=null;a&&(y=new ResizeObserver(b=>{let[P]=b;P&&P.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),e()}),d&&!u&&y.observe(d),y.observe(t));let E,w=u?ah(n):null;u&&C();function C(){const b=ah(n);w&&!E2(w,b)&&e(),w=b,E=requestAnimationFrame(C)}return e(),()=>{var b;f.forEach(P=>{s&&P.removeEventListener("scroll",e),r&&P.removeEventListener("resize",e)}),p==null||p(),(b=y)==null||b.disconnect(),y=null,u&&cancelAnimationFrame(E)}}const Xz=_z,Yz=wz,Kz=mz,Qz=bz,Jz=vz,nT=gz,t4=xz,e4=(n,t,e)=>{const i=new Map,s={platform:Gz,...e},r={...s.platform,_c:i};return pz(n,t,{...s,platform:r})};var n4=typeof document<"u",i4=function(){},w0=n4?O.useLayoutEffect:i4;function C_(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,i,s;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(i=e;i--!==0;)if(!C_(n[i],t[i]))return!1;return!0}if(s=Object.keys(n),e=s.length,e!==Object.keys(t).length)return!1;for(i=e;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=e;i--!==0;){const r=s[i];if(!(r==="_owner"&&n.$$typeof)&&!C_(n[r],t[r]))return!1}return!0}return n!==n&&t!==t}function P2(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function iT(n,t){const e=P2(n);return Math.round(t*e)/e}function Kx(n){const t=O.useRef(n);return w0(()=>{t.current=n}),t}function s4(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=n,[f,p]=O.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=O.useState(i);C_(m,i)||y(i);const[E,w]=O.useState(null),[C,b]=O.useState(null),P=O.useCallback(H=>{H!==k.current&&(k.current=H,w(H))},[]),A=O.useCallback(H=>{H!==I.current&&(I.current=H,b(H))},[]),v=r||E,x=a||C,k=O.useRef(null),I=O.useRef(null),F=O.useRef(f),B=u!=null,z=Kx(u),U=Kx(s),$=Kx(d),K=O.useCallback(()=>{if(!k.current||!I.current)return;const H={placement:t,strategy:e,middleware:m};U.current&&(H.platform=U.current),e4(k.current,I.current,H).then(q=>{const X={...q,isPositioned:$.current!==!1};W.current&&!C_(F.current,X)&&(F.current=X,cp.flushSync(()=>{p(X)}))})},[m,t,e,U,$]);w0(()=>{d===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(H=>({...H,isPositioned:!1})))},[d]);const W=O.useRef(!1);w0(()=>(W.current=!0,()=>{W.current=!1}),[]),w0(()=>{if(v&&(k.current=v),x&&(I.current=x),v&&x){if(z.current)return z.current(v,x,K);K()}},[v,x,K,z,B]);const it=O.useMemo(()=>({reference:k,floating:I,setReference:P,setFloating:A}),[P,A]),Z=O.useMemo(()=>({reference:v,floating:x}),[v,x]),Y=O.useMemo(()=>{const H={position:e,left:0,top:0};if(!Z.floating)return H;const q=iT(Z.floating,f.x),X=iT(Z.floating,f.y);return c?{...H,transform:"translate("+q+"px, "+X+"px)",...P2(Z.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:q,top:X}},[e,c,Z.floating,f.x,f.y]);return O.useMemo(()=>({...f,update:K,refs:it,elements:Z,floatingStyles:Y}),[f,K,it,Z,Y])}const r4=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:i,padding:s}=typeof n=="function"?n(e):n;return i&&t(i)?i.current!=null?nT({element:i.current,padding:s}).fn(e):{}:i?nT({element:i,padding:s}).fn(e):{}}}},o4=(n,t)=>({...Xz(n),options:[n,t]}),a4=(n,t)=>({...Yz(n),options:[n,t]}),l4=(n,t)=>({...t4(n),options:[n,t]}),c4=(n,t)=>({...Kz(n),options:[n,t]}),u4=(n,t)=>({...Qz(n),options:[n,t]}),h4=(n,t)=>({...Jz(n),options:[n,t]}),d4=(n,t)=>({...r4(n),options:[n,t]});var f4="Arrow",C2=O.forwardRef((n,t)=>{const{children:e,width:i=10,height:s=5,...r}=n;return R.jsx(di.svg,{...r,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});C2.displayName=f4;var p4=C2;function g4(n){const[t,e]=O.useState(void 0);return ac(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let a,c;if("borderBoxSize"in r){const u=r.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,c=d.blockSize}else a=n.offsetWidth,c=n.offsetHeight;e({width:a,height:c})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else e(void 0)},[n]),t}var T2="Popper",[k2,L2]=Aw(T2),[eW,M2]=k2(T2),R2="PopperAnchor",N2=O.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...s}=n,r=M2(R2,e),a=O.useRef(null),c=vr(t,a);return O.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:R.jsx(di.div,{...s,ref:c})});N2.displayName=R2;var tE="PopperContent",[m4,v4]=k2(tE),I2=O.forwardRef((n,t)=>{var ct,pe,Ue,ge,Et,Re;const{__scopePopper:e,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:E,...w}=n,C=M2(tE,e),[b,P]=O.useState(null),A=vr(t,Dt=>P(Dt)),[v,x]=O.useState(null),k=g4(v),I=(k==null?void 0:k.width)??0,F=(k==null?void 0:k.height)??0,B=i+(r!=="center"?"-"+r:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},U=Array.isArray(d)?d:[d],$=U.length>0,K={padding:z,boundary:U.filter(_4),altBoundary:$},{refs:W,floatingStyles:it,placement:Z,isPositioned:Y,middlewareData:H}=s4({strategy:"fixed",placement:B,whileElementsMounted:(...Dt)=>Zz(...Dt,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[o4({mainAxis:s+F,alignmentAxis:a}),u&&a4({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?l4():void 0,...K}),u&&c4({...K}),u4({...K,apply:({elements:Dt,rects:zt,availableWidth:Kt,availableHeight:Ne})=>{const{width:le,height:hs}=zt.reference,br=Dt.floating.style;br.setProperty("--radix-popper-available-width",`${Kt}px`),br.setProperty("--radix-popper-available-height",`${Ne}px`),br.setProperty("--radix-popper-anchor-width",`${le}px`),br.setProperty("--radix-popper-anchor-height",`${hs}px`)}}),v&&d4({element:v,padding:c}),w4({arrowWidth:I,arrowHeight:F}),m&&h4({strategy:"referenceHidden",...K})]}),[q,X]=F2(Z),rt=oc(E);ac(()=>{Y&&(rt==null||rt())},[Y,rt]);const J=(ct=H.arrow)==null?void 0:ct.x,st=(pe=H.arrow)==null?void 0:pe.y,at=((Ue=H.arrow)==null?void 0:Ue.centerOffset)!==0,[ut,dt]=O.useState();return ac(()=>{b&&dt(window.getComputedStyle(b).zIndex)},[b]),R.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...it,transform:Y?it.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[(ge=H.transformOrigin)==null?void 0:ge.x,(Et=H.transformOrigin)==null?void 0:Et.y].join(" "),...((Re=H.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:R.jsx(m4,{scope:e,placedSide:q,onArrowChange:x,arrowX:J,arrowY:st,shouldHideArrow:at,children:R.jsx(di.div,{"data-side":q,"data-align":X,...w,ref:A,style:{...w.style,animation:Y?void 0:"none"}})})})});I2.displayName=tE;var D2="PopperArrow",y4={top:"bottom",right:"left",bottom:"top",left:"right"},O2=O.forwardRef(function(t,e){const{__scopePopper:i,...s}=t,r=v4(D2,i),a=y4[r.placedSide];return R.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:R.jsx(p4,{...s,ref:e,style:{...s.style,display:"block"}})})});O2.displayName=D2;function _4(n){return n!==null}var w4=n=>({name:"transformOrigin",options:n,fn(t){var C,b,P;const{placement:e,rects:i,middlewareData:s}=t,a=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=a?0:n.arrowWidth,u=a?0:n.arrowHeight,[d,f]=F2(e),p={start:"0%",center:"50%",end:"100%"}[f],m=(((b=s.arrow)==null?void 0:b.x)??0)+c/2,y=(((P=s.arrow)==null?void 0:P.y)??0)+u/2;let E="",w="";return d==="bottom"?(E=a?p:`${m}px`,w=`${-u}px`):d==="top"?(E=a?p:`${m}px`,w=`${i.floating.height+u}px`):d==="right"?(E=`${-u}px`,w=a?p:`${y}px`):d==="left"&&(E=`${i.floating.width+u}px`,w=a?p:`${y}px`),{data:{x:E,y:w}}}});function F2(n){const[t,e="center"]=n.split("-");return[t,e]}var x4=N2,b4=I2,S4=O2,[Lw,nW]=Aw("Tooltip",[L2]),eE=L2(),B2="TooltipProvider",A4=700,sT="tooltip.open",[E4,j2]=Lw(B2),z2=n=>{const{__scopeTooltip:t,delayDuration:e=A4,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=n,a=O.useRef(!0),c=O.useRef(!1),u=O.useRef(0);return O.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),R.jsx(E4,{scope:t,isOpenDelayedRef:a,delayDuration:e,onOpen:O.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:O.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:r})};z2.displayName=B2;var H2="Tooltip",[iW,Mw]=Lw(H2),c1="TooltipTrigger",P4=O.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=Mw(c1,e),r=j2(c1,e),a=eE(e),c=O.useRef(null),u=vr(t,c,s.onTriggerChange),d=O.useRef(!1),f=O.useRef(!1),p=O.useCallback(()=>d.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),R.jsx(x4,{asChild:!0,...a,children:R.jsx(di.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:u,onPointerMove:on(n.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:on(n.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:on(n.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:on(n.onFocus,()=>{d.current||s.onOpen()}),onBlur:on(n.onBlur,s.onClose),onClick:on(n.onClick,s.onClose)})})});P4.displayName=c1;var C4="TooltipPortal",[sW,T4]=Lw(C4,{forceMount:void 0}),np="TooltipContent",U2=O.forwardRef((n,t)=>{const e=T4(np,n.__scopeTooltip),{forceMount:i=e.forceMount,side:s="top",...r}=n,a=Mw(np,n.__scopeTooltip);return R.jsx(zA,{present:i||a.open,children:a.disableHoverableContent?R.jsx($2,{side:s,...r,ref:t}):R.jsx(k4,{side:s,...r,ref:t})})}),k4=O.forwardRef((n,t)=>{const e=Mw(np,n.__scopeTooltip),i=j2(np,n.__scopeTooltip),s=O.useRef(null),r=vr(t,s),[a,c]=O.useState(null),{trigger:u,onClose:d}=e,f=s.current,{onPointerInTransitChange:p}=i,m=O.useCallback(()=>{c(null),p(!1)},[p]),y=O.useCallback((E,w)=>{const C=E.currentTarget,b={x:E.clientX,y:E.clientY},P=I4(b,C.getBoundingClientRect()),A=D4(b,P),v=O4(w.getBoundingClientRect()),x=B4([...A,...v]);c(x),p(!0)},[p]);return O.useEffect(()=>()=>m(),[m]),O.useEffect(()=>{if(u&&f){const E=C=>y(C,f),w=C=>y(C,u);return u.addEventListener("pointerleave",E),f.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",E),f.removeEventListener("pointerleave",w)}}},[u,f,y,m]),O.useEffect(()=>{if(a){const E=w=>{const C=w.target,b={x:w.clientX,y:w.clientY},P=(u==null?void 0:u.contains(C))||(f==null?void 0:f.contains(C)),A=!F4(b,a);P?m():A&&(m(),d())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[u,f,a,d,m]),R.jsx($2,{...n,ref:r})}),[L4,M4]=Lw(H2,{isInside:!1}),R4=HB("TooltipContent"),$2=O.forwardRef((n,t)=>{const{__scopeTooltip:e,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:a,...c}=n,u=Mw(np,e),d=eE(e),{onClose:f}=u;return O.useEffect(()=>(document.addEventListener(sT,f),()=>document.removeEventListener(sT,f)),[f]),O.useEffect(()=>{if(u.trigger){const p=m=>{const y=m.target;y!=null&&y.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),R.jsx(jA,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:R.jsxs(b4,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(R4,{children:i}),R.jsx(L4,{scope:e,isInside:!0,children:R.jsx(dj,{id:u.contentId,role:"tooltip",children:s||i})})]})})});U2.displayName=np;var W2="TooltipArrow",N4=O.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=eE(e);return M4(W2,e).isInside?null:R.jsx(S4,{...s,...i,ref:t})});N4.displayName=W2;function I4(n,t){const e=Math.abs(t.top-n.y),i=Math.abs(t.bottom-n.y),s=Math.abs(t.right-n.x),r=Math.abs(t.left-n.x);switch(Math.min(e,i,s,r)){case r:return"left";case s:return"right";case e:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function D4(n,t,e=5){const i=[];switch(t){case"top":i.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":i.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":i.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":i.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return i}function O4(n){const{top:t,right:e,bottom:i,left:s}=n;return[{x:s,y:t},{x:e,y:t},{x:e,y:i},{x:s,y:i}]}function F4(n,t){const{x:e,y:i}=n;let s=!1;for(let r=0,a=t.length-1;r<t.length;a=r++){const c=t[r],u=t[a],d=c.x,f=c.y,p=u.x,m=u.y;f>i!=m>i&&e<(p-d)*(i-f)/(m-f)+d&&(s=!s)}return s}function B4(n){const t=n.slice();return t.sort((e,i)=>e.x<i.x?-1:e.x>i.x?1:e.y<i.y?-1:e.y>i.y?1:0),j4(t)}function j4(n){if(n.length<=1)return n.slice();const t=[];for(let i=0;i<n.length;i++){const s=n[i];for(;t.length>=2;){const r=t[t.length-1],a=t[t.length-2];if((r.x-a.x)*(s.y-a.y)>=(r.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const e=[];for(let i=n.length-1;i>=0;i--){const s=n[i];for(;e.length>=2;){const r=e[e.length-1],a=e[e.length-2];if((r.x-a.x)*(s.y-a.y)>=(r.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var z4=z2,V2=U2;const H4=z4,U4=O.forwardRef(({className:n,sideOffset:t=4,...e},i)=>R.jsx(V2,{ref:i,sideOffset:t,className:Zn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));U4.displayName=V2.displayName;var Rw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nw=typeof window>"u"||"Deno"in globalThis;function Xs(){}function $4(n,t){return typeof n=="function"?n(t):n}function W4(n){return typeof n=="number"&&n>=0&&n!==1/0}function V4(n,t){return Math.max(n+(t||0)-Date.now(),0)}function u1(n,t){return typeof n=="function"?n(t):n}function G4(n,t){return typeof n=="function"?n(t):n}function rT(n,t){const{type:e="all",exact:i,fetchStatus:s,predicate:r,queryKey:a,stale:c}=n;if(a){if(i){if(t.queryHash!==nE(a,t.options))return!1}else if(!Xg(t.queryKey,a))return!1}if(e!=="all"){const u=t.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||r&&!r(t))}function oT(n,t){const{exact:e,status:i,predicate:s,mutationKey:r}=n;if(r){if(!t.options.mutationKey)return!1;if(e){if(Zg(t.options.mutationKey)!==Zg(r))return!1}else if(!Xg(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function nE(n,t){return((t==null?void 0:t.queryKeyHashFn)||Zg)(n)}function Zg(n){return JSON.stringify(n,(t,e)=>h1(e)?Object.keys(e).sort().reduce((i,s)=>(i[s]=e[s],i),{}):e)}function Xg(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>Xg(n[e],t[e])):!1}function G2(n,t){if(n===t)return n;const e=aT(n)&&aT(t);if(e||h1(n)&&h1(t)){const i=e?n:Object.keys(n),s=i.length,r=e?t:Object.keys(t),a=r.length,c=e?[]:{},u=new Set(i);let d=0;for(let f=0;f<a;f++){const p=e?f:r[f];(!e&&u.has(p)||e)&&n[p]===void 0&&t[p]===void 0?(c[p]=void 0,d++):(c[p]=G2(n[p],t[p]),c[p]===n[p]&&n[p]!==void 0&&d++)}return s===a&&d===s?n:c}return t}function aT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function h1(n){if(!lT(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!lT(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function lT(n){return Object.prototype.toString.call(n)==="[object Object]"}function q4(n){return new Promise(t=>{setTimeout(t,n)})}function Z4(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?G2(n,t):t}function X4(n,t,e=0){const i=[...n,t];return e&&i.length>e?i.slice(1):i}function Y4(n,t,e=0){const i=[t,...n];return e&&i.length>e?i.slice(0,-1):i}var iE=Symbol();function q2(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===iE?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Oc,qa,fd,nk,K4=(nk=class extends Rw{constructor(){super();M(this,Oc);M(this,qa);M(this,fd);S(this,fd,t=>{if(!Nw&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){l(this,qa)||this.setEventListener(l(this,fd))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,qa))==null||t.call(this),S(this,qa,void 0))}setEventListener(t){var e;S(this,fd,t),(e=l(this,qa))==null||e.call(this),S(this,qa,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){l(this,Oc)!==t&&(S(this,Oc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof l(this,Oc)=="boolean"?l(this,Oc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Oc=new WeakMap,qa=new WeakMap,fd=new WeakMap,nk),Z2=new K4,pd,Za,gd,ik,Q4=(ik=class extends Rw{constructor(){super();M(this,pd,!0);M(this,Za);M(this,gd);S(this,gd,t=>{if(!Nw&&window.addEventListener){const e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}})}onSubscribe(){l(this,Za)||this.setEventListener(l(this,gd))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,Za))==null||t.call(this),S(this,Za,void 0))}setEventListener(t){var e;S(this,gd,t),(e=l(this,Za))==null||e.call(this),S(this,Za,t(this.setOnline.bind(this)))}setOnline(t){l(this,pd)!==t&&(S(this,pd,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return l(this,pd)}},pd=new WeakMap,Za=new WeakMap,gd=new WeakMap,ik),T_=new Q4;function J4(){let n,t;const e=new Promise((s,r)=>{n=s,t=r});e.status="pending",e.catch(()=>{});function i(s){Object.assign(e,s),delete e.resolve,delete e.reject}return e.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},e.reject=s=>{i({status:"rejected",reason:s}),t(s)},e}function t5(n){return Math.min(1e3*2**n,3e4)}function X2(n){return(n??"online")==="online"?T_.isOnline():!0}var Y2=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Qx(n){return n instanceof Y2}function K2(n){let t=!1,e=0,i=!1,s;const r=J4(),a=w=>{var C;i||(m(new Y2(w)),(C=n.abort)==null||C.call(n))},c=()=>{t=!0},u=()=>{t=!1},d=()=>Z2.isFocused()&&(n.networkMode==="always"||T_.isOnline())&&n.canRun(),f=()=>X2(n.networkMode)&&n.canRun(),p=w=>{var C;i||(i=!0,(C=n.onSuccess)==null||C.call(n,w),s==null||s(),r.resolve(w))},m=w=>{var C;i||(i=!0,(C=n.onError)==null||C.call(n,w),s==null||s(),r.reject(w))},y=()=>new Promise(w=>{var C;s=b=>{(i||d())&&w(b)},(C=n.onPause)==null||C.call(n)}).then(()=>{var w;s=void 0,i||(w=n.onContinue)==null||w.call(n)}),E=()=>{if(i)return;let w;const C=e===0?n.initialPromise:void 0;try{w=C??n.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(p).catch(b=>{var k;if(i)return;const P=n.retry??(Nw?0:3),A=n.retryDelay??t5,v=typeof A=="function"?A(e,b):A,x=P===!0||typeof P=="number"&&e<P||typeof P=="function"&&P(e,b);if(t||!x){m(b);return}e++,(k=n.onFail)==null||k.call(n,e,b),q4(v).then(()=>d()?void 0:y()).then(()=>{t?m(b):E()})})};return{promise:r,cancel:a,continue:()=>(s==null||s(),r),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?E():y().then(E),r)}}var e5=n=>setTimeout(n,0);function n5(){let n=[],t=0,e=c=>{c()},i=c=>{c()},s=e5;const r=c=>{t?n.push(c):s(()=>{e(c)})},a=()=>{const c=n;n=[],c.length&&s(()=>{i(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||a()}return u},batchCalls:c=>(...u)=>{r(()=>{c(...u)})},schedule:r,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var oi=n5(),Fc,sk,Q2=(sk=class{constructor(){M(this,Fc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W4(this.gcTime)&&S(this,Fc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Nw?1/0:5*60*1e3))}clearGcTimeout(){l(this,Fc)&&(clearTimeout(l(this,Fc)),S(this,Fc,void 0))}},Fc=new WeakMap,sk),md,Bc,ys,jc,Bn,om,zc,Ys,To,rk,i5=(rk=class extends Q2{constructor(t){super();M(this,Ys);M(this,md);M(this,Bc);M(this,ys);M(this,jc);M(this,Bn);M(this,om);M(this,zc);S(this,zc,!1),S(this,om,t.defaultOptions),this.setOptions(t.options),this.observers=[],S(this,jc,t.client),S(this,ys,l(this,jc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,S(this,md,r5(this.options)),this.state=t.state??l(this,md),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=l(this,Bn))==null?void 0:t.promise}setOptions(t){this.options={...l(this,om),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,ys).remove(this)}setData(t,e){const i=Z4(this.state.data,t,this.options);return N(this,Ys,To).call(this,{data:i,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),i}setState(t,e){N(this,Ys,To).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var i,s;const e=(i=l(this,Bn))==null?void 0:i.promise;return(s=l(this,Bn))==null||s.cancel(t),e?e.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,md))}isActive(){return this.observers.some(t=>G4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>u1(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!V4(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=l(this,Bn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=l(this,Bn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),l(this,ys).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(l(this,Bn)&&(l(this,zc)?l(this,Bn).cancel({revert:!0}):l(this,Bn).cancelRetry()),this.scheduleGc()),l(this,ys).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||N(this,Ys,To).call(this,{type:"invalidate"})}fetch(t,e){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(l(this,Bn))return l(this,Bn).continueRetry(),l(this,Bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(S(this,zc,!0),i.signal)})},r=()=>{const m=q2(this.options,e),E=(()=>{const w={client:l(this,jc),queryKey:this.queryKey,meta:this.meta};return s(w),w})();return S(this,zc,!1),this.options.persister?this.options.persister(m,E,this):m(E)},c=(()=>{const m={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:l(this,jc),state:this.state,fetchFn:r};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),S(this,Bc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&N(this,Ys,To).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=m=>{var y,E,w,C;Qx(m)&&m.silent||N(this,Ys,To).call(this,{type:"error",error:m}),Qx(m)||((E=(y=l(this,ys).config).onError)==null||E.call(y,m,this),(C=(w=l(this,ys).config).onSettled)==null||C.call(w,this.state.data,m,this)),this.scheduleGc()};return S(this,Bn,K2({initialPromise:e==null?void 0:e.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var y,E,w,C;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){u(b);return}(E=(y=l(this,ys).config).onSuccess)==null||E.call(y,m,this),(C=(w=l(this,ys).config).onSettled)==null||C.call(w,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,y)=>{N(this,Ys,To).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{N(this,Ys,To).call(this,{type:"pause"})},onContinue:()=>{N(this,Ys,To).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),l(this,Bn).start()}},md=new WeakMap,Bc=new WeakMap,ys=new WeakMap,jc=new WeakMap,Bn=new WeakMap,om=new WeakMap,zc=new WeakMap,Ys=new WeakSet,To=function(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...s5(i.data,this.options),fetchMeta:t.meta??null};case"success":return S(this,Bc,void 0),{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Qx(s)&&s.revert&&l(this,Bc)?{...l(this,Bc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),oi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),l(this,ys).notify({query:this,type:"updated",action:t})})},rk);function s5(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X2(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function r5(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,i=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Br,ok,o5=(ok=class extends Rw{constructor(t={}){super();M(this,Br);this.config=t,S(this,Br,new Map)}build(t,e,i){const s=e.queryKey,r=e.queryHash??nE(s,e);let a=this.get(r);return a||(a=new i5({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){l(this,Br).has(t.queryHash)||(l(this,Br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=l(this,Br).get(t.queryHash);e&&(t.destroy(),e===t&&l(this,Br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){oi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return l(this,Br).get(t)}getAll(){return[...l(this,Br).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(i=>rT(e,i))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(i=>rT(t,i)):e}notify(t){oi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){oi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){oi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Br=new WeakMap,ok),jr,ti,Hc,zr,Ha,ak,a5=(ak=class extends Q2{constructor(t){super();M(this,zr);M(this,jr);M(this,ti);M(this,Hc);this.mutationId=t.mutationId,S(this,ti,t.mutationCache),S(this,jr,[]),this.state=t.state||l5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){l(this,jr).includes(t)||(l(this,jr).push(t),this.clearGcTimeout(),l(this,ti).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){S(this,jr,l(this,jr).filter(e=>e!==t)),this.scheduleGc(),l(this,ti).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){l(this,jr).length||(this.state.status==="pending"?this.scheduleGc():l(this,ti).remove(this))}continue(){var t;return((t=l(this,Hc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var r,a,c,u,d,f,p,m,y,E,w,C,b,P,A,v,x,k,I,F;const e=()=>{N(this,zr,Ha).call(this,{type:"continue"})};S(this,Hc,K2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(B,z)=>{N(this,zr,Ha).call(this,{type:"failed",failureCount:B,error:z})},onPause:()=>{N(this,zr,Ha).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,ti).canRun(this)}));const i=this.state.status==="pending",s=!l(this,Hc).canStart();try{if(i)e();else{N(this,zr,Ha).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(r=l(this,ti).config).onMutate)==null?void 0:a.call(r,t,this));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));z!==this.state.context&&N(this,zr,Ha).call(this,{type:"pending",context:z,variables:t,isPaused:s})}const B=await l(this,Hc).start();return await((f=(d=l(this,ti).config).onSuccess)==null?void 0:f.call(d,B,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,B,t,this.state.context)),await((E=(y=l(this,ti).config).onSettled)==null?void 0:E.call(y,B,null,this.state.variables,this.state.context,this)),await((C=(w=this.options).onSettled)==null?void 0:C.call(w,B,null,t,this.state.context)),N(this,zr,Ha).call(this,{type:"success",data:B}),B}catch(B){try{throw await((P=(b=l(this,ti).config).onError)==null?void 0:P.call(b,B,t,this.state.context,this)),await((v=(A=this.options).onError)==null?void 0:v.call(A,B,t,this.state.context)),await((k=(x=l(this,ti).config).onSettled)==null?void 0:k.call(x,void 0,B,this.state.variables,this.state.context,this)),await((F=(I=this.options).onSettled)==null?void 0:F.call(I,void 0,B,t,this.state.context)),B}finally{N(this,zr,Ha).call(this,{type:"error",error:B})}}finally{l(this,ti).runNext(this)}}},jr=new WeakMap,ti=new WeakMap,Hc=new WeakMap,zr=new WeakSet,Ha=function(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),oi.batch(()=>{l(this,jr).forEach(i=>{i.onMutationUpdate(t)}),l(this,ti).notify({mutation:this,type:"updated",action:t})})},ak);function l5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fo,Ks,am,lk,c5=(lk=class extends Rw{constructor(t={}){super();M(this,Fo);M(this,Ks);M(this,am);this.config=t,S(this,Fo,new Set),S(this,Ks,new Map),S(this,am,0)}build(t,e,i){const s=new a5({mutationCache:this,mutationId:++Ie(this,am)._,options:t.defaultMutationOptions(e),state:i});return this.add(s),s}add(t){l(this,Fo).add(t);const e=Xy(t);if(typeof e=="string"){const i=l(this,Ks).get(e);i?i.push(t):l(this,Ks).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(l(this,Fo).delete(t)){const e=Xy(t);if(typeof e=="string"){const i=l(this,Ks).get(e);if(i)if(i.length>1){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}else i[0]===t&&l(this,Ks).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Xy(t);if(typeof e=="string"){const i=l(this,Ks).get(e),s=i==null?void 0:i.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){var i;const e=Xy(t);if(typeof e=="string"){const s=(i=l(this,Ks).get(e))==null?void 0:i.find(r=>r!==t&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){oi.batch(()=>{l(this,Fo).forEach(t=>{this.notify({type:"removed",mutation:t})}),l(this,Fo).clear(),l(this,Ks).clear()})}getAll(){return Array.from(l(this,Fo))}find(t){const e={exact:!0,...t};return this.getAll().find(i=>oT(e,i))}findAll(t={}){return this.getAll().filter(e=>oT(t,e))}notify(t){oi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return oi.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xs))))}},Fo=new WeakMap,Ks=new WeakMap,am=new WeakMap,lk);function Xy(n){var t;return(t=n.options.scope)==null?void 0:t.id}function cT(n){return{onFetch:(t,e)=>{var f,p,m,y,E;const i=t.options,s=(m=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,r=((y=t.state.data)==null?void 0:y.pages)||[],a=((E=t.state.data)==null?void 0:E.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let w=!1;const C=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},b=q2(t.options,t.fetchOptions),P=async(A,v,x)=>{if(w)return Promise.reject();if(v==null&&A.pages.length)return Promise.resolve(A);const I=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:v,direction:x?"backward":"forward",meta:t.options.meta};return C(U),U})(),F=await b(I),{maxPages:B}=t.options,z=x?Y4:X4;return{pages:z(A.pages,F,B),pageParams:z(A.pageParams,v,B)}};if(s&&r.length){const A=s==="backward",v=A?u5:uT,x={pages:r,pageParams:a},k=v(i,x);c=await P(x,k,A)}else{const A=n??r.length;do{const v=u===0?a[0]??i.initialPageParam:uT(i,c);if(u>0&&v==null)break;c=await P(c,v),u++}while(u<A)}return c};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=d}}}function uT(n,{pages:t,pageParams:e}){const i=t.length-1;return t.length>0?n.getNextPageParam(t[i],t,e[i],e):void 0}function u5(n,{pages:t,pageParams:e}){var i;return t.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,t[0],t,e[0],e):void 0}var De,Xa,Ya,vd,yd,Ka,_d,wd,ck,h5=(ck=class{constructor(n={}){M(this,De);M(this,Xa);M(this,Ya);M(this,vd);M(this,yd);M(this,Ka);M(this,_d);M(this,wd);S(this,De,n.queryCache||new o5),S(this,Xa,n.mutationCache||new c5),S(this,Ya,n.defaultOptions||{}),S(this,vd,new Map),S(this,yd,new Map),S(this,Ka,0)}mount(){Ie(this,Ka)._++,l(this,Ka)===1&&(S(this,_d,Z2.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,De).onFocus())})),S(this,wd,T_.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,De).onOnline())})))}unmount(){var n,t;Ie(this,Ka)._--,l(this,Ka)===0&&((n=l(this,_d))==null||n.call(this),S(this,_d,void 0),(t=l(this,wd))==null||t.call(this),S(this,wd,void 0))}isFetching(n){return l(this,De).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,Xa).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=l(this,De).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=l(this,De).build(this,t),i=e.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(u1(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(n){return l(this,De).findAll(n).map(({queryKey:t,state:e})=>{const i=e.data;return[t,i]})}setQueryData(n,t,e){const i=this.defaultQueryOptions({queryKey:n}),s=l(this,De).get(i.queryHash),r=s==null?void 0:s.state.data,a=$4(t,r);if(a!==void 0)return l(this,De).build(this,i).setData(a,{...e,manual:!0})}setQueriesData(n,t,e){return oi.batch(()=>l(this,De).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=l(this,De).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=l(this,De);oi.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=l(this,De);return oi.batch(()=>(e.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},i=oi.batch(()=>l(this,De).findAll(n).map(s=>s.cancel(e)));return Promise.all(i).then(Xs).catch(Xs)}invalidateQueries(n,t={}){return oi.batch(()=>(l(this,De).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},i=oi.batch(()=>l(this,De).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let r=s.fetch(void 0,e);return e.throwOnError||(r=r.catch(Xs)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(Xs)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=l(this,De).build(this,t);return e.isStaleByTime(u1(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Xs).catch(Xs)}fetchInfiniteQuery(n){return n.behavior=cT(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Xs).catch(Xs)}ensureInfiniteQueryData(n){return n.behavior=cT(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return T_.isOnline()?l(this,Xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,De)}getMutationCache(){return l(this,Xa)}getDefaultOptions(){return l(this,Ya)}setDefaultOptions(n){S(this,Ya,n)}setQueryDefaults(n,t){l(this,vd).set(Zg(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...l(this,vd).values()],e={};return t.forEach(i=>{Xg(n,i.queryKey)&&Object.assign(e,i.defaultOptions)}),e}setMutationDefaults(n,t){l(this,yd).set(Zg(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...l(this,yd).values()],e={};return t.forEach(i=>{Xg(n,i.mutationKey)&&Object.assign(e,i.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...l(this,Ya).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=nE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===iE&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,Ya).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,De).clear(),l(this,Xa).clear()}},De=new WeakMap,Xa=new WeakMap,Ya=new WeakMap,vd=new WeakMap,yd=new WeakMap,Ka=new WeakMap,_d=new WeakMap,wd=new WeakMap,ck),d5=O.createContext(void 0),f5=({client:n,children:t})=>(O.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),R.jsx(d5.Provider,{value:n,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yg(){return Yg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Yg.apply(this,arguments)}var Zl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zl||(Zl={}));const hT="popstate";function p5(n){n===void 0&&(n={});function t(s,r){let{pathname:a="/",search:c="",hash:u=""}=dh(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),d1("",{pathname:a,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(s,r){let a=s.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof r=="string"?r:k_(r))}function i(s,r){sE(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return m5(t,e,i,n)}function Je(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sE(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g5(){return Math.random().toString(36).substr(2,8)}function dT(n,t){return{usr:n.state,key:n.key,idx:t}}function d1(n,t,e,i){return e===void 0&&(e=null),Yg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?dh(t):t,{state:e,key:t&&t.key||i||g5()})}function k_(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function dh(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function m5(n,t,e,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,c=Zl.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(Yg({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){c=Zl.Pop;let C=f(),b=C==null?null:C-d;d=C,u&&u({action:c,location:w.location,delta:b})}function m(C,b){c=Zl.Push;let P=d1(w.location,C,b);e&&e(P,C),d=f()+1;let A=dT(P,d),v=w.createHref(P);try{a.pushState(A,"",v)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(v)}r&&u&&u({action:c,location:w.location,delta:1})}function y(C,b){c=Zl.Replace;let P=d1(w.location,C,b);e&&e(P,C),d=f();let A=dT(P,d),v=w.createHref(P);a.replaceState(A,"",v),r&&u&&u({action:c,location:w.location,delta:0})}function E(C){let b=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof C=="string"?C:k_(C);return P=P.replace(/ $/,"%20"),Je(b,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,b)}let w={get action(){return c},get location(){return n(s,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(hT,p),u=C,()=>{s.removeEventListener(hT,p),u=null}},createHref(C){return t(s,C)},createURL:E,encodeLocation(C){let b=E(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:y,go(C){return a.go(C)}};return w}var fT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(fT||(fT={}));function v5(n,t,e){return e===void 0&&(e="/"),y5(n,t,e,!1)}function y5(n,t,e,i){let s=typeof t=="string"?dh(t):t,r=rE(s.pathname||"/",e);if(r==null)return null;let a=J2(n);_5(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=L5(r);c=T5(a[u],d,i)}return c}function J2(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let s=(r,a,c)=>{let u={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};u.relativePath.startsWith("/")&&(Je(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let d=ic([i,u.relativePath]),f=e.concat(u);r.children&&r.children.length>0&&(Je(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),J2(r.children,t,f,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:P5(d,r.index),routesMeta:f})};return n.forEach((r,a)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,a);else for(let u of tR(r.path))s(r,a,u)}),t}function tR(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=tR(i.join("/")),c=[];return c.push(...a.map(u=>u===""?r:[r,u].join("/"))),s&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function _5(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:C5(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const w5=/^:[\w-]+$/,x5=3,b5=2,S5=1,A5=10,E5=-2,pT=n=>n==="*";function P5(n,t){let e=n.split("/"),i=e.length;return e.some(pT)&&(i+=E5),t&&(i+=b5),e.filter(s=>!pT(s)).reduce((s,r)=>s+(w5.test(r)?x5:r===""?S5:A5),i)}function C5(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function T5(n,t,e){let{routesMeta:i}=n,s={},r="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,f=r==="/"?t:t.slice(r.length)||"/",p=gT({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!p&&d&&e&&!i[i.length-1].route.index&&(p=gT({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:ic([r,p.pathname]),pathnameBase:I5(ic([r,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(r=ic([r,p.pathnameBase]))}return a}function gT(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=k5(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,f,p)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let w=c[p]||"";a=r.slice(0,r.length-w.length).replace(/(.)\/+$/,"$1")}const E=c[p];return y&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:a,pattern:n}}function k5(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),sE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function L5(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function rE(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function M5(n,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?dh(n):n;return{pathname:e?e.startsWith("/")?e:R5(e,t):t,search:D5(i),hash:O5(s)}}function R5(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Jx(n,t,e,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N5(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function eR(n,t){let e=N5(n);return t?e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function nR(n,t,e,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=dh(n):(s=Yg({},n),Je(!s.pathname||!s.pathname.includes("?"),Jx("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Jx("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Jx("#","search","hash",s)));let r=n===""||s.pathname==="",a=r?"/":s.pathname,c;if(a==null)c=e;else{let p=t.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}c=p>=0?t[p]:"/"}let u=M5(s,c),d=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const ic=n=>n.join("/").replace(/\/\/+/g,"/"),I5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),D5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function F5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const iR=["post","put","patch","delete"];new Set(iR);const B5=["get",...iR];new Set(B5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kg(){return Kg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Kg.apply(this,arguments)}const oE=O.createContext(null),j5=O.createContext(null),fh=O.createContext(null),Iw=O.createContext(null),ph=O.createContext({outlet:null,matches:[],isDataRoute:!1}),sR=O.createContext(null);function z5(n,t){let{relative:e}=t===void 0?{}:t;Xv()||Je(!1);let{basename:i,navigator:s}=O.useContext(fh),{hash:r,pathname:a,search:c}=oR(n,{relative:e}),u=a;return i!=="/"&&(u=a==="/"?i:ic([i,a])),s.createHref({pathname:u,search:c,hash:r})}function Xv(){return O.useContext(Iw)!=null}function pp(){return Xv()||Je(!1),O.useContext(Iw).location}function rR(n){O.useContext(fh).static||O.useLayoutEffect(n)}function H5(){let{isDataRoute:n}=O.useContext(ph);return n?tH():U5()}function U5(){Xv()||Je(!1);let n=O.useContext(oE),{basename:t,future:e,navigator:i}=O.useContext(fh),{matches:s}=O.useContext(ph),{pathname:r}=pp(),a=JSON.stringify(eR(s,e.v7_relativeSplatPath)),c=O.useRef(!1);return rR(()=>{c.current=!0}),O.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){i.go(d);return}let p=nR(d,JSON.parse(a),r,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ic([t,p.pathname])),(f.replace?i.replace:i.push)(p,f.state,f)},[t,i,a,r,n])}function oR(n,t){let{relative:e}=t===void 0?{}:t,{future:i}=O.useContext(fh),{matches:s}=O.useContext(ph),{pathname:r}=pp(),a=JSON.stringify(eR(s,i.v7_relativeSplatPath));return O.useMemo(()=>nR(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function $5(n,t){return W5(n,t)}function W5(n,t,e,i){Xv()||Je(!1);let{navigator:s}=O.useContext(fh),{matches:r}=O.useContext(ph),a=r[r.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=pp(),f;if(t){var p;let C=typeof t=="string"?dh(t):t;u==="/"||(p=C.pathname)!=null&&p.startsWith(u)||Je(!1),f=C}else f=d;let m=f.pathname||"/",y=m;if(u!=="/"){let C=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=v5(n,{pathname:y}),w=X5(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:ic([u,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:ic([u,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),r,e,i);return t&&w?O.createElement(Iw.Provider,{value:{location:Kg({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zl.Pop}},w):w}function V5(){let n=J5(),t=F5(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),e?O.createElement("pre",{style:s},e):null,null)}const G5=O.createElement(V5,null);class q5 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(ph.Provider,{value:this.props.routeContext},O.createElement(sR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z5(n){let{routeContext:t,match:e,children:i}=n,s=O.useContext(oE);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ph.Provider,{value:t},i)}function X5(n,t,e,i){var s;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var r;if(!e)return null;if(e.errors)n=e.matches;else if((r=i)!=null&&r.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,c=(s=e)==null?void 0:s.errors;if(c!=null){let f=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||Je(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(e&&i&&i.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:y}=e,E=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,m)=>{let y,E=!1,w=null,C=null;e&&(y=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||G5,u&&(d<0&&m===0?(E=!0,C=null):d===m&&(E=!0,C=p.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,m+1)),P=()=>{let A;return y?A=w:E?A=C:p.route.Component?A=O.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,O.createElement(Z5,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:e!=null},children:A})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?O.createElement(q5,{location:e.location,revalidation:e.revalidation,component:w,error:y,children:P(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):P()},null)}var aR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(aR||{}),L_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(L_||{});function Y5(n){let t=O.useContext(oE);return t||Je(!1),t}function K5(n){let t=O.useContext(j5);return t||Je(!1),t}function Q5(n){let t=O.useContext(ph);return t||Je(!1),t}function lR(n){let t=Q5(),e=t.matches[t.matches.length-1];return e.route.id||Je(!1),e.route.id}function J5(){var n;let t=O.useContext(sR),e=K5(L_.UseRouteError),i=lR(L_.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}function tH(){let{router:n}=Y5(aR.UseNavigateStable),t=lR(L_.UseNavigateStable),e=O.useRef(!1);return rR(()=>{e.current=!0}),O.useCallback(function(s,r){r===void 0&&(r={}),e.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Kg({fromRouteId:t},r)))},[n,t])}function eH(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Pc(n){Je(!1)}function nH(n){let{basename:t="/",children:e=null,location:i,navigationType:s=Zl.Pop,navigator:r,static:a=!1,future:c}=n;Xv()&&Je(!1);let u=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:u,navigator:r,static:a,future:Kg({v7_relativeSplatPath:!1},c)}),[u,c,r,a]);typeof i=="string"&&(i=dh(i));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:E="default"}=i,w=O.useMemo(()=>{let C=rE(f,u);return C==null?null:{location:{pathname:C,search:p,hash:m,state:y,key:E},navigationType:s}},[u,f,p,m,y,E,s]);return w==null?null:O.createElement(fh.Provider,{value:d},O.createElement(Iw.Provider,{children:e,value:w}))}function iH(n){let{children:t,location:e}=n;return $5(f1(t),e)}new Promise(()=>{});function f1(n,t){t===void 0&&(t=[]);let e=[];return O.Children.forEach(n,(i,s)=>{if(!O.isValidElement(i))return;let r=[...t,s];if(i.type===O.Fragment){e.push.apply(e,f1(i.props.children,r));return}i.type!==Pc&&Je(!1),!i.props.index||!i.props.children||Je(!1);let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=f1(i.props.children,r)),e.push(a)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p1(){return p1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},p1.apply(this,arguments)}function sH(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function rH(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oH(n,t){return n.button===0&&(!t||t==="_self")&&!rH(n)}const aH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lH="6";try{window.__reactRouterVersion=lH}catch{}const cH="startTransition",mT=Sk[cH];function uH(n){let{basename:t,children:e,future:i,window:s}=n,r=O.useRef();r.current==null&&(r.current=p5({window:s,v5Compat:!0}));let a=r.current,[c,u]=O.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},f=O.useCallback(p=>{d&&mT?mT(()=>u(p)):u(p)},[u,d]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.useEffect(()=>eH(i),[i]),O.createElement(nH,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,future:i})}const hH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dr=O.forwardRef(function(t,e){let{onClick:i,relative:s,reloadDocument:r,replace:a,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=t,m=sH(t,aH),{basename:y}=O.useContext(fh),E,w=!1;if(typeof d=="string"&&dH.test(d)&&(E=d,hH))try{let A=new URL(window.location.href),v=d.startsWith("//")?new URL(A.protocol+d):new URL(d),x=rE(v.pathname,y);v.origin===A.origin&&x!=null?d=x+v.search+v.hash:w=!0}catch{}let C=z5(d,{relative:s}),b=fH(d,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function P(A){i&&i(A),A.defaultPrevented||b(A)}return O.createElement("a",p1({},m,{href:E||C,onClick:w||r?i:P,ref:e,target:u}))});var vT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(vT||(vT={}));var yT;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(yT||(yT={}));function fH(n,t){let{target:e,replace:i,state:s,preventScrollReset:r,relative:a,viewTransition:c}=t===void 0?{}:t,u=H5(),d=pp(),f=oR(n,{relative:a});return O.useCallback(p=>{if(oH(p,e)){p.preventDefault();let m=i!==void 0?i:k_(d)===k_(f);u(n,{replace:m,state:s,preventScrollReset:r,relative:a,viewTransition:c})}},[d,u,f,i,s,e,n,r,a,c])}const pH=WA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gold:"bg-gradient-to-r from-gold-dark via-gold to-gold-dark text-primary-foreground font-semibold hover:shadow-lg hover:shadow-gold/30 hover:scale-105","gold-outline":"border-2 border-gold text-gold bg-transparent hover:bg-gold/10 hover:shadow-lg hover:shadow-gold/20",burgundy:"bg-burgundy text-foreground hover:bg-burgundy/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-md px-8 text-base",xl:"h-14 rounded-md px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Rs=O.forwardRef(({className:n,variant:t,size:e,asChild:i=!1,...s},r)=>{const a=i?jB:"button";return R.jsx(a,{className:Zn(pH({variant:t,size:e,className:n})),ref:r,...s})});Rs.displayName="Button";const _T=[{name:"Home",path:"/"},{name:"Menu",path:"/menu"},{name:"Book a Table",path:"/book"},{name:"About Us",path:"/about"},{name:"Gallery",path:"/gallery"}],gH=()=>{const[n,t]=O.useState(!1),e=pp();return R.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:R.jsxs("div",{className:"container mx-auto px-4",children:[R.jsxs("div",{className:"flex items-center justify-between h-20",children:[R.jsx(dr,{to:"/",className:"flex items-center gap-2",children:R.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold text-gradient-gold",children:R.jsx("img",{src:"src/assets/logo-navbar.png",alt:"Barkaas Logo",className:"h-24 w-24"})})}),R.jsx("div",{className:"hidden md:flex items-center gap-8",children:_T.map(i=>R.jsx(dr,{to:i.path,className:Zn("text-sm font-medium transition-colors duration-300 relative","after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-gold after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left",e.pathname===i.path?"text-gold after:scale-x-100":"text-foreground/80 hover:text-foreground"),children:i.name},i.path))}),R.jsx("div",{className:"hidden md:block",children:R.jsx(Rs,{variant:"gold",size:"sm",asChild:!0,children:R.jsx(dr,{to:"/book",children:"Reserve Now"})})}),R.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>t(!n),"aria-label":"Toggle menu",children:n?R.jsx(VA,{size:24}):R.jsx(Bj,{size:24})})]}),n&&R.jsx("div",{className:"md:hidden py-4 border-t border-border animate-fade-in",children:R.jsxs("div",{className:"flex flex-col gap-4",children:[_T.map(i=>R.jsx(dr,{to:i.path,onClick:()=>t(!1),className:Zn("text-base font-medium py-2 transition-colors duration-300",e.pathname===i.path?"text-gold":"text-foreground/80"),children:i.name},i.path)),R.jsx(Rs,{variant:"gold",size:"sm",className:"mt-2",asChild:!0,children:R.jsx(dr,{to:"/book",onClick:()=>t(!1),children:"Reserve Now"})})]})})]})})};function cR(n,t){const e=O.useRef(t);O.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const mH=1;function vH(n){return Object.freeze({__version:mH,map:n})}function yH(n,t){return Object.freeze({...n,...t})}const uR=O.createContext(null),hR=uR.Provider;function dR(){const n=O.useContext(uR);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function _H(n){function t(e,i){const{instance:s,context:r}=n(e).current;return O.useImperativeHandle(i,()=>s),e.children==null?null:nt.createElement(hR,{value:r},e.children)}return O.forwardRef(t)}function wH(n){function t(e,i){const[s,r]=O.useState(!1),{instance:a}=n(e,r).current;O.useImperativeHandle(i,()=>a),O.useEffect(function(){s&&a.update()},[a,s,e.children]);const c=a._contentNode;return c?cp.createPortal(e.children,c):null}return O.forwardRef(t)}function xH(n){function t(e,i){const{instance:s}=n(e).current;return O.useImperativeHandle(i,()=>s),null}return O.forwardRef(t)}function fR(n,t){const e=O.useRef();O.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function aE(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function bH(n,t){return function(i,s){const r=dR(),a=n(aE(i,r),r);return cR(r.map,i.attribution),fR(a.current,i.eventHandlers),t(a.current,r,i,s),a}}var g1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,t){(function(e,i){i(t)})(dk,function(e){var i="1.9.4";function s(o){var h,g,_,T;for(g=1,_=arguments.length;g<_;g++){T=arguments[g];for(h in T)o[h]=T[h]}return o}var r=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function a(o,h){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var _=g.call(arguments,2);return function(){return o.apply(h,_.length?_.concat(g.call(arguments)):arguments)}}var c=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function d(o,h,g){var _,T,D,j;return j=function(){_=!1,T&&(D.apply(g,T),T=!1)},D=function(){_?T=arguments:(o.apply(g,arguments),setTimeout(j,h),_=!0)},D}function f(o,h,g){var _=h[1],T=h[0],D=_-T;return o===_&&g?o:((o-T)%D+D)%D+T}function p(){return!1}function m(o,h){if(h===!1)return o;var g=Math.pow(10,h===void 0?6:h);return Math.round(o*g)/g}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function E(o){return y(o).split(/\s+/)}function w(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?r(o.options):{});for(var g in h)o.options[g]=h[g];return o.options}function C(o,h,g){var _=[];for(var T in o)_.push(encodeURIComponent(g?T.toUpperCase():T)+"="+encodeURIComponent(o[T]));return(!h||h.indexOf("?")===-1?"?":"&")+_.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function P(o,h){return o.replace(b,function(g,_){var T=h[_];if(T===void 0)throw new Error("No value provided for variable "+g);return typeof T=="function"&&(T=T(h)),T})}var A=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function v(o,h){for(var g=0;g<o.length;g++)if(o[g]===h)return g;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var I=0;function F(o){var h=+new Date,g=Math.max(0,16-(h-I));return I=h+g,window.setTimeout(o,g)}var B=window.requestAnimationFrame||k("RequestAnimationFrame")||F,z=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function U(o,h,g){if(g&&B===F)o.call(h);else return B.call(window,a(o,h))}function $(o){o&&z.call(window,o)}var K={__proto__:null,extend:s,create:r,bind:a,get lastId(){return c},stamp:u,throttle:d,wrapNum:f,falseFn:p,formatNum:m,trim:y,splitWords:E,setOptions:w,getParamString:C,template:P,isArray:A,indexOf:v,emptyImageUrl:x,requestFn:B,cancelFn:z,requestAnimFrame:U,cancelAnimFrame:$};function W(){}W.extend=function(o){var h=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=h.__super__=this.prototype,_=r(g);_.constructor=h,h.prototype=_;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(h[T]=this[T]);return o.statics&&s(h,o.statics),o.includes&&(it(o.includes),s.apply(null,[_].concat(o.includes))),s(_,o),delete _.statics,delete _.includes,_.options&&(_.options=g.options?r(g.options):{},s(_.options,o.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,j=_._initHooks.length;D<j;D++)_._initHooks[D].call(this)}},h},W.include=function(o){var h=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},W.mergeOptions=function(o){return s(this.prototype.options,o),this},W.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function it(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=A(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(o,h,g){if(typeof o=="object")for(var _ in o)this._on(_,o[_],h);else{o=E(o);for(var T=0,D=o.length;T<D;T++)this._on(o[T],h,g)}return this},off:function(o,h,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var _ in o)this._off(_,o[_],h);else{o=E(o);for(var T=arguments.length===1,D=0,j=o.length;D<j;D++)T?this._off(o[D]):this._off(o[D],h,g)}return this},_on:function(o,h,g,_){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,g)===!1){g===this&&(g=void 0);var T={fn:h,ctx:g};_&&(T.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(T)}},_off:function(o,h,g){var _,T,D;if(this._events&&(_=this._events[o],!!_)){if(arguments.length===1){if(this._firingCount)for(T=0,D=_.length;T<D;T++)_[T].fn=p;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var j=this._listens(o,h,g);if(j!==!1){var V=_[j];this._firingCount&&(V.fn=p,this._events[o]=_=_.slice()),_.splice(j,1)}}},fire:function(o,h,g){if(!this.listens(o,g))return this;var _=s({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var T=this._events[o];if(T){this._firingCount=this._firingCount+1||1;for(var D=0,j=T.length;D<j;D++){var V=T[D],G=V.fn;V.once&&this.off(o,G,V.ctx),G.call(V.ctx||this,_)}this._firingCount--}}return g&&this._propagateEvent(_),this},listens:function(o,h,g,_){typeof o!="string"&&console.warn('"string" type argument expected');var T=h;typeof h!="function"&&(_=!!h,T=void 0,g=void 0);var D=this._events&&this._events[o];if(D&&D.length&&this._listens(o,T,g)!==!1)return!0;if(_){for(var j in this._eventParents)if(this._eventParents[j].listens(o,h,g,_))return!0}return!1},_listens:function(o,h,g){if(!this._events)return!1;var _=this._events[o]||[];if(!h)return!!_.length;g===this&&(g=void 0);for(var T=0,D=_.length;T<D;T++)if(_[T].fn===h&&_[T].ctx===g)return T;return!1},once:function(o,h,g){if(typeof o=="object")for(var _ in o)this._on(_,o[_],h,!0);else{o=E(o);for(var T=0,D=o.length;T<D;T++)this._on(o[T],h,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var Y=W.extend(Z);function H(o,h,g){this.x=g?Math.round(o):o,this.y=g?Math.round(h):h}var q=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(o){return this.clone()._add(X(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(X(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new H(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new H(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(o){o=X(o);var h=o.x-this.x,g=o.y-this.y;return Math.sqrt(h*h+g*g)},equals:function(o){return o=X(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=X(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function X(o,h,g){return o instanceof H?o:A(o)?new H(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new H(o.x,o.y):new H(o,h,g)}function rt(o,h){if(o)for(var g=h?[o,h]:o,_=0,T=g.length;_<T;_++)this.extend(g[_])}rt.prototype={extend:function(o){var h,g;if(!o)return this;if(o instanceof H||typeof o[0]=="number"||"x"in o)h=g=X(o);else if(o=J(o),h=o.min,g=o.max,!h||!g)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=g.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,g;return typeof o[0]=="number"||o instanceof H?o=X(o):o=J(o),o instanceof rt?(h=o.min,g=o.max):h=g=o,h.x>=this.min.x&&g.x<=this.max.x&&h.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=J(o);var h=this.min,g=this.max,_=o.min,T=o.max,D=T.x>=h.x&&_.x<=g.x,j=T.y>=h.y&&_.y<=g.y;return D&&j},overlaps:function(o){o=J(o);var h=this.min,g=this.max,_=o.min,T=o.max,D=T.x>h.x&&_.x<g.x,j=T.y>h.y&&_.y<g.y;return D&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,g=this.max,_=Math.abs(h.x-g.x)*o,T=Math.abs(h.y-g.y)*o;return J(X(h.x-_,h.y-T),X(g.x+_,g.y+T))},equals:function(o){return o?(o=J(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function J(o,h){return!o||o instanceof rt?o:new rt(o,h)}function st(o,h){if(o)for(var g=h?[o,h]:o,_=0,T=g.length;_<T;_++)this.extend(g[_])}st.prototype={extend:function(o){var h=this._southWest,g=this._northEast,_,T;if(o instanceof ut)_=o,T=o;else if(o instanceof st){if(_=o._southWest,T=o._northEast,!_||!T)return this}else return o?this.extend(dt(o)||at(o)):this;return!h&&!g?(this._southWest=new ut(_.lat,_.lng),this._northEast=new ut(T.lat,T.lng)):(h.lat=Math.min(_.lat,h.lat),h.lng=Math.min(_.lng,h.lng),g.lat=Math.max(T.lat,g.lat),g.lng=Math.max(T.lng,g.lng)),this},pad:function(o){var h=this._southWest,g=this._northEast,_=Math.abs(h.lat-g.lat)*o,T=Math.abs(h.lng-g.lng)*o;return new st(new ut(h.lat-_,h.lng-T),new ut(g.lat+_,g.lng+T))},getCenter:function(){return new ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ut||"lat"in o?o=dt(o):o=at(o);var h=this._southWest,g=this._northEast,_,T;return o instanceof st?(_=o.getSouthWest(),T=o.getNorthEast()):_=T=o,_.lat>=h.lat&&T.lat<=g.lat&&_.lng>=h.lng&&T.lng<=g.lng},intersects:function(o){o=at(o);var h=this._southWest,g=this._northEast,_=o.getSouthWest(),T=o.getNorthEast(),D=T.lat>=h.lat&&_.lat<=g.lat,j=T.lng>=h.lng&&_.lng<=g.lng;return D&&j},overlaps:function(o){o=at(o);var h=this._southWest,g=this._northEast,_=o.getSouthWest(),T=o.getNorthEast(),D=T.lat>h.lat&&_.lat<g.lat,j=T.lng>h.lng&&_.lng<g.lng;return D&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=at(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function at(o,h){return o instanceof st?o:new st(o,h)}function ut(o,h,g){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,g!==void 0&&(this.alt=+g)}ut.prototype={equals:function(o,h){if(!o)return!1;o=dt(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+m(this.lat,o)+", "+m(this.lng,o)+")"},distanceTo:function(o){return pe.distance(this,dt(o))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,g=h/Math.cos(Math.PI/180*this.lat);return at([this.lat-h,this.lng-g],[this.lat+h,this.lng+g])},clone:function(){return new ut(this.lat,this.lng,this.alt)}};function dt(o,h,g){return o instanceof ut?o:A(o)&&typeof o[0]!="object"?o.length===3?new ut(o[0],o[1],o[2]):o.length===2?new ut(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ut(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new ut(o,h,g)}var ct={latLngToPoint:function(o,h){var g=this.projection.project(o),_=this.scale(h);return this.transformation._transform(g,_)},pointToLatLng:function(o,h){var g=this.scale(h),_=this.transformation.untransform(o,g);return this.projection.unproject(_)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,g=this.scale(o),_=this.transformation.transform(h.min,g),T=this.transformation.transform(h.max,g);return new rt(_,T)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?f(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?f(o.lat,this.wrapLat,!0):o.lat,_=o.alt;return new ut(g,h,_)},wrapLatLngBounds:function(o){var h=o.getCenter(),g=this.wrapLatLng(h),_=h.lat-g.lat,T=h.lng-g.lng;if(_===0&&T===0)return o;var D=o.getSouthWest(),j=o.getNorthEast(),V=new ut(D.lat-_,D.lng-T),G=new ut(j.lat-_,j.lng-T);return new st(V,G)}},pe=s({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var g=Math.PI/180,_=o.lat*g,T=h.lat*g,D=Math.sin((h.lat-o.lat)*g/2),j=Math.sin((h.lng-o.lng)*g/2),V=D*D+Math.cos(_)*Math.cos(T)*j*j,G=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*G}}),Ue=6378137,ge={R:Ue,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,g=this.MAX_LATITUDE,_=Math.max(Math.min(g,o.lat),-g),T=Math.sin(_*h);return new H(this.R*o.lng*h,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(o){var h=180/Math.PI;return new ut((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=Ue*Math.PI;return new rt([-o,-o],[o,o])}()};function Et(o,h,g,_){if(A(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=g,this._d=_}Et.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new H((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Re(o,h,g,_){return new Et(o,h,g,_)}var Dt=s({},pe,{code:"EPSG:3857",projection:ge,transformation:function(){var o=.5/(Math.PI*ge.R);return Re(o,.5,-o,.5)}()}),zt=s({},Dt,{code:"EPSG:900913"});function Kt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ne(o,h){var g="",_,T,D,j,V,G;for(_=0,D=o.length;_<D;_++){for(V=o[_],T=0,j=V.length;T<j;T++)G=V[T],g+=(T?"L":"M")+G.x+" "+G.y;g+=h?yt.svg?"z":"x":""}return g||"M0 0"}var le=document.documentElement.style,hs="ActiveXObject"in window,br=hs&&!document.addEventListener,xo="msLaunchUri"in navigator&&!("documentMode"in document),zs=kr("webkit"),Sr=kr("android"),ds=kr("android 2")||kr("android 3"),vp=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),yp=Sr&&kr("Google")&&vp<537&&!("AudioNode"in window),cn=!!window.opera,Hs=!xo&&kr("chrome"),Mi=kr("gecko")&&!zs&&!cn&&!hs,Ar=!Hs&&kr("safari"),In=kr("phantom"),Ia="OTransition"in le,oy=navigator.platform.indexOf("Win")===0,vh=hs&&"transition"in le,Er="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ds,_p="MozPerspective"in le,Da=!window.L_DISABLE_3D&&(vh||Er||_p)&&!Ia&&!In,vc=typeof orientation<"u"||kr("mobile"),Ww=vc&&zs,ay=vc&&Er,wp=!window.PointerEvent&&window.MSPointerEvent,ly=!!(window.PointerEvent||wp),yh="ontouchstart"in window||!!window.TouchEvent,Pr=!window.L_NO_TOUCH&&(yh||ly),Vw=vc&&cn,xt=vc&&Mi,Gt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ce=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",p,h),window.removeEventListener("testPassiveEventSupport",p,h)}catch{}return o}(),Ri=function(){return!!document.createElement("canvas").getContext}(),Yn=!!(document.createElementNS&&Kt("svg").createSVGRect),Cr=!!Yn&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bo=!Yn&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Ni=navigator.platform.indexOf("Mac")===0,Tr=navigator.platform.indexOf("Linux")===0;function kr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var yt={ie:hs,ielt9:br,edge:xo,webkit:zs,android:Sr,android23:ds,androidStock:yp,opera:cn,chrome:Hs,gecko:Mi,safari:Ar,phantom:In,opera12:Ia,win:oy,ie3d:vh,webkit3d:Er,gecko3d:_p,any3d:Da,mobile:vc,mobileWebkit:Ww,mobileWebkit3d:ay,msPointer:wp,pointer:ly,touch:Pr,touchNative:yh,mobileOpera:Vw,mobileGecko:xt,retina:Gt,passiveEvents:ce,canvas:Ri,svg:Yn,vml:bo,inlineSvg:Cr,mac:Ni,linux:Tr},ME=yt.msPointer?"MSPointerDown":"pointerdown",RE=yt.msPointer?"MSPointerMove":"pointermove",NE=yt.msPointer?"MSPointerUp":"pointerup",IE=yt.msPointer?"MSPointerCancel":"pointercancel",Gw={touchstart:ME,touchmove:RE,touchend:NE,touchcancel:IE},DE={touchstart:sD,touchmove:cy,touchend:cy,touchcancel:cy},_h={},OE=!1;function JI(o,h,g){return h==="touchstart"&&iD(),DE[h]?(g=DE[h].bind(this,g),o.addEventListener(Gw[h],g,!1),g):(console.warn("wrong event specified:",h),p)}function tD(o,h,g){if(!Gw[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(Gw[h],g,!1)}function eD(o){_h[o.pointerId]=o}function nD(o){_h[o.pointerId]&&(_h[o.pointerId]=o)}function FE(o){delete _h[o.pointerId]}function iD(){OE||(document.addEventListener(ME,eD,!0),document.addEventListener(RE,nD,!0),document.addEventListener(NE,FE,!0),document.addEventListener(IE,FE,!0),OE=!0)}function cy(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var g in _h)h.touches.push(_h[g]);h.changedTouches=[h],o(h)}}function sD(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&xn(h),cy(o,h)}function rD(o){var h={},g,_;for(_ in o)g=o[_],h[_]=g&&g.bind?g.bind(o):g;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var oD=200;function aD(o,h){o.addEventListener("dblclick",h);var g=0,_;function T(D){if(D.detail!==1){_=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var j=UE(D);if(!(j.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!j.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var V=Date.now();V-g<=oD?(_++,_===2&&h(rD(D))):_=1,g=V}}}return o.addEventListener("click",T),{dblclick:h,simDblclick:T}}function lD(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var qw=dy(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xp=dy(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),BE=xp==="webkitTransition"||xp==="OTransition"?xp+"End":"transitionend";function jE(o){return typeof o=="string"?document.getElementById(o):o}function bp(o,h){var g=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!g||g==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(o,null);g=_?_[h]:null}return g==="auto"?null:g}function Wt(o,h,g){var _=document.createElement(o);return _.className=h||"",g&&g.appendChild(_),_}function Ae(o){var h=o.parentNode;h&&h.removeChild(o)}function uy(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function wh(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function xh(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Zw(o,h){if(o.classList!==void 0)return o.classList.contains(h);var g=hy(o);return g.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(g)}function Rt(o,h){if(o.classList!==void 0)for(var g=E(h),_=0,T=g.length;_<T;_++)o.classList.add(g[_]);else if(!Zw(o,h)){var D=hy(o);Xw(o,(D?D+" ":"")+h)}}function $e(o,h){o.classList!==void 0?o.classList.remove(h):Xw(o,y((" "+hy(o)+" ").replace(" "+h+" "," ")))}function Xw(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function hy(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function fs(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&cD(o,h)}function cD(o,h){var g=!1,_="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(_)}catch{if(h===1)return}h=Math.round(h*100),g?(g.Enabled=h!==100,g.Opacity=h):o.style.filter+=" progid:"+_+"(opacity="+h+")"}function dy(o){for(var h=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in h)return o[g];return!1}function yc(o,h,g){var _=h||new H(0,0);o.style[qw]=(yt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(g?" scale("+g+")":"")}function Ze(o,h){o._leaflet_pos=h,yt.any3d?yc(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function _c(o){return o._leaflet_pos||new H(0,0)}var Sp,Ap,Yw;if("onselectstart"in document)Sp=function(){Pt(window,"selectstart",xn)},Ap=function(){ue(window,"selectstart",xn)};else{var Ep=dy(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sp=function(){if(Ep){var o=document.documentElement.style;Yw=o[Ep],o[Ep]="none"}},Ap=function(){Ep&&(document.documentElement.style[Ep]=Yw,Yw=void 0)}}function Kw(){Pt(window,"dragstart",xn)}function Qw(){ue(window,"dragstart",xn)}var fy,Jw;function tx(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(py(),fy=o,Jw=o.style.outlineStyle,o.style.outlineStyle="none",Pt(window,"keydown",py))}function py(){fy&&(fy.style.outlineStyle=Jw,fy=void 0,Jw=void 0,ue(window,"keydown",py))}function zE(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ex(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var uD={__proto__:null,TRANSFORM:qw,TRANSITION:xp,TRANSITION_END:BE,get:jE,getStyle:bp,create:Wt,remove:Ae,empty:uy,toFront:wh,toBack:xh,hasClass:Zw,addClass:Rt,removeClass:$e,setClass:Xw,getClass:hy,setOpacity:fs,testProp:dy,setTransform:yc,setPosition:Ze,getPosition:_c,get disableTextSelection(){return Sp},get enableTextSelection(){return Ap},disableImageDrag:Kw,enableImageDrag:Qw,preventOutline:tx,restoreOutline:py,getSizedParentNode:zE,getScale:ex};function Pt(o,h,g,_){if(h&&typeof h=="object")for(var T in h)ix(o,T,h[T],g);else{h=E(h);for(var D=0,j=h.length;D<j;D++)ix(o,h[D],g,_)}return this}var Lr="_leaflet_events";function ue(o,h,g,_){if(arguments.length===1)HE(o),delete o[Lr];else if(h&&typeof h=="object")for(var T in h)sx(o,T,h[T],g);else if(h=E(h),arguments.length===2)HE(o,function(V){return v(h,V)!==-1});else for(var D=0,j=h.length;D<j;D++)sx(o,h[D],g,_);return this}function HE(o,h){for(var g in o[Lr]){var _=g.split(/\d/)[0];(!h||h(_))&&sx(o,_,null,null,g)}}var nx={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ix(o,h,g,_){var T=h+u(g)+(_?"_"+u(_):"");if(o[Lr]&&o[Lr][T])return this;var D=function(V){return g.call(_||o,V||window.event)},j=D;!yt.touchNative&&yt.pointer&&h.indexOf("touch")===0?D=JI(o,h,D):yt.touch&&h==="dblclick"?D=aD(o,D):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(nx[h]||h,D,yt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(D=function(V){V=V||window.event,ox(o,V)&&j(V)},o.addEventListener(nx[h],D,!1)):o.addEventListener(h,j,!1):o.attachEvent("on"+h,D),o[Lr]=o[Lr]||{},o[Lr][T]=D}function sx(o,h,g,_,T){T=T||h+u(g)+(_?"_"+u(_):"");var D=o[Lr]&&o[Lr][T];if(!D)return this;!yt.touchNative&&yt.pointer&&h.indexOf("touch")===0?tD(o,h,D):yt.touch&&h==="dblclick"?lD(o,D):"removeEventListener"in o?o.removeEventListener(nx[h]||h,D,!1):o.detachEvent("on"+h,D),o[Lr][T]=null}function wc(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function rx(o){return ix(o,"wheel",wc),this}function Pp(o){return Pt(o,"mousedown touchstart dblclick contextmenu",wc),o._leaflet_disable_click=!0,this}function xn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function xc(o){return xn(o),wc(o),this}function UE(o){if(o.composedPath)return o.composedPath();for(var h=[],g=o.target;g;)h.push(g),g=g.parentNode;return h}function $E(o,h){if(!h)return new H(o.clientX,o.clientY);var g=ex(h),_=g.boundingClientRect;return new H((o.clientX-_.left)/g.x-h.clientLeft,(o.clientY-_.top)/g.y-h.clientTop)}var hD=yt.linux&&yt.chrome?window.devicePixelRatio:yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function WE(o){return yt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/hD:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ox(o,h){var g=h.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var dD={__proto__:null,on:Pt,off:ue,stopPropagation:wc,disableScrollPropagation:rx,disableClickPropagation:Pp,preventDefault:xn,stop:xc,getPropagationPath:UE,getMousePosition:$E,getWheelDelta:WE,isExternalTarget:ox,addListener:Pt,removeListener:ue},VE=Y.extend({run:function(o,h,g,_){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=_c(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,g=this._duration*1e3;h<g?this._runFrame(this._easeOut(h/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var g=this._startPos.add(this._offset.multiplyBy(o));h&&g._round(),Ze(this._el,g),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),jt=Y.extend({options:{crs:Dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=w(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(dt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xp&&yt.any3d&&!yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,BE,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,g){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(dt(o),h,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=s({animate:g.animate},g.zoom),g.pan=s({animate:g.animate,duration:g.duration},g.pan));var _=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,g.zoom):this._tryAnimatedPan(o,g.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,g){var _=this.getZoomScale(h),T=this.getSize().divideBy(2),D=o instanceof H?o:this.latLngToContainerPoint(o),j=D.subtract(T).multiplyBy(1-1/_),V=this.containerPointToLatLng(T.add(j));return this.setView(V,h,{zoom:g})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():at(o);var g=X(h.paddingTopLeft||h.padding||[0,0]),_=X(h.paddingBottomRight||h.padding||[0,0]),T=this.getBoundsZoom(o,!1,g.add(_));if(T=typeof h.maxZoom=="number"?Math.min(h.maxZoom,T):T,T===1/0)return{center:o.getCenter(),zoom:T};var D=_.subtract(g).divideBy(2),j=this.project(o.getSouthWest(),T),V=this.project(o.getNorthEast(),T),G=this.unproject(j.add(V).divideBy(2).add(D),T);return{center:G,zoom:T}},fitBounds:function(o,h){if(o=at(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,h);return this.setView(g.center,g.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=X(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new VE,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,g){if(g=g||{},g.animate===!1||!yt.any3d)return this.setView(o,h,g);this._stop();var _=this.project(this.getCenter()),T=this.project(o),D=this.getSize(),j=this._zoom;o=dt(o),h=h===void 0?j:h;var V=Math.max(D.x,D.y),G=V*this.getZoomScale(j,h),Q=T.distanceTo(_)||1,lt=1.42,wt=lt*lt;function Nt(Xe){var Py=Xe?-1:1,tO=Xe?G:V,eO=G*G-V*V+Py*wt*wt*Q*Q,nO=2*tO*wt*Q,vx=eO/nO,EP=Math.sqrt(vx*vx+1)-vx,iO=EP<1e-9?-18:Math.log(EP);return iO}function Kn(Xe){return(Math.exp(Xe)-Math.exp(-Xe))/2}function un(Xe){return(Math.exp(Xe)+Math.exp(-Xe))/2}function gs(Xe){return Kn(Xe)/un(Xe)}var pi=Nt(0);function Ch(Xe){return V*(un(pi)/un(pi+lt*Xe))}function YD(Xe){return V*(un(pi)*gs(pi+lt*Xe)-Kn(pi))/wt}function KD(Xe){return 1-Math.pow(1-Xe,1.5)}var QD=Date.now(),SP=(Nt(1)-pi)/lt,JD=g.duration?1e3*g.duration:1e3*SP*.8;function AP(){var Xe=(Date.now()-QD)/JD,Py=KD(Xe)*SP;Xe<=1?(this._flyToFrame=U(AP,this),this._move(this.unproject(_.add(T.subtract(_).multiplyBy(YD(Py)/Q)),j),this.getScaleZoom(V/Ch(Py),j),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),AP.call(this),this},flyToBounds:function(o,h){var g=this._getBoundsCenterZoom(o,h);return this.flyTo(g.center,g.zoom,h)},setMaxBounds:function(o){return o=at(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var g=this.getCenter(),_=this._limitCenter(g,this._zoom,at(o));return g.equals(_)||this.panTo(_,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var g=X(h.paddingTopLeft||h.padding||[0,0]),_=X(h.paddingBottomRight||h.padding||[0,0]),T=this.project(this.getCenter()),D=this.project(o),j=this.getPixelBounds(),V=J([j.min.add(g),j.max.subtract(_)]),G=V.getSize();if(!V.contains(D)){this._enforcingBounds=!0;var Q=D.subtract(V.getCenter()),lt=V.extend(D).getSize().subtract(G);T.x+=Q.x<0?-lt.x:lt.x,T.y+=Q.y<0?-lt.y:lt.y,this.panTo(this.unproject(T),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),_=h.divideBy(2).round(),T=g.divideBy(2).round(),D=_.subtract(T);return!D.x&&!D.y?this:(o.animate&&o.pan?this.panBy(D):(o.pan&&this._rawPanBy(D),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=a(this._handleGeolocationResponse,this),g=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,g,o):navigator.geolocation.getCurrentPosition(h,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,g=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,g=o.coords.longitude,_=new ut(h,g),T=_.toBounds(o.coords.accuracy*2),D=this._locateOptions;if(D.setView){var j=this.getBoundsZoom(T);this.setView(_,D.maxZoom?Math.min(j,D.maxZoom):j)}var V={latlng:_,bounds:T,timestamp:o.timestamp};for(var G in o.coords)typeof o.coords[G]=="number"&&(V[G]=o.coords[G]);this.fire("locationfound",V)}},addHandler:function(o,h){if(!h)return this;var g=this[o]=new h(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ae(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),_=Wt("div",g,h||this._mapPane);return o&&(this._panes[o]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new st(h,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,g){o=at(o),g=X(g||[0,0]);var _=this.getZoom()||0,T=this.getMinZoom(),D=this.getMaxZoom(),j=o.getNorthWest(),V=o.getSouthEast(),G=this.getSize().subtract(g),Q=J(this.project(V,_),this.project(j,_)).getSize(),lt=yt.any3d?this.options.zoomSnap:1,wt=G.x/Q.x,Nt=G.y/Q.y,Kn=h?Math.max(wt,Nt):Math.min(wt,Nt);return _=this.getScaleZoom(Kn,_),lt&&(_=Math.round(_/(lt/100))*(lt/100),_=h?Math.ceil(_/lt)*lt:Math.floor(_/lt)*lt),Math.max(T,Math.min(D,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var g=this._getTopLeftPoint(o,h);return new rt(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var g=this.options.crs;return h=h===void 0?this._zoom:h,g.scale(o)/g.scale(h)},getScaleZoom:function(o,h){var g=this.options.crs;h=h===void 0?this._zoom:h;var _=g.zoom(o*g.scale(h));return isNaN(_)?1/0:_},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(dt(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(X(o),h)},layerPointToLatLng:function(o){var h=X(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(dt(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(dt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(at(o))},distance:function(o,h){return this.options.crs.distance(dt(o),dt(h))},containerPointToLayerPoint:function(o){return X(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return X(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(X(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dt(o)))},mouseEventToContainerPoint:function(o){return $E(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=jE(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(h,"scroll",this._onScroll,this),this._containerId=u(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt.any3d,Rt(o,"leaflet-container"+(yt.touch?" leaflet-touch":"")+(yt.retina?" leaflet-retina":"")+(yt.ielt9?" leaflet-oldie":"")+(yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=bp(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ze(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(o.markerPane,"leaflet-zoom-hide"),Rt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,g){Ze(this._mapPane,new H(0,0));var _=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var T=this._zoom!==h;this._moveStart(T,g)._move(o,h)._moveEnd(T),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,g,_){h===void 0&&(h=this._zoom);var T=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),_?g&&g.pinch&&this.fire("zoom",g):((T||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ze(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var h=o?ue:Pt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),yt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var g=[],_,T=h==="mouseout"||h==="mouseover",D=o.target||o.srcElement,j=!1;D;){if(_=this._targets[u(D)],_&&(h==="click"||h==="preclick")&&this._draggableMoved(_)){j=!0;break}if(_&&_.listens(h,!0)&&(T&&!ox(D,o)||(g.push(_),T))||D===this._container)break;D=D.parentNode}return!g.length&&!j&&!T&&this.listens(h,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var g=o.type;g==="mousedown"&&tx(h),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,g){if(o.type==="click"){var _=s({},o);_.type="preclick",this._fireDOMEvent(_,_.type,g)}var T=this._findEventTargets(o,h);if(g){for(var D=[],j=0;j<g.length;j++)g[j].listens(h,!0)&&D.push(g[j]);T=D.concat(T)}if(T.length){h==="contextmenu"&&xn(o);var V=T[0],G={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Q=V.getLatLng&&(!V._radius||V._radius<=10);G.containerPoint=Q?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(o),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=Q?V.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(j=0;j<T.length;j++)if(T[j].fire(h,G,!0),G.originalEvent._stopped||T[j].options.bubblingMouseEvents===!1&&v(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return _c(this._mapPane)||new H(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var g=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var g=this.getSize()._divideBy(2);return this.project(o,h)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,g){var _=this._getNewPixelOrigin(g,h);return this.project(o,h)._subtract(_)},_latLngBoundsToNewLayerBounds:function(o,h,g){var _=this._getNewPixelOrigin(g,h);return J([this.project(o.getSouthWest(),h)._subtract(_),this.project(o.getNorthWest(),h)._subtract(_),this.project(o.getSouthEast(),h)._subtract(_),this.project(o.getNorthEast(),h)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,g){if(!g)return o;var _=this.project(o,h),T=this.getSize().divideBy(2),D=new rt(_.subtract(T),_.add(T)),j=this._getBoundsOffset(D,g,h);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?o:this.unproject(_.add(j),h)},_limitOffset:function(o,h){if(!h)return o;var g=this.getPixelBounds(),_=new rt(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(_,h))},_getBoundsOffset:function(o,h,g){var _=J(this.project(h.getNorthEast(),g),this.project(h.getSouthWest(),g)),T=_.min.subtract(o.min),D=_.max.subtract(o.max),j=this._rebound(T.x,-D.x),V=this._rebound(T.y,-D.y);return new H(j,V)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),g=this.getMaxZoom(),_=yt.any3d?this.options.zoomSnap:1;return _&&(o=Math.round(o/_)*_),Math.max(h,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var g=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,h),!0)},_createAnimProxy:function(){var o=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var g=qw,_=this._proxy.style[g];yc(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),_===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();yc(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(h),T=this._getCenterOffset(o)._divideBy(1-1/_);return g.animate!==!0&&!this.getSize().contains(T)?!1:(U(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,g,_){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fD(o,h){return new jt(o,h)}var Us=W.extend({options:{position:"topright"},initialize:function(o){w(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),g=this.getPosition(),_=o._controlCorners[g];return Rt(h,"leaflet-control"),g.indexOf("bottom")!==-1?_.insertBefore(h,_.firstChild):_.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Cp=function(o){return new Us(o)};jt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",g=this._controlContainer=Wt("div",h+"control-container",this._container);function _(T,D){var j=h+T+" "+h+D;o[T+D]=Wt("div",j,g)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ae(this._controlCorners[o]);Ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var GE=Us.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,g,_){return g<_?-1:_<g?1:0}},initialize:function(o,h,g){w(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in o)this._addLayer(o[_],_);for(_ in h)this._addLayer(h[_],_,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Us.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(u(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=Wt("div",o),g=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Pp(h),rx(h);var _=this._section=Wt("section",o+"-list");g&&(this._map.on("click",this.collapse,this),Pt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Wt("a",o+"-toggle",h);T.href="#",T.title="Layers",T.setAttribute("role","button"),Pt(T,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){xn(D),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Wt("div",o+"-base",_),this._separator=Wt("div",o+"-separator",_),this._overlaysList=Wt("div",o+"-overlays",_),h.appendChild(_)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&u(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:g}),this.options.sortLayers&&this._layers.sort(a(function(_,T){return this.options.sortFunction(_.layer,T.layer,_.name,T.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;uy(this._baseLayersList),uy(this._overlaysList),this._layerControlInputs=[];var o,h,g,_,T=0;for(g=0;g<this._layers.length;g++)_=this._layers[g],this._addItem(_),h=h||_.overlay,o=o||!_.overlay,T+=_.overlay?0:1;return this.options.hideSingleBase&&(o=o&&T>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(u(o.target)),g=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,h)},_createRadioElement:function(o,h){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=g,_.firstChild},_addItem:function(o){var h=document.createElement("label"),g=this._map.hasLayer(o.layer),_;o.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=g):_=this._createRadioElement("leaflet-base-layers_"+u(this),g),this._layerControlInputs.push(_),_.layerId=u(o.layer),Pt(_,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+o.name;var D=document.createElement("span");h.appendChild(D),D.appendChild(_),D.appendChild(T);var j=o.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,g,_=[],T=[];this._handlingClick=!0;for(var D=o.length-1;D>=0;D--)h=o[D],g=this._getLayer(h.layerId).layer,h.checked?_.push(g):h.checked||T.push(g);for(D=0;D<T.length;D++)this._map.hasLayer(T[D])&&this._map.removeLayer(T[D]);for(D=0;D<_.length;D++)this._map.hasLayer(_[D])||this._map.addLayer(_[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,g,_=this._map.getZoom(),T=o.length-1;T>=0;T--)h=o[T],g=this._getLayer(h.layerId).layer,h.disabled=g.options.minZoom!==void 0&&_<g.options.minZoom||g.options.maxZoom!==void 0&&_>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Pt(o,"click",xn),this.expand();var h=this;setTimeout(function(){ue(o,"click",xn),h._preventClick=!1})}}),pD=function(o,h,g){return new GE(o,h,g)},ax=Us.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",g=Wt("div",h+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,h+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,h+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,g,_,T){var D=Wt("a",g,_);return D.innerHTML=o,D.href="#",D.title=h,D.setAttribute("role","button"),D.setAttribute("aria-label",h),Pp(D),Pt(D,"click",xc),Pt(D,"click",T,this),Pt(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";$e(this._zoomInButton,h),$e(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Rt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Rt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});jt.mergeOptions({zoomControl:!0}),jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ax,this.addControl(this.zoomControl))});var gD=function(o){return new ax(o)},qE=Us.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",g=Wt("div",h),_=this.options;return this._addScales(_,h+"-line",g),o.on(_.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,g){o.metric&&(this._mScale=Wt("div",h,g)),o.imperial&&(this._iScale=Wt("div",h,g))},_update:function(){var o=this._map,h=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),g=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,g,h/o)},_updateImperial:function(o){var h=o*3.2808399,g,_,T;h>5280?(g=h/5280,_=this._getRoundNum(g),this._updateScale(this._iScale,_+" mi",_/g)):(T=this._getRoundNum(h),this._updateScale(this._iScale,T+" ft",T/h))},_updateScale:function(o,h,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),g=o/h;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,h*g}}),mD=function(o){return new qE(o)},vD='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',lx=Us.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(yt.inlineSvg?vD+" ":"")+"Leaflet</a>"},initialize:function(o){w(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),Pp(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});jt.mergeOptions({attributionControl:!0}),jt.addInitHook(function(){this.options.attributionControl&&new lx().addTo(this)});var yD=function(o){return new lx(o)};Us.Layers=GE,Us.Zoom=ax,Us.Scale=qE,Us.Attribution=lx,Cp.layers=pD,Cp.zoom=gD,Cp.scale=mD,Cp.attribution=yD;var Mr=W.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mr.addTo=function(o,h){return o.addHandler(h,this),this};var _D={Events:Z},ZE=yt.touch?"touchstart mousedown":"mousedown",Oa=Y.extend({options:{clickTolerance:3},initialize:function(o,h,g,_){w(this,_),this._element=o,this._dragStartTarget=h||o,this._preventOutline=g},enable:function(){this._enabled||(Pt(this._dragStartTarget,ZE,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oa._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,ZE,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Zw(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Oa._dragging===this&&this.finishDrag();return}if(!(Oa._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Oa._dragging=this,this._preventOutline&&tx(this._element),Kw(),Sp(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,g=zE(this._element);this._startPoint=new H(h.clientX,h.clientY),this._startPos=_c(this._element),this._parentScale=ex(g);var _=o.type==="mousedown";Pt(document,_?"mousemove":"touchmove",this._onMove,this),Pt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,g=new H(h.clientX,h.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,xn(o),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ze(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Qw(),Ap();var h=this._moved&&this._moving;this._moving=!1,Oa._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function XE(o,h,g){var _,T=[1,4,2,8],D,j,V,G,Q,lt,wt,Nt;for(D=0,lt=o.length;D<lt;D++)o[D]._code=bc(o[D],h);for(V=0;V<4;V++){for(wt=T[V],_=[],D=0,lt=o.length,j=lt-1;D<lt;j=D++)G=o[D],Q=o[j],G._code&wt?Q._code&wt||(Nt=gy(Q,G,wt,h,g),Nt._code=bc(Nt,h),_.push(Nt)):(Q._code&wt&&(Nt=gy(Q,G,wt,h,g),Nt._code=bc(Nt,h),_.push(Nt)),_.push(G));o=_}return o}function YE(o,h){var g,_,T,D,j,V,G,Q,lt;if(!o||o.length===0)throw new Error("latlngs not passed");ps(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var wt=dt([0,0]),Nt=at(o),Kn=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Kn<1700&&(wt=cx(o));var un=o.length,gs=[];for(g=0;g<un;g++){var pi=dt(o[g]);gs.push(h.project(dt([pi.lat-wt.lat,pi.lng-wt.lng])))}for(V=G=Q=0,g=0,_=un-1;g<un;_=g++)T=gs[g],D=gs[_],j=T.y*D.x-D.y*T.x,G+=(T.x+D.x)*j,Q+=(T.y+D.y)*j,V+=j*3;V===0?lt=gs[0]:lt=[G/V,Q/V];var Ch=h.unproject(X(lt));return dt([Ch.lat+wt.lat,Ch.lng+wt.lng])}function cx(o){for(var h=0,g=0,_=0,T=0;T<o.length;T++){var D=dt(o[T]);h+=D.lat,g+=D.lng,_++}return dt([h/_,g/_])}var wD={__proto__:null,clipPolygon:XE,polygonCenter:YE,centroid:cx};function KE(o,h){if(!h||!o.length)return o.slice();var g=h*h;return o=SD(o,g),o=bD(o,g),o}function QE(o,h,g){return Math.sqrt(Tp(o,h,g,!0))}function xD(o,h,g){return Tp(o,h,g)}function bD(o,h){var g=o.length,_=typeof Uint8Array<"u"?Uint8Array:Array,T=new _(g);T[0]=T[g-1]=1,ux(o,T,h,0,g-1);var D,j=[];for(D=0;D<g;D++)T[D]&&j.push(o[D]);return j}function ux(o,h,g,_,T){var D=0,j,V,G;for(V=_+1;V<=T-1;V++)G=Tp(o[V],o[_],o[T],!0),G>D&&(j=V,D=G);D>g&&(h[j]=1,ux(o,h,g,_,j),ux(o,h,g,j,T))}function SD(o,h){for(var g=[o[0]],_=1,T=0,D=o.length;_<D;_++)AD(o[_],o[T])>h&&(g.push(o[_]),T=_);return T<D-1&&g.push(o[D-1]),g}var JE;function tP(o,h,g,_,T){var D=_?JE:bc(o,g),j=bc(h,g),V,G,Q;for(JE=j;;){if(!(D|j))return[o,h];if(D&j)return!1;V=D||j,G=gy(o,h,V,g,T),Q=bc(G,g),V===D?(o=G,D=Q):(h=G,j=Q)}}function gy(o,h,g,_,T){var D=h.x-o.x,j=h.y-o.y,V=_.min,G=_.max,Q,lt;return g&8?(Q=o.x+D*(G.y-o.y)/j,lt=G.y):g&4?(Q=o.x+D*(V.y-o.y)/j,lt=V.y):g&2?(Q=G.x,lt=o.y+j*(G.x-o.x)/D):g&1&&(Q=V.x,lt=o.y+j*(V.x-o.x)/D),new H(Q,lt,T)}function bc(o,h){var g=0;return o.x<h.min.x?g|=1:o.x>h.max.x&&(g|=2),o.y<h.min.y?g|=4:o.y>h.max.y&&(g|=8),g}function AD(o,h){var g=h.x-o.x,_=h.y-o.y;return g*g+_*_}function Tp(o,h,g,_){var T=h.x,D=h.y,j=g.x-T,V=g.y-D,G=j*j+V*V,Q;return G>0&&(Q=((o.x-T)*j+(o.y-D)*V)/G,Q>1?(T=g.x,D=g.y):Q>0&&(T+=j*Q,D+=V*Q)),j=o.x-T,V=o.y-D,_?j*j+V*V:new H(T,D)}function ps(o){return!A(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function eP(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ps(o)}function nP(o,h){var g,_,T,D,j,V,G,Q;if(!o||o.length===0)throw new Error("latlngs not passed");ps(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var lt=dt([0,0]),wt=at(o),Nt=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Nt<1700&&(lt=cx(o));var Kn=o.length,un=[];for(g=0;g<Kn;g++){var gs=dt(o[g]);un.push(h.project(dt([gs.lat-lt.lat,gs.lng-lt.lng])))}for(g=0,_=0;g<Kn-1;g++)_+=un[g].distanceTo(un[g+1])/2;if(_===0)Q=un[0];else for(g=0,D=0;g<Kn-1;g++)if(j=un[g],V=un[g+1],T=j.distanceTo(V),D+=T,D>_){G=(D-_)/T,Q=[V.x-G*(V.x-j.x),V.y-G*(V.y-j.y)];break}var pi=h.unproject(X(Q));return dt([pi.lat+lt.lat,pi.lng+lt.lng])}var ED={__proto__:null,simplify:KE,pointToSegmentDistance:QE,closestPointOnSegment:xD,clipSegment:tP,_getEdgeIntersection:gy,_getBitCode:bc,_sqClosestPointOnSegment:Tp,isFlat:ps,_flat:eP,polylineCenter:nP},hx={project:function(o){return new H(o.lng,o.lat)},unproject:function(o){return new ut(o.y,o.x)},bounds:new rt([-180,-90],[180,90])},dx={R:6378137,R_MINOR:6356752314245179e-9,bounds:new rt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,g=this.R,_=o.lat*h,T=this.R_MINOR/g,D=Math.sqrt(1-T*T),j=D*Math.sin(_),V=Math.tan(Math.PI/4-_/2)/Math.pow((1-j)/(1+j),D/2);return _=-g*Math.log(Math.max(V,1e-10)),new H(o.lng*h*g,_)},unproject:function(o){for(var h=180/Math.PI,g=this.R,_=this.R_MINOR/g,T=Math.sqrt(1-_*_),D=Math.exp(-o.y/g),j=Math.PI/2-2*Math.atan(D),V=0,G=.1,Q;V<15&&Math.abs(G)>1e-7;V++)Q=T*Math.sin(j),Q=Math.pow((1-Q)/(1+Q),T/2),G=Math.PI/2-2*Math.atan(D*Q)-j,j+=G;return new ut(j*h,o.x*h/g)}},PD={__proto__:null,LonLat:hx,Mercator:dx,SphericalMercator:ge},CD=s({},pe,{code:"EPSG:3395",projection:dx,transformation:function(){var o=.5/(Math.PI*dx.R);return Re(o,.5,-o,.5)}()}),iP=s({},pe,{code:"EPSG:4326",projection:hx,transformation:Re(1/180,1,-1/180,.5)}),TD=s({},ct,{projection:hx,transformation:Re(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var g=h.lng-o.lng,_=h.lat-o.lat;return Math.sqrt(g*g+_*_)},infinite:!0});ct.Earth=pe,ct.EPSG3395=CD,ct.EPSG3857=Dt,ct.EPSG900913=zt,ct.EPSG4326=iP,ct.Simple=TD;var $s=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var g=this.getEvents();h.on(g,this),this.once("remove",function(){h.off(g,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});jt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=u(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=u(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},_addLayers:function(o){o=o?A(o)?o:[o]:[];for(var h=0,g=o.length;h<g;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=u(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,g=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var T=this._zoomBoundLayers[_].options;o=T.minZoom===void 0?o:Math.min(o,T.minZoom),h=T.maxZoom===void 0?h:Math.max(h,T.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bh=$s.extend({initialize:function(o,h){w(this,h),this._layers={};var g,_;if(o)for(g=0,_=o.length;g<_;g++)this.addLayer(o[g])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),g,_;for(g in this._layers)_=this._layers[g],_[o]&&_[o].apply(_,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var g in this._layers)o.call(h,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),kD=function(o,h){return new bh(o,h)},So=bh.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),bh.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),bh.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new st;for(var h in this._layers){var g=this._layers[h];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),LD=function(o,h){return new So(o,h)},Sh=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){w(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(g,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(_,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(o,h){var g=this.options,_=g[h+"Size"];typeof _=="number"&&(_=[_,_]);var T=X(_),D=X(h==="shadow"&&g.shadowAnchor||g.iconAnchor||T&&T.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(g.className||""),D&&(o.style.marginLeft=-D.x+"px",o.style.marginTop=-D.y+"px"),T&&(o.style.width=T.x+"px",o.style.height=T.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return yt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function MD(o){return new Sh(o)}var kp=Sh.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof kp.imagePath!="string"&&(kp.imagePath=this._detectIconPath()),(this.options.imagePath||kp.imagePath)+Sh.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(g,_,T){var D=_.exec(g);return D&&D[T]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Wt("div","leaflet-default-icon-path",document.body),h=bp(o,"background-image")||bp(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),sP=Mr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Oa(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,g=h._map,_=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,D=_c(h._icon),j=g.getPixelBounds(),V=g.getPixelOrigin(),G=J(j.min._subtract(V).add(T),j.max._subtract(V).subtract(T));if(!G.contains(D)){var Q=X((Math.max(G.max.x,D.x)-G.max.x)/(j.max.x-G.max.x)-(Math.min(G.min.x,D.x)-G.min.x)/(j.min.x-G.min.x),(Math.max(G.max.y,D.y)-G.max.y)/(j.max.y-G.max.y)-(Math.min(G.min.y,D.y)-G.min.y)/(j.min.y-G.min.y)).multiplyBy(_);g.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),Ze(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=U(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,g=h._shadow,_=_c(h._icon),T=h._map.layerPointToLatLng(_);g&&Ze(g,_),h._latlng=T,o.latlng=T,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),my=$s.extend({options:{icon:new kp,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){w(this,h),this._latlng=dt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=dt(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),_=!1;g!==this._icon&&(this._icon&&this._removeIcon(),_=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),Rt(g,h),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(g,"focus",this._panOnFocus,this);var T=o.icon.createShadow(this._shadow),D=!1;T!==this._shadow&&(this._removeShadow(),D=!0),T&&(Rt(T,h),T.alt=""),this._shadow=T,o.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&D&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),Ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ae(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ze(this._icon,o),this._shadow&&Ze(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sP)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sP(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&fs(this._icon,o),this._shadow&&fs(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,g=h.iconSize?X(h.iconSize):X(0,0),_=h.iconAnchor?X(h.iconAnchor):X(0,0);o.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:g.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function RD(o,h){return new my(o,h)}var Fa=$s.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return w(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vy=Fa.extend({options:{fill:!0,radius:10},initialize:function(o,h){w(this,h),this._latlng=dt(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=dt(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Fa.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,g=this._clickTolerance(),_=[o+g,h+g];this._pxBounds=new rt(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ND(o,h){return new vy(o,h)}var fx=vy.extend({initialize:function(o,h,g){if(typeof h=="number"&&(h=s({},g,{radius:h})),w(this,h),this._latlng=dt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new st(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Fa.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,g=this._map,_=g.options.crs;if(_.distance===pe.distance){var T=Math.PI/180,D=this._mRadius/pe.R/T,j=g.project([h+D,o]),V=g.project([h-D,o]),G=j.add(V).divideBy(2),Q=g.unproject(G).lat,lt=Math.acos((Math.cos(D*T)-Math.sin(h*T)*Math.sin(Q*T))/(Math.cos(h*T)*Math.cos(Q*T)))/T;(isNaN(lt)||lt===0)&&(lt=D/Math.cos(Math.PI/180*h)),this._point=G.subtract(g.getPixelOrigin()),this._radius=isNaN(lt)?0:G.x-g.project([Q,o-lt]).x,this._radiusY=G.y-j.y}else{var wt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(wt).x}this._updateBounds()}});function ID(o,h,g){return new fx(o,h,g)}var Ao=Fa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){w(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,g=null,_=Tp,T,D,j=0,V=this._parts.length;j<V;j++)for(var G=this._parts[j],Q=1,lt=G.length;Q<lt;Q++){T=G[Q-1],D=G[Q];var wt=_(o,T,D,!0);wt<h&&(h=wt,g=_(o,T,D))}return g&&(g.distance=Math.sqrt(h)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nP(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=dt(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new st,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return ps(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],g=ps(o),_=0,T=o.length;_<T;_++)g?(h[_]=dt(o[_]),this._bounds.extend(h[_])):h[_]=this._convertLatLngs(o[_]);return h},_project:function(){var o=new rt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new H(o,o);this._rawPxBounds&&(this._pxBounds=new rt([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,g){var _=o[0]instanceof ut,T=o.length,D,j;if(_){for(j=[],D=0;D<T;D++)j[D]=this._map.latLngToLayerPoint(o[D]),g.extend(j[D]);h.push(j)}else for(D=0;D<T;D++)this._projectLatlngs(o[D],h,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,g,_,T,D,j,V,G;for(g=0,T=0,D=this._rings.length;g<D;g++)for(G=this._rings[g],_=0,j=G.length;_<j-1;_++)V=tP(G[_],G[_+1],o,_,!0),V&&(h[T]=h[T]||[],h[T].push(V[0]),(V[1]!==G[_+1]||_===j-2)&&(h[T].push(V[1]),T++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,g=0,_=o.length;g<_;g++)o[g]=KE(o[g],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var g,_,T,D,j,V,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,D=this._parts.length;g<D;g++)for(V=this._parts[g],_=0,j=V.length,T=j-1;_<j;T=_++)if(!(!h&&_===0)&&QE(o,V[T],V[_])<=G)return!0;return!1}});function DD(o,h){return new Ao(o,h)}Ao._flat=eP;var Ah=Ao.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return YE(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Ao.prototype._convertLatLngs.call(this,o),g=h.length;return g>=2&&h[0]instanceof ut&&h[0].equals(h[g-1])&&h.pop(),h},_setLatLngs:function(o){Ao.prototype._setLatLngs.call(this,o),ps(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ps(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,g=new H(h,h);if(o=new rt(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,T=this._rings.length,D;_<T;_++)D=XE(this._rings[_],o,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,g,_,T,D,j,V,G,Q;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(D=0,G=this._parts.length;D<G;D++)for(g=this._parts[D],j=0,Q=g.length,V=Q-1;j<Q;V=j++)_=g[j],T=g[V],_.y>o.y!=T.y>o.y&&o.x<(T.x-_.x)*(o.y-_.y)/(T.y-_.y)+_.x&&(h=!h);return h||Ao.prototype._containsPoint.call(this,o,!0)}});function OD(o,h){return new Ah(o,h)}var Eo=So.extend({initialize:function(o,h){w(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=A(o)?o:o.features,g,_,T;if(h){for(g=0,_=h.length;g<_;g++)T=h[g],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var D=this.options;if(D.filter&&!D.filter(o))return this;var j=yy(o,D);return j?(j.feature=xy(o),j.defaultOptions=j.options,this.resetStyle(j),D.onEachFeature&&D.onEachFeature(o,j),this.addLayer(j)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function yy(o,h){var g=o.type==="Feature"?o.geometry:o,_=g?g.coordinates:null,T=[],D=h&&h.pointToLayer,j=h&&h.coordsToLatLng||px,V,G,Q,lt;if(!_&&!g)return null;switch(g.type){case"Point":return V=j(_),rP(D,o,V,h);case"MultiPoint":for(Q=0,lt=_.length;Q<lt;Q++)V=j(_[Q]),T.push(rP(D,o,V,h));return new So(T);case"LineString":case"MultiLineString":return G=_y(_,g.type==="LineString"?0:1,j),new Ao(G,h);case"Polygon":case"MultiPolygon":return G=_y(_,g.type==="Polygon"?1:2,j),new Ah(G,h);case"GeometryCollection":for(Q=0,lt=g.geometries.length;Q<lt;Q++){var wt=yy({geometry:g.geometries[Q],type:"Feature",properties:o.properties},h);wt&&T.push(wt)}return new So(T);case"FeatureCollection":for(Q=0,lt=g.features.length;Q<lt;Q++){var Nt=yy(g.features[Q],h);Nt&&T.push(Nt)}return new So(T);default:throw new Error("Invalid GeoJSON object.")}}function rP(o,h,g,_){return o?o(h,g):new my(g,_&&_.markersInheritOptions&&_)}function px(o){return new ut(o[1],o[0],o[2])}function _y(o,h,g){for(var _=[],T=0,D=o.length,j;T<D;T++)j=h?_y(o[T],h-1,g):(g||px)(o[T]),_.push(j);return _}function gx(o,h){return o=dt(o),o.alt!==void 0?[m(o.lng,h),m(o.lat,h),m(o.alt,h)]:[m(o.lng,h),m(o.lat,h)]}function wy(o,h,g,_){for(var T=[],D=0,j=o.length;D<j;D++)T.push(h?wy(o[D],ps(o[D])?0:h-1,g,_):gx(o[D],_));return!h&&g&&T.length>0&&T.push(T[0].slice()),T}function Eh(o,h){return o.feature?s({},o.feature,{geometry:h}):xy(h)}function xy(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var mx={toGeoJSON:function(o){return Eh(this,{type:"Point",coordinates:gx(this.getLatLng(),o)})}};my.include(mx),fx.include(mx),vy.include(mx),Ao.include({toGeoJSON:function(o){var h=!ps(this._latlngs),g=wy(this._latlngs,h?1:0,!1,o);return Eh(this,{type:(h?"Multi":"")+"LineString",coordinates:g})}}),Ah.include({toGeoJSON:function(o){var h=!ps(this._latlngs),g=h&&!ps(this._latlngs[0]),_=wy(this._latlngs,g?2:h?1:0,!0,o);return h||(_=[_]),Eh(this,{type:(g?"Multi":"")+"Polygon",coordinates:_})}}),bh.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(g){h.push(g.toGeoJSON(o).geometry.coordinates)}),Eh(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var g=h==="GeometryCollection",_=[];return this.eachLayer(function(T){if(T.toGeoJSON){var D=T.toGeoJSON(o);if(g)_.push(D.geometry);else{var j=xy(D);j.type==="FeatureCollection"?_.push.apply(_,j.features):_.push(j)}}}),g?Eh(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function oP(o,h){return new Eo(o,h)}var FD=oP,by=$s.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,g){this._url=o,this._bounds=at(h),w(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&wh(this._image),this},bringToBack:function(){return this._map&&xh(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=at(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:Wt("img");if(Rt(h,"leaflet-image-layer"),this._zoomAnimated&&Rt(h,"leaflet-zoom-animated"),this.options.className&&Rt(h,this.options.className),h.onselectstart=p,h.onmousemove=p,h.onload=a(this.fire,this,"load"),h.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;yc(this._image,g,h)},_reset:function(){var o=this._image,h=new rt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=h.getSize();Ze(o,h.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){fs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),BD=function(o,h,g){return new by(o,h,g)},aP=by.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:Wt("video");if(Rt(h,"leaflet-image-layer"),this._zoomAnimated&&Rt(h,"leaflet-zoom-animated"),this.options.className&&Rt(h,this.options.className),h.onselectstart=p,h.onmousemove=p,h.onloadeddata=a(this.fire,this,"load"),o){for(var g=h.getElementsByTagName("source"),_=[],T=0;T<g.length;T++)_.push(g[T].src);this._url=g.length>0?_:[h.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var j=Wt("source");j.src=this._url[D],h.appendChild(j)}}});function jD(o,h,g){return new aP(o,h,g)}var lP=by.extend({_initImage:function(){var o=this._image=this._url;Rt(o,"leaflet-image-layer"),this._zoomAnimated&&Rt(o,"leaflet-zoom-animated"),this.options.className&&Rt(o,this.options.className),o.onselectstart=p,o.onmousemove=p}});function zD(o,h,g){return new lP(o,h,g)}var Rr=$s.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof ut||A(o))?(this._latlng=dt(o),w(this,h)):(w(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&fs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&fs(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(fs(this._container,0),this._removeTimeout=setTimeout(a(Ae,void 0,this._container),200)):Ae(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=dt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wh(this._container),this},bringToBack:function(){return this._map&&xh(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof So){h=null;var g=this._source._layers;for(var _ in g)if(g[_]._map){h=g[_];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=X(this.options.offset),g=this._getAnchor();this._zoomAnimated?Ze(this._container,o.add(g)):h=h.add(o).add(g);var _=this._containerBottom=-h.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=_+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});jt.include({_initOverlay:function(o,h,g,_){var T=h;return T instanceof o||(T=new o(_).setContent(h)),g&&T.setLatLng(g),T}}),$s.include({_initOverlay:function(o,h,g,_){var T=g;return T instanceof o?(w(T,_),T._source=this):(T=h&&!_?h:new o(_,this),T.setContent(g)),T}});var Sy=Rr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Rr.prototype.openOn.call(this,o)},onAdd:function(o){Rr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fa||this._source.on("preclick",wc))},onRemove:function(o){Rr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fa||this._source.off("preclick",wc))},getEvents:function(){var o=Rr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=Wt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Wt("div",o+"-content-wrapper",h);if(this._contentNode=Wt("div",o+"-content",g),Pp(h),rx(this._contentNode),Pt(h,"contextmenu",wc),this._tipContainer=Wt("div",o+"-tip-container",h),this._tip=Wt("div",o+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Wt("a",o+"-close-button",h);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(_,"click",function(T){xn(T),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),h.width=g+1+"px",h.whiteSpace="",h.height="";var _=o.offsetHeight,T=this.options.maxHeight,D="leaflet-popup-scrolled";T&&_>T?(h.height=T+"px",Rt(o,D)):$e(o,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();Ze(this._container,h.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(bp(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+h,_=this._containerWidth,T=new H(this._containerLeft,-g-this._containerBottom);T._add(_c(this._container));var D=o.layerPointToContainerPoint(T),j=X(this.options.autoPanPadding),V=X(this.options.autoPanPaddingTopLeft||j),G=X(this.options.autoPanPaddingBottomRight||j),Q=o.getSize(),lt=0,wt=0;D.x+_+G.x>Q.x&&(lt=D.x+_-Q.x+G.x),D.x-lt-V.x<0&&(lt=D.x-V.x),D.y+g+G.y>Q.y&&(wt=D.y+g-Q.y+G.y),D.y-wt-V.y<0&&(wt=D.y-V.y),(lt||wt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([lt,wt]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),HD=function(o,h){return new Sy(o,h)};jt.mergeOptions({closePopupOnClick:!0}),jt.include({openPopup:function(o,h,g){return this._initOverlay(Sy,o,h,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),$s.include({bindPopup:function(o,h){return this._popup=this._initOverlay(Sy,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof So||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){xc(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Fa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ay=Rr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Rr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Rr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Rr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,g,_=this._map,T=this._container,D=_.latLngToContainerPoint(_.getCenter()),j=_.layerPointToContainerPoint(o),V=this.options.direction,G=T.offsetWidth,Q=T.offsetHeight,lt=X(this.options.offset),wt=this._getAnchor();V==="top"?(h=G/2,g=Q):V==="bottom"?(h=G/2,g=0):V==="center"?(h=G/2,g=Q/2):V==="right"?(h=0,g=Q/2):V==="left"?(h=G,g=Q/2):j.x<D.x?(V="right",h=0,g=Q/2):(V="left",h=G+(lt.x+wt.x)*2,g=Q/2),o=o.subtract(X(h,g,!0)).add(lt).add(wt),$e(T,"leaflet-tooltip-right"),$e(T,"leaflet-tooltip-left"),$e(T,"leaflet-tooltip-top"),$e(T,"leaflet-tooltip-bottom"),Rt(T,"leaflet-tooltip-"+V),Ze(T,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&fs(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),UD=function(o,h){return new Ay(o,h)};jt.include({openTooltip:function(o,h,g){return this._initOverlay(Ay,o,h,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),$s.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ay,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[h](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof So||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Pt(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Pt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,g,_;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),_=this._map.containerPointToLayerPoint(g),h=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(h)}});var cP=Sh.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(uy(h),h.appendChild(g.html)):h.innerHTML=g.html!==!1?g.html:"",g.bgPos){var _=X(g.bgPos);h.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function $D(o){return new cP(o)}Sh.Default=kp;var Lp=$s.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){w(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ae(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wh(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xh(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof H?o:new H(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,g=-o(-1/0,1/0),_=0,T=h.length,D;_<T;_++)D=h[_].style.zIndex,h[_]!==this._container&&D&&(g=o(g,+D));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!yt.ielt9){fs(this._container,this.options.opacity);var o=+new Date,h=!1,g=!1;for(var _ in this._tiles){var T=this._tiles[_];if(!(!T.current||!T.loaded)){var D=Math.min(1,(o-T.loaded)/200);fs(T.el,D),D<1?h=!0:(T.active?g=!0:this._onOpaqueTile(T),T.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),h&&($(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=h-Math.abs(o-g),this._onUpdateLevel(g)):(Ae(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var _=this._levels[o],T=this._map;return _||(_=this._levels[o]={},_.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=h,_.origin=T.project(T.unproject(T.getPixelOrigin()),o).round(),_.zoom=o,this._setZoomTransform(_,T.getCenter(),T.getZoom()),p(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var o,h,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var _=h.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ae(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,g,_){var T=Math.floor(o/2),D=Math.floor(h/2),j=g-1,V=new H(+T,+D);V.z=+j;var G=this._tileCoordsToKey(V),Q=this._tiles[G];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),j>_?this._retainParent(T,D,j,_):!1)},_retainChildren:function(o,h,g,_){for(var T=2*o;T<2*o+2;T++)for(var D=2*h;D<2*h+2;D++){var j=new H(T,D);j.z=g+1;var V=this._tileCoordsToKey(j),G=this._tiles[V];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);g+1<_&&this._retainChildren(T,D,g+1,_)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,g,_){var T=Math.round(h);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var D=this.options.updateWhenZooming&&T!==this._tileZoom;(!_||D)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,h)},_setZoomTransform:function(o,h,g){var _=this._map.getZoomScale(g,o.zoom),T=o.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(h,g)).round();yt.any3d?yc(o.el,T,_):Ze(o.el,T)},_resetGrid:function(){var o=this._map,h=o.options.crs,g=this._tileSize=this.getTileSize(),_=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],_).x/g.x),Math.ceil(o.project([0,h.wrapLng[1]],_).x/g.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],_).y/g.x),Math.ceil(o.project([h.wrapLat[1],0],_).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,g=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),_=h.getZoomScale(g,this._tileZoom),T=h.project(o,this._tileZoom).floor(),D=h.getSize().divideBy(_*2);return new rt(T.subtract(D),T.add(D))},_update:function(o){var h=this._map;if(h){var g=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(o),T=this._pxBoundsToTileRange(_),D=T.getCenter(),j=[],V=this.options.keepBuffer,G=new rt(T.getBottomLeft().subtract([V,-V]),T.getTopRight().add([V,-V]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var lt=this._tiles[Q].coords;(lt.z!==this._tileZoom||!G.contains(new H(lt.x,lt.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var wt=T.min.y;wt<=T.max.y;wt++)for(var Nt=T.min.x;Nt<=T.max.x;Nt++){var Kn=new H(Nt,wt);if(Kn.z=this._tileZoom,!!this._isValidTile(Kn)){var un=this._tiles[this._tileCoordsToKey(Kn)];un?un.current=!0:j.push(Kn)}}if(j.sort(function(pi,Ch){return pi.distanceTo(D)-Ch.distanceTo(D)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gs=document.createDocumentFragment();for(Nt=0;Nt<j.length;Nt++)this._addTile(j[Nt],gs);this._level.el.appendChild(gs)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var g=this._globalTileRange;if(!h.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!h.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(o);return at(this.options.bounds).overlaps(_)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,g=this.getTileSize(),_=o.scaleBy(g),T=_.add(g),D=h.unproject(_,o.z),j=h.unproject(T,o.z);return[D,j]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),g=new st(h[0],h[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),g=new H(+h[0],+h[1]);return g.z=+h[2],g},_removeTile:function(o){var h=this._tiles[o];h&&(Ae(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Rt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=p,o.onmousemove=p,yt.ielt9&&this.options.opacity<1&&fs(o,this.options.opacity)},_addTile:function(o,h){var g=this._getTilePos(o),_=this._tileCoordsToKey(o),T=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(T),this.createTile.length<2&&U(a(this._tileReady,this,o,null,T)),Ze(T,g),this._tiles[_]={el:T,coords:o,current:!0},h.appendChild(T),this.fire("tileloadstart",{tile:T,coords:o})},_tileReady:function(o,h,g){h&&this.fire("tileerror",{error:h,tile:g,coords:o});var _=this._tileCoordsToKey(o);g=this._tiles[_],g&&(g.loaded=+new Date,this._map._fadeAnimated?(fs(g.el,0),$(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),h||(Rt(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),yt.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new H(this._wrapX?f(o.x,this._wrapX):o.x,this._wrapY?f(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new rt(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function WD(o){return new Lp(o)}var Ph=Lp.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=w(this,h),h.detectRetina&&yt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var g=document.createElement("img");return Pt(g,"load",a(this._tileOnLoad,this,h,g)),Pt(g,"error",a(this._tileOnError,this,h,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var h={r:yt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=g),h["-y"]=g}return P(this._url,s(h,this.options))},_tileOnLoad:function(o,h){yt.ielt9?setTimeout(a(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,g){var _=this.options.errorTileUrl;_&&h.getAttribute("src")!==_&&(h.src=_),o(g,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,g=this.options.zoomReverse,_=this.options.zoomOffset;return g&&(o=h-o),o+_},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=p,h.onerror=p,!h.complete)){h.src=x;var g=this._tiles[o].coords;Ae(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:g})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",x),Lp.prototype._removeTile.call(this,o)},_tileReady:function(o,h,g){if(!(!this._map||g&&g.getAttribute("src")===x))return Lp.prototype._tileReady.call(this,o,h,g)}});function uP(o,h){return new Ph(o,h)}var hP=Ph.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var g=s({},this.defaultWmsParams);for(var _ in h)_ in this.options||(g[_]=h[_]);h=w(this,h);var T=h.detectRetina&&yt.retina?2:1,D=this.getTileSize();g.width=D.x*T,g.height=D.y*T,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Ph.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),g=this._crs,_=J(g.project(h[0]),g.project(h[1])),T=_.min,D=_.max,j=(this._wmsVersion>=1.3&&this._crs===iP?[T.y,T.x,D.y,D.x]:[T.x,T.y,D.x,D.y]).join(","),V=Ph.prototype.getTileUrl.call(this,o);return V+C(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(o,h){return s(this.wmsParams,o),h||this.redraw(),this}});function VD(o,h){return new hP(o,h)}Ph.WMS=hP,uP.wms=VD;var Po=$s.extend({options:{padding:.1},initialize:function(o){w(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var g=this._map.getZoomScale(h,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,h),D=_.multiplyBy(-g).add(T).subtract(this._map._getNewPixelOrigin(o,h));yt.any3d?yc(this._container,D,g):Ze(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),g=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new rt(g,g.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dP=Po.extend({options:{tolerance:0},getEvents:function(){var o=Po.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Po.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Pt(o,"mousemove",this._onMouseMove,this),Pt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Ae(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Po.prototype._update.call(this);var o=this._bounds,h=this._container,g=o.getSize(),_=yt.retina?2:1;Ze(h,o.min),h.width=_*g.x,h.height=_*g.y,h.style.width=g.x+"px",h.style.height=g.y+"px",yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Po.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,g=h.next,_=h.prev;g?g.prev=_:this._drawLast=_,_?_.next=g:this._drawFirst=g,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),g=[],_,T;for(T=0;T<h.length;T++){if(_=Number(h[T]),isNaN(_))return;g.push(_)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new rt,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var g=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)o=_.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var g,_,T,D,j=o._parts,V=j.length,G=this._ctx;if(V){for(G.beginPath(),g=0;g<V;g++){for(_=0,T=j[g].length;_<T;_++)D=j[g][_],G[_?"lineTo":"moveTo"](D.x,D.y);h&&G.closePath()}this._fillStroke(G,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,g=this._ctx,_=Math.max(Math.round(o._radius),1),T=(Math.max(Math.round(o._radiusY),1)||_)/_;T!==1&&(g.save(),g.scale(1,T)),g.beginPath(),g.arc(h.x,h.y/T,_,0,Math.PI*2,!1),T!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,h){var g=h.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),g,_,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(_=g);this._fireEvent(_?[_]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&($e(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var g,_,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(h)&&(_=g);_!==this._hoveredLayer&&(this._handleMouseOut(o),_&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([_],o,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,g){this._map._fireDOMEvent(h,g||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var g=h.next,_=h.prev;if(g)g.prev=_;else return;_?_.next=g:g&&(this._drawFirst=g),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var g=h.next,_=h.prev;if(_)_.next=g;else return;g?g.prev=_:_&&(this._drawLast=_),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function fP(o){return yt.canvas?new dP(o):null}var Mp=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),GD={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Po.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Mp("shape");Rt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Mp("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Ae(h),o.removeInteractiveTarget(h),delete this._layers[u(o)]},_updateStyle:function(o){var h=o._stroke,g=o._fill,_=o.options,T=o._container;T.stroked=!!_.stroke,T.filled=!!_.fill,_.stroke?(h||(h=o._stroke=Mp("stroke")),T.appendChild(h),h.weight=_.weight+"px",h.color=_.color,h.opacity=_.opacity,_.dashArray?h.dashStyle=A(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=_.lineCap.replace("butt","flat"),h.joinstyle=_.lineJoin):h&&(T.removeChild(h),o._stroke=null),_.fill?(g||(g=o._fill=Mp("fill")),T.appendChild(g),g.color=_.fillColor||_.color,g.opacity=_.fillOpacity):g&&(T.removeChild(g),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),g=Math.round(o._radius),_=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+g+","+_+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){wh(o._container)},_bringToBack:function(o){xh(o._container)}},Ey=yt.vml?Mp:Kt,Rp=Po.extend({_initContainer:function(){this._container=Ey("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ey("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ae(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Po.prototype._update.call(this);var o=this._bounds,h=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,g.setAttribute("width",h.x),g.setAttribute("height",h.y)),Ze(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Ey("path");o.options.className&&Rt(h,o.options.className),o.options.interactive&&Rt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ae(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,g=o.options;h&&(g.stroke?(h.setAttribute("stroke",g.color),h.setAttribute("stroke-opacity",g.opacity),h.setAttribute("stroke-width",g.weight),h.setAttribute("stroke-linecap",g.lineCap),h.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?h.setAttribute("stroke-dasharray",g.dashArray):h.removeAttribute("stroke-dasharray"),g.dashOffset?h.setAttribute("stroke-dashoffset",g.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),g.fill?(h.setAttribute("fill",g.fillColor||g.color),h.setAttribute("fill-opacity",g.fillOpacity),h.setAttribute("fill-rule",g.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,Ne(o._parts,h))},_updateCircle:function(o){var h=o._point,g=Math.max(Math.round(o._radius),1),_=Math.max(Math.round(o._radiusY),1)||g,T="a"+g+","+_+" 0 1,0 ",D=o._empty()?"M0 0":"M"+(h.x-g)+","+h.y+T+g*2+",0 "+T+-g*2+",0 ";this._setPath(o,D)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){wh(o._path)},_bringToBack:function(o){xh(o._path)}});yt.vml&&Rp.include(GD);function pP(o){return yt.svg||yt.vml?new Rp(o):null}jt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&fP(o)||pP(o)}});var gP=Ah.extend({initialize:function(o,h){Ah.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=at(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function qD(o,h){return new gP(o,h)}Rp.create=Ey,Rp.pointsToPath=Ne,Eo.geometryToLayer=yy,Eo.coordsToLatLng=px,Eo.coordsToLatLngs=_y,Eo.latLngToCoords=gx,Eo.latLngsToCoords=wy,Eo.getFeature=Eh,Eo.asFeature=xy,jt.mergeOptions({boxZoom:!0});var mP=Mr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sp(),Kw(),this._startPoint=this._map.mouseEventToContainerPoint(o),Pt(document,{contextmenu:xc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new rt(this._point,this._startPoint),g=h.getSize();Ze(this._box,h.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Ae(this._box),$e(this._container,"leaflet-crosshair")),Ap(),Qw(),ue(document,{contextmenu:xc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var h=new st(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jt.addInitHook("addHandler","boxZoom",mP),jt.mergeOptions({doubleClickZoom:!0});var vP=Mr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,g=h.getZoom(),_=h.options.zoomDelta,T=o.originalEvent.shiftKey?g-_:g+_;h.options.doubleClickZoom==="center"?h.setZoom(T):h.setZoomAround(o.containerPoint,T)}});jt.addInitHook("addHandler","doubleClickZoom",vP),jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yP=Mr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Oa(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=at(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),g=this._initialWorldOffset,_=this._draggable._newPos.x,T=(_-h+g)%o+h-g,D=(_+h+g)%o-h-g,j=Math.abs(T+g)<Math.abs(D+g)?T:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(o){var h=this._map,g=h.options,_=!g.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),_)h.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,j=g.easeLinearity,V=T.multiplyBy(j/D),G=V.distanceTo([0,0]),Q=Math.min(g.inertiaMaxSpeed,G),lt=V.multiplyBy(Q/G),wt=Q/(g.inertiaDeceleration*j),Nt=lt.multiplyBy(-wt/2).round();!Nt.x&&!Nt.y?h.fire("moveend"):(Nt=h._limitOffset(Nt,h.options.maxBounds),U(function(){h.panBy(Nt,{duration:wt,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});jt.addInitHook("addHandler","dragging",yP),jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _P=Mr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Pt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,g=o.scrollTop||h.scrollTop,_=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(_,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},g=this.keyCodes,_,T;for(_=0,T=g.left.length;_<T;_++)h[g.left[_]]=[-1*o,0];for(_=0,T=g.right.length;_<T;_++)h[g.right[_]]=[o,0];for(_=0,T=g.down.length;_<T;_++)h[g.down[_]]=[0,o];for(_=0,T=g.up.length;_<T;_++)h[g.up[_]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},g=this.keyCodes,_,T;for(_=0,T=g.zoomIn.length;_<T;_++)h[g.zoomIn[_]]=o;for(_=0,T=g.zoomOut.length;_<T;_++)h[g.zoomOut[_]]=-o},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,g=this._map,_;if(h in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(_=this._panKeys[h],o.shiftKey&&(_=X(_).multiplyBy(3)),g.options.maxBounds&&(_=g._limitOffset(X(_),g.options.maxBounds)),g.options.worldCopyJump){var T=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(_)));g.panTo(T)}else g.panBy(_)}else if(h in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;xc(o)}}});jt.addInitHook("addHandler","keyboard",_P),jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wP=Mr.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=WE(o),g=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var _=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),_),xc(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,D=g?Math.ceil(T/g)*g:T,j=o._limitZoom(h+(this._delta>0?D:-D))-h;this._delta=0,this._startTime=null,j&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+j):o.setZoomAround(this._lastMousePos,h+j))}});jt.addInitHook("addHandler","scrollWheelZoom",wP);var ZD=600;jt.mergeOptions({tapHold:yt.touchNative&&yt.safari&&yt.mobile,tapTolerance:15});var xP=Mr.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new H(h.clientX,h.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",xn),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),ZD),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ue(document,"touchend",xn),ue(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new H(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});g._simulated=!0,h.target.dispatchEvent(g)}});jt.addInitHook("addHandler","tapHold",xP),jt.mergeOptions({touchZoom:yt.touch,bounceAtZoomLimits:!0});var bP=Mr.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var g=h.mouseEventToContainerPoint(o.touches[0]),_=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(g.add(_)._divideBy(2))),this._startDist=g.distanceTo(_),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),xn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,g=h.mouseEventToContainerPoint(o.touches[0]),_=h.mouseEventToContainerPoint(o.touches[1]),T=g.distanceTo(_)/this._startDist;if(this._zoom=h.getScaleZoom(T,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&T<1||this._zoom>h.getMaxZoom()&&T>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var D=g._add(_)._divideBy(2)._subtract(this._centerPoint);if(T===1&&D.x===0&&D.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var j=a(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(j,this,!0),xn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jt.addInitHook("addHandler","touchZoom",bP),jt.BoxZoom=mP,jt.DoubleClickZoom=vP,jt.Drag=yP,jt.Keyboard=_P,jt.ScrollWheelZoom=wP,jt.TapHold=xP,jt.TouchZoom=bP,e.Bounds=rt,e.Browser=yt,e.CRS=ct,e.Canvas=dP,e.Circle=fx,e.CircleMarker=vy,e.Class=W,e.Control=Us,e.DivIcon=cP,e.DivOverlay=Rr,e.DomEvent=dD,e.DomUtil=uD,e.Draggable=Oa,e.Evented=Y,e.FeatureGroup=So,e.GeoJSON=Eo,e.GridLayer=Lp,e.Handler=Mr,e.Icon=Sh,e.ImageOverlay=by,e.LatLng=ut,e.LatLngBounds=st,e.Layer=$s,e.LayerGroup=bh,e.LineUtil=ED,e.Map=jt,e.Marker=my,e.Mixin=_D,e.Path=Fa,e.Point=H,e.PolyUtil=wD,e.Polygon=Ah,e.Polyline=Ao,e.Popup=Sy,e.PosAnimation=VE,e.Projection=PD,e.Rectangle=gP,e.Renderer=Po,e.SVG=Rp,e.SVGOverlay=lP,e.TileLayer=Ph,e.Tooltip=Ay,e.Transformation=Et,e.Util=K,e.VideoOverlay=aP,e.bind=a,e.bounds=J,e.canvas=fP,e.circle=ID,e.circleMarker=ND,e.control=Cp,e.divIcon=$D,e.extend=s,e.featureGroup=LD,e.geoJSON=oP,e.geoJson=FD,e.gridLayer=WD,e.icon=MD,e.imageOverlay=BD,e.latLng=dt,e.latLngBounds=at,e.layerGroup=kD,e.map=fD,e.marker=RD,e.point=X,e.polygon=OD,e.polyline=DD,e.popup=HD,e.rectangle=qD,e.setOptions=w,e.stamp=u,e.svg=pP,e.svgOverlay=zD,e.tileLayer=uP,e.tooltip=UD,e.transformation=Re,e.version=i,e.videoOverlay=jD;var XD=window.L;e.noConflict=function(){return window.L=XD,this},window.L=e})})(g1,g1.exports);var Yv=g1.exports;function lE(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function cE(n,t){return t==null?function(i,s){const r=O.useRef();return r.current||(r.current=n(i,s)),r}:function(i,s){const r=O.useRef();r.current||(r.current=n(i,s));const a=O.useRef(i),{instance:c}=r.current;return O.useEffect(function(){a.current!==i&&(t(c,i,a.current),a.current=i)},[c,i,s]),r}}function SH(n,t){O.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var r;(r=t.layerContainer)==null||r.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function pR(n){return function(e){const i=dR(),s=n(aE(e,i),i);return cR(i.map,e.attribution),fR(s.current,e.eventHandlers),SH(s.current,i),s}}function AH(n,t){const e=cE(n,t),i=pR(e);return _H(i)}function EH(n,t){const e=cE(n),i=bH(e,t);return wH(i)}function PH(n,t){const e=cE(n,t),i=pR(e);return xH(i)}function CH(n,t,e){const{opacity:i,zIndex:s}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),s!=null&&s!==e.zIndex&&n.setZIndex(s)}function m1(){return m1=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},m1.apply(this,arguments)}function TH({bounds:n,boundsOptions:t,center:e,children:i,className:s,id:r,placeholder:a,style:c,whenReady:u,zoom:d,...f},p){const[m]=O.useState({className:s,id:r,style:c}),[y,E]=O.useState(null);O.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const w=O.useCallback(b=>{if(b!==null&&y===null){const P=new Yv.Map(b,f);e!=null&&d!=null?P.setView(e,d):n!=null&&P.fitBounds(n,t),u!=null&&P.whenReady(u),E(vH(P))}},[]);O.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const C=y?nt.createElement(hR,{value:y},i):a??null;return nt.createElement("div",m1({},m,{ref:w}),C)}const kH=O.forwardRef(TH),LH=AH(function({position:t,...e},i){const s=new Yv.Marker(t,e);return lE(s,yH(i,{overlayContainer:s}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),MH=EH(function(t,e){const i=new Yv.Popup(t,e.overlayContainer);return lE(i,e)},function(t,e,{position:i},s){O.useEffect(function(){const{instance:a}=t;function c(d){d.popup===a&&(a.update(),s(!0))}function u(d){d.popup===a&&s(!1)}return e.map.on({popupopen:c,popupclose:u}),e.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(e.map)):e.overlayContainer.bindPopup(a),function(){var f;e.map.off({popupopen:c,popupclose:u}),(f=e.overlayContainer)==null||f.unbindPopup(),e.map.removeLayer(a)}},[t,e,s,i])}),RH=PH(function({url:t,...e},i){const s=new Yv.TileLayer(t,aE(e,i));return lE(s,i)},function(t,e,i){CH(t,e,i);const{url:s}=e;s!=null&&s!==i.url&&t.setUrl(s)}),NH=new Yv.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-gold.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[30,45],iconAnchor:[15,45],popupAnchor:[0,-40]}),IH=[{id:"marathahalli-blr",name:"Marathahalli",city:"Bengaluru",state:"Karnataka",lat:12.951244864093034,lng:77.69943776441791,gmap:"https://maps.app.goo.gl/Mmii2uviqT5N9xz26"},{id:"whitefield-blr",name:"Whitefield",city:"Bengaluru",state:"Karnataka",lat:12.97572728125544,lng:77.72684785334371,gmap:"https://maps.app.goo.gl/Dj89dc1L9fTETf5k6"},{id:"mullickbazar-kol",name:"Mullick Bazar",city:"Kolkata",state:"West Bengal",lat:22.54630463858092,lng:88.36251169661766,gmap:"https://maps.app.goo.gl/yWFtnKD3hYA5G7Vn8"},{id:"chinarpark-kol",name:"Chinar Park",city:"Kolkata",state:"West Bengal",lat:22.622345933347592,lng:88.4451553101118,gmap:"https://maps.app.goo.gl/S2pmsDS3giz5jrXM6"},{id:"maheshtala-kol",name:"Maheshtala",city:"Kolkata",state:"West Bengal",lat:22.54902551292249,lng:88.2804088101103,gmap:"https://maps.app.goo.gl/bt8uDZfHjj8SSRpi8"},{id:"aligarh-up",name:"Aligarh",city:"Aligarh",state:"Uttar Pradesh",lat:27.931463750337127,lng:78.09171186164401,gmap:"https://maps.app.goo.gl/AaJ6yZNM4LbHfTrp7"},{id:"hazratganj-up",name:"Hazratganj",city:"Lucknow",state:"Uttar Pradesh",lat:26.88328546271052,lng:80.97644018949754,gmap:"https://maps.app.goo.gl/Xk8ypqkZKXLR8hmN9"},{id:"aliganj-up",name:"Aliganj",city:"Lucknow",state:"Uttar Pradesh",lat:26.917576861335718,lng:80.92700171415677,gmap:"https://maps.app.goo.gl/8362Q1AEDYXaD98M8"},{id:"kanpur-up",name:"Kanpur",city:"Kanpur",state:"Uttar Pradesh",lat:26.529971510540644,lng:80.33099342810426,gmap:"https://maps.app.goo.gl/nibPyXmitVvEZwXS8"},{id:"gomtinagar-up",name:"Gomtinagar",city:"Lucknow",state:"Uttar Pradesh",lat:26.888184871362267,lng:80.99566626324116,gmap:"https://maps.app.goo.gl/jbZQ6zeAiPfJxrqLA"},{id:"patna-bih",name:"Patna",city:"Patna",state:"Bihar",lat:25.611045473061754,lng:85.13778713901065,gmap:"https://maps.app.goo.gl/s9DjoSC5MQKqJNEy9"},{id:"tirupati-ap",name:"Tirupati",city:"Tirupati",state:"Andhra Pradesh",lat:13.772110471321964,lng:79.38869497181894,gmap:"https://maps.app.goo.gl/xDRQSuTkr4hRybyG6"},{id:"moghalrajpuram-ap",name:"Moghalrajpuram",city:"Vijayawada",state:"Andhra Pradesh",lat:16.78157743605752,lng:80.66310900282521,gmap:"https://maps.app.goo.gl/1v1asTg4FGu3qEPTA"},{id:"chinnakakani-ap",name:"Chinnakakani",city:"Chinnakakani",state:"Andhra Pradesh",lat:16.686887873786343,lng:80.54225939643668,gmap:"https://maps.app.goo.gl/acr7ySzRuoQDEmg79"},{id:"visakhapatnam-ap",name:"Visakhapatnam",city:"Visakhapatnam",state:"Andhra Pradesh",lat:17.788617765871667,lng:83.20095073698425,gmap:"https://maps.app.goo.gl/23Td1kA9CxeUwVSg8"},{id:"nellore-ap",name:"Nellore",city:"Nellore",state:"Andhra Pradesh",lat:14.634790335724153,lng:80.10280628229658,gmap:"https://maps.app.goo.gl/FctjiNZuvmUt6Epr9"},{id:"bhimavaram-ap",name:"Bhimavaram",city:"Bhimavaram",state:"Andhra Pradesh",lat:16.750019477936203,lng:81.44313828042387,gmap:"https://maps.app.goo.gl/5vmdJwmEPrQ7BEkn7"},{id:"vijayawada-ap",name:"Vijayawada",city:"Vijayawada",state:"Andhra Pradesh",lat:16.72897793186955,lng:80.79494493706724,gmap:"https://maps.app.goo.gl/yDvBqFxiLu1c14gG6"},{id:"kavali-ap",name:"Kavali",city:"Kavali",state:"Andhra Pradesh",lat:15.1338203374795,lng:79.95998402020106,gmap:"https://maps.app.goo.gl/Uz5owpYrJ3vBTobc9"},{id:"kompally-hyd",name:"Kompally",city:"Hyderabad",state:"Telangana",lat:17.705676350324516,lng:78.53161177464759,gmap:"https://maps.app.goo.gl/JYB4ec1i7tK3vksK6"},{id:"kukatpally-hyd",name:"Kukatpally",city:"Hyderabad",state:"Telangana",lat:17.71614196556111,lng:78.41076216825905,gmap:"https://maps.app.goo.gl/3f3PtT8pxZSC5XT37"},{id:"srnagar-hyd",name:"SR Nagar",city:"Hyderabad",state:"Telangana",lat:17.663807789240074,lng:78.41076216825905,gmap:"https://maps.app.goo.gl/CnKcqBE4i6msbh4b7"},{id:"gachibowli-hyd",name:"Gachibowli",city:"Hyderabad",state:"Telangana",lat:17.65333912550355,lng:78.30089888972402,gmap:"https://maps.app.goo.gl/FU5GwUqUASLcSVYk8"}],DH=()=>R.jsx("footer",{className:"bg-card border-t border-border",children:R.jsxs("div",{className:"container mx-auto px-4 py-16",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[R.jsxs("div",{children:[R.jsx(dr,{to:"/",className:"flex items-center gap-2",children:R.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold text-gradient-gold",children:R.jsx("img",{src:"src/assets/logo-navbar.png",alt:"Barkaas Logo",className:"h-16 w-16"})})}),R.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Welcome to India's Largest Indo-Arabic Chain of Restaurants. Think Mandi, think Barkaas."})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"text-lg font-heading font-semibold text-gold mb-4",children:"Contact Us"}),R.jsxs("ul",{className:"space-y-3",children:[R.jsxs("li",{className:"flex items-center gap-3 text-muted-foreground",children:[R.jsx(s2,{size:18,className:"text-gold shrink-0"}),R.jsx("span",{children:"+91 84949 45678 | +91 83096 44799"})]}),R.jsxs("li",{className:"flex items-center gap-3 text-muted-foreground",children:[R.jsx(i2,{size:18,className:"text-gold shrink-0"}),R.jsx("span",{children:"info@barkaas.com"})]})]})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"text-lg font-heading font-semibold text-gold mb-4",children:"Opening Hours"}),R.jsx("ul",{className:"space-y-3 mb-6",children:R.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[R.jsx(n2,{size:18,className:"text-gold mt-1 shrink-0"}),R.jsxs("div",{children:[R.jsx("p",{children:"Mon-Thu: 12PM - 11PM"}),R.jsx("p",{children:"Fri-Sun: 12PM - 12AM"})]})]})}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx("a",{href:"#",className:"text-muted-foreground hover:text-gold hover:scale-110 transition-all duration-300","aria-label":"Instagram",children:R.jsx(Oj,{size:22})}),R.jsx("a",{href:"#",className:"text-muted-foreground hover:text-gold hover:scale-110 transition-all duration-300","aria-label":"Facebook",children:R.jsx(Dj,{size:22})})]})]}),R.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl shadow-gold/20 border border-gold/20 hover:border-gold/50 transition-all duration-300",children:R.jsxs(kH,{center:[20.5937,78.9629],zoom:5,style:{height:"340px",width:"100%"},scrollWheelZoom:"center",zoomControl:!0,doubleClickZoom:!0,children:[R.jsx(RH,{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),IH.map(n=>R.jsx(LH,{position:[n.lat,n.lng],icon:NH,children:R.jsx(MH,{className:"!p-0 shadow-2xl min-w-[280px]",children:R.jsxs("div",{className:"p-5 space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-3 h-3 bg-gold rounded-full"}),R.jsx("h3",{className:"font-heading font-bold text-xl text-burgundy",children:n.name})]}),R.jsxs("p",{className:"text-muted-foreground",children:[n.city,", ",n.state]}),R.jsx(Rs,{variant:"gold",size:"sm",asChild:!0,className:"w-full",children:R.jsxs("a",{href:n.gmap,target:"_blank",rel:"noopener noreferrer",children:[R.jsx(Fj,{className:"mr-2 h-4 w-4"}),"Open in Google Maps"]})})]})})},n.id))]})})]}),R.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center text-sm",children:R.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," ","Designed & Developed by"," ",R.jsx("a",{href:"https://madtalesai.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gold hover:text-gold/80 transition-colors",children:"Madtales AI Pvt Ltd."})," ","All rights reserved."]})})]})}),Kv=({children:n})=>R.jsxs("div",{className:"min-h-screen flex flex-col",children:[R.jsx(gH,{}),R.jsx("main",{className:"flex-1 pt-20",children:n}),R.jsx(DH,{})]}),gR="/barkaas-website/assets/_RON3054-7iiXtpz8.jpg",OH=Object.freeze(Object.defineProperty({__proto__:null,default:gR},Symbol.toStringTag,{value:"Module"})),mR="/barkaas-website/assets/_DSC1109-DO7IHTT7.jpg",FH=Object.freeze(Object.defineProperty({__proto__:null,default:mR},Symbol.toStringTag,{value:"Module"})),vR="/barkaas-website/assets/_RON3068-CwKg5aDd.jpg",BH=Object.freeze(Object.defineProperty({__proto__:null,default:vR},Symbol.toStringTag,{value:"Module"})),yR="/barkaas-website/assets/_RON3063-CxLiJYHl.jpg",jH=Object.freeze(Object.defineProperty({__proto__:null,default:yR},Symbol.toStringTag,{value:"Module"})),zH="/barkaas-website/assets/mainpage-1-C7o3JKTc.png",HH="/barkaas-website/assets/mainpage-2-C-_l7AVQ.png",UH="/barkaas-website/assets/mainpage-3-ZQdEfe-l.png",$H="/barkaas-website/assets/mainpage-4-ChkHu9nh.png",WH="/barkaas-website/assets/SMP_4117-BZ8EGCPG.jpg",VH="/barkaas-website/assets/SMP_4249-BuvoWixN.jpg",GH="/barkaas-website/assets/mainpage-7-C_9ynfMr.png",qH=[{title:"The Mandi Story",subtitle:"A Legacy",description:"At Barkaas, the heart of our kitchen beats to the aroma of mandi. Slow cooked, fire kissed, and deeply spiced, our mandi collection is one of the most extensive youll find; each variety rooted in tradition, perfected with care, and served as a true celebration of Indo-Arabian heritage.",image:zH},{title:"Beyond Mandi, A World of Flavours",subtitle:"A Tradition",description:"Our story doesnt end with mandi. Begin with irresistible starters and soul-warming shorbas, then explore smoky charcoal-grilled and tandoori delights crafted to perfection. From rich Indian gravies paired with freshly baked Indian breads to generous platters and aromatic kabsa, Barkaas brings together the best of Arabian and Indian cuisines under one roof. Our biryanis are a story of their own - fragrant basmati rice, rich masalas, and layers of flavor that unfold with every bite.",image:HH},{title:"Sweet Endings Worth Remembering",subtitle:"A Celebration",description:"Every great feast deserves a memorable finale. Indulge in our desserts, from crispy, molten kunafa to soft gulab jamun, royal shahi tukda, and comforting kaddu ki kheer. Each sweet is a perfect balance of richness and nostalgia.",image:UH},{title:"A Glass for Every Mood",subtitle:"A Refreshment",description:"Complete your experience with our wide range of drinks - fresh juices, vibrant mocktails, creamy faloodas, refreshing mojitos, classic lassi and buttermilk, indulgent milkshakes and thick shakes, exotic fruit blends, sundaes, sodas, ice blends, and Barkaas special mixes crafted to refresh and delight.",image:$H}],ZH=[{quote:"This Indo-Arabic spot is a winner, with incredibly friendly and professional staff!  The ambiance is a must-see, with a cool Arabic vibe that transports you! You've got to try their variety of Mandi and plattersa true feast!  And the sweets? Simply the best way to end your meal!  It might be a bit pricey, but the experience is totally worth it. ",author:"Kiran Pattanashetty",role:"Whitefield, Bengaluru",rating:4},{quote:"They have the best Mandi with a wide variety of options. The dishes have an authentic touch of Arabic cuisine, and everything tastes really good. I especially love their Drums of Heaven it tastes absolutely amazing.",author:"Arzoo Shakeen",role:"Hazratganj, Uttar Pradesh",rating:5},{quote:"If youre in Gachibowli, you have to check out Barkaas Indo Arabic Restaurant! We had an incredible dinner last nightthe BBQ starters were seasoned to perfection and the Big Daddy Mandi was absolutely worth the hype. Hands down some of the best Mandi Ive ever had. Highly recommend.",author:"Sohail Mohammad",role:"Gachibowli, Hyderabad",rating:5}],XH=[{name:"Big Daddy Mandi",description:"A grand platter of fragrant basmati rice slow-cooked with tender, generously seasoned meat, infused with traditional spices and finished with roasted nuts for a bold, celebratory feast.",image:WH},{name:"Murg Musallam Mandi",description:"Whole chicken marinated in aromatic spices, slow-roasted to juicy perfection and served atop long-grain basmati rice, delicately perfumed and garnished with roasted onions and spices.",image:VH},{name:"Mutton Shoulder Mandi",description:"Succulent mutton shoulder cooked low and slow until melt-in-the-mouth tender, paired with richly spiced basmati rice and finished with a nutty garnish for a deeply comforting experience.",image:GH}],wT=[gR,mR,vR,yR],YH=()=>{const[n,t]=O.useState(0),[e,i]=O.useState([]),[s,r]=O.useState(!1);return O.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting&&r(!0)})},{threshold:.1}),c=document.querySelector(".testimonials-section");return c&&a.observe(c),()=>a.disconnect()},[]),O.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(d=>{const f=parseInt(d.target.getAttribute("data-story-block")||"0");d.isIntersecting&&!e.includes(f)&&i(p=>[...p,f])})},{threshold:.1,rootMargin:"-20% 0px 0px 0px"});return document.querySelectorAll("[data-story-block]").forEach(u=>a.observe(u)),()=>a.disconnect()},[e]),O.useEffect(()=>{const a=setInterval(()=>{t(c=>(c+1)%wT.length)},3e3);return()=>clearInterval(a)},[]),R.jsxs(Kv,{children:[R.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 overflow-hidden",children:wT.map((a,c)=>R.jsx("div",{className:`
                absolute inset-0 bg-cover bg-center transition-opacity duration-1000
                ${c===n?"opacity-100":"opacity-0"}
              `,style:{backgroundImage:`url(${a})`},children:R.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/70 via-background/50 to-background"})},c))}),R.jsx("div",{className:"relative z-10 container mx-auto px-4 text-center",children:R.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.3em] uppercase mb-4",children:"Welcome"}),R.jsx("h1",{className:"text-3xl md:text-7xl lg:text-5xl font-heading font-bold text-gradient-gold mb-6",children:"Think Mandi, Think Barkaas."}),R.jsx("p",{className:"text-xl md:text-2xl text-foreground/80 mb-4 font-light",children:"India's Largest Indo-Arabic Chain of Restaurants"}),R.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-10 leading-relaxed",children:"A Journey Through Arabian Flavors"}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[R.jsx(Rs,{variant:"gold",size:"xl",asChild:!0,children:R.jsxs(dr,{to:"/book",children:["Reserve Your Table",R.jsx(Gy,{className:"ml-2",size:20})]})}),R.jsx(Rs,{variant:"gold-outline",size:"xl",asChild:!0,children:R.jsx(dr,{to:"/menu",children:"Explore Menu"})})]})]})}),R.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce",children:R.jsx("div",{className:"w-6 h-10 border-2 border-gold/50 rounded-full flex items-start justify-center p-2",children:R.jsx("div",{className:"w-1 h-2 bg-gold rounded-full"})})})]}),R.jsx("section",{className:"py-24 bg-pattern-arabesque",children:R.jsxs("div",{className:"container mx-auto px-4",children:[R.jsxs("div",{className:"text-center mb-16",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Why Choose Us"}),R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"The Barkaas Story"})]}),R.jsx("div",{className:"space-y-8 md:space-y-12 max-w-5xl mx-auto",children:qH.map((a,c)=>{const u=c%2===0;return R.jsxs("div",{className:`
                    flex flex-col items-center gap-6 md:gap-12
                    md:flex-row ${u?"":"md:flex-row-reverse"}
                    max-w-4xl mx-auto px-6
                    opacity-0 translate-y-8 animate-story-reveal-slow
                  `,style:{animationDelay:`${c*300}ms`},children:[R.jsxs("div",{className:"md:w-1/2 text-center md:text-left",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-3",children:a.subtitle}),R.jsx("h3",{className:"text-2xl md:text-3xl font-heading font-semibold text-foreground mb-4",children:a.title}),R.jsx("p",{className:"text-muted-foreground leading-relaxed text-lg max-w-md",children:a.description})]}),R.jsx("div",{className:"md:w-1/2 flex justify-center",children:R.jsx("div",{"data-story-block":c,className:`
                        relative w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96
                        rounded-full overflow-hidden
                        bg-background/50 backdrop-blur-sm
                        shadow-2xl shadow-gold/40
                        ${e.includes(c)?"animate-story-reveal-rotate":"opacity-0"}
                      `,children:R.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})})})]},a.title)})}),R.jsx("div",{className:"text-center mt-20 pt-4",children:R.jsx(Rs,{variant:"gold",size:"xl",asChild:!0,className:"group",children:R.jsxs(dr,{to:"/about",children:["Explore Our Legacy",R.jsx(Gy,{className:"ml-3 size-5 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),R.jsx("section",{className:"py-12 bg-secondary",children:R.jsxs("div",{className:"container mx-auto px-4",children:[R.jsxs("div",{className:"text-center mb-16",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Our Specialties"}),R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Signature Dishes"})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:XH.map((a,c)=>R.jsxs("div",{className:"relative pt-28",children:[R.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -top-1 w-52 h-52 rounded-full overflow-hidden shadow-xl z-10",children:R.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"})}),R.jsxs("div",{className:`\r
                    bg-background rounded-lg p-6 pt-28 text-center\r
                    shadow-[0_5px_20px_rgba(212,175,55,0.25)]\r
                    hover:shadow-[0_15px_40px_rgba(212,175,55,0.45)]\r
                    transition-shadow duration-300 hover:ring-1 hover:ring-[rgba(212,175,55,0.4)]\r
\r
                  `,children:[R.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:a.name}),R.jsx("p",{className:"text-muted-foreground text-sm",children:a.description})]})]},a.name))}),R.jsx("div",{className:"text-center mt-12",children:R.jsx(Rs,{variant:"gold-outline",size:"lg",asChild:!0,children:R.jsxs(dr,{to:"/menu",children:["View Full Menu",R.jsx(Gy,{className:"ml-2",size:18})]})})})]})}),R.jsxs("section",{className:"py-24 bg-gradient-to-b from-background to-secondary/50 relative overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 bg-pattern-arabesque opacity-5"}),R.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[R.jsxs("div",{className:"text-center mb-16",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"What Our Guests Say"}),R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Guest Testimonials"})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:ZH.map((a,c)=>R.jsxs("div",{className:`group relative bg-background/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl \r
                          border border-gold/20 hover:border-gold/40 hover:shadow-2xl hover:shadow-gold/30\r
                          transition-all duration-500 hover:-translate-y-2 animate-fade-in-up-slow`,style:{animationDelay:`${c*200}ms`},children:[R.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-12 h-12 bg-gold/10 rounded-2xl flex items-center justify-center border-2 border-gold/30 group-hover:bg-gold/20 transition-colors",children:R.jsx(jj,{className:"text-gold w-6 h-6"})}),R.jsx("div",{className:"flex justify-center mb-4 -mt-4",children:[...Array(5)].map((u,d)=>R.jsx(zj,{className:`w-5 h-5 ${d<a.rating?"text-gold fill-gold":"text-gold/30"}`},d))}),R.jsxs("blockquote",{className:"text-lg font-light italic text-foreground/90 leading-relaxed mb-6 text-center",children:['"',a.quote,'"']}),R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gold/20 to-gold/10 rounded-full mx-auto mb-3 flex items-center justify-center border-2 border-gold/30 group-hover:scale-110 transition-transform",children:R.jsx(r2,{className:"w-8 h-8 text-gold/70 group-hover:text-gold"})}),R.jsx("h4",{className:"font-heading font-semibold text-foreground",children:a.author}),R.jsx("p",{className:"text-gold/80 text-sm",children:a.role})]})]},a.author))})]})]}),R.jsxs("section",{className:"py-24 relative overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 bg-burgundy/20"}),R.jsx("div",{className:"container mx-auto px-4 relative z-10",children:R.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[R.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold text-foreground mb-6",children:"Ready for an Unforgettable Dining Experience?"}),R.jsx("p",{className:"text-muted-foreground text-lg mb-10 leading-relaxed",children:"Join us for a culinary journey through the rich flavors of Arabia. Reserve your table today and create memories that last a lifetime."}),R.jsx(Rs,{variant:"gold",size:"xl",asChild:!0,children:R.jsxs(dr,{to:"/book",children:["Book Your Table Now",R.jsx(Gy,{className:"ml-2",size:20})]})})]})})]})]})},si=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),v1=[.001,0,0,.001,0,0],tb=1.35,Qi={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ho={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Qg="pdfjs_internal_editor_",bt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ft={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},_R={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Tg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},We={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Lh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qv={ERRORS:0,WARNINGS:1,INFOS:5},ip={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Yy={moveTo:0,lineTo:1,curveTo:2,closePath:3},wR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Dw=Qv.WARNINGS;function KH(n){Number.isInteger(n)&&(Dw=n)}function QH(){return Dw}function Ow(n){Dw>=Qv.INFOS&&console.info(`Info: ${n}`)}function St(n){Dw>=Qv.WARNINGS&&console.warn(`Warning: ${n}`)}function ae(n){throw new Error(n)}function Bt(n,t){n||ae(t)}function JH(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function uE(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=sU(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return JH(i)?i:null}function hE(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&uE(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function kt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const gh=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class xT extends gh{constructor(t,e){super(t,"PasswordException"),this.code=e}}class eb extends gh{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class M_ extends gh{constructor(t){super(t,"InvalidPDFException")}}class Jg extends gh{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class tU extends gh{constructor(t){super(t,"FormatError")}}class ka extends gh{constructor(t){super(t,"AbortException")}}function xR(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ae("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=n.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Jv(n){typeof n!="string"&&ae("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function eU(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function nU(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function iU(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return kt(this,"isLittleEndian",nU())}static get isEvalSupported(){return kt(this,"isEvalSupported",iU())}static get isOffscreenCanvasSupported(){return kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return kt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return kt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return kt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const nb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var xa,x0,y1;class pt{static makeHexColor(t,e,i){return`#${nb[t]}${nb[e]}${nb[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const s=t[i],r=t[i+1];t[i]=s*e[0]+r*e[2]+e[4],t[i+1]=s*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],r=e[1],a=e[2],c=e[3],u=e[4],d=e[5];for(let f=0;f<6;f+=2){const p=t[i+f],m=t[i+f+1];t[i+f]=p*s+m*a+u,t[i+f+1]=p*r+m*c+d}}static applyInverseTransform(t,e){const i=t[0],s=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const s=e[0],r=e[1],a=e[2],c=e[3],u=e[4],d=e[5],f=t[0],p=t[1],m=t[2],y=t[3];let E=s*f+u,w=E,C=s*m+u,b=C,P=c*p+d,A=P,v=c*y+d,x=v;if(r!==0||a!==0){const k=r*f,I=r*m,F=a*p,B=a*y;E+=F,b+=F,C+=B,w+=B,P+=k,x+=k,v+=I,A+=I}i[0]=Math.min(i[0],E,C,w,b),i[1]=Math.min(i[1],P,v,A,x),i[2]=Math.max(i[2],E,C,w,b),i[3]=Math.max(i[3],P,v,A,x)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],r=t[2],a=t[3],c=i**2+s**2,u=i*r+s*a,d=r**2+a**2,f=(c+d)/2,p=Math.sqrt(f**2-(c*d-u**2));e[0]=Math.sqrt(f+p||1),e[1]=Math.sqrt(f-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[i,r,s,a]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,s),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,s)}static bezierBoundingBox(t,e,i,s,r,a,c,u,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,u),N(this,xa,y1).call(this,t,i,r,c,e,s,a,u,3*(-t+3*(i-r)+c),6*(t-2*i+r),3*(i-t),d),N(this,xa,y1).call(this,t,i,r,c,e,s,a,u,3*(-e+3*(s-a)+u),6*(e-2*s+a),3*(s-e),d)}}xa=new WeakSet,x0=function(t,e,i,s,r,a,c,u,d,f){if(d<=0||d>=1)return;const p=1-d,m=d*d,y=m*d,E=p*(p*(p*t+3*d*e)+3*m*i)+y*s,w=p*(p*(p*r+3*d*a)+3*m*c)+y*u;f[0]=Math.min(f[0],E),f[1]=Math.min(f[1],w),f[2]=Math.max(f[2],E),f[3]=Math.max(f[3],w)},y1=function(t,e,i,s,r,a,c,u,d,f,p,m){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&N(this,xa,x0).call(this,t,e,i,s,r,a,c,u,-p/f,m);return}const y=f**2-4*p*d;if(y<0)return;const E=Math.sqrt(y),w=2*d;N(this,xa,x0).call(this,t,e,i,s,r,a,c,u,(-f+E)/w,m),N(this,xa,x0).call(this,t,e,i,s,r,a,c,u,(-f-E)/w,m)},M(pt,xa);function sU(n){return decodeURIComponent(escape(n))}let ib=null,bT=null;function bR(n){return ib||(ib=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,bT=new Map([["","t"]])),n.replaceAll(ib,(t,e,i)=>e?e.normalize("NFKC"):bT.get(i))}function dE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),xR(n)}const fE="pdfjs_internal_id_";function rU(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...r]=e;if(!n(i)&&!Number.isInteger(i)||!t(s))return!1;const a=r.length;let c=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;c=!1;break;default:return!1}for(const u of r)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function Vn(n,t,e){return Math.min(Math.max(n,t),e)}function SR(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(xR(n))}function oU(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Jv(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class tm{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(r){var u;if(!r)return;let a=null;const c=r.name;if(c==="#text")a=r.value;else if(tm.shouldBuildText(c))(u=r==null?void 0:r.attributes)!=null&&u.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&e.push({str:a}),!!r.children)for(const d of r.children)s(d)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class pE{static setupStorage(t,e,i,s,r){const a=s.getValue(e,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?t.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const c of i.children)c.attributes.value===a.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:r}){const{attributes:a}=e,c=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[u,d]of Object.entries(a))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}c&&r.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,e,i)}static render(t){var p,m;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,r=t.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:i});const c=r!=="richText",u=t.div;if(u.append(a),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=y}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const y=document.createTextNode(s.value);a.append(y),c&&tm.shouldBuildText(s.name)&&d.push(y)}return{textDivs:d}}const f=[[s,-1,a]];for(;f.length>0;){const[y,E,w]=f.at(-1);if(E+1===y.children.length){f.pop();continue}const C=y.children[++f.at(-1)[1]];if(C===null)continue;const{name:b}=C;if(b==="#text"){const A=document.createTextNode(C.value);d.push(A),w.append(A);continue}const P=(p=C==null?void 0:C.attributes)!=null&&p.xmlns?document.createElementNS(C.attributes.xmlns,b):document.createElement(b);if(w.append(P),C.attributes&&this.setAttributes({html:P,element:C,storage:e,intent:r,linkService:i}),((m=C.children)==null?void 0:m.length)>0)f.push([C,-1,P]);else if(C.value){const A=document.createTextNode(C.value);c&&tm.shouldBuildText(b)&&d.push(A),P.append(A)}}for(const y of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const ko="http://www.w3.org/2000/svg",Lc=class Lc{};tt(Lc,"CSS",96),tt(Lc,"PDF",72),tt(Lc,"PDF_TO_CSS_UNITS",Lc.CSS/Lc.PDF);let La=Lc;async function gp(n,t="text"){if(Kp(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class ty{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:r=0,offsetY:a=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=a,i*=e;const u=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,p,m,y;switch(s%=360,s<0&&(s+=360),s){case 180:f=-1,p=0,m=0,y=1;break;case 90:f=0,p=1,m=1,y=0;break;case 270:f=0,p=-1,m=-1,y=0;break;case 0:f=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,y=-y);let E,w,C,b;f===0?(E=Math.abs(d-t[1])*i+r,w=Math.abs(u-t[0])*i+a,C=(t[3]-t[1])*i,b=(t[2]-t[0])*i):(E=Math.abs(u-t[0])*i+r,w=Math.abs(d-t[1])*i+a,C=(t[2]-t[0])*i,b=(t[3]-t[1])*i),this.transform=[f*i,p*i,m*i,y*i,E-f*i*u-m*i*d,w-p*i*u-y*i*d],this.width=C,this.height=b}get rawDims(){const t=this.viewBox;return kt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new ty({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return pt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];pt.applyTransform(e,this.transform);const i=[t[2],t[3]];return pt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return pt.applyInverseTransform(i,this.transform),i}}class Fw extends gh{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function ey(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Bw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function AR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function ER(n,t="document.pdf"){if(typeof n!="string")return t;if(ey(n))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const s=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},r=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(r.test(a))return s(a);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const d of c)if(r.test(d))return s(d);const u=Array.from(i.searchParams.keys()).reverse();for(const d of u)if(r.test(d))return s(d)}if(i.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(u)return s(u[0])}return t}class ST{constructor(){tt(this,"started",Object.create(null));tt(this,"times",[])}time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-s}ms
`);return t.join("")}}function Kp(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function ls(n){n.preventDefault()}function Te(n){n.preventDefault(),n.stopPropagation()}function aU(n){console.log("Deprecated API usage: "+n)}var lm;class em{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;l(this,lm)||S(this,lm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=l(this,lm).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=f,c+=p):d==="+"&&(a-=f,c-=p),new Date(Date.UTC(i,s,r,a,c,u))}}lm=new WeakMap,M(em,lm);function PR(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new ty({viewBox:r,userUnit:1,scale:t,rotation:e})}function mp(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${n}"`),[0,0,0])}function lU(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,mp(i))}t.remove()}function Pe(n){const{a:t,b:e,c:i,d:s,e:r,f:a}=n.getTransform();return[t,e,i,s,r,a]}function Ir(n){const{a:t,b:e,c:i,d:s,e:r,f:a}=n.getTransform().invertSelf();return[t,e,i,s,r,a]}function uc(n,t,e=!1,i=!0){if(t instanceof ty){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=n,c=wn.isCSSRoundSupported,u=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${r}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(a.width=f,a.height=p):(a.width=p,a.height=f)}i&&n.setAttribute("data-main-rotation",t.rotation)}class wr{constructor(){const{pixelRatio:t}=wr;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,r=-1){let a=1/0,c=1/0,u=1/0;i=wr.capPixels(i,r),i>0&&(a=Math.sqrt(i/(t*e))),s!==-1&&(c=s/t,u=s/e);const d=Math.min(a,c,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const R_=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class cU{static get isDarkMode(){var t;return kt(this,"isDarkMode",!!((t=window==null?void 0:window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches))}}class CR{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),kt(this,"commentForegroundColor",mp(i))}}function TR(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const s=255*(1-i);return n=Math.round(n*i+s),t=Math.round(t*i+s),e=Math.round(e*i+s),[n,t,e]}function AT(n,t){const e=n[0]/255,i=n[1]/255,s=n[2]/255,r=Math.max(e,i,s),a=Math.min(e,i,s),c=(r+a)/2;if(r===a)t[0]=t[1]=0;else{const u=r-a;switch(t[1]=c<.5?u/(r+a):u/(2-r-a),r){case e:t[0]=((i-s)/u+(i<s?6:0))*60;break;case i:t[0]=((s-e)/u+2)*60;break;case s:t[0]=((e-i)/u+4)*60;break}}t[2]=c}function _1(n,t){const e=n[0],i=n[1],s=n[2],r=(1-Math.abs(2*s-1))*i,a=r*(1-Math.abs(e/60%2-1)),c=s-r/2;switch(Math.floor(e/60)){case 0:t[0]=r+c,t[1]=a+c,t[2]=c;break;case 1:t[0]=a+c,t[1]=r+c,t[2]=c;break;case 2:t[0]=c,t[1]=r+c,t[2]=a+c;break;case 3:t[0]=c,t[1]=a+c,t[2]=r+c;break;case 4:t[0]=a+c,t[1]=c,t[2]=r+c;break;case 5:case 6:t[0]=r+c,t[1]=c,t[2]=a+c;break}}function ET(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function PT(n,t,e){_1(n,e),e.map(ET);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];_1(t,e),e.map(ET);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>s?(i+.05)/(s+.05):(s+.05)/(i+.05)}const CT=new Map;function kR(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=CT.get(e);if(i)return i;const s=new Float32Array(9),r=s.subarray(0,3),a=s.subarray(3,6);AT(n,a);const c=s.subarray(6,9);AT(t,c);const u=c[2]<.5,d=u?12:4.5;if(a[2]=u?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),PT(a,c,r)<d){let f,p;u?(f=a[2],p=1):(f=0,p=a[2]);const m=.005;for(;p-f>m;){const y=a[2]=(f+p)/2;u===PT(a,c,r)<d?f=y:p=y}a[2]=u?p:f}return _1(a,r),i=pt.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),CT.set(e,i),i}function gE({html:n,dir:t,className:e},i){const s=document.createDocumentFragment();if(typeof n=="string"){const r=document.createElement("p");r.dir=t||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let c=0,u=a.length;c<u;++c){const d=a[c];r.append(document.createTextNode(d)),c<u-1&&r.append(document.createElement("br"))}s.append(r)}else pE.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",e),i.append(s)}var Qa,Ja,_s,ws,cm,tl,xd,bd,um,$_,LR,Mn,MR,RR,Mh,Qp;const Io=class Io{constructor(t){M(this,Mn);M(this,Qa,null);M(this,Ja,null);M(this,_s);M(this,ws,null);M(this,cm,null);M(this,tl,null);M(this,xd,null);M(this,bd,null);S(this,_s,t),l(Io,um)||S(Io,um,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=S(this,Qa,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=l(this,_s)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",ls,{signal:e}),t.addEventListener("pointerdown",N(Io,$_,LR),{signal:e}));const i=S(this,ws,document.createElement("div"));i.className="buttons",t.append(i);const s=l(this,_s).toolbarPosition;if(s){const{style:r}=t,a=l(this,_s)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return l(this,Qa)}hide(){var t;l(this,Qa).classList.add("hidden"),(t=l(this,Ja))==null||t.hideDropdown()}show(){var t,e;l(this,Qa).classList.remove("hidden"),(t=l(this,cm))==null||t.shown(),(e=l(this,tl))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=l(this,_s),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",l(Io,um)[t]),N(this,Mn,Mh).call(this,i)&&i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),l(this,ws).append(i)}async addAltText(t){const e=await t.render();N(this,Mn,Mh).call(this,e),l(this,ws).append(e,l(this,Mn,Qp)),S(this,cm,t)}addComment(t,e=null){if(l(this,tl))return;const i=t.renderForToolbar();if(!i)return;N(this,Mn,Mh).call(this,i);const s=S(this,xd,l(this,Mn,Qp));e?(l(this,ws).insertBefore(i,e),l(this,ws).insertBefore(s,e)):l(this,ws).append(i,s),S(this,tl,t),t.toolbar=this}addColorPicker(t){if(l(this,Ja))return;S(this,Ja,t);const e=t.renderButton();N(this,Mn,Mh).call(this,e),l(this,ws).append(e,l(this,Mn,Qp))}async addEditSignatureButton(t){const e=S(this,bd,await t.renderEditButton(l(this,_s)));N(this,Mn,Mh).call(this,e),l(this,ws).append(e,l(this,Mn,Qp))}removeButton(t){var e,i;switch(t){case"comment":(e=l(this,tl))==null||e.removeToolbarCommentButton(),S(this,tl,null),(i=l(this,xd))==null||i.remove(),S(this,xd,null);break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const s=l(this,ws).querySelector(i);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){l(this,bd)&&(l(this,bd).title=t)}remove(){var t;l(this,Qa).remove(),(t=l(this,Ja))==null||t.destroy(),S(this,Ja,null)}};Qa=new WeakMap,Ja=new WeakMap,_s=new WeakMap,ws=new WeakMap,cm=new WeakMap,tl=new WeakMap,xd=new WeakMap,bd=new WeakMap,um=new WeakMap,$_=new WeakSet,LR=function(t){t.stopPropagation()},Mn=new WeakSet,MR=function(t){l(this,_s)._focusEventsAllowed=!1,Te(t)},RR=function(t){l(this,_s)._focusEventsAllowed=!0,Te(t)},Mh=function(t){const e=l(this,_s)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",N(this,Mn,MR).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",N(this,Mn,RR).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ls,{signal:e}),!0)},Qp=function(){const t=document.createElement("div");return t.className="divider",t},M(Io,$_),M(Io,um,null);let w1=Io;var hm,Uc,Bo,Ma,NR,IR,x1;class uU{constructor(t){M(this,Ma);M(this,hm,null);M(this,Uc,null);M(this,Bo);S(this,Bo,t)}show(t,e,i){const[s,r]=N(this,Ma,IR).call(this,e,i),{style:a}=l(this,Uc)||S(this,Uc,N(this,Ma,NR).call(this));t.append(l(this,Uc)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,Uc).remove()}}hm=new WeakMap,Uc=new WeakMap,Bo=new WeakMap,Ma=new WeakSet,NR=function(){const t=S(this,Uc,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=l(this,Bo)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",ls,{signal:e});const i=S(this,hm,document.createElement("div"));return i.className="buttons",t.append(i),l(this,Bo).hasCommentManager()&&N(this,Ma,x1).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,Bo).commentSelection("floating_button")}),N(this,Ma,x1).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,Bo).highlightSelection("floating_button")}),t},IR=function(t,e){let i=0,s=0;for(const r of t){const a=r.y+r.height;if(a<i)continue;const c=r.x+(e?r.width:0);if(a>i){s=c,i=a;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,i]},x1=function(t,e,i,s){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const a=document.createElement("span");r.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const c=l(this,Bo)._signal;c instanceof AbortSignal&&!c.aborted&&(r.addEventListener("contextmenu",ls,{signal:c}),r.addEventListener("click",s,{signal:c})),l(this,hm).append(r)};function DR(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var W_;class hU{constructor(){M(this,W_,0)}get id(){return`${Qg}${Ie(this,W_)._++}`}}W_=new WeakMap;var Sd,dm,jn,Ad,b0;const PE=class PE{constructor(){M(this,Ad);M(this,Sd,dE());M(this,dm,0);M(this,jn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return kt(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:r}=t;return N(this,Ad,b0).call(this,`${e}_${i}_${s}_${r}`,t)}async getFromUrl(t){return N(this,Ad,b0).call(this,t,t)}async getFromBlob(t,e){const i=await e;return N(this,Ad,b0).call(this,t,i)}async getFromId(t){l(this,jn)||S(this,jn,new Map);const e=l(this,jn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){l(this,jn)||S(this,jn,new Map);let i=l(this,jn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${l(this,Sd)}_${Ie(this,dm)._++}`,refCounter:1,isSvg:!1},l(this,jn).set(t,i),l(this,jn).set(i.id,i),i}getSvgUrl(t){const e=l(this,jn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;l(this,jn)||S(this,jn,new Map);const e=l(this,jn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${l(this,Sd)}_`)}};Sd=new WeakMap,dm=new WeakMap,jn=new WeakMap,Ad=new WeakSet,b0=async function(t,e){l(this,jn)||S(this,jn,new Map);let i=l(this,jn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,Sd)}_${Ie(this,dm)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await gp(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const r=PE._isSVGFittingCanvas,a=new FileReader,c=new Image,u=new Promise((d,f)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,d()},a.onload=async()=>{const p=i.svgUrl=a.result;c.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=a.onerror=f});a.readAsDataURL(s),await u}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){St(s),i=null}return l(this,jn).set(t,i),i&&l(this,jn).set(i.id,i),i};let b1=PE;var Ve,el,fm,Ee;class dU{constructor(t=128){M(this,Ve,[]);M(this,el,!1);M(this,fm);M(this,Ee,-1);S(this,fm,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:c=!1}){if(s&&t(),l(this,el))return;const u={cmd:t,undo:e,post:i,type:r};if(l(this,Ee)===-1){l(this,Ve).length>0&&(l(this,Ve).length=0),S(this,Ee,0),l(this,Ve).push(u);return}if(a&&l(this,Ve)[l(this,Ee)].type===r){c&&(u.undo=l(this,Ve)[l(this,Ee)].undo),l(this,Ve)[l(this,Ee)]=u;return}const d=l(this,Ee)+1;d===l(this,fm)?l(this,Ve).splice(0,1):(S(this,Ee,d),d<l(this,Ve).length&&l(this,Ve).splice(d)),l(this,Ve).push(u)}undo(){if(l(this,Ee)===-1)return;S(this,el,!0);const{undo:t,post:e}=l(this,Ve)[l(this,Ee)];t(),e==null||e(),S(this,el,!1),S(this,Ee,l(this,Ee)-1)}redo(){if(l(this,Ee)<l(this,Ve).length-1){S(this,Ee,l(this,Ee)+1),S(this,el,!0);const{cmd:t,post:e}=l(this,Ve)[l(this,Ee)];t(),e==null||e(),S(this,el,!1)}}hasSomethingToUndo(){return l(this,Ee)!==-1}hasSomethingToRedo(){return l(this,Ee)<l(this,Ve).length-1}cleanType(t){if(l(this,Ee)!==-1){for(let e=l(this,Ee);e>=0;e--)if(l(this,Ve)[e].type!==t){l(this,Ve).splice(e+1,l(this,Ee)-e),S(this,Ee,e);return}l(this,Ve).length=0,S(this,Ee,-1)}}destroy(){S(this,Ve,null)}}Ve=new WeakMap,el=new WeakMap,fm=new WeakMap,Ee=new WeakMap;var V_,OR;class ny{constructor(t){M(this,V_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=wn.platform;for(const[i,s,r={}]of t)for(const a of i){const c=a.startsWith("mac+");e&&c?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!c&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(N(this,V_,OR).call(this,e));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:c=null}}=i;c&&!c(t,e)||(s.bind(t,...a,e)(),r||Te(e))}}V_=new WeakSet,OR=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const G_=class G_{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return lU(t),kt(this,"_colors",t)}convert(t){const e=mp(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((r,a)=>r===e[a]))return G_._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?pt.makeHexColor(...e):t}};tt(G_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let S1=G_;var Ed,Di,Pd,Oe,nn,Cd,xs,Td,bs,zn,nl,il,kd,sl,Hr,Ss,$c,pm,gm,Ld,mm,Ur,rl,Md,ol,$r,q_,al,Rd,vm,ll,Wc,Nd,cl,ym,Ke,Zt,jo,ul,hl,_m,Id,wm,dl,Wr,zo,xm,bm,As,ot,S0,A1,FR,BR,Jp,jR,zR,HR,E1,UR,P1,C1,$R,Qn,Lo,WR,VR,T1,GR,tg,k1;const Qh=class Qh{constructor(t,e,i,s,r,a,c,u,d,f,p,m,y,E,w,C){M(this,ot);M(this,Ed,new AbortController);M(this,Di,null);M(this,Pd,null);M(this,Oe,new Map);M(this,nn,new Map);M(this,Cd,null);M(this,xs,null);M(this,Td,null);M(this,bs,new dU);M(this,zn,null);M(this,nl,null);M(this,il,null);M(this,kd,0);M(this,sl,new Set);M(this,Hr,null);M(this,Ss,null);M(this,$c,new Set);tt(this,"_editorUndoBar",null);M(this,pm,!1);M(this,gm,!1);M(this,Ld,!1);M(this,mm,null);M(this,Ur,null);M(this,rl,null);M(this,Md,null);M(this,ol,!1);M(this,$r,null);M(this,q_,new hU);M(this,al,!1);M(this,Rd,!1);M(this,vm,!1);M(this,ll,null);M(this,Wc,null);M(this,Nd,null);M(this,cl,null);M(this,ym,null);M(this,Ke,bt.NONE);M(this,Zt,new Set);M(this,jo,null);M(this,ul,null);M(this,hl,null);M(this,_m,null);M(this,Id,null);M(this,wm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});M(this,dl,[0,0]);M(this,Wr,null);M(this,zo,null);M(this,xm,null);M(this,bm,null);M(this,As,null);const b=this._signal=l(this,Ed).signal;S(this,zo,t),S(this,xm,e),S(this,bm,i),S(this,Cd,s),S(this,zn,r),S(this,ul,a),S(this,Id,u),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:b}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),c._on("setpreference",this.onSetPreference.bind(this),{signal:b}),c._on("switchannotationeditorparams",P=>this.updateParams(P.type,P.value),{signal:b}),window.addEventListener("pointerdown",()=>{S(this,Rd,!0)},{capture:!0,signal:b}),window.addEventListener("pointerup",()=>{S(this,Rd,!1)},{capture:!0,signal:b}),N(this,ot,jR).call(this),N(this,ot,$R).call(this),N(this,ot,E1).call(this),S(this,xs,u.annotationStorage),S(this,mm,u.filterFactory),S(this,hl,d),S(this,Md,f||null),S(this,pm,p),S(this,gm,m),S(this,Ld,y),S(this,ym,E||null),this.viewParameters={realScale:La.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=C!==!1,r==null||r.setSidebarUiManager(this)}static get _keyboardManager(){const t=Qh.prototype,e=a=>l(a,zo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return kt(this,"_keyboardManager",new ny([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&l(a,zo).contains(c)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&l(a,zo).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,s,r,a,c,u,d;(t=l(this,As))==null||t.resolve(),S(this,As,null),(e=l(this,Ed))==null||e.abort(),S(this,Ed,null),this._signal=null;for(const f of l(this,nn).values())f.destroy();l(this,nn).clear(),l(this,Oe).clear(),l(this,$c).clear(),(i=l(this,cl))==null||i.clear(),S(this,Di,null),l(this,Zt).clear(),l(this,bs).destroy(),(s=l(this,Cd))==null||s.destroy(),(r=l(this,zn))==null||r.destroy(),(a=l(this,ul))==null||a.destroy(),(c=l(this,$r))==null||c.hide(),S(this,$r,null),(u=l(this,Nd))==null||u.destroy(),S(this,Nd,null),S(this,Pd,null),l(this,Ur)&&(clearTimeout(l(this,Ur)),S(this,Ur,null)),l(this,Wr)&&(clearTimeout(l(this,Wr)),S(this,Wr,null)),(d=this._editorUndoBar)==null||d.destroy(),S(this,Id,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return l(this,ym)}get useNewAltTextFlow(){return l(this,gm)}get useNewAltTextWhenAddingImage(){return l(this,Ld)}get hcmFilter(){return kt(this,"hcmFilter",l(this,hl)?l(this,mm).addHCMFilter(l(this,hl).foreground,l(this,hl).background):"none")}get direction(){return kt(this,"direction",getComputedStyle(l(this,zo)).direction)}get _highlightColors(){return kt(this,"_highlightColors",l(this,Md)?new Map(l(this,Md).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return kt(this,"highlightColors",null);const e=new Map,i=!!l(this,hl);for(const[s,r]of t){const a=s.endsWith("_HCM");if(i&&a){e.set(s.replace("_HCM",""),r);continue}!i&&!a&&e.set(s,r)}return kt(this,"highlightColors",e)}get highlightColorNames(){return kt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),S(this,il,t)}setMainHighlightColorPicker(t){S(this,Nd,t)}editAltText(t,e=!1){var i;(i=l(this,Cd))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!l(this,zn)}editComment(t,e,i,s){var r;(r=l(this,zn))==null||r.showDialog(this,t,e,i,s)}selectComment(t,e){const i=l(this,nn).get(t),s=i==null?void 0:i.getEditorByUID(e);s==null||s.toggleComment(!0,!0)}updateComment(t){var e;(e=l(this,zn))==null||e.updateComment(t.getData())}updatePopupColor(t){var e;(e=l(this,zn))==null||e.updatePopupColor(t)}removeComment(t){var e;(e=l(this,zn))==null||e.removeComments([t.uid])}toggleComment(t,e,i=void 0){var s;(s=l(this,zn))==null||s.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var i;return t&&((i=l(this,zn))==null?void 0:i.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return((t=l(this,zn))==null?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(l(this,nn).has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),s=r=>{r.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await i}getSignature(t){var e;(e=l(this,ul))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return l(this,ul)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":S(this,Ld,e);break}}onPageChanging({pageNumber:t}){S(this,kd,t-1)}focusMainContainer(){l(this,zo).focus()}findParent(t,e){for(const i of l(this,nn).values()){const{x:s,y:r,width:a,height:c}=i.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+c)return i}return null}disableUserSelect(t=!1){l(this,xm).classList.toggle("noUserSelect",t)}addShouldRescale(t){l(this,$c).add(t)}removeShouldRescale(t){l(this,$c).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*La.PDF_TO_CSS_UNITS;for(const i of l(this,$c))i.onScaleChanging();(e=l(this,il))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:c}=i,u=i.toString(),f=N(this,ot,S0).call(this,i).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;i.empty();const m=N(this,ot,A1).call(this,f),y=l(this,Ke)===bt.NONE,E=()=>{const w=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:c,text:u});y&&this.showAllEditors("highlight",!0,!0),e&&(w==null||w.editComment())};if(y){this.switchToMode(bt.HIGHLIGHT,E);return}E()}commentSelection(t=""){this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!l(this,xs))return null;const e=`${Qg}${t}`,i=l(this,xs).getRawValue(e);return i&&l(this,xs).remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&l(this,xs)&&!l(this,xs).has(t.id)&&l(this,xs).setValue(t.id,t)}a11yAlert(t,e=null){const i=l(this,bm);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,ol)&&(S(this,ol,!1),N(this,ot,Jp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of l(this,Zt))if(e.div.contains(t)){S(this,Wc,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!l(this,Wc))return;const[t,e]=l(this,Wc);S(this,Wc,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){N(this,ot,E1).call(this),N(this,ot,P1).call(this)}removeEditListeners(){N(this,ot,UR).call(this),N(this,ot,C1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of l(this,Ss))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of l(this,Ss))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=l(this,Di))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of l(this,Zt)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of l(this,Ss))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){St(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const u of i){const d=await s.deserialize(u);if(!d)return;r.push(d)}const a=()=>{for(const u of r)N(this,ot,T1).call(this,u);N(this,ot,k1).call(this,r)},c=()=>{for(const u of r)u.remove()};this.addCommands({cmd:a,undo:c,mustExec:!0})}catch(r){St(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Ke)!==bt.NONE&&!this.isEditorHandlingKeyboard&&Qh._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,ol)&&(S(this,ol,!1),N(this,ot,Jp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(N(this,ot,zR).call(this),N(this,ot,P1).call(this),N(this,ot,Qn).call(this,{isEditing:l(this,Ke)!==bt.NONE,isEmpty:N(this,ot,tg).call(this),hasSomethingToUndo:l(this,bs).hasSomethingToUndo(),hasSomethingToRedo:l(this,bs).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,ot,HR).call(this),N(this,ot,C1).call(this),N(this,ot,Qn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!l(this,Ss)){S(this,Ss,t);for(const e of l(this,Ss))N(this,ot,Lo).call(this,e.defaultPropertiesToUpdate)}}getId(){return l(this,q_).id}get currentLayer(){return l(this,nn).get(l(this,kd))}getLayer(t){return l(this,nn).get(t)}get currentPageIndex(){return l(this,kd)}addLayer(t){l(this,nn).set(t.pageIndex,t),l(this,al)?t.enable():t.disable()}removeLayer(t){l(this,nn).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,s=!1,r=!1){var a,c,u,d,f,p;if(l(this,Ke)!==t&&!(l(this,As)&&(await l(this,As).promise,!l(this,As)))){if(S(this,As,Promise.withResolvers()),(a=l(this,il))==null||a.commitOrRemove(),l(this,Ke)===bt.POPUP&&((c=l(this,zn))==null||c.hideSidebar()),(u=l(this,zn))==null||u.destroyPopup(),S(this,Ke,t),t===bt.NONE){this.setEditingState(!1),N(this,ot,VR).call(this);for(const m of l(this,Oe).values())m.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),l(this,As).resolve();return}for(const m of l(this,Oe).values())m.addStandaloneCommentButton();t===bt.SIGNATURE&&await((f=l(this,ul))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await N(this,ot,WR).call(this),this.unselectAll();for(const m of l(this,nn).values())m.updateMode(t);if(t===bt.POPUP){l(this,Pd)||S(this,Pd,await l(this,Id).getAnnotationsByType(new Set(l(this,Ss).map(E=>E._editorType))));const m=new Set,y=[];for(const E of l(this,Oe).values()){const{annotationElementId:w,hasComment:C,deleted:b}=E;w&&m.add(w),C&&!b&&y.push(E.getData())}for(const E of l(this,Pd)){const{id:w,popupRef:C,contentsObj:b}=E;C&&(b!=null&&b.str)&&!m.has(w)&&!l(this,sl).has(w)&&y.push(E)}(p=l(this,zn))==null||p.showSidebar(y)}if(!e){i&&this.addNewEditorFromKeyboard(),l(this,As).resolve();return}for(const m of l(this,Oe).values())m.uid===e?(this.setSelected(m),r?m.editComment():s?m.enterInEditMode():m.focus()):m.unselect();l(this,As).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==l(this,Ke)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(l(this,Ss)){switch(t){case Ft.CREATE:this.currentLayer.addNewEditor(e);return;case Ft.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,_m)||S(this,_m,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of l(this,Zt))i.updateParams(t,e);else for(const i of l(this,Ss))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const a of l(this,Oe).values())a.editorType===t&&a.show(e);(((r=l(this,_m))==null?void 0:r.get(Ft.HIGHLIGHT_SHOW_ALL))??!0)!==e&&N(this,ot,Lo).call(this,[[Ft.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(l(this,vm)!==t){S(this,vm,t);for(const e of l(this,nn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of l(this,Oe).values())e.pageIndex===t&&(yield e)}getEditor(t){return l(this,Oe).get(t)}addEditor(t){l(this,Oe).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(l(this,Ur)&&clearTimeout(l(this,Ur)),S(this,Ur,setTimeout(()=>{this.focusMainContainer(),S(this,Ur,null)},0))),l(this,Oe).delete(t.id),t.annotationElementId&&((e=l(this,cl))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!l(this,sl).has(t.annotationElementId))&&((i=l(this,xs))==null||i.remove(t.id))}addDeletedAnnotationElement(t){l(this,sl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return l(this,sl).has(t)}removeDeletedAnnotationElement(t){l(this,sl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){l(this,Di)!==t&&(S(this,Di,t),t&&N(this,ot,Lo).call(this,t.propertiesToUpdate))}updateUI(t){l(this,ot,GR)===t&&N(this,ot,Lo).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){N(this,ot,Lo).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(l(this,Zt).has(t)){l(this,Zt).delete(t),t.unselect(),N(this,ot,Qn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Zt).add(t),t.select(),N(this,ot,Lo).call(this,t.propertiesToUpdate),N(this,ot,Qn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=l(this,il))==null||e.commitOrRemove();for(const i of l(this,Zt))i!==t&&i.unselect();l(this,Zt).clear(),l(this,Zt).add(t),t.select(),N(this,ot,Lo).call(this,t.propertiesToUpdate),N(this,ot,Qn).call(this,{hasSelectedEditor:!0})}isSelected(t){return l(this,Zt).has(t)}get firstSelectedEditor(){return l(this,Zt).values().next().value}unselect(t){t.unselect(),l(this,Zt).delete(t),N(this,ot,Qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Zt).size!==0}get isEnterHandled(){return l(this,Zt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;l(this,bs).undo(),N(this,ot,Qn).call(this,{hasSomethingToUndo:l(this,bs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,ot,tg).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){l(this,bs).redo(),N(this,ot,Qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,bs).hasSomethingToRedo(),isEmpty:N(this,ot,tg).call(this)})}addCommands(t){l(this,bs).add(t),N(this,ot,Qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,ot,tg).call(this)})}cleanUndoStack(t){l(this,bs).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...l(this,Zt)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(s,e.length===1?e[0].editorType:e.length);for(const c of e)c.remove()},s=()=>{for(const a of e)N(this,ot,T1).call(this,a)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=l(this,Di))==null||t.commitOrRemove()}hasSomethingToControl(){return l(this,Di)||this.hasSelection}selectAll(){for(const t of l(this,Zt))t.commit();N(this,ot,k1).call(this,l(this,Oe).values())}unselectAll(){var t;if(!(l(this,Di)&&(l(this,Di).commitOrRemove(),l(this,Ke)!==bt.NONE))&&!((t=l(this,il))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of l(this,Zt))e.unselect();l(this,Zt).clear(),N(this,ot,Qn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;l(this,dl)[0]+=t,l(this,dl)[1]+=e;const[s,r]=l(this,dl),a=[...l(this,Zt)],c=1e3;l(this,Wr)&&clearTimeout(l(this,Wr)),S(this,Wr,setTimeout(()=>{S(this,Wr,null),l(this,dl)[0]=l(this,dl)[1]=0,this.addCommands({cmd:()=>{for(const u of a)l(this,Oe).has(u.id)&&(u.translateInPage(s,r),u.translationDone())},undo:()=>{for(const u of a)l(this,Oe).has(u.id)&&(u.translateInPage(-s,-r),u.translationDone())},mustExec:!1})},c));for(const u of a)u.translateInPage(t,e),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,Hr,new Map);for(const t of l(this,Zt))l(this,Hr).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Hr))return!1;this.disableUserSelect(!1);const t=l(this,Hr);S(this,Hr,null);let e=!1;for(const[{x:s,y:r,pageIndex:a},c]of t)c.newX=s,c.newY=r,c.newPageIndex=a,e||(e=s!==c.savedX||r!==c.savedY||a!==c.savedPageIndex);if(!e)return!1;const i=(s,r,a,c)=>{if(l(this,Oe).has(s.id)){const u=l(this,nn).get(c);u?s._setParentAndPosition(u,r,a):(s.pageIndex=c,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:c}]of t)i(s,r,a,c)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:c}]of t)i(s,r,a,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(l(this,Hr))for(const i of l(this,Hr).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||l(this,Zt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return l(this,Di)===t}getActive(){return l(this,Di)}getMode(){return l(this,Ke)}isEditingMode(){return l(this,Ke)!==bt.NONE}get imageManager(){return kt(this,"imageManager",new b1)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:a}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,f,p,m)=>({x:(f-s)/a,y:1-(d+p-i)/r,width:m/a,height:p/r});break;case"180":c=(d,f,p,m)=>({x:1-(d+p-i)/r,y:1-(f+m-s)/a,width:p/r,height:m/a});break;case"270":c=(d,f,p,m)=>({x:1-(f+m-s)/a,y:(d-i)/r,width:m/a,height:p/r});break;default:c=(d,f,p,m)=>({x:(d-i)/r,y:(f-s)/a,width:p/r,height:m/a});break}const u=[];for(let d=0,f=e.rangeCount;d<f;d++){const p=e.getRangeAt(d);if(!p.collapsed)for(const{x:m,y,width:E,height:w}of p.getClientRects())E===0||w===0||u.push(c(m,y,E,w))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(l(this,Td)||S(this,Td,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=l(this,Td))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=l(this,Td))==null?void 0:s.get(t.data.id);if(!e)return;const i=l(this,xs).getRawValue(e);i&&(l(this,Ke)===bt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const s=(r=l(this,cl))==null?void 0:r.get(t);s&&(s.setCanvas(e,i),l(this,cl).delete(t))}addMissingCanvas(t,e){(l(this,cl)||S(this,cl,new Map)).set(t,e)}};Ed=new WeakMap,Di=new WeakMap,Pd=new WeakMap,Oe=new WeakMap,nn=new WeakMap,Cd=new WeakMap,xs=new WeakMap,Td=new WeakMap,bs=new WeakMap,zn=new WeakMap,nl=new WeakMap,il=new WeakMap,kd=new WeakMap,sl=new WeakMap,Hr=new WeakMap,Ss=new WeakMap,$c=new WeakMap,pm=new WeakMap,gm=new WeakMap,Ld=new WeakMap,mm=new WeakMap,Ur=new WeakMap,rl=new WeakMap,Md=new WeakMap,ol=new WeakMap,$r=new WeakMap,q_=new WeakMap,al=new WeakMap,Rd=new WeakMap,vm=new WeakMap,ll=new WeakMap,Wc=new WeakMap,Nd=new WeakMap,cl=new WeakMap,ym=new WeakMap,Ke=new WeakMap,Zt=new WeakMap,jo=new WeakMap,ul=new WeakMap,hl=new WeakMap,_m=new WeakMap,Id=new WeakMap,wm=new WeakMap,dl=new WeakMap,Wr=new WeakMap,zo=new WeakMap,xm=new WeakMap,bm=new WeakMap,As=new WeakMap,ot=new WeakSet,S0=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},A1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of l(this,nn).values())if(i.hasTextLayer(t))return i;return null},FR=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=N(this,ot,S0).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(l(this,$r)||S(this,$r,new uU(this)),l(this,$r).show(i,s,this.direction==="ltr"))},BR=function(){var r,a,c;const t=document.getSelection();if(!t||t.isCollapsed){l(this,jo)&&((r=l(this,$r))==null||r.hide(),S(this,jo,null),N(this,ot,Qn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===l(this,jo))return;const s=N(this,ot,S0).call(this,t).closest(".textLayer");if(!s){l(this,jo)&&((a=l(this,$r))==null||a.hide(),S(this,jo,null),N(this,ot,Qn).call(this,{hasSelectedText:!1}));return}if((c=l(this,$r))==null||c.hide(),S(this,jo,e),N(this,ot,Qn).call(this,{hasSelectedText:!0}),!(l(this,Ke)!==bt.HIGHLIGHT&&l(this,Ke)!==bt.NONE)&&(l(this,Ke)===bt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,ol,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=l(this,Ke)===bt.HIGHLIGHT?N(this,ot,A1).call(this,s):null;if(u==null||u.toggleDrawing(),l(this,Rd)){const d=new AbortController,f=this.combinedSignal(d),p=m=>{m.type==="pointerup"&&m.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),m.type==="pointerup"&&N(this,ot,Jp).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}else u==null||u.toggleDrawing(!0),N(this,ot,Jp).call(this,"main_toolbar")}},Jp=function(t=""){l(this,Ke)===bt.HIGHLIGHT?this.highlightSelection(t):l(this,pm)&&N(this,ot,FR).call(this)},jR=function(){document.addEventListener("selectionchange",N(this,ot,BR).bind(this),{signal:this._signal})},zR=function(){if(l(this,rl))return;S(this,rl,new AbortController);const t=this.combinedSignal(l(this,rl));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},HR=function(){var t;(t=l(this,rl))==null||t.abort(),S(this,rl,null)},E1=function(){if(l(this,ll))return;S(this,ll,new AbortController);const t=this.combinedSignal(l(this,ll));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},UR=function(){var t;(t=l(this,ll))==null||t.abort(),S(this,ll,null)},P1=function(){if(l(this,nl))return;S(this,nl,new AbortController);const t=this.combinedSignal(l(this,nl));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},C1=function(){var t;(t=l(this,nl))==null||t.abort(),S(this,nl,null)},$R=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Qn=function(t){Object.entries(t).some(([i,s])=>l(this,wm)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,wm),t)}),l(this,Ke)===bt.HIGHLIGHT&&t.hasSelectedEditor===!1&&N(this,ot,Lo).call(this,[[Ft.HIGHLIGHT_FREE,!0]]))},Lo=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},WR=async function(){if(!l(this,al)){S(this,al,!0);const t=[];for(const e of l(this,nn).values())t.push(e.enable());await Promise.all(t);for(const e of l(this,Oe).values())e.enable()}},VR=function(){if(this.unselectAll(),l(this,al)){S(this,al,!1);for(const t of l(this,nn).values())t.disable();for(const t of l(this,Oe).values())t.disable()}},T1=function(t){const e=l(this,nn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},GR=function(){let t=null;for(t of l(this,Zt));return t},tg=function(){if(l(this,Oe).size===0)return!0;if(l(this,Oe).size===1)for(const t of l(this,Oe).values())return t.isEmpty();return!1},k1=function(t){for(const e of l(this,Zt))e.unselect();l(this,Zt).clear();for(const e of t)e.isEmpty()||(l(this,Zt).add(e),e.select());N(this,ot,Qn).call(this,{hasSelectedEditor:this.hasSelection})},tt(Qh,"TRANSLATE_SMALL",1),tt(Qh,"TRANSLATE_BIG",10);let hc=Qh;var hn,Vr,Qs,Dd,Gr,Oi,Od,qr,vi,Ho,Vc,Zr,fl,fr,eg,A0;const Jn=class Jn{constructor(t){M(this,fr);M(this,hn,null);M(this,Vr,!1);M(this,Qs,null);M(this,Dd,null);M(this,Gr,null);M(this,Oi,null);M(this,Od,!1);M(this,qr,null);M(this,vi,null);M(this,Ho,null);M(this,Vc,null);M(this,Zr,!1);S(this,vi,t),S(this,Zr,t._uiManager.useNewAltTextFlow),l(Jn,fl)||S(Jn,fl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Jn._l10n??(Jn._l10n=t)}async render(){const t=S(this,Qs,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=S(this,Dd,document.createElement("span"));t.append(e),l(this,Zr)?(t.classList.add("new"),t.setAttribute("data-l10n-id",l(Jn,fl).missing),e.setAttribute("data-l10n-id",l(Jn,fl)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=l(this,vi)._uiManager._signal;t.addEventListener("contextmenu",ls,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),l(this,vi)._uiManager.editAltText(l(this,vi)),l(this,Zr)&&l(this,vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,fr,eg)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(S(this,Od,!0),s(r))},{signal:i}),await N(this,fr,A0).call(this),t}finish(){l(this,Qs)&&(l(this,Qs).focus({focusVisible:l(this,Od)}),S(this,Od,!1))}isEmpty(){return l(this,Zr)?l(this,hn)===null:!l(this,hn)&&!l(this,Vr)}hasData(){return l(this,Zr)?l(this,hn)!==null||!!l(this,Ho):this.isEmpty()}get guessedText(){return l(this,Ho)}async setGuessedText(t){l(this,hn)===null&&(S(this,Ho,t),S(this,Vc,await Jn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),N(this,fr,A0).call(this))}toggleAltTextBadge(t=!1){var e;if(!l(this,Zr)||l(this,hn)){(e=l(this,qr))==null||e.remove(),S(this,qr,null);return}if(!l(this,qr)){const i=S(this,qr,document.createElement("div"));i.className="noAltTextBadge",l(this,vi).div.append(i)}l(this,qr).classList.toggle("hidden",!t)}serialize(t){let e=l(this,hn);return!t&&l(this,Ho)===e&&(e=l(this,Vc)),{altText:e,decorative:l(this,Vr),guessedText:l(this,Ho),textWithDisclaimer:l(this,Vc)}}get data(){return{altText:l(this,hn),decorative:l(this,Vr)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(S(this,Ho,i),S(this,Vc,s)),!(l(this,hn)===t&&l(this,Vr)===e)&&(r||(S(this,hn,t),S(this,Vr,e)),N(this,fr,A0).call(this))}toggle(t=!1){l(this,Qs)&&(!t&&l(this,Oi)&&(clearTimeout(l(this,Oi)),S(this,Oi,null)),l(this,Qs).disabled=!t)}shown(){l(this,vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,fr,eg)}})}destroy(){var t,e;(t=l(this,Qs))==null||t.remove(),S(this,Qs,null),S(this,Dd,null),S(this,Gr,null),(e=l(this,qr))==null||e.remove(),S(this,qr,null)}};hn=new WeakMap,Vr=new WeakMap,Qs=new WeakMap,Dd=new WeakMap,Gr=new WeakMap,Oi=new WeakMap,Od=new WeakMap,qr=new WeakMap,vi=new WeakMap,Ho=new WeakMap,Vc=new WeakMap,Zr=new WeakMap,fl=new WeakMap,fr=new WeakSet,eg=function(){return l(this,hn)&&"added"||l(this,hn)===null&&this.guessedText&&"review"||"missing"},A0=async function(){var s,r,a;const t=l(this,Qs);if(!t)return;if(l(this,Zr)){if(t.classList.toggle("done",!!l(this,hn)),t.setAttribute("data-l10n-id",l(Jn,fl)[l(this,fr,eg)]),(s=l(this,Dd))==null||s.setAttribute("data-l10n-id",l(Jn,fl)[`${l(this,fr,eg)}-label`]),!l(this,hn)){(r=l(this,Gr))==null||r.remove();return}}else{if(!l(this,hn)&&!l(this,Vr)){t.classList.remove("done"),(a=l(this,Gr))==null||a.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=l(this,Gr);if(!e){S(this,Gr,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${l(this,vi).id}`;const c=100,u=l(this,vi)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(l(this,Oi)),S(this,Oi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{S(this,Oi,setTimeout(()=>{S(this,Oi,null),l(this,Gr).classList.add("show"),l(this,vi)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:u}),t.addEventListener("mouseleave",()=>{var d;l(this,Oi)&&(clearTimeout(l(this,Oi)),S(this,Oi,null)),(d=l(this,Gr))==null||d.classList.remove("show")},{signal:u})}l(this,Vr)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=l(this,hn)),e.parentNode||t.append(e);const i=l(this,vi).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},M(Jn,fl,null),tt(Jn,"_l10n",null);let N_=Jn;var Sn,Es,Gc,he,Sm,qc,Js,Zc,Xc,Yc,Am,L1;class Ky{constructor(t){M(this,Am);M(this,Sn,null);M(this,Es,null);M(this,Gc,!1);M(this,he,null);M(this,Sm,null);M(this,qc,null);M(this,Js,null);M(this,Zc,null);M(this,Xc,!1);M(this,Yc,null);S(this,he,t)}renderForToolbar(){const t=S(this,Es,document.createElement("button"));return t.className="comment",N(this,Am,L1).call(this,t,!1)}renderForStandalone(){const t=S(this,Sn,document.createElement("button"));t.className="annotationCommentButton";const e=l(this,he).commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(l(this,he)._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=l(this,he).commentButtonColor;s&&(i.backgroundColor=s)}return N(this,Am,L1).call(this,t,!0)}focusButton(){setTimeout(()=>{var t;(t=l(this,Sn)??l(this,Es))==null||t.focus()},0)}onUpdatedColor(){if(!l(this,Sn))return;const t=l(this,he).commentButtonColor;t&&(l(this,Sn).style.backgroundColor=t),l(this,he)._uiManager.updatePopupColor(l(this,he))}get commentButtonWidth(){var t;return(((t=l(this,Sn))==null?void 0:t.getBoundingClientRect().width)??0)/l(this,he).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,Yc))return l(this,Yc);if(!l(this,Sn))return null;const{x:t,y:e,height:i}=l(this,Sn).getBoundingClientRect(),{x:s,y:r,width:a,height:c}=l(this,he).parent.boundingClientRect;return[(t-s)/a,(e+i-r)/c]}set commentPopupPositionInLayer(t){S(this,Yc,t)}hasDefaultPopupPosition(){return l(this,Yc)===null}removeStandaloneCommentButton(){var t;(t=l(this,Sn))==null||t.remove(),S(this,Sn,null)}removeToolbarCommentButton(){var t;(t=l(this,Es))==null||t.remove(),S(this,Es,null)}setCommentButtonStates({selected:t,hasPopup:e}){l(this,Sn)&&(l(this,Sn).classList.toggle("selected",t),l(this,Sn).ariaExpanded=e)}edit(t){const e=this.commentPopupPositionInLayer;let i,s;if(e)[i,s]=e;else{[i,s]=l(this,he).commentButtonPosition;const{width:f,height:p,x:m,y}=l(this,he);i=m+i*f,s=y+s*p}const r=l(this,he).parent.boundingClientRect,{x:a,y:c,width:u,height:d}=r;l(this,he)._uiManager.editComment(l(this,he),a+i*u,c+s*d,{...t,parentDimensions:r})}finish(){l(this,Es)&&(l(this,Es).focus({focusVisible:l(this,Gc)}),S(this,Gc,!1))}isDeleted(){return l(this,Xc)||l(this,Js)===""}isEmpty(){return l(this,Js)===null}hasBeenEdited(){return this.isDeleted()||l(this,Js)!==l(this,Sm)}serialize(){return this.data}get data(){return{text:l(this,Js),richText:l(this,qc),date:l(this,Zc),deleted:this.isDeleted()}}set data(t){if(t!==l(this,Js)&&S(this,qc,null),t===null){S(this,Js,""),S(this,Xc,!0);return}S(this,Js,t),S(this,Zc,new Date),S(this,Xc,!1)}setInitialText(t,e=null){S(this,Sm,t),this.data=t,S(this,Zc,null),S(this,qc,e)}shown(){}destroy(){var t,e;(t=l(this,Es))==null||t.remove(),S(this,Es,null),(e=l(this,Sn))==null||e.remove(),S(this,Sn,null),S(this,Js,""),S(this,qc,null),S(this,Zc,null),S(this,he,null),S(this,Gc,!1),S(this,Xc,!1)}}Sn=new WeakMap,Es=new WeakMap,Gc=new WeakMap,he=new WeakMap,Sm=new WeakMap,qc=new WeakMap,Js=new WeakMap,Zc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Am=new WeakSet,L1=function(t,e){if(!l(this,he)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[l(this,he)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=l(this,he)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",ls,{signal:i}),e&&(t.addEventListener("focusin",r=>{l(this,he)._focusEventsAllowed=!1,Te(r)},{capture:!0,signal:i}),t.addEventListener("focusout",r=>{l(this,he)._focusEventsAllowed=!0,Te(r)},{capture:!0,signal:i})),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),t===l(this,Es)?this.edit():l(this,he).toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(S(this,Gc,!0),s(r))},{signal:i}),t.addEventListener("pointerenter",()=>{l(this,he).toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{l(this,he).toggleComment(!1,!1)},{signal:i}),t};var Fd,Kc,Em,Pm,Cm,Tm,km,Uo,Qc,$o,Jc,Wo,dc,qR,ZR,XR;const CE=class CE{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:a=null,signal:c}){M(this,dc);M(this,Fd);M(this,Kc,!1);M(this,Em,null);M(this,Pm);M(this,Cm);M(this,Tm);M(this,km);M(this,Uo,null);M(this,Qc);M(this,$o,null);M(this,Jc);M(this,Wo,null);S(this,Fd,t),S(this,Em,i),S(this,Pm,e),S(this,Cm,s),S(this,Tm,r),S(this,km,a),S(this,Jc,new AbortController),S(this,Qc,AbortSignal.any([c,l(this,Jc).signal])),t.addEventListener("touchstart",N(this,dc,qR).bind(this),{passive:!1,signal:l(this,Qc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/wr.pixelRatio}destroy(){var t,e;(t=l(this,Jc))==null||t.abort(),S(this,Jc,null),(e=l(this,Uo))==null||e.abort(),S(this,Uo,null)}};Fd=new WeakMap,Kc=new WeakMap,Em=new WeakMap,Pm=new WeakMap,Cm=new WeakMap,Tm=new WeakMap,km=new WeakMap,Uo=new WeakMap,Qc=new WeakMap,$o=new WeakMap,Jc=new WeakMap,Wo=new WeakMap,dc=new WeakSet,qR=function(t){var s,r,a;if((s=l(this,Pm))!=null&&s.call(this))return;if(t.touches.length===1){if(l(this,Uo))return;const c=S(this,Uo,new AbortController),u=AbortSignal.any([l(this,Qc),c.signal]),d=l(this,Fd),f={capture:!0,signal:u,passive:!1},p=m=>{var y;m.pointerType==="touch"&&((y=l(this,Uo))==null||y.abort(),S(this,Uo,null))};d.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(Te(m),p(m))},f),d.addEventListener("pointerup",p,f),d.addEventListener("pointercancel",p,f);return}if(!l(this,Wo)){S(this,Wo,new AbortController);const c=AbortSignal.any([l(this,Qc),l(this,Wo).signal]),u=l(this,Fd),d={signal:c,capture:!1,passive:!1};u.addEventListener("touchmove",N(this,dc,ZR).bind(this),d);const f=N(this,dc,XR).bind(this);u.addEventListener("touchend",f,d),u.addEventListener("touchcancel",f,d),d.capture=!0,u.addEventListener("pointerdown",Te,d),u.addEventListener("pointermove",Te,d),u.addEventListener("pointercancel",Te,d),u.addEventListener("pointerup",Te,d),(r=l(this,Cm))==null||r.call(this)}if(Te(t),t.touches.length!==2||(a=l(this,Em))!=null&&a.call(this)){S(this,$o,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),S(this,$o,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},ZR=function(t){var v;if(!l(this,$o)||t.touches.length!==2)return;Te(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:r}=e,{screenX:a,screenY:c}=i,u=l(this,$o),{touch0X:d,touch0Y:f,touch1X:p,touch1Y:m}=u,y=p-d,E=m-f,w=a-s,C=c-r,b=Math.hypot(w,C)||1,P=Math.hypot(y,E)||1;if(!l(this,Kc)&&Math.abs(P-b)<=CE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=s,u.touch0Y=r,u.touch1X=a,u.touch1Y=c,!l(this,Kc)){S(this,Kc,!0);return}const A=[(s+a)/2,(r+c)/2];(v=l(this,Tm))==null||v.call(this,A,P,b)},XR=function(t){var e;t.touches.length>=2||(l(this,Wo)&&(l(this,Wo).abort(),S(this,Wo,null),(e=l(this,km))==null||e.call(this)),l(this,$o)&&(Te(t),S(this,$o,null),S(this,Kc,!1)))};let nm=CE;var tu,tr,xe,ie,Vo,Bd,pl,Lm,An,eu,Go,Xr,gl,Mm,nu,Fi,Rm,iu,qo,Yr,jd,zd,Ps,su,Nm,Z_,_t,M1,Im,R1,E0,YR,KR,N1,P0,I1,QR,JR,tN,D1,eN,O1,nN,iN,sN,F1,ng;const At=class At{constructor(t){M(this,_t);M(this,tu,null);M(this,tr,null);M(this,xe,null);M(this,ie,null);M(this,Vo,null);M(this,Bd,!1);M(this,pl,null);M(this,Lm,"");M(this,An,null);M(this,eu,null);M(this,Go,null);M(this,Xr,null);M(this,gl,null);M(this,Mm,"");M(this,nu,!1);M(this,Fi,null);M(this,Rm,!1);M(this,iu,!1);M(this,qo,!1);M(this,Yr,null);M(this,jd,0);M(this,zd,0);M(this,Ps,null);M(this,su,null);tt(this,"isSelected",!1);tt(this,"_isCopy",!1);tt(this,"_editToolbar",null);tt(this,"_initialOptions",Object.create(null));tt(this,"_initialData",null);tt(this,"_isVisible",!0);tt(this,"_uiManager",null);tt(this,"_focusEventsAllowed",!0);M(this,Nm,!1);M(this,Z_,At._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,a];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=At.prototype._resizeWithKeyboard,e=hc.TRANSLATE_SMALL,i=hc.TRANSLATE_BIG;return kt(this,"_resizerKeyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],At.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return kt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new fU({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(At._l10n??(At._l10n=t),At._l10nResizer||(At._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),At._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);At._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ae("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Nm)}set _isDraggable(t){var e;S(this,Nm,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Z_)}setParent(t){var e;t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(N(this,_t,ng).call(this),(e=l(this,Xr))==null||e.remove(),S(this,Xr,null)),this.parent=t}focusin(t){this._focusEventsAllowed&&(l(this,nu)?S(this,nu,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[r,a]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/r,this.y=(e+s)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){N(this,_t,M1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){l(this,Fi)||S(this,Fi,[this.x,this.y,this.width,this.height]),N(this,_t,M1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){l(this,Fi)||S(this,Fi,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:c}=this;const[u,d]=this.getBaseTranslation();a+=u,c+=d;const{style:f}=i;f.left=`${(100*a).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(a,c),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!l(this,Fi)&&(l(this,Fi)[0]!==this.x||l(this,Fi)[1]!==this.y)}get _hasBeenResized(){return!!l(this,Fi)&&(l(this,Fi)[2]!==this.width||l(this,Fi)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=At,s=i/t,r=i/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:r,y:a,width:c,height:u}=this;if(c*=i,u*=s,r*=i,a*=s,this._mustFixPosition)switch(t){case 0:r=Vn(r,0,i-c),a=Vn(a,0,s-u);break;case 90:r=Vn(r,0,i-u),a=Vn(a,c,s);break;case 180:r=Vn(r,c,i),a=Vn(a,u,s);break;case 270:r=Vn(r,u,i),a=Vn(a,0,s-c);break}this.x=r/=i,this.y=a/=s;const[d,f]=this.getBaseTranslation();r+=d,a+=f,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return N(i=At,Im,R1).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return N(i=At,Im,R1).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=l(this,xe))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,iu))return this._editToolbar;this._editToolbar=new w1(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;(t=this._editToolbar)==null||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;(t=this._editToolbar)==null||t.removeButton("comment")}removeEditToolbar(){var t,e;(t=this._editToolbar)==null||t.remove(),this._editToolbar=null,(e=l(this,xe))==null||e.destroy()}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,xe)||(N_.initialize(At._l10n),S(this,xe,new N_(this)),l(this,tu)&&(l(this,xe).data=l(this,tu),S(this,tu,null))),l(this,xe)}get altTextData(){var t;return(t=l(this,xe))==null?void 0:t.data}set altTextData(t){l(this,xe)&&(l(this,xe).data=t)}get guessedAltText(){var t;return(t=l(this,xe))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=l(this,xe))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=l(this,xe))==null?void 0:e.serialize(t)}hasAltText(){return!!l(this,xe)&&!l(this,xe).isEmpty()}hasAltTextData(){var t;return((t=l(this,xe))==null?void 0:t.hasData())??!1}focusCommentButton(){var t;(t=l(this,ie))==null||t.focusButton()}addCommentButton(){return l(this,ie)||S(this,ie,new Ky(this))}addStandaloneCommentButton(){if(l(this,Vo)){this._uiManager.isEditingMode()&&l(this,Vo).classList.remove("hidden");return}this.hasComment&&(S(this,Vo,l(this,ie).renderForStandalone()),this.div.append(l(this,Vo)))}removeStandaloneCommentButton(){l(this,ie).removeStandaloneCommentButton(),S(this,Vo,null)}hideStandaloneCommentButton(){var t;(t=l(this,Vo))==null||t.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:s}}=l(this,ie);return{text:e,richText:t,date:i,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){l(this,ie)||S(this,ie,new Ky(this)),l(this,ie).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(l(this,ie)||S(this,ie,new Ky(this)),l(this,ie).setInitialText(t,i),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){var t;return(t=l(this,ie))==null?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return(t=l(this,ie))==null?void 0:t.isDeleted()}get hasComment(){return!!l(this,ie)&&!l(this,ie).isEmpty()&&!l(this,ie).isDeleted()}async editComment(t){l(this,ie)||S(this,ie,new Ky(this)),l(this,ie).edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){l(this,ie).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[r]=this.pageDimensions,[a]=this.pageTranslation,c=a+r+1,u=s-100,d=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,d,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){l(this,ie).data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=l(this,Bd)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),N(this,_t,O1).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),DR(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,su)||S(this,su,new nm({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:N(this,_t,QR).bind(this),onPinching:N(this,_t,JR).bind(this),onPinchEnd:N(this,_t,tN).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),t}pointerdown(t){const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(S(this,nu,!0),this._isDraggable){N(this,_t,eN).call(this,t);return}N(this,_t,D1).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Yr)&&clearTimeout(l(this,Yr)),S(this,Yr,setTimeout(()=>{var t;S(this,Yr,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[c,u]=this.pageTranslation,d=t/s,f=e/s,p=this.x*r,m=this.y*a,y=this.width*r,E=this.height*a;switch(i){case 0:return[p+d+c,a-m-f-E+u,p+d+y+c,a-m-f+u];case 90:return[p+f+c,a-m+d+u,p+f+E+c,a-m+d+y+u];case 180:return[p-d-y+c,a-m+f+u,p-d+c,a-m+f+E+u];case 270:return[p-f-E+c,a-m-d-y+u,p-f+c,a-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,r,a]=t,c=r-i,u=a-s;switch(this.rotation){case 0:return[i,e-a,c,u];case 90:return[i,e-s,u,c];case 180:return[r,e-s,c,u];case 270:return[r,e-a,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&At._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;(t=l(this,ie))==null||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:s,deleted:r,richText:a},uid:c,pageIndex:u,creationDate:d,modificationDate:f}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:a,contentsObj:{str:t},creationDate:d,modificationDate:i||f,popupRef:!r,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),S(this,iu,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),S(this,iu,!1),!0):!1}isInEditMode(){return l(this,iu)}shouldGetKeyboardEvents(){return l(this,qo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return e<a&&s>0&&t<r&&i>0}rebuild(){N(this,_t,O1).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,S(s,tu,t.accessibilityData),s._isCopy=t.isCopy||!1;const[r,a]=s.pageDimensions,[c,u,d,f]=s.getRectInCurrentCoords(t.rect,a);return s.x=c/r,s.y=u/a,s.width=d/r,s.height=f/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=l(this,gl))==null||t.abort(),S(this,gl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Yr)&&(clearTimeout(l(this,Yr)),S(this,Yr,null)),N(this,_t,ng).call(this),this.removeEditToolbar(),l(this,Ps)){for(const i of l(this,Ps).values())clearTimeout(i);S(this,Ps,null)}this.parent=null,(e=l(this,su))==null||e.destroy(),S(this,su,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,_t,YR).call(this),l(this,An).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,s,r,a]=this.getPDFRect();return[At._round(i+(r-i)*t),At._round(s+(a-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,ie).commentPopupPositionInLayer}set commentPopupPosition(t){l(this,ie).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return l(this,ie).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,ie).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){l(this,ie).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),S(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=l(this,An).children;if(!l(this,tr)){S(this,tr,Array.from(e));const a=N(this,_t,nN).bind(this),c=N(this,_t,iN).bind(this),u=this._uiManager._signal;for(const d of l(this,tr)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:u}),d.addEventListener("blur",c,{signal:u}),d.addEventListener("focus",N(this,_t,sN).bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",At._l10nResizer[f])}}const i=l(this,tr)[0];let s=0;for(const a of e){if(a===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,tr).length/4);if(r!==s){if(r<s)for(let c=0;c<s-r;c++)l(this,An).append(l(this,An).firstChild);else if(r>s)for(let c=0;c<r-s;c++)l(this,An).firstChild.before(l(this,An).lastChild);let a=0;for(const c of e){const d=l(this,tr)[a++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",At._l10nResizer[d])}}N(this,_t,F1).call(this,0),S(this,qo,!0),l(this,An).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){l(this,qo)&&N(this,_t,I1).call(this,l(this,Mm),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){N(this,_t,ng).call(this),this.div.focus()}select(){var t,e,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=l(this,xe))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return(t=this.div)==null?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,i,s,r;this.isSelected&&(this.isSelected=!1,(t=l(this,An))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=l(this,xe))==null||r.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,Rm)}set isEditing(t){S(this,Rm,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){l(this,Ps)||S(this,Ps,new Map);const{action:i}=t;let s=l(this,Ps).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),l(this,Ps).delete(i),l(this,Ps).size===0&&S(this,Ps,null)},At._telemetryTimeout),l(this,Ps).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),S(this,Bd,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,Bd,!0)}updateFakeAnnotationElement(t){if(!l(this,Xr)&&!this.deleted){S(this,Xr,t.addFakeAnnotation(this));return}if(this.deleted){l(this,Xr).remove(),S(this,Xr,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,Xr).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};tu=new WeakMap,tr=new WeakMap,xe=new WeakMap,ie=new WeakMap,Vo=new WeakMap,Bd=new WeakMap,pl=new WeakMap,Lm=new WeakMap,An=new WeakMap,eu=new WeakMap,Go=new WeakMap,Xr=new WeakMap,gl=new WeakMap,Mm=new WeakMap,nu=new WeakMap,Fi=new WeakMap,Rm=new WeakMap,iu=new WeakMap,qo=new WeakMap,Yr=new WeakMap,jd=new WeakMap,zd=new WeakMap,Ps=new WeakMap,su=new WeakMap,Nm=new WeakMap,Z_=new WeakMap,_t=new WeakSet,M1=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Im=new WeakSet,R1=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},E0=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},YR=function(){if(l(this,An))return;S(this,An,document.createElement("div")),l(this,An).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");l(this,An).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",N(this,_t,KR).bind(this,i),{signal:e}),s.addEventListener("contextmenu",ls,{signal:e}),s.tabIndex=-1}this.div.prepend(l(this,An))},KR=function(t,e){var f;e.preventDefault();const{isMac:i}=wn.platform;if(e.button!==0||e.ctrlKey&&i)return;(f=l(this,xe))==null||f.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,S(this,eu,[e.screenX,e.screenY]);const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,_t,I1).bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Te,{passive:!1,signal:a}),window.addEventListener("contextmenu",ls,{signal:a}),S(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{var p;r.abort(),this.parent.togglePointerEvents(!0),(p=l(this,xe))==null||p.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=u,N(this,_t,P0).call(this)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})},N1=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()},P0=function(){if(!l(this,Go))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=l(this,Go);S(this,Go,null);const r=this.x,a=this.y,c=this.width,u=this.height;r===t&&a===e&&c===i&&u===s||this.addCommands({cmd:N(this,_t,N1).bind(this,r,a,c,u),undo:N(this,_t,N1).bind(this,t,e,i,s),mustExec:!0})},I1=function(t,e){const[i,s]=this.parentDimensions,r=this.x,a=this.y,c=this.width,u=this.height,d=At.MIN_SIZE/i,f=At.MIN_SIZE/s,p=N(this,_t,E0).call(this,this.rotation),m=(Z,Y)=>[p[0]*Z+p[2]*Y,p[1]*Z+p[3]*Y],y=N(this,_t,E0).call(this,360-this.rotation),E=(Z,Y)=>[y[0]*Z+y[2]*Y,y[1]*Z+y[3]*Y];let w,C,b=!1,P=!1;switch(t){case"topLeft":b=!0,w=(Z,Y)=>[0,0],C=(Z,Y)=>[Z,Y];break;case"topMiddle":w=(Z,Y)=>[Z/2,0],C=(Z,Y)=>[Z/2,Y];break;case"topRight":b=!0,w=(Z,Y)=>[Z,0],C=(Z,Y)=>[0,Y];break;case"middleRight":P=!0,w=(Z,Y)=>[Z,Y/2],C=(Z,Y)=>[0,Y/2];break;case"bottomRight":b=!0,w=(Z,Y)=>[Z,Y],C=(Z,Y)=>[0,0];break;case"bottomMiddle":w=(Z,Y)=>[Z/2,Y],C=(Z,Y)=>[Z/2,0];break;case"bottomLeft":b=!0,w=(Z,Y)=>[0,Y],C=(Z,Y)=>[Z,0];break;case"middleLeft":P=!0,w=(Z,Y)=>[0,Y/2],C=(Z,Y)=>[Z,Y/2];break}const A=w(c,u),v=C(c,u);let x=m(...v);const k=At._round(r+x[0]),I=At._round(a+x[1]);let F=1,B=1,z,U;if(e.fromKeyboard)({deltaX:z,deltaY:U}=e);else{const{screenX:Z,screenY:Y}=e,[H,q]=l(this,eu);[z,U]=this.screenToPageTranslation(Z-H,Y-q),l(this,eu)[0]=Z,l(this,eu)[1]=Y}if([z,U]=E(z/i,U/s),b){const Z=Math.hypot(c,u);F=B=Math.max(Math.min(Math.hypot(v[0]-A[0]-z,v[1]-A[1]-U)/Z,1/c,1/u),d/c,f/u)}else P?F=Vn(Math.abs(v[0]-A[0]-z),d,1)/c:B=Vn(Math.abs(v[1]-A[1]-U),f,1)/u;const $=At._round(c*F),K=At._round(u*B);x=m(...C($,K));const W=k-x[0],it=I-x[1];l(this,Fi)||S(this,Fi,[this.x,this.y,this.width,this.height]),this.width=$,this.height=K,this.x=W,this.y=it,this.setDims(),this.fixAndSetPosition(),this._onResizing()},QR=function(){var t;S(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=l(this,xe))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},JR=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const a=N(this,_t,E0).call(this,this.rotation),c=(k,I)=>[a[0]*k+a[2]*I,a[1]*k+a[3]*I],[u,d]=this.parentDimensions,f=this.x,p=this.y,m=this.width,y=this.height,E=At.MIN_SIZE/u,w=At.MIN_SIZE/d;r=Math.max(Math.min(r,1/m,1/y),E/m,w/y);const C=At._round(m*r),b=At._round(y*r);if(C===m&&b===y)return;l(this,Fi)||S(this,Fi,[f,p,m,y]);const P=c(m/2,y/2),A=At._round(f+P[0]),v=At._round(p+P[1]),x=c(C/2,b/2);this.x=A-x[0],this.y=v-x[1],this.width=C,this.height=b,this.setDims(),this.fixAndSetPosition(),this._onResizing()},tN=function(){var t;(t=l(this,xe))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),N(this,_t,P0).call(this)},D1=function(t){const{isMac:e}=wn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},eN=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:r},c=d=>{s.abort(),S(this,pl,null),S(this,nu,!1),this._uiManager.endDragSession()||N(this,_t,D1).call(this,d),i&&this._onStopDragging()};e&&(S(this,jd,t.clientX),S(this,zd,t.clientY),S(this,pl,t.pointerId),S(this,Lm,t.pointerType),window.addEventListener("pointermove",d=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:m}=d;if(m!==l(this,pl)){Te(d);return}const[y,E]=this.screenToPageTranslation(f-l(this,jd),p-l(this,zd));S(this,jd,f),S(this,zd,p),this._uiManager.dragSelectedEditors(y,E)},a),window.addEventListener("touchmove",Te,a),window.addEventListener("pointerdown",d=>{d.pointerType===l(this,Lm)&&(l(this,su)||d.isPrimary)&&c(d),Te(d)},a));const u=d=>{if(!l(this,pl)||l(this,pl)===d.pointerId){c(d);return}Te(d)};window.addEventListener("pointerup",u,{signal:r}),window.addEventListener("blur",u,{signal:r})},O1=function(){if(l(this,gl)||!this.div)return;S(this,gl,new AbortController);const t=this._uiManager.combinedSignal(l(this,gl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},nN=function(t){At._resizerKeyboardManager.exec(this,t)},iN=function(t){var e;l(this,qo)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==l(this,An)&&N(this,_t,ng).call(this)},sN=function(t){S(this,Mm,l(this,qo)?t:"")},F1=function(t){if(l(this,tr))for(const e of l(this,tr))e.tabIndex=t},ng=function(){S(this,qo,!1),N(this,_t,F1).call(this,-1),N(this,_t,P0).call(this)},M(At,Im),tt(At,"_l10n",null),tt(At,"_l10nResizer",null),tt(At,"_borderLineWidth",-1),tt(At,"_colorManager",new S1),tt(At,"_zIndex",1),tt(At,"_telemetryTimeout",1e3);let fe=At;class fU extends fe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const TT=3285377520,ms=4294901760,Dr=65535;class rN{constructor(t){this.h1=t?t&4294967295:TT,this.h2=t?t&4294967295:TT}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let w=0,C=t.length;w<C;w++){const b=t.charCodeAt(w);b<=255?e[i++]=b:(e[i++]=b>>>8,e[i++]=b&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,a=new Uint32Array(e.buffer,0,s);let c=0,u=0,d=this.h1,f=this.h2;const p=3432918353,m=461845907,y=p&Dr,E=m&Dr;for(let w=0;w<s;w++)w&1?(c=a[w],c=c*p&ms|c*y&Dr,c=c<<15|c>>>17,c=c*m&ms|c*E&Dr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(u=a[w],u=u*p&ms|u*y&Dr,u=u<<15|u>>>17,u=u*m&ms|u*E&Dr,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,r){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*p&ms|c*y&Dr,c=c<<15|c>>>17,c=c*m&ms|c*E&Dr,s&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ms|t*36045&Dr,e=e*4283543511&ms|((e<<16|t>>>16)*2950163797&ms)>>>16,t^=e>>>1,t=t*444984403&ms|t*60499&Dr,e=e*3301882366&ms|((e<<16|t>>>16)*3120437893&ms)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const B1=Object.freeze({map:null,hash:"",transfer:void 0});var ru,ou,Zo,En,X_,oN;class mE{constructor(){M(this,X_);M(this,ru,!1);M(this,ou,null);M(this,Zo,null);M(this,En,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=l(this,En).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return l(this,En).get(t)}remove(t){const e=l(this,En).get(t);if(e!==void 0&&(e instanceof fe&&l(this,Zo).delete(e.annotationElementId),l(this,En).delete(t),l(this,En).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of l(this,En).values())if(i instanceof fe)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=l(this,En).get(t);let s=!1;if(i!==void 0)for(const[r,a]of Object.entries(e))i[r]!==a&&(s=!0,i[r]=a);else s=!0,l(this,En).set(t,e);s&&N(this,X_,oN).call(this),e instanceof fe&&((l(this,Zo)||S(this,Zo,new Map)).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return l(this,En).has(t)}get size(){return l(this,En).size}resetModified(){l(this,ru)&&(S(this,ru,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new aN(this)}get serializable(){if(l(this,En).size===0)return B1;const t=new Map,e=new rN,i=[],s=Object.create(null);let r=!1;for(const[a,c]of l(this,En)){const u=c instanceof fe?c.serialize(!1,s):c;u&&(t.set(a,u),e.update(`${a}:${JSON.stringify(u)}`),r||(r=!!u.bitmap))}if(r)for(const a of t.values())a.bitmap&&i.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:B1}get editorStats(){let t=null;const e=new Map;let i=0,s=0;for(const r of l(this,En).values()){if(!(r instanceof fe)){r.popup&&(r.popup.deleted?s+=1:i+=1);continue}r.isCommentDeleted?s+=1:r.hasEditedComment&&(i+=1);const a=r.telemetryFinalData;if(!a)continue;const{type:c}=a;e.has(c)||e.set(c,Object.getPrototypeOf(r).constructor),t||(t=Object.create(null));const u=t[c]||(t[c]=new Map);for(const[d,f]of Object.entries(a)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const m=p.get(f)??0;p.set(f,m+1)}}if((s>0||i>0)&&(t||(t=Object.create(null)),t.comments={deleted:s,edited:i}),!t)return null;for(const[r,a]of e)t[r]=a.computeTelemetryFinalData(t[r]);return t}resetModifiedIds(){S(this,ou,null)}updateEditor(t,e){var s;const i=(s=l(this,Zo))==null?void 0:s.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){var e;return((e=l(this,Zo))==null?void 0:e.get(t))||null}get modifiedIds(){if(l(this,ou))return l(this,ou);const t=[];if(l(this,Zo))for(const e of l(this,Zo).values())e.serialize()&&t.push(e.annotationElementId);return S(this,ou,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return l(this,En).entries()}}ru=new WeakMap,ou=new WeakMap,Zo=new WeakMap,En=new WeakMap,X_=new WeakSet,oN=function(){l(this,ru)||(S(this,ru,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Dm;class aN extends mE{constructor(e){super();M(this,Dm);const{map:i,hash:s,transfer:r}=e.serializable,a=structuredClone(i,r?{transfer:r}:null);S(this,Dm,{map:a,hash:s,transfer:r})}get print(){ae("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Dm)}get modifiedIds(){return kt(this,"modifiedIds",{ids:new Set,hash:""})}}Dm=new WeakMap;var Hd;class pU{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){M(this,Hd,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,Hd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||l(this,Hd).has(t.loadedName))){if(Bt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:a}=t,c=new FontFace(s,r,a);this.addNativeFontFace(c);try{await c.load(),l(this,Hd).add(s),i==null||i(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ae("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw St(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return kt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return kt(this,"isSyncFontLoadingSupported",si||wn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Bt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return kt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(v,x){return v.charCodeAt(x)<<24|v.charCodeAt(x+1)<<16|v.charCodeAt(x+2)<<8|v.charCodeAt(x+3)&255}function s(v,x,k,I){const F=v.substring(0,x),B=v.substring(x+k);return F+I+B}let r,a;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let d=0;function f(v,x){if(++d>30){St("Load test font never loaded."),x();return}if(u.font="30px "+v,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){x();return}setTimeout(f.bind(null,v,x))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=s(m,976,p.length,p);const E=16,w=1482184792;let C=i(m,E);for(r=0,a=p.length-3;r<a;r+=4)C=C-w+i(p,r)|0;r<p.length&&(C=C-w+i(p+"XXX",r)|0),m=s(m,E,4,eU(C));const b=`url(data:font/opentype;base64,${btoa(m)});`,P=`@font-face {font-family:"${p}";src:${b}}`;this.insertRule(P);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const v of[t.loadedName,p]){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=v,A.append(x)}this._document.body.append(A),f(p,()=>{A.remove(),e.complete()})}}Hd=new WeakMap;var Qt;class gU{constructor(t,e=null,i,s){M(this,Qt);this.compiledGlyphs=Object.create(null),S(this,Qt,t),this._inspectFont=e,i&&Object.assign(this,i),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${SR(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(a){St(`getPathGenerator - ignoring character: "${a}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}get black(){return l(this,Qt).black}get bold(){return l(this,Qt).bold}get disableFontFace(){return l(this,Qt).disableFontFace??!1}get fontExtraProperties(){return l(this,Qt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,Qt).isInvalidPDFjsFont}get isType3Font(){return l(this,Qt).isType3Font}get italic(){return l(this,Qt).italic}get missingFile(){return l(this,Qt).missingFile}get remeasure(){return l(this,Qt).remeasure}get vertical(){return l(this,Qt).vertical}get ascent(){return l(this,Qt).ascent}get defaultWidth(){return l(this,Qt).defaultWidth}get descent(){return l(this,Qt).descent}get bbox(){return l(this,Qt).bbox}get fontMatrix(){return l(this,Qt).fontMatrix}get fallbackName(){return l(this,Qt).fallbackName}get loadedName(){return l(this,Qt).loadedName}get mimetype(){return l(this,Qt).mimetype}get name(){return l(this,Qt).name}get data(){return l(this,Qt).data}clearData(){l(this,Qt).clearData()}get cssFontInfo(){return l(this,Qt).cssFontInfo}get systemFontInfo(){return l(this,Qt).systemFontInfo}get defaultVMetrics(){return l(this,Qt).defaultVMetrics}}Qt=new WeakMap;function mU(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(si)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vU(n){if(si&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Jv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Qy(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const j1=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,yU=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",lN=rU.bind(null,j1,yU);var Xo,Y_;class _U{constructor(){M(this,Xo,new Map);M(this,Y_,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};l(this,Y_).then(()=>{for(const[s]of l(this,Xo))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);s=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}l(this,Xo).set(e,s)}removeEventListener(t,e){const i=l(this,Xo).get(e);i==null||i(),l(this,Xo).delete(e)}terminate(){for(const[,t]of l(this,Xo))t==null||t();l(this,Xo).clear()}}Xo=new WeakMap,Y_=new WeakMap;const Jy={DATA:1,ERROR:2},Ye={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function kT(){}function gi(n){if(n instanceof ka||n instanceof M_||n instanceof xT||n instanceof Jg||n instanceof eb)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||ae('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ka(n.message);case"InvalidPDFException":return new M_(n.message);case"PasswordException":return new xT(n.message,n.code);case"ResponseException":return new Jg(n.message,n.status,n.missing);case"UnknownErrorException":return new eb(n.message,n.details)}return new eb(n.message,n.toString())}var Ud,Fs,cN,uN,hN,C0;class ig{constructor(t,e,i){M(this,Fs);M(this,Ud,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",N(this,Fs,cN).bind(this),{signal:l(this,Ud).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,i,s){const r=this.streamId++,a=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:c,action:t,streamId:r,data:e,desiredSize:d.desiredSize},s),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,u.postMessage({sourceName:a,targetName:c,stream:Ye.PULL,streamId:r,desiredSize:d.desiredSize}),f.promise},cancel:d=>{Bt(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:a,targetName:c,stream:Ye.CANCEL,streamId:r,reason:gi(d)}),f.promise}},i)}destroy(){var t;(t=l(this,Ud))==null||t.abort(),S(this,Ud,null)}}Ud=new WeakMap,Fs=new WeakSet,cN=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){N(this,Fs,hN).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Jy.DATA)s.resolve(t.data);else if(t.callback===Jy.ERROR)s.reject(gi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(a){r.postMessage({sourceName:i,targetName:s,callback:Jy.DATA,callbackId:t.callbackId,data:a})},function(a){r.postMessage({sourceName:i,targetName:s,callback:Jy.ERROR,callbackId:t.callbackId,reason:gi(a)})});return}if(t.streamId){N(this,Fs,uN).call(this,t);return}e(t.data)},uN=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,a=this,c=this.actionHandler[t.action],u={enqueue(d,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:Ye.ENQUEUE,streamId:e,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Ye.CLOSE,streamId:e}),delete a.streamSinks[e])},error(d){Bt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Ye.ERROR,streamId:e,reason:gi(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,Promise.try(c,t.data,u).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ye.START_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:Ye.START_COMPLETE,streamId:e,reason:gi(d)})})},hN=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,a=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Ye.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(gi(t.reason));break;case Ye.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(gi(t.reason));break;case Ye.PULL:if(!c){r.postMessage({sourceName:i,targetName:s,stream:Ye.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||kT).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ye.PULL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:Ye.PULL_COMPLETE,streamId:e,reason:gi(d)})});break;case Ye.ENQUEUE:if(Bt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case Ye.CLOSE:if(Bt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),N(this,Fs,C0).call(this,a,e);break;case Ye.ERROR:Bt(a,"error should have stream controller"),a.controller.error(gi(t.reason)),N(this,Fs,C0).call(this,a,e);break;case Ye.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(gi(t.reason)),N(this,Fs,C0).call(this,a,e);break;case Ye.CANCEL:if(!c)break;const u=gi(t.reason);Promise.try(c.onCancel||kT,u).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ye.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:Ye.CANCEL_COMPLETE,streamId:e,reason:gi(d)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},C0=async function(t,e){var i,s,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Om;class dN{constructor({enableHWA:t=!1}){M(this,Om,!1);S(this,Om,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!l(this,Om)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ae("Abstract method `_createCanvas` called.")}}Om=new WeakMap;class wU extends dN{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class fN{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class LT extends fN{async _fetch(t){const e=await gp(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Jv(e)}}class pN{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,r){return"none"}destroy(t=!1){}}var au,$d,Yo,Ko,Hn,lu,cu,ht,Fn,sg,Rh,T0,Nh,gN,z1,Ih,rg,og,H1,ag;class xU extends pN{constructor({docId:e,ownerDocument:i=globalThis.document}){super();M(this,ht);M(this,au);M(this,$d);M(this,Yo);M(this,Ko);M(this,Hn);M(this,lu);M(this,cu,0);S(this,Ko,e),S(this,Hn,i)}addFilter(e){if(!e)return"none";let i=l(this,ht,Fn).get(e);if(i)return i;const[s,r,a]=N(this,ht,T0).call(this,e),c=e.length===1?s:`${s}${r}${a}`;if(i=l(this,ht,Fn).get(c),i)return l(this,ht,Fn).set(e,i),i;const u=`g_${l(this,Ko)}_transfer_map_${Ie(this,cu)._++}`,d=N(this,ht,Nh).call(this,u);l(this,ht,Fn).set(e,d),l(this,ht,Fn).set(c,d);const f=N(this,ht,Ih).call(this,u);return N(this,ht,og).call(this,s,r,a,f),d}addHCMFilter(e,i){var E;const s=`${e}-${i}`,r="base";let a=l(this,ht,sg).get(r);if((a==null?void 0:a.key)===s||(a?((E=a.filter)==null||E.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},l(this,ht,sg).set(r,a)),!e||!i))return a.url;const c=N(this,ht,ag).call(this,e);e=pt.makeHexColor(...c);const u=N(this,ht,ag).call(this,i);if(i=pt.makeHexColor(...u),l(this,ht,Rh).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return a.url;const d=new Array(256);for(let w=0;w<=255;w++){const C=w/255;d[w]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const f=d.join(","),p=`g_${l(this,Ko)}_hcm_filter`,m=a.filter=N(this,ht,Ih).call(this,p);N(this,ht,og).call(this,f,f,f,m),N(this,ht,z1).call(this,m);const y=(w,C)=>{const b=c[w]/255,P=u[w]/255,A=new Array(C+1);for(let v=0;v<=C;v++)A[v]=b+v/C*(P-b);return A.join(",")};return N(this,ht,og).call(this,y(0,5),y(1,5),y(2,5),m),a.url=N(this,ht,Nh).call(this,p),a.url}addAlphaFilter(e){let i=l(this,ht,Fn).get(e);if(i)return i;const[s]=N(this,ht,T0).call(this,[e]),r=`alpha_${s}`;if(i=l(this,ht,Fn).get(r),i)return l(this,ht,Fn).set(e,i),i;const a=`g_${l(this,Ko)}_alpha_map_${Ie(this,cu)._++}`,c=N(this,ht,Nh).call(this,a);l(this,ht,Fn).set(e,c),l(this,ht,Fn).set(r,c);const u=N(this,ht,Ih).call(this,a);return N(this,ht,H1).call(this,s,u),c}addLuminosityFilter(e){let i=l(this,ht,Fn).get(e||"luminosity");if(i)return i;let s,r;if(e?([s]=N(this,ht,T0).call(this,[e]),r=`luminosity_${s}`):r="luminosity",i=l(this,ht,Fn).get(r),i)return l(this,ht,Fn).set(e,i),i;const a=`g_${l(this,Ko)}_luminosity_map_${Ie(this,cu)._++}`,c=N(this,ht,Nh).call(this,a);l(this,ht,Fn).set(e,c),l(this,ht,Fn).set(r,c);const u=N(this,ht,Ih).call(this,a);return N(this,ht,gN).call(this,u),e&&N(this,ht,H1).call(this,s,u),c}addHighlightHCMFilter(e,i,s,r,a){var P;const c=`${i}-${s}-${r}-${a}`;let u=l(this,ht,sg).get(e);if((u==null?void 0:u.key)===c||(u?((P=u.filter)==null||P.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},l(this,ht,sg).set(e,u)),!i||!s))return u.url;const[d,f]=[i,s].map(N(this,ht,ag).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,E]=[r,a].map(N(this,ht,ag).bind(this));m<p&&([p,m,y,E]=[m,p,E,y]),l(this,ht,Rh).style.color="";const w=(A,v,x)=>{const k=new Array(256),I=(m-p)/x,F=A/255,B=(v-A)/(255*x);let z=0;for(let U=0;U<=x;U++){const $=Math.round(p+U*I),K=F+U*B;for(let W=z;W<=$;W++)k[W]=K;z=$+1}for(let U=z;U<256;U++)k[U]=k[z-1];return k.join(",")},C=`g_${l(this,Ko)}_hcm_${e}_filter`,b=u.filter=N(this,ht,Ih).call(this,C);return N(this,ht,z1).call(this,b),N(this,ht,og).call(this,w(y[0],E[0],5),w(y[1],E[1],5),w(y[2],E[2],5),b),u.url=N(this,ht,Nh).call(this,C),u.url}destroy(e=!1){var i,s,r,a;e&&((i=l(this,lu))!=null&&i.size)||((s=l(this,Yo))==null||s.parentNode.parentNode.remove(),S(this,Yo,null),(r=l(this,$d))==null||r.clear(),S(this,$d,null),(a=l(this,lu))==null||a.clear(),S(this,lu,null),S(this,cu,0))}}au=new WeakMap,$d=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,Hn=new WeakMap,lu=new WeakMap,cu=new WeakMap,ht=new WeakSet,Fn=function(){return l(this,$d)||S(this,$d,new Map)},sg=function(){return l(this,lu)||S(this,lu,new Map)},Rh=function(){if(!l(this,Yo)){const e=l(this,Hn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=l(this,Hn).createElementNS(ko,"svg");s.setAttribute("width",0),s.setAttribute("height",0),S(this,Yo,l(this,Hn).createElementNS(ko,"defs")),e.append(s),s.append(l(this,Yo)),l(this,Hn).body.append(e)}return l(this,Yo)},T0=function(e){if(e.length===1){const d=e[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[i,s,r]=e,a=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)a[d]=i[d]/255,c[d]=s[d]/255,u[d]=r[d]/255;return[a.join(","),c.join(","),u.join(",")]},Nh=function(e){if(l(this,au)===void 0){S(this,au,"");const i=l(this,Hn).URL;i!==l(this,Hn).baseURI&&(ey(i)?St('#createUrl: ignore "data:"-URL for performance reasons.'):S(this,au,hE(i,"")))}return`url(${l(this,au)}#${e})`},gN=function(e){const i=l(this,Hn).createElementNS(ko,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},z1=function(e){const i=l(this,Hn).createElementNS(ko,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Ih=function(e){const i=l(this,Hn).createElementNS(ko,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),l(this,ht,Rh).append(i),i},rg=function(e,i,s){const r=l(this,Hn).createElementNS(ko,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},og=function(e,i,s,r){const a=l(this,Hn).createElementNS(ko,"feComponentTransfer");r.append(a),N(this,ht,rg).call(this,a,"feFuncR",e),N(this,ht,rg).call(this,a,"feFuncG",i),N(this,ht,rg).call(this,a,"feFuncB",s)},H1=function(e,i){const s=l(this,Hn).createElementNS(ko,"feComponentTransfer");i.append(s),N(this,ht,rg).call(this,s,"feFuncA",e)},ag=function(e){return l(this,ht,Rh).style.color=e,mp(getComputedStyle(l(this,ht,Rh)).getPropertyValue("color"))};class mN{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class MT extends mN{async _fetch(t){const e=await gp(t,"arraybuffer");return new Uint8Array(e)}}class vN{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class RT extends vN{async _fetch(t){const e=await gp(t,"arraybuffer");return new Uint8Array(e)}}si&&St("Please use the `legacy` build in Node.js environments.");async function vE(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class bU extends pN{}class SU extends dN{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class AU extends fN{async _fetch(t){return vE(t)}}class EU extends mN{async _fetch(t){return vE(t)}}class PU extends vN{async _fetch(t){return vE(t)}}const kh="__forcedDependency",{floor:NT,ceil:IT}=Math;function t0(n,t,e,i,s,r){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],s),n[t*4+3]=Math.max(n[t*4+3],r)}const U1=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Wd,ml;class CU{constructor(t,e){M(this,Wd);M(this,ml);S(this,Wd,t),S(this,ml,e)}get length(){return l(this,Wd).length}isEmpty(t){return l(this,Wd)[t]===U1}minX(t){return l(this,ml)[t*4+0]/256}minY(t){return l(this,ml)[t*4+1]/256}maxX(t){return(l(this,ml)[t*4+2]+1)/256}maxY(t){return(l(this,ml)[t*4+3]+1)/256}}Wd=new WeakMap,ml=new WeakMap;const e0=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};var yi,_i,uu,er,hu,Qo,Xt,Jt,Jo,wi,Fm,Vd,du,fu,ta,Un,Kr,Bm,$1;class TU{constructor(t,e,i=!1){M(this,Bm);M(this,yi,{__proto__:null});M(this,_i,{__proto__:null,transform:[],moveText:[],sameLineText:[],[kh]:[]});M(this,uu,new Map);M(this,er,[]);M(this,hu,[]);M(this,Qo,[[1,0,0,1,0,0]]);M(this,Xt,[-1/0,-1/0,1/0,1/0]);M(this,Jt,new Float64Array([1/0,1/0,-1/0,-1/0]));M(this,Jo,-1);M(this,wi,new Set);M(this,Fm,new Map);M(this,Vd,new Map);M(this,du);M(this,fu);M(this,ta);M(this,Un);M(this,Kr);S(this,du,t.width),S(this,fu,t.height),N(this,Bm,$1).call(this,e),i&&S(this,Kr,new Map)}growOperationsCount(t){t>=l(this,Un).length&&N(this,Bm,$1).call(this,t,l(this,Un))}save(t){return S(this,yi,{__proto__:l(this,yi)}),S(this,_i,{__proto__:l(this,_i),transform:{__proto__:l(this,_i).transform},moveText:{__proto__:l(this,_i).moveText},sameLineText:{__proto__:l(this,_i).sameLineText},[kh]:{__proto__:l(this,_i)[kh]}}),S(this,Xt,{__proto__:l(this,Xt)}),l(this,er).push(t),this}restore(t){var s;const e=Object.getPrototypeOf(l(this,yi));if(e===null)return this;S(this,yi,e),S(this,_i,Object.getPrototypeOf(l(this,_i))),S(this,Xt,Object.getPrototypeOf(l(this,Xt)));const i=l(this,er).pop();return i!==void 0&&((s=e0(l(this,Kr),t))==null||s.dependencies.add(i),l(this,Un)[t]=l(this,Un)[i]),this}recordOpenMarker(t){return l(this,er).push(t),this}getOpenMarker(){return l(this,er).length===0?null:l(this,er).at(-1)}recordCloseMarker(t){var i;const e=l(this,er).pop();return e!==void 0&&((i=e0(l(this,Kr),t))==null||i.dependencies.add(e),l(this,Un)[t]=l(this,Un)[e]),this}beginMarkedContent(t){return l(this,hu).push(t),this}endMarkedContent(t){var i;const e=l(this,hu).pop();return e!==void 0&&((i=e0(l(this,Kr),t))==null||i.dependencies.add(e),l(this,Un)[t]=l(this,Un)[e]),this}pushBaseTransform(t){return l(this,Qo).push(pt.multiplyByDOMMatrix(l(this,Qo).at(-1),t.getTransform())),this}popBaseTransform(){return l(this,Qo).length>1&&l(this,Qo).pop(),this}recordSimpleData(t,e){return l(this,yi)[t]=e,this}recordIncrementalData(t,e){return l(this,_i)[t].push(e),this}resetIncrementalData(t,e){return l(this,_i)[t].length=0,this}recordNamedData(t,e){return l(this,uu).set(t,e),this}recordSimpleDataFromNamed(t,e,i){l(this,yi)[t]=l(this,uu).get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(kh,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in l(this,yi)&&this.recordFutureForcedDependency(e,l(this,yi)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of l(this,wi))this.recordFutureForcedDependency(kh,t);return this}resetBBox(t){return l(this,Jo)!==t&&(S(this,Jo,t),l(this,Jt)[0]=1/0,l(this,Jt)[1]=1/0,l(this,Jt)[2]=-1/0,l(this,Jt)[3]=-1/0),this}recordClipBox(t,e,i,s,r,a){const c=pt.multiplyByDOMMatrix(l(this,Qo).at(-1),e.getTransform()),u=[1/0,1/0,-1/0,-1/0];pt.axialAlignedBoundingBox([i,r,s,a],c,u);const d=pt.intersect(l(this,Xt),u);return d?(l(this,Xt)[0]=d[0],l(this,Xt)[1]=d[1],l(this,Xt)[2]=d[2],l(this,Xt)[3]=d[3]):(l(this,Xt)[0]=l(this,Xt)[1]=1/0,l(this,Xt)[2]=l(this,Xt)[3]=-1/0),this}recordBBox(t,e,i,s,r,a){const c=l(this,Xt);if(c[0]===1/0)return this;const u=pt.multiplyByDOMMatrix(l(this,Qo).at(-1),e.getTransform());if(c[0]===-1/0)return pt.axialAlignedBoundingBox([i,r,s,a],u,l(this,Jt)),this;const d=[1/0,1/0,-1/0,-1/0];return pt.axialAlignedBoundingBox([i,r,s,a],u,d),l(this,Jt)[0]=Math.min(l(this,Jt)[0],Math.max(d[0],c[0])),l(this,Jt)[1]=Math.min(l(this,Jt)[1],Math.max(d[1],c[1])),l(this,Jt)[2]=Math.max(l(this,Jt)[2],Math.min(d[2],c[2])),l(this,Jt)[3]=Math.max(l(this,Jt)[3],Math.min(d[3],c[3])),this}recordCharacterBBox(t,e,i,s=1,r=0,a=0,c){const u=i.bbox;let d,f;if(u&&(d=u[2]!==u[0]&&u[3]!==u[1]&&l(this,Vd).get(i),d!==!1&&(f=[0,0,0,0],pt.axialAlignedBoundingBox(u,i.fontMatrix,f),(s!==1||r!==0||a!==0)&&pt.scaleMinMax([s,0,0,-s,r,a],f),d)))return this.recordBBox(t,e,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(t);const p=c();return u&&f&&d===void 0&&(d=f[0]<=r-p.actualBoundingBoxLeft&&f[2]>=r+p.actualBoundingBoxRight&&f[1]<=a-p.actualBoundingBoxAscent&&f[3]>=a+p.actualBoundingBoxDescent,l(this,Vd).set(i,d),d)?this.recordBBox(t,e,f[0],f[2],f[1],f[3]):this.recordBBox(t,e,r-p.actualBoundingBoxLeft,r+p.actualBoundingBoxRight,a-p.actualBoundingBoxAscent,a+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return l(this,Jt)[0]=Math.max(0,l(this,Xt)[0]),l(this,Jt)[1]=Math.max(0,l(this,Xt)[1]),l(this,Jt)[2]=Math.min(l(this,du),l(this,Xt)[2]),l(this,Jt)[3]=Math.min(l(this,fu),l(this,Xt)[3]),this}getSimpleIndex(t){return l(this,yi)[t]}recordDependencies(t,e){const i=l(this,wi),s=l(this,yi),r=l(this,_i);for(const a of e)a in l(this,yi)?i.add(s[a]):a in r&&r[a].forEach(i.add,i);return this}recordNamedDependency(t,e){return l(this,uu).has(e)&&l(this,wi).add(l(this,uu).get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[kh]),l(this,Kr)){const i=e0(l(this,Kr),t),{dependencies:s}=i;l(this,wi).forEach(s.add,s),l(this,er).forEach(s.add,s),l(this,hu).forEach(s.add,s),s.delete(t),i.isRenderingOperation=!0}if(l(this,Jo)===t){const i=NT(l(this,Jt)[0]*256/l(this,du)),s=NT(l(this,Jt)[1]*256/l(this,fu)),r=IT(l(this,Jt)[2]*256/l(this,du)),a=IT(l(this,Jt)[3]*256/l(this,fu));t0(l(this,ta),t,i,s,r,a);for(const c of l(this,wi))c!==t&&t0(l(this,ta),c,i,s,r,a);for(const c of l(this,er))c!==t&&t0(l(this,ta),c,i,s,r,a);for(const c of l(this,hu))c!==t&&t0(l(this,ta),c,i,s,r,a);e||(l(this,wi).clear(),S(this,Jo,-1))}return this}recordShowTextOperation(t,e=!1){const i=Array.from(l(this,wi));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of i)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return l(this,Jo)===t&&(S(this,Jo,-1),l(this,Xt)[0]=Math.max(l(this,Xt)[0],l(this,Jt)[0]),l(this,Xt)[1]=Math.max(l(this,Xt)[1],l(this,Jt)[1]),l(this,Xt)[2]=Math.min(l(this,Xt)[2],l(this,Jt)[2]),l(this,Xt)[3]=Math.min(l(this,Xt)[3],l(this,Jt)[3]),e||l(this,wi).clear()),this}_takePendingDependencies(){const t=l(this,wi);return S(this,wi,new Set),t}_extractOperation(t){const e=l(this,Fm).get(t);return l(this,Fm).delete(t),e}_pushPendingDependencies(t){for(const e of t)l(this,wi).add(e)}take(){return l(this,Vd).clear(),new CU(l(this,Un),l(this,ta))}takeDebugMetadata(){return l(this,Kr)}}yi=new WeakMap,_i=new WeakMap,uu=new WeakMap,er=new WeakMap,hu=new WeakMap,Qo=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,Jo=new WeakMap,wi=new WeakMap,Fm=new WeakMap,Vd=new WeakMap,du=new WeakMap,fu=new WeakMap,ta=new WeakMap,Un=new WeakMap,Kr=new WeakMap,Bm=new WeakSet,$1=function(t,e){const i=new ArrayBuffer(t*4);S(this,ta,new Uint8ClampedArray(i)),S(this,Un,new Uint32Array(i)),e&&e.length>0?(l(this,Un).set(e),l(this,Un).fill(U1,e.length)):l(this,Un).fill(U1)};var se,Fe,nr,Gd,qd;const TE=class TE{constructor(t,e,i){M(this,se);M(this,Fe);M(this,nr);M(this,Gd,0);M(this,qd,0);if(t instanceof TE&&l(t,nr)===!!i)return t;S(this,se,t),S(this,Fe,e),S(this,nr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(t){return Ie(this,qd)._++,l(this,se).save(l(this,Fe)),this}restore(t){return l(this,qd)>0&&(l(this,se).restore(l(this,Fe)),Ie(this,qd)._--),this}recordOpenMarker(t){return Ie(this,Gd)._++,this}getOpenMarker(){return l(this,Gd)>0?l(this,Fe):l(this,se).getOpenMarker()}recordCloseMarker(t){return Ie(this,Gd)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return l(this,se).pushBaseTransform(t),this}popBaseTransform(){return l(this,se).popBaseTransform(),this}recordSimpleData(t,e){return l(this,se).recordSimpleData(t,l(this,Fe)),this}recordIncrementalData(t,e){return l(this,se).recordIncrementalData(t,l(this,Fe)),this}resetIncrementalData(t,e){return l(this,se).resetIncrementalData(t,l(this,Fe)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return l(this,se).recordSimpleDataFromNamed(t,e,l(this,Fe)),this}recordFutureForcedDependency(t,e){return l(this,se).recordFutureForcedDependency(t,l(this,Fe)),this}inheritSimpleDataAsFutureForcedDependencies(t){return l(this,se).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,se).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return l(this,nr)||l(this,se).resetBBox(l(this,Fe)),this}recordClipBox(t,e,i,s,r,a){return l(this,nr)||l(this,se).recordClipBox(l(this,Fe),e,i,s,r,a),this}recordBBox(t,e,i,s,r,a){return l(this,nr)||l(this,se).recordBBox(l(this,Fe),e,i,s,r,a),this}recordCharacterBBox(t,e,i,s,r,a,c){return l(this,nr)||l(this,se).recordCharacterBBox(l(this,Fe),e,i,s,r,a,c),this}recordFullPageBBox(t){return l(this,nr)||l(this,se).recordFullPageBBox(l(this,Fe)),this}getSimpleIndex(t){return l(this,se).getSimpleIndex(t)}recordDependencies(t,e){return l(this,se).recordDependencies(l(this,Fe),e),this}recordNamedDependency(t,e){return l(this,se).recordNamedDependency(l(this,Fe),e),this}recordOperation(t){return l(this,se).recordOperation(l(this,Fe),!0),this}recordShowTextOperation(t){return l(this,se).recordShowTextOperation(l(this,Fe),!0),this}bboxToClipBoxDropOperation(t){return l(this,nr)||l(this,se).bboxToClipBoxDropOperation(l(this,Fe),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};se=new WeakMap,Fe=new WeakMap,nr=new WeakMap,Gd=new WeakMap,qd=new WeakMap;let I_=TE;const vs={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},kn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W1(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class yE{isModifyingCurrentTransform(){return!1}getPattern(){ae("Abstract method `getPattern` called.")}}class kU extends yE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let r;if(s===kn.STROKE||s===kn.FILL){const a=e.current.getClippedPathBoundingBox(s,Pe(t))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-a[0],-a[1]),i=pt.transform(i,[1,0,0,1,a[0],a[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),W1(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(i);r.setTransform(p)}else W1(t,this._bbox),r=this._createGradient(t);return r}}function sb(n,t,e,i,s,r,a,c){const u=t.coords,d=t.colors,f=n.data,p=n.width*4;let m;u[e+1]>u[i+1]&&(m=e,e=i,i=m,m=r,r=a,a=m),u[i+1]>u[s+1]&&(m=i,i=s,s=m,m=a,a=c,c=m),u[e+1]>u[i+1]&&(m=e,e=i,i=m,m=r,r=a,a=m);const y=(u[e]+t.offsetX)*t.scaleX,E=(u[e+1]+t.offsetY)*t.scaleY,w=(u[i]+t.offsetX)*t.scaleX,C=(u[i+1]+t.offsetY)*t.scaleY,b=(u[s]+t.offsetX)*t.scaleX,P=(u[s+1]+t.offsetY)*t.scaleY;if(E>=P)return;const A=d[r],v=d[r+1],x=d[r+2],k=d[a],I=d[a+1],F=d[a+2],B=d[c],z=d[c+1],U=d[c+2],$=Math.round(E),K=Math.round(P);let W,it,Z,Y,H,q,X,rt;for(let J=$;J<=K;J++){if(J<C){const ct=J<E?0:(E-J)/(E-C);W=y-(y-w)*ct,it=A-(A-k)*ct,Z=v-(v-I)*ct,Y=x-(x-F)*ct}else{let ct;J>P?ct=1:C===P?ct=0:ct=(C-J)/(C-P),W=w-(w-b)*ct,it=k-(k-B)*ct,Z=I-(I-z)*ct,Y=F-(F-U)*ct}let st;J<E?st=0:J>P?st=1:st=(E-J)/(E-P),H=y-(y-b)*st,q=A-(A-B)*st,X=v-(v-z)*st,rt=x-(x-U)*st;const at=Math.round(Math.min(W,H)),ut=Math.round(Math.max(W,H));let dt=p*J+at*4;for(let ct=at;ct<=ut;ct++)st=(W-ct)/(W-H),st<0?st=0:st>1&&(st=1),f[dt++]=it-(it-q)*st|0,f[dt++]=Z-(Z-X)*st|0,f[dt++]=Y-(Y-rt)*st|0,f[dt++]=255}}function LU(n,t,e){const i=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(i.length/c)-1,d=c-1;for(r=0;r<u;r++){let f=r*c;for(let p=0;p<d;p++,f++)sb(n,e,i[f],i[f+1],i[f+c],s[f],s[f+1],s[f+c]),sb(n,e,i[f+c+1],i[f+1],i[f+c],s[f+c+1],s[f+1],s[f+c])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)sb(n,e,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class MU extends yE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),y=d/p,E=f/m,w={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/y,scaleY:1/E},C=p+2*2,b=m+2*2,P=i.getCanvas("mesh",C,b),A=P.context,v=A.createImageData(p,m);if(e){const k=v.data;for(let I=0,F=k.length;I<F;I+=4)k[I]=e[0],k[I+1]=e[1],k[I+2]=e[2],k[I+3]=255}for(const k of this._figures)LU(v,k,w);return A.putImageData(v,2,2),{canvas:P.canvas,offsetX:c-2*y,offsetY:u-2*E,scaleX:y,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){W1(t,this._bbox);const r=new Float32Array(2);if(s===kn.SHADING)pt.singularValueDecompose2dScale(Pe(t),r);else if(this.matrix){pt.singularValueDecompose2dScale(this.matrix,r);const[c,u]=r;pt.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=c,r[1]*=u}else pt.singularValueDecompose2dScale(e.baseTransform,r);const a=this._createMeshCanvas(r,s===kn.SHADING?null:this._background,e.cachedCanvases);return s!==kn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class RU extends yE{getPattern(){return"hotpink"}}function NU(n){switch(n[0]){case"RadialAxial":return new kU(n);case"Mesh":return new MU(n);case"Dummy":return new RU}throw new Error(`Unknown IR type: ${n[0]}`)}const DT={COLORED:1,UNCOLORED:2},K_=class K_{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t,e){var q,X;const{bbox:i,operatorList:s,paintType:r,tilingType:a,color:c,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),Ow("TilingType: "+a);const p=i[0],m=i[1],y=i[2],E=i[3],w=y-p,C=E-m,b=new Float32Array(2);pt.singularValueDecompose2dScale(this.matrix,b);const[P,A]=b;pt.singularValueDecompose2dScale(this.baseTransform,b);const v=P*b[0],x=A*b[1];let k=w,I=C,F=!1,B=!1;const z=Math.ceil(d*v),U=Math.ceil(f*x),$=Math.ceil(w*v),K=Math.ceil(C*x);z>=$?k=d:F=!0,U>=K?I=f:B=!0;const W=this.getSizeAndScale(k,this.ctx.canvas.width,v),it=this.getSizeAndScale(I,this.ctx.canvas.height,x),Z=t.cachedCanvases.getCanvas("pattern",W.size,it.size),Y=Z.context,H=u.createCanvasGraphics(Y,e);if(H.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(H,r,c),Y.translate(-W.scale*p,-it.scale*m),H.transform(0,W.scale,0,0,it.scale,0,0),Y.save(),(q=H.dependencyTracker)==null||q.save(),this.clipBbox(H,p,m,y,E),H.baseTransform=Pe(H.ctx),H.executeOperatorList(s),H.endDrawing(),(X=H.dependencyTracker)==null||X.restore(),Y.restore(),F||B){const rt=Z.canvas;F&&(k=d),B&&(I=f);const J=this.getSizeAndScale(k,this.ctx.canvas.width,v),st=this.getSizeAndScale(I,this.ctx.canvas.height,x),at=J.size,ut=st.size,dt=t.cachedCanvases.getCanvas("pattern-workaround",at,ut),ct=dt.context,pe=F?Math.floor(w/d):0,Ue=B?Math.floor(C/f):0;for(let ge=0;ge<=pe;ge++)for(let Et=0;Et<=Ue;Et++)ct.drawImage(rt,at*ge,ut*Et,at,ut,0,0,at,ut);return{canvas:dt.canvas,scaleX:J.scale,scaleY:st.scale,offsetX:p,offsetY:m}}return{canvas:Z.canvas,scaleX:W.scale,scaleY:it.scale,offsetX:p,offsetY:m}}getSizeAndScale(t,e,i){const s=Math.max(K_.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=s?r=s:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,s,r){const a=s-e,c=r-i;t.ctx.rect(e,i,a,c),pt.axialAlignedBoundingBox([e,i,s,r],Pe(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,r=t.current;switch(e){case DT.COLORED:const{fillStyle:a,strokeStyle:c}=this.ctx;s.fillStyle=r.fillColor=a,s.strokeStyle=r.strokeColor=c;break;case DT.UNCOLORED:s.fillStyle=s.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new tU(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s,r){let a=i;s!==kn.SHADING&&(a=pt.transform(a,e.baseTransform),this.matrix&&(a=pt.transform(a,this.matrix)));const c=this.createPatternCanvas(e,r);let u=new DOMMatrix(a);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(u),d}};tt(K_,"MAX_PATTERN_SIZE",3e3);let V1=K_;function IU({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const c=wn.isLittleEndian?4278190080:255,[u,d]=a?[r,c]:[c,r],f=i>>3,p=i&7,m=n.length;e=new Uint32Array(e.buffer);let y=0;for(let E=0;E<s;E++){for(const C=t+f;t<C;t++){const b=t<m?n[t]:255;e[y++]=b&128?d:u,e[y++]=b&64?d:u,e[y++]=b&32?d:u,e[y++]=b&16?d:u,e[y++]=b&8?d:u,e[y++]=b&4?d:u,e[y++]=b&2?d:u,e[y++]=b&1?d:u}if(p===0)continue;const w=t<m?n[t++]:255;for(let C=0;C<p;C++)e[y++]=w&1<<7-C?d:u}return{srcPos:t,destPos:y}}const OT=16,FT=100,DU=15,BT=10,Ei=16,rb=new DOMMatrix,ts=new Float32Array(2),Kh=new Float32Array([1/0,1/0,-1/0,-1/0]);function OU(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,r,a,c){t.transform(e,i,s,r,a,c),this.__originalTransform(e,i,s,r,a,c)},n.setTransform=function(e,i,s,r,a,c){t.setTransform(e,i,s,r,a,c),this.__originalSetTransform(e,i,s,r,a,c)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,r,a,c){t.bezierCurveTo(e,i,s,r,a,c),this.__originalBezierCurveTo(e,i,s,r,a,c)},n.rect=function(e,i,s,r){t.rect(e,i,s,r),this.__originalRect(e,i,s,r)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class FU{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function n0(n,t,e,i,s,r,a,c,u,d){const[f,p,m,y,E,w]=Pe(n);if(p===0&&m===0){const P=a*f+E,A=Math.round(P),v=c*y+w,x=Math.round(v),k=(a+u)*f+E,I=Math.abs(Math.round(k)-A)||1,F=(c+d)*y+w,B=Math.abs(Math.round(F)-x)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(y),A,x),n.drawImage(t,e,i,s,r,0,0,I,B),n.setTransform(f,p,m,y,E,w),[I,B]}if(f===0&&y===0){const P=c*m+E,A=Math.round(P),v=a*p+w,x=Math.round(v),k=(c+d)*m+E,I=Math.abs(Math.round(k)-A)||1,F=(a+u)*p+w,B=Math.abs(Math.round(F)-x)||1;return n.setTransform(0,Math.sign(p),Math.sign(m),0,A,x),n.drawImage(t,e,i,s,r,0,0,B,I),n.setTransform(f,p,m,y,E,w),[B,I]}n.drawImage(t,e,i,s,r,a,c,u,d);const C=Math.hypot(f,p),b=Math.hypot(m,y);return[C*u,b*d]}class jT{constructor(t,e,i){tt(this,"alphaIsShape",!1);tt(this,"fontSize",0);tt(this,"fontSizeScale",1);tt(this,"textMatrix",null);tt(this,"textMatrixScale",1);tt(this,"fontMatrix",v1);tt(this,"leading",0);tt(this,"x",0);tt(this,"y",0);tt(this,"lineX",0);tt(this,"lineY",0);tt(this,"charSpacing",0);tt(this,"wordSpacing",0);tt(this,"textHScale",1);tt(this,"textRenderingMode",bn.FILL);tt(this,"textRise",0);tt(this,"fillColor","#000000");tt(this,"strokeColor","#000000");tt(this,"patternFill",!1);tt(this,"patternStroke",!1);tt(this,"fillAlpha",1);tt(this,"strokeAlpha",1);tt(this,"lineWidth",1);tt(this,"activeSMask",null);tt(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Kh.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=kn.FILL,e=null){const i=this.minMax.slice();if(t===kn.STROKE){e||ae("Stroke bounding box must include transform."),pt.singularValueDecompose2dScale(e,ts);const s=ts[0]*this.lineWidth/2,r=ts[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const t=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Kh,0)}getClippedPathBoundingBox(t=kn.FILL,e=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function zT(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%Ei,r=(e-s)/Ei,a=s===0?r:r+1,c=n.createImageData(i,Ei);let u=0,d;const f=t.data,p=c.data;let m,y,E,w;if(t.kind===Tg.GRAYSCALE_1BPP){const C=f.byteLength,b=new Uint32Array(p.buffer,0,p.byteLength>>2),P=b.length,A=i+7>>3,v=4294967295,x=wn.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(E=m<r?Ei:s,d=0,y=0;y<E;y++){const k=C-u;let I=0;const F=k>A?i:k*8-7,B=F&-8;let z=0,U=0;for(;I<B;I+=8)U=f[u++],b[d++]=U&128?v:x,b[d++]=U&64?v:x,b[d++]=U&32?v:x,b[d++]=U&16?v:x,b[d++]=U&8?v:x,b[d++]=U&4?v:x,b[d++]=U&2?v:x,b[d++]=U&1?v:x;for(;I<F;I++)z===0&&(U=f[u++],z=128),b[d++]=U&z?v:x,z>>=1}for(;d<P;)b[d++]=0;n.putImageData(c,0,m*Ei)}}else if(t.kind===Tg.RGBA_32BPP){for(y=0,w=i*Ei*4,m=0;m<r;m++)p.set(f.subarray(u,u+w)),u+=w,n.putImageData(c,0,y),y+=Ei;m<a&&(w=i*s*4,p.set(f.subarray(u,u+w)),n.putImageData(c,0,y))}else if(t.kind===Tg.RGB_24BPP)for(E=Ei,w=i*E,m=0;m<a;m++){for(m>=r&&(E=s,w=i*E),d=0,y=w;y--;)p[d++]=f[u++],p[d++]=f[u++],p[d++]=f[u++],p[d++]=255;n.putImageData(c,0,m*Ei)}else throw new Error(`bad image kind: ${t.kind}`)}function HT(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%Ei,r=(e-s)/Ei,a=s===0?r:r+1,c=n.createImageData(i,Ei);let u=0;const d=t.data,f=c.data;for(let p=0;p<a;p++){const m=p<r?Ei:s;({srcPos:u}=IU({src:d,srcPos:u,dest:f,width:i,height:m,nonBlackColor:0})),n.putImageData(c,0,p*Ei)}}function $p(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function i0(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function UT(n,t){if(t)return!0;pt.singularValueDecompose2dScale(n,ts);const e=Math.fround(wr.pixelRatio*La.PDF_TO_CSS_UNITS);return ts[0]<=e&&ts[1]<=e}const BU=["butt","round","square"],jU=["miter","round","bevel"],zU={},$T={};var xr,G1,q1,Z1;const kE=class kE{constructor(t,e,i,s,r,{optionalContentConfig:a,markedContentStack:c=null},u,d,f){M(this,xr);this.ctx=t,this.current=new jT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=a,this.cachedCanvases=new FU(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(t,e,i=null){var s;return typeof e=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=c,i){const u=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Pe(this.compositeCtx))}this.ctx.save(),i0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Pe(this.ctx)}executeOperatorList(t,e,i,s,r){var b;const a=t.argsArray,c=t.fnArray;let u=e||0;const d=a.length;if(d===u)return u;const f=d-u>BT&&typeof i=="function",p=f?Date.now()+DU:0;let m=0;const y=this.commonObjs,E=this.objs;let w,C;for(;;){if(s!==void 0&&u===s.nextBreakPoint)return s.breakIt(u,i),u;if(!r||r(u))if(w=c[u],C=a[u]??null,w!==ip.dependency)C===null?this[w](u):this[w](u,...C);else for(const P of C){(b=this.dependencyTracker)==null||b.recordNamedData(P,u);const A=P.startsWith("g_")?y:E;if(!A.has(P))return A.get(P,i),u}if(u++,u===d)return u;if(f&&++m>BT){if(Date.now()>p)return i(),u;m=0}}}endDrawing(){N(this,xr,G1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),N(this,xr,q1).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),c=i,u=s,d="prescale1",f,p;for(;r>2&&c>1||a>2&&u>1;){let m=c,y=u;r>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),r/=c/m),a>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/y),f=this.cachedCanvases.getCanvas(d,m,y),p=f.context,p.clearRect(0,0,m,y),p.drawImage(t,0,0,c,u,0,0,m,y),t=f.canvas,c=m,u=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t,e){var z,U;const i=this.ctx,{width:s,height:r}=e,a=this.current.fillColor,c=this.current.patternFill,u=Pe(i);let d,f,p,m;if((e.bitmap||e.data)&&e.count>1){const $=e.bitmap||e.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),a]),d=this._cachedBitmapsMap.get($),d||(d=new Map,this._cachedBitmapsMap.set($,d));const K=d.get(f);if(K&&!c){const W=Math.round(Math.min(u[0],u[2])+u[4]),it=Math.round(Math.min(u[1],u[3])+u[5]);return(z=this.dependencyTracker)==null||z.recordDependencies(t,vs.transformAndFill),{canvas:K,offsetX:W,offsetY:it}}p=K}p||(m=this.cachedCanvases.getCanvas("maskCanvas",s,r),HT(m.context,e));let y=pt.transform(u,[1/s,0,0,-1/r,0,0]);y=pt.transform(y,[1,0,0,1,0,-r]);const E=Kh.slice();pt.axialAlignedBoundingBox([0,0,s,r],y,E);const[w,C,b,P]=E,A=Math.round(b-w)||1,v=Math.round(P-C)||1,x=this.cachedCanvases.getCanvas("fillCanvas",A,v),k=x.context,I=w,F=C;k.translate(-I,-F),k.transform(...y),p||(p=this._scaleImage(m.canvas,Ir(k)),p=p.img,d&&c&&d.set(f,p)),k.imageSmoothingEnabled=UT(Pe(k),e.interpolate),n0(k,p,0,0,p.width,p.height,0,0,s,r),k.globalCompositeOperation="source-in";const B=pt.transform(Ir(k),[1,0,0,1,-I,-F]);return k.fillStyle=c?a.getPattern(i,this,B,kn.FILL,t):a,k.fillRect(0,0,s,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,x.canvas)),(U=this.dependencyTracker)==null||U.recordDependencies(t,vs.transformAndFill),{canvas:x.canvas,offsetX:Math.round(I),offsetY:Math.round(F)}}setLineWidth(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",t),this.ctx.lineCap=BU[e]}setLineJoin(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",t),this.ctx.lineJoin=jU[e]}setMiterLimit(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var i,s,r,a,c;for(const[u,d]of e)switch(u){case"LW":this.setLineWidth(t,d);break;case"LC":this.setLineCap(t,d);break;case"LJ":this.setLineJoin(t,d);break;case"ML":this.setMiterLimit(t,d);break;case"D":this.setDash(t,d[0],d[1]);break;case"RI":this.setRenderingIntent(t,d);break;case"FL":this.setFlatness(t,d);break;case"Font":this.setFont(t,d[0],d[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=d;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(r=this.dependencyTracker)==null||r.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=d;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",t),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(c=this.dependencyTracker)==null||c.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,i);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),$p(this.suspendedCtx,a),OU(a,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const r=s[0],a=s[1],c=s[2]-r,u=s[3]-a;c===0||u===0||(this.genericComposeSMask(e.context,i,c,u,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,r,a,c,u,d,f,p){let m=t.canvas,y=u-f,E=d-p;if(a)if(y<0||E<0||y+i>m.width||E+s>m.height){const C=this.cachedCanvases.getCanvas("maskExtension",i,s),b=C.context;b.drawImage(m,-y,-E),b.globalCompositeOperation="destination-atop",b.fillStyle=a,b.fillRect(0,0,i,s),b.globalCompositeOperation="source-over",m=C.canvas,y=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(y,E,i,s),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(y,E,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const w=new Path2D;w.rect(u,d,i,s),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(m,y,E,i,s,u,d,i,s),e.restore()}save(t){var i;this.inSMaskMode&&$p(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(i=this.dependencyTracker)==null||i.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&$p(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,r,a,c){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",t),this.ctx.transform(e,i,s,r,a,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,s){let[r]=i;if(!s){r||(r=i[0]=new Path2D),this[e](t,r);return}if(this.dependencyTracker!==null){const a=e===ip.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-a,s[2]+a,s[1]-a,s[3]+a).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const a=i[0]=new Path2D;for(let c=0,u=r.length;c<u;)switch(r[c++]){case Yy.moveTo:a.moveTo(r[c++],r[c++]);break;case Yy.lineTo:a.lineTo(r[c++],r[c++]);break;case Yy.curveTo:a.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case Yy.closePath:a.closePath();break;default:St(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=a}pt.axialAlignedBoundingBox(s,Pe(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){var a;const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const c=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,Ir(s),kn.STROKE,t),c){const u=new Path2D;u.addPath(e,s.getTransform().invertSelf().multiplySelf(c)),e=u}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);(a=this.dependencyTracker)==null||a.recordDependencies(t,vs.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(kn.STROKE,Pe(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){var d,f,p;const s=this.ctx,r=this.current.fillColor,a=this.current.patternFill;let c=!1;if(a){const m=r.isModifyingCurrentTransform()?s.getTransform():null;if((d=this.dependencyTracker)==null||d.save(t),s.save(),s.fillStyle=r.getPattern(s,this,Ir(s),kn.FILL,t),m){const y=new Path2D;y.addPath(e,s.getTransform().invertSelf().multiplySelf(m)),e=y}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),(f=this.dependencyTracker)==null||f.recordDependencies(t,vs.fill),c&&(s.restore(),(p=this.dependencyTracker)==null||p.restore(t)),i&&this.consumePath(t,e,u)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var i;this.ctx.fill(e),(i=this.dependencyTracker)==null||i.recordDependencies(t,vs.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=zU}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=$T}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,r=i.getTransform().invertSelf();for(const{transform:a,x:c,y:u,fontSize:d,path:f}of e)f&&s.addPath(f,new DOMMatrix(a).preMultiplySelf(r).translate(c,u).scale(d,-d));i.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){var p,m;(p=this.dependencyTracker)==null||p.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||v1,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&St("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const a=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${a}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let f=i;i<OT?f=OT:i>FT&&(f=FT),this.current.fontSizeScale=i/f,this.ctx.font=`${d} ${u} ${f}px ${c}`}setTextRenderingMode(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,i,s,r,a){var b,P,A,v;const c=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&bn.FILL_STROKE_MASK,y=!!(f&bn.ADD_TO_PATH_FLAG),E=u.patternFill&&!d.missingFile,w=u.patternStroke&&!d.missingFile;let C;if((d.disableFontFace||y||E||w)&&!d.missingFile&&(C=d.getPathGenerator(this.commonObjs,e)),C&&(d.disableFontFace||E||w)){c.save(),c.translate(i,s),c.scale(p,-p),(b=this.dependencyTracker)==null||b.recordCharacterBBox(t,c,d);let x;if(m===bn.FILL||m===bn.FILL_STROKE)if(r){x=c.getTransform(),c.setTransform(...r);const k=N(this,xr,Z1).call(this,C,x,r);c.fill(k)}else c.fill(C);if(m===bn.STROKE||m===bn.FILL_STROKE)if(a){x||(x=c.getTransform()),c.setTransform(...a);const{a:k,b:I,c:F,d:B}=x,z=pt.inverseTransform(a),U=pt.transform([k,I,F,B,0,0],z);pt.singularValueDecompose2dScale(U,ts),c.lineWidth*=Math.max(ts[0],ts[1])/p,c.stroke(N(this,xr,Z1).call(this,C,x,a))}else c.lineWidth/=p,c.stroke(C);c.restore()}else(m===bn.FILL||m===bn.FILL_STROKE)&&(c.fillText(e,i,s),(P=this.dependencyTracker)==null||P.recordCharacterBBox(t,c,d,p,i,s,()=>c.measureText(e))),(m===bn.STROKE||m===bn.FILL_STROKE)&&(this.dependencyTracker&&((A=this.dependencyTracker)==null||A.recordCharacterBBox(t,c,d,p,i,s,()=>c.measureText(e)).recordDependencies(t,vs.stroke)),c.strokeText(e,i,s));y&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Pe(c),x:i,y:s,fontSize:p,path:C}),(v=this.dependencyTracker)==null||v.recordCharacterBBox(t,c,d,p,i,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return kt(this,"isFontSubpixelAAEnabled",i)}showText(t,e){var F,B,z,U;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,vs.showText).resetBBox(t),this.current.textRenderingMode&bn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,s=i.font;if(s.isType3Font){this.showType3Text(t,e),(F=this.dependencyTracker)==null||F.recordShowTextOperation(t);return}const r=i.fontSize;if(r===0){(B=this.dependencyTracker)==null||B.recordOperation(t);return}const a=this.ctx,c=i.fontSizeScale,u=i.charSpacing,d=i.wordSpacing,f=i.fontDirection,p=i.textHScale*f,m=e.length,y=s.vertical,E=y?1:-1,w=s.defaultVMetrics,C=r*i.fontMatrix[0],b=i.textRenderingMode===bn.FILL&&!s.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),f>0?a.scale(p,-1):a.scale(p,1);let P,A;if(i.patternFill){a.save();const $=i.fillColor.getPattern(a,this,Ir(a),kn.FILL,t);P=Pe(a),a.restore(),a.fillStyle=$}if(i.patternStroke){a.save();const $=i.strokeColor.getPattern(a,this,Ir(a),kn.STROKE,t);A=Pe(a),a.restore(),a.strokeStyle=$}let v=i.lineWidth;const x=i.textMatrixScale;if(x===0||v===0){const $=i.textRenderingMode&bn.FILL_STROKE_MASK;($===bn.STROKE||$===bn.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=x;if(c!==1&&(a.scale(c,c),v/=c),a.lineWidth=v,s.isInvalidPDFjsFont){const $=[];let K=0;for(const it of e)$.push(it.unicode),K+=it.width;const W=$.join("");if(a.fillText(W,0,0),this.dependencyTracker!==null){const it=a.measureText(W);this.dependencyTracker.recordBBox(t,this.ctx,-it.actualBoundingBoxLeft,it.actualBoundingBoxRight,-it.actualBoundingBoxAscent,it.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=K*C*p,a.restore(),this.compose();return}let k=0,I;for(I=0;I<m;++I){const $=e[I];if(typeof $=="number"){k+=E*$*r/1e3;continue}let K=!1;const W=($.isSpace?d:0)+u,it=$.fontChar,Z=$.accent;let Y,H,q=$.width;if(y){const J=$.vmetric||w,st=-($.vmetric?J[1]:q*.5)*C,at=J[2]*C;q=J?-J[0]:q,Y=st/c,H=(k+at)/c}else Y=k/c,H=0;let X;if(s.remeasure&&q>0){X=a.measureText(it);const J=X.width*1e3/r*c;if(q<J&&this.isFontSubpixelAAEnabled){const st=q/J;K=!0,a.save(),a.scale(st,1),Y/=st}else q!==J&&(Y+=(q-J)/2e3*r/c)}if(this.contentVisible&&($.isInFont||s.missingFile)){if(b&&!Z)a.fillText(it,Y,H),(z=this.dependencyTracker)==null||z.recordCharacterBBox(t,a,X?{bbox:null}:s,r/c,Y,H,()=>X??a.measureText(it));else if(this.paintChar(t,it,Y,H,P,A),Z){const J=Y+r*Z.offset.x/c,st=H-r*Z.offset.y/c;this.paintChar(t,Z.fontChar,J,st,P,A)}}const rt=y?q*C-W*f:q*C+W*f;k+=rt,K&&a.restore()}y?i.y-=k:i.x+=k*p,a.restore(),this.compose(),(U=this.dependencyTracker)==null||U.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,s=this.current,r=s.font,a=s.fontSize,c=s.fontDirection,u=r.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,p=s.textHScale*c,m=s.fontMatrix||v1,y=e.length,E=s.textRenderingMode===bn.INVISIBLE;let w,C,b,P;if(E||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),s.textMatrix&&i.transform(...s.textMatrix),i.translate(s.x,s.y+s.textRise),i.scale(p,c);const A=this.dependencyTracker;for(this.dependencyTracker=A?new I_(A,t):null,w=0;w<y;++w){if(C=e[w],typeof C=="number"){P=u*C*a/1e3,this.ctx.translate(P,0),s.x+=P*p;continue}const v=(C.isSpace?f:0)+d,x=r.charProcOperatorList[C.operatorListId];x?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...m),this.executeOperatorList(x),this.restore()):St(`Type3 character "${C.operatorListId}" is not available.`);const k=[C.width,0];pt.applyTransform(k,m),b=k[0]*a+v,i.translate(b,0),s.x+=b*p}i.restore(),A&&(this.dependencyTracker=A)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,s,r,a,c){var d;const u=new Path2D;u.rect(s,r,a-s,c-r),this.ctx.clip(u),(d=this.dependencyTracker)==null||d.recordBBox(t,this.ctx,s,a,r,c).recordClipBox(t,this.ctx,s,a,r,c),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const s=this.baseTransform||Pe(this.ctx),r={createCanvasGraphics:(a,c)=>new kE(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new I_(this.dependencyTracker,c,!0):null)};i=new V1(e,this.ctx,r,s)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=NU(this.getObject(t,e)),this.cachedPatterns.set(e,s)),i&&(s.matrix=i),s}shadingFill(t,e){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const s=this._getPattern(t,e);i.fillStyle=s.getPattern(i,this,Ir(i),kn.SHADING,t);const r=Ir(i);if(r){const{width:c,height:u}=i.canvas,d=Kh.slice();pt.axialAlignedBoundingBox([0,0,c,u],r,d);const[f,p,m,y]=d;this.ctx.fillRect(f,p,m-f,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,vs.transform).recordDependencies(t,vs.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){ae("Should not call beginInlineImage")}beginImageData(){ae("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){var s;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Pe(this.ctx),i)){pt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,a,c,u]=i,d=new Path2D;d.rect(r,a,c-r,u-a),this.ctx.clip(d),(s=this.dependencyTracker)==null||s.recordClipBox(t,this.ctx,r,c,a,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var A;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Ow("TODO: Support non-isolated groups."),e.knockout&&St("Knockout groups not supported.");const s=Pe(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Kh.slice();pt.axialAlignedBoundingBox(e.bbox,Pe(i),r);const a=[0,0,i.canvas.width,i.canvas.height];r=pt.intersect(r,a)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),f=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,d,f),y=m.context;y.translate(-c,-u),y.transform(...s);let E=new Path2D;const[w,C,b,P]=e.bbox;if(E.rect(w,C,b-w,P-C),e.matrix){const v=new Path2D;v.addPath(E,new DOMMatrix(e.matrix)),E=v}y.clip(E),e.smask&&this.smaskStack.push({canvas:m.canvas,context:y,offsetX:c,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,u),i.save()),$p(i,y),this.ctx=y,(A=this.dependencyTracker)==null||A.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var r;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(r=this.dependencyTracker)==null||r.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Pe(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const c=Kh.slice();pt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,c),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(t,e,i,s,r,a){if(N(this,xr,G1).call(this),i0(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],u=i[3]-i[1];if(a&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=u,pt.singularValueDecompose2dScale(Pe(this.ctx),ts);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(ts[0],0,0,-ts[1],0,u*ts[1]),i0(this.ctx)}else{i0(this.ctx),this.endPath(t);const d=new Path2D;d.rect(i[0],i[1],c,u),this.ctx.clip(d)}}this.current=new jT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),N(this,xr,q1).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var c;if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const s=this.ctx,r=this._createMaskCanvas(t,e),a=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,r.offsetX,r.offsetY),(c=this.dependencyTracker)==null||c.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+a.width,r.offsetY,r.offsetY+a.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,s=0,r=0,a,c){var p,m,y;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const u=this.ctx;u.save();const d=Pe(u);u.transform(i,s,r,a,0,0);const f=this._createMaskCanvas(t,e);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),(p=this.dependencyTracker)==null||p.resetBBox(t);for(let E=0,w=c.length;E<w;E+=2){const C=pt.transform(d,[i,s,r,a,c[E],c[E+1]]);u.drawImage(f.canvas,C[4],C[5]),(m=this.dependencyTracker)==null||m.recordBBox(t,this.ctx,C[4],C[4]+f.canvas.width,C[5],C[5]+f.canvas.height)}u.restore(),this.compose(),(y=this.dependencyTracker)==null||y.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var a,c,u;if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(t).recordDependencies(t,vs.transformAndFill);for(const d of e){const{data:f,width:p,height:m,transform:y}=d,E=this.cachedCanvases.getCanvas("maskCanvas",p,m),w=E.context;w.save();const C=this.getObject(t,f,d);HT(w,C),w.globalCompositeOperation="source-in",w.fillStyle=r?s.getPattern(w,this,Ir(i),kn.FILL,t):s,w.fillRect(0,0,p,m),w.restore(),i.save(),i.transform(...y),i.scale(1,-1),n0(i,E.canvas,0,0,p,m,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(t,i,0,p,0,m),i.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,s,r){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a){St("Dependent image isn't ready yet");return}const c=a.width,u=a.height,d=[];for(let f=0,p=r.length;f<p;f+=2)d.push({transform:[i,0,0,s,r[f],r[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(t,a,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t,e){var d;if(!this.contentVisible)return;const i=e.width,s=e.height,r=this.ctx;this.save(t);const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none"),r.scale(1/i,-1/s);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,s).context;zT(p,e),c=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(c,Ir(r));r.imageSmoothingEnabled=UT(Pe(r),e.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(t).recordBBox(t,r,0,i,-s,0).recordDependencies(t,vs.imageXObject).recordOperation(t),n0(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,i,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){var a,c,u;if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const d=e.width,f=e.height,m=this.cachedCanvases.getCanvas("inlineImage",d,f).context;zT(m,e),r=this.applyTransferMapsToCanvas(m)}(a=this.dependencyTracker)==null||a.resetBBox(t);for(const d of i)s.save(),s.transform(...d.transform),s.scale(1,-1),n0(s,r,d.x,d.y,d.w,d.h,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(t,s,0,1,-1,0),s.restore();(u=this.dependencyTracker)==null||u.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,vs.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){var a,c;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const r=this.ctx;this.pendingClip?(s||(this.pendingClip===$T?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(c=this.dependencyTracker)==null||c.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Pe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:r}=this.ctx.getTransform();let a,c;if(i===0&&s===0){const u=Math.abs(e),d=Math.abs(r);if(u===d)if(t===0)a=c=1/u;else{const f=u*t;a=c=f<1?1/f:1}else if(t===0)a=1/u,c=1/d;else{const f=u*t,p=d*t;a=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(e*r-i*s),d=Math.hypot(e,i),f=Math.hypot(s,r);if(t===0)a=f/u,c=d/u;else{const p=t*u;a=f>p?f/p:1,c=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[r,a]=this.getScaleForStroking();if(r===a){i.lineWidth=(s||1)*r,i.stroke(t);return}const c=i.getLineDash();e&&i.save(),i.scale(r,a),rb.a=1/r,rb.d=1/a;const u=new Path2D;if(u.addPath(t,rb),c.length>0){const d=Math.max(r,a);i.setLineDash(c.map(f=>f/d)),i.lineDashOffset/=d}i.lineWidth=s||1,i.stroke(u),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};xr=new WeakSet,G1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},q1=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},Z1=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let ud=kE;for(const n in ip)ud.prototype[n]!==void 0&&(ud.prototype[ip[n]]=ud.prototype[n]);var Zd,Xd,jm,Yd,k0;const Jh=class Jh{constructor(t){M(this,Yd);M(this,Zd);M(this,Xd);M(this,jm);S(this,Zd,t),S(this,Xd,new DataView(l(this,Zd))),S(this,jm,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const d of Jh.strings){const f=e.encode(t[d]);i[d]=f,s+=4+f.length}const r=new ArrayBuffer(s),a=new Uint8Array(r),c=new DataView(r);let u=0;for(const d of Jh.strings){const f=i[d],p=f.length;c.setUint32(u,p),a.set(f,u+4),u+=4+p}return Bt(u===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}get fontFamily(){return N(this,Yd,k0).call(this,0)}get fontWeight(){return N(this,Yd,k0).call(this,1)}get italicAngle(){return N(this,Yd,k0).call(this,2)}};Zd=new WeakMap,Xd=new WeakMap,jm=new WeakMap,Yd=new WeakSet,k0=function(t){Bt(t<Jh.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=l(this,Xd).getUint32(e)+4;const i=l(this,Xd).getUint32(e);return l(this,jm).decode(new Uint8Array(l(this,Zd),e+4,i))},tt(Jh,"strings",["fontFamily","fontWeight","italicAngle"]);let D_=Jh;var vl,Qr,pu,gu,lg;const td=class td{constructor(t){M(this,gu);M(this,vl);M(this,Qr);M(this,pu);S(this,vl,t),S(this,Qr,new DataView(l(this,vl))),S(this,pu,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const m of td.strings){const y=e.encode(t[m]);i[m]=y,s+=4+y.length}s+=4;let r,a,c=1+s;t.style&&(r=e.encode(t.style.style),a=e.encode(t.style.weight),c+=4+r.length+4+a.length);const u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,t.guessFallback?1:0),f.setUint32(p,0),p+=4,s=0;for(const m of td.strings){const y=i[m],E=y.length;s+=4+E,f.setUint32(p,E),d.set(y,p+4),p+=4+E}return f.setUint32(p-s-4,s),t.style&&(f.setUint32(p,r.length),d.set(r,p+4),p+=4+r.length,f.setUint32(p,a.length),d.set(a,p+4),p+=4+a.length),Bt(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}get guessFallback(){return l(this,Qr).getUint8(0)!==0}get css(){return N(this,gu,lg).call(this,0)}get loadedName(){return N(this,gu,lg).call(this,1)}get baseFontName(){return N(this,gu,lg).call(this,2)}get src(){return N(this,gu,lg).call(this,3)}get style(){let t=1;t+=4+l(this,Qr).getUint32(t);const e=l(this,Qr).getUint32(t),i=l(this,pu).decode(new Uint8Array(l(this,vl),t+4,e));t+=4+e;const s=l(this,Qr).getUint32(t),r=l(this,pu).decode(new Uint8Array(l(this,vl),t+4,s));return{style:i,weight:r}}};vl=new WeakMap,Qr=new WeakMap,pu=new WeakMap,gu=new WeakSet,lg=function(t){Bt(t<td.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=l(this,Qr).getUint32(e)+4;const i=l(this,Qr).getUint32(e);return l(this,pu).decode(new Uint8Array(l(this,vl),e+4,i))},tt(td,"strings",["css","loadedName","baseFontName","src"]);let O_=td;var Kd,Qd,Jd,tf,Bi,Jr,zm,te,ze,Gs,L0,cg;const Ct=class Ct{constructor({data:t,extra:e}){M(this,ze);M(this,Jr);M(this,zm);M(this,te);S(this,Jr,t),S(this,zm,new TextDecoder),S(this,te,new DataView(l(this,Jr))),e&&Object.assign(this,e)}get black(){return N(this,ze,Gs).call(this,0)}get bold(){return N(this,ze,Gs).call(this,1)}get disableFontFace(){return N(this,ze,Gs).call(this,2)}get fontExtraProperties(){return N(this,ze,Gs).call(this,3)}get isInvalidPDFjsFont(){return N(this,ze,Gs).call(this,4)}get isType3Font(){return N(this,ze,Gs).call(this,5)}get italic(){return N(this,ze,Gs).call(this,6)}get missingFile(){return N(this,ze,Gs).call(this,7)}get remeasure(){return N(this,ze,Gs).call(this,8)}get vertical(){return N(this,ze,Gs).call(this,9)}get ascent(){return N(this,ze,L0).call(this,0)}get defaultWidth(){return N(this,ze,L0).call(this,1)}get descent(){return N(this,ze,L0).call(this,2)}get bbox(){let t=l(Ct,Qd);if(l(this,te).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<4;s++)i.push(l(this,te).getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=l(Ct,Jd);if(l(this,te).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<6;s++)i.push(l(this,te).getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=l(Ct,tf);if(l(this,te).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<3;s++)i.push(l(this,te).getInt16(t,!0)),t+=2;return i}get fallbackName(){return N(this,ze,cg).call(this,0)}get loadedName(){return N(this,ze,cg).call(this,1)}get mimetype(){return N(this,ze,cg).call(this,2)}get name(){return N(this,ze,cg).call(this,3)}get data(){let t=l(Ct,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);t+=4+i;const s=l(this,te).getUint32(t);t+=4+s;const r=l(this,te).getUint32(t);if(r!==0)return new Uint8Array(l(this,Jr),t+4,r)}clearData(){let t=l(Ct,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);t+=4+i;const s=l(this,te).getUint32(t);t+=4+s;const r=l(this,te).getUint32(t);new Uint8Array(l(this,Jr),t+4,r).fill(0),l(this,te).setUint32(t,0)}get cssFontInfo(){let t=l(Ct,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);t+=4+i;const s=l(this,te).getUint32(t);if(s===0)return null;const r=new Uint8Array(s);return r.set(new Uint8Array(l(this,Jr),t+4,s)),new D_(r.buffer)}get systemFontInfo(){let t=l(Ct,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(l(this,Jr),t+4,i)),new O_(s.buffer)}static write(t){const e=t.systemFontInfo?O_.write(t.systemFontInfo):null,i=t.cssFontInfo?D_.write(t.cssFontInfo):null,s=new TextEncoder,r={};let a=0;for(const w of Ct.strings)r[w]=s.encode(t[w]),a+=4+r[w].length;const c=l(Ct,Bi)+4+a+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;const m=Ct.bools.length;let y=0,E=0;for(let w=0;w<m;w++){const C=t[Ct.bools[w]];y|=(C===void 0?0:C?2:1)<<E,E+=2,(E===8||w===m-1)&&(f.setUint8(p++,y),y=0,E=0)}Bt(p===l(Ct,Kd),"FontInfo.write: Boolean properties offset mismatch");for(const w of Ct.numbers)f.setFloat64(p,t[w]),p+=8;if(Bt(p===l(Ct,Qd),"FontInfo.write: Number properties offset mismatch"),t.bbox){f.setUint8(p++,4);for(const w of t.bbox)f.setInt16(p,w,!0),p+=2}else f.setUint8(p++,0),p+=2*4;if(Bt(p===l(Ct,Jd),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){f.setUint8(p++,6);for(const w of t.fontMatrix)f.setFloat64(p,w,!0),p+=8}else f.setUint8(p++,0),p+=8*6;if(Bt(p===l(Ct,tf),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){f.setUint8(p++,1);for(const w of t.defaultVMetrics)f.setInt16(p,w,!0),p+=2}else f.setUint8(p++,0),p+=3*2;Bt(p===l(Ct,Bi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(l(Ct,Bi),0),p+=4;for(const w of Ct.strings){const C=r[w],b=C.length;f.setUint32(p,b),d.set(C,p+4),p+=4+b}if(f.setUint32(l(Ct,Bi),p-l(Ct,Bi)-4),!e)f.setUint32(p,0),p+=4;else{const w=e.byteLength;f.setUint32(p,w),Bt(p+4+w<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),p+4),p+=4+w}if(!i)f.setUint32(p,0),p+=4;else{const w=i.byteLength;f.setUint32(p,w),Bt(p+4+w<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(i),p+4),p+=4+w}return t.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,t.data.length),d.set(t.data,p+4),p+=4+t.data.length),Bt(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}};Kd=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,tf=new WeakMap,Bi=new WeakMap,Jr=new WeakMap,zm=new WeakMap,te=new WeakMap,ze=new WeakSet,Gs=function(t){Bt(t<Ct.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,s=l(this,te).getUint8(e)>>i&3;return s===0?void 0:s===2},L0=function(t){return Bt(t<Ct.numbers.length,"Invalid number index"),l(this,te).getFloat64(l(Ct,Kd)+t*8)},cg=function(t){Bt(t<Ct.strings.length,"Invalid string index");let e=l(Ct,Bi)+4;for(let r=0;r<t;r++)e+=l(this,te).getUint32(e)+4;const i=l(this,te).getUint32(e),s=new Uint8Array(i);return s.set(new Uint8Array(l(this,Jr),e+4,i)),l(this,zm).decode(s)},tt(Ct,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),tt(Ct,"numbers",["ascent","defaultWidth","descent"]),tt(Ct,"strings",["fallbackName","loadedName","mimetype","name"]),M(Ct,Kd,Math.ceil(Ct.bools.length*2/8)),M(Ct,Qd,l(Ct,Kd)+Ct.numbers.length*8),M(Ct,Jd,l(Ct,Qd)+1+2*4),M(Ct,tf,l(Ct,Jd)+1+8*6),M(Ct,Bi,l(Ct,tf)+1+2*3);let X1=Ct;var Hm,Um;class Ns{static get workerPort(){return l(this,Hm)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");S(this,Hm,t)}static get workerSrc(){return l(this,Um)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");S(this,Um,t)}}Hm=new WeakMap,Um=new WeakMap,M(Ns,Hm,null),M(Ns,Um,"");var ef,$m;class HU{constructor({parsedData:t,rawData:e}){M(this,ef);M(this,$m);S(this,ef,t),S(this,$m,e)}getRaw(){return l(this,$m)}get(t){return l(this,ef).get(t)??null}[Symbol.iterator](){return l(this,ef).entries()}}ef=new WeakMap,$m=new WeakMap;const Dh=Symbol("INTERNAL");var Wm,Vm,Gm,nf;class UU{constructor(t,{name:e,intent:i,usage:s,rbGroups:r}){M(this,Wm,!1);M(this,Vm,!1);M(this,Gm,!1);M(this,nf,!0);S(this,Wm,!!(t&Qi.DISPLAY)),S(this,Vm,!!(t&Qi.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(l(this,Gm))return l(this,nf);if(!l(this,nf))return!1;const{print:t,view:e}=this.usage;return l(this,Wm)?(e==null?void 0:e.viewState)!=="OFF":l(this,Vm)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==Dh&&ae("Internal method `_setVisible` called."),S(this,Gm,i),S(this,nf,e)}}Wm=new WeakMap,Vm=new WeakMap,Gm=new WeakMap,nf=new WeakMap;var yl,ee,sf,rf,qm,Y1;class $U{constructor(t,e=Qi.DISPLAY){M(this,qm);M(this,yl,null);M(this,ee,new Map);M(this,sf,null);M(this,rf,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,S(this,rf,t.order);for(const i of t.groups)l(this,ee).set(i.id,new UU(e,i));if(t.baseState==="OFF")for(const i of l(this,ee).values())i._setVisible(Dh,!1);for(const i of t.on)l(this,ee).get(i)._setVisible(Dh,!0);for(const i of t.off)l(this,ee).get(i)._setVisible(Dh,!1);S(this,sf,this.getHash())}}isVisible(t){if(l(this,ee).size===0)return!0;if(!t)return Ow("Optional content group not defined."),!0;if(t.type==="OCG")return l(this,ee).has(t.id)?l(this,ee).get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return N(this,qm,Y1).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(l(this,ee).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(!l(this,ee).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(!l(this,ee).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(l(this,ee).get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const s=l(this,ee).get(t);if(!s){St(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const a of s.rbGroups)for(const c of a)c!==t&&((r=l(this,ee).get(c))==null||r._setVisible(Dh,!1,!0));s._setVisible(Dh,!!e,!0),S(this,yl,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=l(this,ee).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!r.visible,e);break}}S(this,yl,null)}get hasInitialVisibility(){return l(this,sf)===null||this.getHash()===l(this,sf)}getOrder(){return l(this,ee).size?l(this,rf)?l(this,rf).slice():[...l(this,ee).keys()]:null}getGroup(t){return l(this,ee).get(t)||null}getHash(){if(l(this,yl)!==null)return l(this,yl);const t=new rN;for(const[e,i]of l(this,ee))t.update(`${e}:${i.visible}`);return S(this,yl,t.hexdigest())}[Symbol.iterator](){return l(this,ee).entries()}}yl=new WeakMap,ee=new WeakMap,sf=new WeakMap,rf=new WeakMap,qm=new WeakSet,Y1=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const r=t[s];let a;if(Array.isArray(r))a=N(this,qm,Y1).call(this,r);else if(l(this,ee).has(r))a=l(this,ee).get(r).visible;else return St(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class WU{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Bt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=c,(r==null?void 0:r.length)>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});Bt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new VU(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new GU(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class VU{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=Bw(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class GU{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function qU(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let f=c(e);return f=unescape(f),f=u(f),f=d(f),r(f)}if(e=a(n),e){const f=d(e);return r(f)}if(e=i("filename","i").exec(n),e){e=e[1];let f=c(e);return f=d(f),r(f)}function i(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),y=Jv(p);p=m.decode(y),t=!1}catch{}}return p}function r(f){return t&&/[\x80-\xff]/.test(f)&&(f=s("utf-8",f),t&&(f=s("iso-8859-1",f))),f}function a(f){const p=[];let m;const y=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(f))!==null;){let[,w,C,b]=m;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[C,b]}const E=[];for(let w=0;w<p.length&&w in p;++w){let[C,b]=p[w];b=c(b),C&&(b=unescape(b),w===0&&(b=u(b))),E.push(b)}return E.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const y=p[m].indexOf('"');y!==-1&&(p[m]=p[m].slice(0,y),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),E=f.slice(p+1).replace(/^[^']*'/,"");return s(m,E)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,y,E){if(y==="q"||y==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,C){return String.fromCharCode(parseInt(C,16))}),s(m,E);try{E=atob(E)}catch{}return s(m,E)})}return""}function yN(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function jw(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function _N({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function wN(n){const t=n.get("Content-Disposition");if(t){let e=qU(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Bw(e))return e}return null}function iy(n,t){return new Jg(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function xN(n){return n===200||n===206}function bN(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function SN(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(St(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class ZU{constructor(t){tt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=yN(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XU(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new YU(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class XU{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,bN(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=jw(r.url),!xN(r.status))throw iy(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:c,suggestedLength:u}=_N({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=wN(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ka("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:SN(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class YU{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const a=s.url;fetch(a,bN(r,this._withCredentials,this._abortController)).then(c=>{const u=jw(c.url);if(u!==t._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`);if(!xN(c.status))throw iy(c.status,a);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:SN(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const ob=200,ab=206;function KU(n){const t=n.response;return typeof t!="string"?t:Jv(t).buffer}class QU{constructor({url:t,httpHeaders:e,withCredentials:i}){tt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=yN(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,a]of this.headers)e.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=ab):s.expectedStatus=ob,e.responseType="arraybuffer",Bt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||ob;if(!(r===ob&&i.expectedStatus===ab)&&r!==i.expectedStatus){i.onError(s.status);return}const c=KU(s);if(r===ab){const u=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);d?i.onDone({begin:parseInt(d[1],10),chunk:c}):(St('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class JU{constructor(t){this._source=t,this._manager=new QU(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new t8(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new e8(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class t8{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=jw(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...d]=c.split(": ");return[u,d.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=_N({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=wN(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=iy(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class e8{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=jw((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=iy(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const n8=/^[a-z][a-z0-9\-+.]+:/i;function i8(n){if(n8.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class s8{constructor(t){this.source=t,this.url=i8(t.url),Bt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new r8(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new o8(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class r8{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=iy(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ka("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o8{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Wp=Symbol("INITIAL_DATA");var ji,Zm,K1;class AN{constructor(){M(this,Zm);M(this,ji,Object.create(null))}get(t,e=null){if(e){const s=N(this,Zm,K1).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=l(this,ji)[t];if(!i||i.data===Wp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=l(this,ji)[t];return!!e&&e.data!==Wp}delete(t){const e=l(this,ji)[t];return!e||e.data===Wp?!1:(delete l(this,ji)[t],!0)}resolve(t,e=null){const i=N(this,Zm,K1).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in l(this,ji)){const{data:i}=l(this,ji)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}S(this,ji,Object.create(null))}*[Symbol.iterator](){for(const t in l(this,ji)){const{data:e}=l(this,ji)[t];e!==Wp&&(yield[t,e])}}}ji=new WeakMap,Zm=new WeakSet,K1=function(t){var e;return(e=l(this,ji))[t]||(e[t]={...Promise.withResolvers(),data:Wp})};const a8=1e5,WT=30;var uk,_l,xi,Xm,Ym,mu,ea,Km,Qm,vu,of,af,wl,lf,Jm,cf,yu,tv,ev,je,uf,_u,nv,xl,hf,Ra,EN,PN,Q1,os,M0,J1,CN,TN;let im=(je=class{constructor({textContentSource:t,container:e,viewport:i}){M(this,Ra);M(this,_l,Promise.withResolvers());M(this,xi,null);M(this,Xm,!1);M(this,Ym,!!((uk=globalThis.FontInspector)!=null&&uk.enabled));M(this,mu,null);M(this,ea,null);M(this,Km,0);M(this,Qm,0);M(this,vu,null);M(this,of,null);M(this,af,0);M(this,wl,0);M(this,lf,Object.create(null));M(this,Jm,[]);M(this,cf,null);M(this,yu,[]);M(this,tv,new WeakMap);M(this,ev,null);var u;if(t instanceof ReadableStream)S(this,cf,t);else if(typeof t=="object")S(this,cf,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,xi,S(this,of,e)),S(this,wl,i.scale*wr.pixelRatio),S(this,af,i.rotation),S(this,ea,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:c}=i.rawDims;S(this,ev,[1,0,0,-1,-a,c+r]),S(this,Qm,s),S(this,Km,r),N(u=je,os,CN).call(u),uc(e,i),l(this,_l).promise.finally(()=>{l(je,hf).delete(this),S(this,ea,null),S(this,lf,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=wn.platform;return kt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{l(this,vu).read().then(({value:e,done:i})=>{if(i){l(this,_l).resolve();return}l(this,mu)??S(this,mu,e.lang),Object.assign(l(this,lf),e.styles),N(this,Ra,EN).call(this,e.items),t()},l(this,_l).reject)};return S(this,vu,l(this,cf).getReader()),l(je,hf).add(this),t(),l(this,_l).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*wr.pixelRatio,s=t.rotation;if(s!==l(this,af)&&(e==null||e(),S(this,af,s),uc(l(this,of),{rotation:s})),i!==l(this,wl)){e==null||e(),S(this,wl,i);const a={div:null,properties:null,ctx:N(r=je,os,M0).call(r,l(this,mu))};for(const c of l(this,yu))a.properties=l(this,tv).get(c),a.div=c,N(this,Ra,Q1).call(this,a)}}cancel(){var e;const t=new ka("TextLayer task cancelled.");(e=l(this,vu))==null||e.cancel(t).catch(()=>{}),S(this,vu,null),l(this,_l).reject(t)}get textDivs(){return l(this,yu)}get textContentItemsStr(){return l(this,Jm)}static cleanup(){if(!(l(this,hf).size>0)){l(this,uf).clear();for(const{canvas:t}of l(this,_u).values())t.remove();l(this,_u).clear()}}},_l=new WeakMap,xi=new WeakMap,Xm=new WeakMap,Ym=new WeakMap,mu=new WeakMap,ea=new WeakMap,Km=new WeakMap,Qm=new WeakMap,vu=new WeakMap,of=new WeakMap,af=new WeakMap,wl=new WeakMap,lf=new WeakMap,Jm=new WeakMap,cf=new WeakMap,yu=new WeakMap,tv=new WeakMap,ev=new WeakMap,uf=new WeakMap,_u=new WeakMap,nv=new WeakMap,xl=new WeakMap,hf=new WeakMap,Ra=new WeakSet,EN=function(t){var s,r;if(l(this,Xm))return;(r=l(this,ea)).ctx??(r.ctx=N(s=je,os,M0).call(s,l(this,mu)));const e=l(this,yu),i=l(this,Jm);for(const a of t){if(e.length>a8){St("Ignoring additional textDivs for performance reasons."),S(this,Xm,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const c=l(this,xi);S(this,xi,document.createElement("span")),l(this,xi).classList.add("markedContent"),a.id&&l(this,xi).setAttribute("id",`${a.id}`),c.append(l(this,xi))}else a.type==="endMarkedContent"&&S(this,xi,l(this,xi).parentNode);continue}i.push(a.str),N(this,Ra,PN).call(this,a)}},PN=function(t){var w;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};l(this,yu).push(e);const s=pt.transform(l(this,ev),t.transform);let r=Math.atan2(s[1],s[0]);const a=l(this,lf)[t.fontName];a.vertical&&(r+=Math.PI/2);let c=l(this,Ym)&&a.fontSubstitution||a.fontFamily;c=je.fontFamilyMap.get(c)||c;const u=Math.hypot(s[2],s[3]),d=u*N(w=je,os,TN).call(w,c,a,l(this,mu));let f,p;r===0?(f=s[4],p=s[5]-d):(f=s[4]+d*Math.sin(r),p=s[5]-d*Math.cos(r));const m="calc(var(--total-scale-factor) *",y=e.style;l(this,xi)===l(this,of)?(y.left=`${(100*f/l(this,Qm)).toFixed(2)}%`,y.top=`${(100*p/l(this,Km)).toFixed(2)}%`):(y.left=`${m}${f.toFixed(2)}px)`,y.top=`${m}${p.toFixed(2)}px)`),y.fontSize=`${m}${(l(je,xl)*u).toFixed(2)}px)`,y.fontFamily=c,i.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,l(this,Ym)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const C=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);C!==b&&Math.max(C,b)/Math.min(C,b)>1.5&&(E=!0)}if(E&&(i.canvasWidth=a.vertical?t.height:t.width),l(this,tv).set(e,i),l(this,ea).div=e,l(this,ea).properties=i,N(this,Ra,Q1).call(this,l(this,ea)),i.hasText&&l(this,xi).append(e),i.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),l(this,xi).append(C)}},Q1=function(t){var c;const{div:e,properties:i,ctx:s}=t,{style:r}=e;let a="";if(l(je,xl)>1&&(a=`scale(${1/l(je,xl)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=r,{canvasWidth:d,fontSize:f}=i;N(c=je,os,J1).call(c,s,f*l(this,wl),u);const{width:p}=s.measureText(e.textContent);p>0&&(a=`scaleX(${d*l(this,wl)/p}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(r.transform=a)},os=new WeakSet,M0=function(t=null){let e=l(this,_u).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,_u).set(t,e),l(this,nv).set(e,{size:0,family:""})}return e},J1=function(t,e,i){const s=l(this,nv).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},CN=function(){if(l(this,xl)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),S(this,xl,t.getBoundingClientRect().height),t.remove()},TN=function(t,e,i){const s=l(this,uf).get(t);if(s)return s;const r=N(this,os,M0).call(this,i);r.canvas.width=r.canvas.height=WT,N(this,os,J1).call(this,r,WT,t);const a=r.measureText(""),c=a.fontBoundingBoxAscent,u=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let d=.8;return c?d=c/(c+u):(wn.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),l(this,uf).set(t,d),d},M(je,os),M(je,uf,new Map),M(je,_u,new Map),M(je,nv,new WeakMap),M(je,xl,null),M(je,hf,new Set),je);const l8=100;function _E(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new tS,{docId:e}=t,i=n.url?mU(n.url):null,s=n.data?vU(n.data):null,r=n.httpHeaders||null,a=n.withCredentials===!0,c=n.password??null,u=n.range instanceof wE?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof sp?n.worker:null;const p=n.verbosity,m=typeof n.docBaseUrl=="string"&&!ey(n.docBaseUrl)?n.docBaseUrl:null,y=Qy(n.cMapUrl),E=n.cMapPacked!==!1,w=n.CMapReaderFactory||(si?AU:LT),C=Qy(n.iccUrl),b=Qy(n.standardFontDataUrl),P=n.StandardFontDataFactory||(si?EU:MT),A=Qy(n.wasmUrl),v=n.WasmFactory||(si?PU:RT),x=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,I=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!si,B=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!si&&(wn.platform.isFirefox||!globalThis.chrome),z=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,U=typeof n.disableFontFace=="boolean"?n.disableFontFace:si,$=n.fontExtraProperties===!0,K=n.enableXfa===!0,W=n.ownerDocument||globalThis.document,it=n.disableRange===!0,Z=n.disableStream===!0,Y=n.disableAutoFetch===!0,H=n.pdfBug===!0,q=n.CanvasFactory||(si?SU:wU),X=n.FilterFactory||(si?bU:xU),rt=n.enableHWA===!0,J=n.useWasm!==!1,st=u?u.length:n.length??NaN,at=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!si&&!U,ut=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(w===LT&&P===MT&&v===RT&&y&&b&&A&&Kp(y,document.baseURI)&&Kp(b,document.baseURI)&&Kp(A,document.baseURI)),dt=null;KH(p);const ct={canvasFactory:new q({ownerDocument:W,enableHWA:rt}),filterFactory:new X({docId:e,ownerDocument:W}),cMapReaderFactory:ut?null:new w({baseUrl:y,isCompressed:E}),standardFontDataFactory:ut?null:new P({baseUrl:b}),wasmFactory:ut?null:new v({baseUrl:A})};f||(f=sp.create({verbosity:p,port:Ns.workerPort}),t._worker=f);const pe={docId:e,apiVersion:"5.4.296",data:s,password:c,disableAutoFetch:Y,rangeChunkSize:d,length:st,docBaseUrl:m,enableXfa:K,evaluatorOptions:{maxImageSize:k,disableFontFace:U,ignoreErrors:x,isEvalSupported:I,isOffscreenCanvasSupported:F,isImageDecoderSupported:B,canvasMaxAreaInBytes:z,fontExtraProperties:$,useSystemFonts:at,useWasm:J,useWorkerFetch:ut,cMapUrl:y,iccUrl:C,standardFontDataUrl:b,wasmUrl:A}},Ue={ownerDocument:W,pdfBug:H,styleElement:dt,loadingParams:{disableAutoFetch:Y,enableXfa:K}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const ge=f.messageHandler.sendWithPromise("GetDocRequest",pe,s?[s.buffer]:null);let Et;if(u)Et=new WU(u,{disableRange:it,disableStream:Z});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Re=Kp(i)?ZU:si?s8:JU;Et=new Re({url:i,length:st,httpHeaders:r,withCredentials:a,rangeChunkSize:d,disableRange:it,disableStream:Z})}return ge.then(Re=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Dt=new ig(e,Re,f.port),zt=new h8(Dt,t,Et,Ue,ct,rt);t._transport=zt,Dt.send("Ready",null)})}).catch(t._capability.reject),t}var Q_;const J_=class J_{constructor(){tt(this,"_capability",Promise.withResolvers());tt(this,"_transport",null);tt(this,"_worker",null);tt(this,"docId",`d${Ie(J_,Q_)._++}`);tt(this,"destroyed",!1);tt(this,"onPassword",null);tt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Q_=new WeakMap,M(J_,Q_,0);let tS=J_;var wu,iv,sv,rv,ov,hk;let wE=(hk=class{constructor(t,e,i=!1,s=null){M(this,wu,Promise.withResolvers());M(this,iv,[]);M(this,sv,[]);M(this,rv,[]);M(this,ov,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){l(this,ov).push(t)}addProgressListener(t){l(this,rv).push(t)}addProgressiveReadListener(t){l(this,sv).push(t)}addProgressiveDoneListener(t){l(this,iv).push(t)}onDataRange(t,e){for(const i of l(this,ov))i(t,e)}onDataProgress(t,e){l(this,wu).promise.then(()=>{for(const i of l(this,rv))i(t,e)})}onDataProgressiveRead(t){l(this,wu).promise.then(()=>{for(const e of l(this,sv))e(t)})}onDataProgressiveDone(){l(this,wu).promise.then(()=>{for(const t of l(this,iv))t()})}transportReady(){l(this,wu).resolve()}requestDataRange(t,e){ae("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},wu=new WeakMap,iv=new WeakMap,sv=new WeakMap,rv=new WeakMap,ov=new WeakMap,hk);class c8{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return kt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var na,xu,ug;class u8{constructor(t,e,i,s=!1){M(this,xu);M(this,na,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new ST:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new AN,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new ty({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return kt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:s="display",annotationMode:r=ho.ENABLE,transform:a=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:y=!1,operationsFilter:E=null}){var B,z,U;(B=this._stats)==null||B.time("Overall");const w=this._transport.getRenderingIntent(s,r,p,m),{renderingIntent:C,cacheKey:b}=w;S(this,na,!1),u||(u=this._transport.getOptionalContentConfig(C));let P=this._intentStates.get(b);P||(P=Object.create(null),this._intentStates.set(b,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const A=!!(C&Qi.PRINT);P.displayReadyCapability||(P.displayReadyCapability=Promise.withResolvers(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(z=this._stats)==null||z.time("Page Request"),this._pumpOperatorList(w));const v=!!(this._pdfBug&&((U=globalThis.StepperManager)!=null&&U.enabled)),x=!this.recordedBBoxes&&(y||v),k=$=>{var K,W;if(P.renderTasks.delete(I),x){const it=(K=I.gfx)==null?void 0:K.dependencyTracker.take();it&&(I.stepper&&I.stepper.setOperatorBBoxes(it,I.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=it))}A&&S(this,na,!0),N(this,xu,ug).call(this),$?(I.capability.reject($),this._abortOperatorList({intentState:P,reason:$ instanceof Error?$:new Error($)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(W=globalThis.Stats)!=null&&W.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},I=new eS({callback:k,params:{canvas:e,canvasContext:t,dependencyTracker:x?new TU(e,P.operatorList.length,v):null,viewport:i,transform:a,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:E});(P.renderTasks||(P.renderTasks=new Set)).add(I);const F=I.task;return Promise.all([P.displayReadyCapability.promise,u]).then(([$,K])=>{var W;if(this.destroyed){k();return}if((W=this._stats)==null||W.time("Rendering"),!(K.renderingIntent&C))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");I.initializeGraphics({transparency:$,optionalContentConfig:K}),I.operatorListChanged()}).catch(k),F}getOperatorList({intent:t="display",annotationMode:e=ho.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var d;function r(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const a=this._transport.getRenderingIntent(t,e,i,s,!0);let c=this._intentStates.get(a.cacheKey);c||(c=Object.create(null),this._intentStates.set(a.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(a)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>tm.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function r(){a.read().then(function({value:u,done:d}){if(d){i(c);return}c.lang??(c.lang=u.lang),Object.assign(c.styles,u.styles),c.items.push(...u.items),r()},s)}const a=e.getReader(),c={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),S(this,na,!1),Promise.all(t)}cleanup(t=!1){S(this,na,!0);const e=N(this,xu,ug).call(this);return t&&e&&this._stats&&(this._stats=new ST),e}_startRenderPage(t,e){var s,r;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&N(this,xu,ug).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:a}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:s},a).getReader(),d=this._intentStates.get(e);d.streamReader=u;const f=()=>{u.read().then(({value:p,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),f())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();N(this,xu,ug).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Fw){let s=l8;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new ka(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}na=new WeakMap,xu=new WeakSet,ug=function(){if(!l(this,na)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,na,!1),!0};var bl,ir,ia,bu,tw,Su,Au,ai,R0,kN,LN,hg,df,N0;const we=class we{constructor({name:t=null,port:e=null,verbosity:i=QH()}={}){M(this,ai);M(this,bl,Promise.withResolvers());M(this,ir,null);M(this,ia,null);M(this,bu,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(l(we,Au).has(e))throw new Error("Cannot use more than one PDFWorker per port.");l(we,Au).set(e,this),N(this,ai,kN).call(this,e)}else N(this,ai,LN).call(this)}get promise(){return l(this,bl).promise}get port(){return l(this,ia)}get messageHandler(){return l(this,ir)}destroy(){var t,e;this.destroyed=!0,(t=l(this,bu))==null||t.terminate(),S(this,bu,null),l(we,Au).delete(l(this,ia)),S(this,ia,null),(e=l(this,ir))==null||e.destroy(),S(this,ir,null)}static create(t){const e=l(this,Au).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new we(t)}static get workerSrc(){if(Ns.workerSrc)return Ns.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return kt(this,"_setupFakeWorkerGlobal",(async()=>l(this,df,N0)?l(this,df,N0):(await import(this.workerSrc)).WorkerMessageHandler)())}};bl=new WeakMap,ir=new WeakMap,ia=new WeakMap,bu=new WeakMap,tw=new WeakMap,Su=new WeakMap,Au=new WeakMap,ai=new WeakSet,R0=function(){l(this,bl).resolve(),l(this,ir).send("configure",{verbosity:this.verbosity})},kN=function(t){S(this,ia,t),S(this,ir,new ig("main","worker",t)),l(this,ir).on("ready",()=>{}),N(this,ai,R0).call(this)},LN=function(){if(l(we,Su)||l(we,df,N0)){N(this,ai,hg).call(this);return}let{workerSrc:t}=we;try{we._isSameOrigin(window.location,t)||(t=we._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new ig("main","worker",e),s=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?l(this,bl).reject(new Error("Worker was destroyed")):N(this,ai,hg).call(this)},r=new AbortController;e.addEventListener("error",()=>{l(this,bu)||s()},{signal:r.signal}),i.on("test",c=>{if(r.abort(),this.destroyed||!c){s();return}S(this,ir,i),S(this,ia,e),S(this,bu,e),N(this,ai,R0).call(this)}),i.on("ready",c=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{N(this,ai,hg).call(this)}});const a=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};a();return}catch{Ow("The worker has been disabled.")}N(this,ai,hg).call(this)},hg=function(){l(we,Su)||(St("Setting up fake worker."),S(we,Su,!0)),we._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){l(this,bl).reject(new Error("Worker was destroyed"));return}const e=new _U;S(this,ia,e);const i=`fake${Ie(we,tw)._++}`,s=new ig(i+"_worker",i,e);t.setup(s,e),S(this,ir,new ig(i,i+"_worker",e)),N(this,ai,R0).call(this)}).catch(t=>{l(this,bl).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},df=new WeakSet,N0=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},M(we,df),M(we,tw,0),M(we,Su,!1),M(we,Au,new WeakMap),si&&(S(we,Su,!0),Ns.workerSrc||(Ns.workerSrc="./pdf.worker.mjs")),we._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},we._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},we.fromPort=t=>{if(aU("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return we.create(t)};let sp=we;var sa,to,ff,pf,ra,Eu,dg;class h8{constructor(t,e,i,s,r,a){M(this,Eu);M(this,sa,new Map);M(this,to,new Map);M(this,ff,new Map);M(this,pf,new Map);M(this,ra,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new AN,this.fontLoader=new pU({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return kt(this,"annotationStorage",new mE)}getRenderingIntent(t,e=ho.ENABLE,i=null,s=!1,r=!1){let a=Qi.DISPLAY,c=B1;switch(t){case"any":a=Qi.ANY;break;case"display":break;case"print":a=Qi.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const u=a&Qi.PRINT&&i instanceof aN?i:this.annotationStorage;switch(e){case ho.DISABLE:a+=Qi.ANNOTATIONS_DISABLE;break;case ho.ENABLE:break;case ho.ENABLE_FORMS:a+=Qi.ANNOTATIONS_FORMS;break;case ho.ENABLE_STORAGE:a+=Qi.ANNOTATIONS_STORAGE,c=u.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(a+=Qi.IS_EDITING),r&&(a+=Qi.OPLIST);const{ids:d,hash:f}=u.modifiedIds,p=[a,c.hash,f];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=l(this,ra))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of l(this,to).values())t.push(s._destroy());l(this,to).clear(),l(this,ff).clear(),l(this,pf).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,sa).clear(),this.filterFactory.destroy(),im.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ka("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{Bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}Bt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async i=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:a}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:a}}),t.on("GetRangeReader",(i,s)=>{Bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:c}){if(c){s.close();return}Bt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new c8(i,this))}),t.on("DocException",i=>{e._capability.reject(gi(i))}),t.on("PasswordRequest",i=>{S(this,ra,Promise.withResolvers());try{if(!e.onPassword)throw gi(i);const s=r=>{r instanceof Error?l(this,ra).reject(r):l(this,ra).resolve({password:r})};e.onPassword(s,i.code)}catch(s){l(this,ra).reject(s)}return l(this,ra).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;l(this,to).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const p=r.error;St(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const c=new X1(r),u=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new gU(c,u,r.extra,r.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=r;Bt(f,"The imageRef must be defined.");for(const p of l(this,to).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,r,a])=>{var u;if(this.destroyed)return;const c=l(this,to).get(s);if(!c.objs.has(i)){if(c._intentStates.size===0){(u=a==null?void 0:a.bitmap)==null||u.close();return}switch(r){case"Image":case"Pattern":c.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=l(this,ff).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,pf).set(r.refStr,t);const a=new u8(e,r,this,this._params.pdfBug);return l(this,to).set(e,a),a});return l(this,ff).set(e,s),s}getPageIndex(t){return j1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return N(this,Eu,dg).call(this,"GetFieldObjects")}hasJSActions(){return N(this,Eu,dg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return N(this,Eu,dg).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return N(this,Eu,dg).call(this,"GetOptionalContentConfig").then(e=>new $U(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=l(this,sa).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new HU(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return l(this,sa).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of l(this,to).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),l(this,sa).clear(),this.filterFactory.destroy(!0),im.cleanup()}}cachedPageNumber(t){if(!j1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return l(this,pf).get(e)??null}}sa=new WeakMap,to=new WeakMap,ff=new WeakMap,pf=new WeakMap,ra=new WeakMap,Eu=new WeakSet,dg=function(t,e=null){const i=l(this,sa).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return l(this,sa).set(t,s),s};var Sl;class d8{constructor(t){M(this,Sl,null);tt(this,"onContinue",null);tt(this,"onError",null);S(this,Sl,t)}get promise(){return l(this,Sl).capability.promise}cancel(t=0){l(this,Sl).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=l(this,Sl).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=l(this,Sl);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Sl=new WeakMap;var Al,Pu;const Mc=class Mc{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:c,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:y=!1,operationsFilter:E=null}){M(this,Al,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new d8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=y,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=E}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,d;if(this.cancelled)return;if(this._canvas){if(l(Mc,Pu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Mc,Pu).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:r,dependencyTracker:a}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ud(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),l(this,Al)&&(window.cancelAnimationFrame(l(this,Al)),S(this,Al,null)),l(Mc,Pu).delete(this._canvas),t||(t=new Fw(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(s=this.task).onError)==null||r.call(s,t)}operatorListChanged(){var t,e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.gfx.dependencyTracker)==null||t.growOperationsCount(this.operatorList.fnArray.length),(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,Al,window.requestAnimationFrame(()=>{S(this,Al,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Mc,Pu).delete(this._canvas),this.callback())))}};Al=new WeakMap,Pu=new WeakMap,M(Mc,Pu,new WeakSet);let eS=Mc;const MN="5.4.296",RN="f56dc8601";var zi,Cu,gf,sn,av,mf,oa,lv,El,sr,cv,ne,nS,iS,sS,Cc,NN,Ua;const mi=class mi{constructor({editor:t=null,uiManager:e=null}){M(this,ne);M(this,zi,null);M(this,Cu,null);M(this,gf);M(this,sn,null);M(this,av,!1);M(this,mf,!1);M(this,oa,null);M(this,lv);M(this,El,null);M(this,sr,null);var i,s;t?(S(this,mf,!1),S(this,oa,t)):S(this,mf,!0),S(this,sr,(t==null?void 0:t._uiManager)||e),S(this,lv,l(this,sr)._eventBus),S(this,gf,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((s=l(this,sr))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),l(mi,cv)||S(mi,cv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return kt(this,"_keyboardManager",new ny([[["Escape","mac+Escape"],mi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mi.prototype._moveToPrevious],[["Home","mac+Home"],mi.prototype._moveToBeginning],[["End","mac+End"],mi.prototype._moveToEnd]]))}renderButton(){const t=S(this,zi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",l(this,oa)&&(t.ariaControls=`${l(this,oa).id}_colorpicker_dropdown`);const e=l(this,sr)._signal;t.addEventListener("click",N(this,ne,Cc).bind(this),{signal:e}),t.addEventListener("keydown",N(this,ne,sS).bind(this),{signal:e});const i=S(this,Cu,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=l(this,gf),t.append(i),t}renderMainDropdown(){const t=S(this,sn,N(this,ne,nS).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===l(this,zi)){N(this,ne,Cc).call(this,t);return}const e=t.target.getAttribute("data-color");e&&N(this,ne,iS).call(this,e,t)}_moveToNext(t){var e,i;if(!l(this,ne,Ua)){N(this,ne,Cc).call(this,t);return}if(t.target===l(this,zi)){(e=l(this,sn).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=l(this,sn))==null?void 0:e.firstChild)||t.target===l(this,zi)){l(this,ne,Ua)&&this._hideDropdownFromKeyboard();return}l(this,ne,Ua)||N(this,ne,Cc).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!l(this,ne,Ua)){N(this,ne,Cc).call(this,t);return}(e=l(this,sn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!l(this,ne,Ua)){N(this,ne,Cc).call(this,t);return}(e=l(this,sn).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=l(this,sn))==null||t.classList.add("hidden"),l(this,zi).ariaExpanded="false",(e=l(this,El))==null||e.abort(),S(this,El,null)}_hideDropdownFromKeyboard(){var t;if(!l(this,mf)){if(!l(this,ne,Ua)){(t=l(this,oa))==null||t.unselect();return}this.hideDropdown(),l(this,zi).focus({preventScroll:!0,focusVisible:l(this,av)})}}updateColor(t){if(l(this,Cu)&&(l(this,Cu).style.backgroundColor=t),!l(this,sn))return;const e=l(this,sr).highlightColors.values();for(const i of l(this,sn).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=l(this,zi))==null||t.remove(),S(this,zi,null),S(this,Cu,null),(e=l(this,sn))==null||e.remove(),S(this,sn,null)}};zi=new WeakMap,Cu=new WeakMap,gf=new WeakMap,sn=new WeakMap,av=new WeakMap,mf=new WeakMap,oa=new WeakMap,lv=new WeakMap,El=new WeakMap,sr=new WeakMap,cv=new WeakMap,ne=new WeakSet,nS=function(){const t=document.createElement("div"),e=l(this,sr)._signal;t.addEventListener("contextmenu",ls,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,oa)&&(t.id=`${l(this,oa).id}_colorpicker_dropdown`);for(const[i,s]of l(this,sr).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",l(mi,cv)[i]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.ariaSelected=s===l(this,gf),r.addEventListener("click",N(this,ne,iS).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",N(this,ne,sS).bind(this),{signal:e}),t},iS=function(t,e){e.stopPropagation(),l(this,lv).dispatch("switchannotationeditorparams",{source:this,type:Ft.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},sS=function(t){mi._keyboardManager.exec(this,t)},Cc=function(t){if(l(this,ne,Ua)){this.hideDropdown();return}if(S(this,av,t.detail===0),l(this,El)||(S(this,El,new AbortController),window.addEventListener("pointerdown",N(this,ne,NN).bind(this),{signal:l(this,sr).combinedSignal(l(this,El))})),l(this,zi).ariaExpanded="true",l(this,sn)){l(this,sn).classList.remove("hidden");return}const e=S(this,sn,N(this,ne,nS).call(this));l(this,zi).append(e)},NN=function(t){var e;(e=l(this,sn))!=null&&e.contains(t.target)||this.hideDropdown()},Ua=function(){return l(this,sn)&&!l(this,sn).classList.contains("hidden")},M(mi,cv,null);let sm=mi;var eo,uv,vf,hv;const Rc=class Rc{constructor(t){M(this,eo,null);M(this,uv,null);M(this,vf,null);S(this,uv,t),S(this,vf,t._uiManager),l(Rc,hv)||S(Rc,hv,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,eo))return l(this,eo);const{editorType:t,colorType:e,colorValue:i}=l(this,uv),s=S(this,eo,document.createElement("input"));return s.type="color",s.value=i||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",l(Rc,hv)[t]),s.addEventListener("input",()=>{l(this,vf).updateParams(e,s.value)},{signal:l(this,vf)._signal}),s}update(t){l(this,eo)&&(l(this,eo).value=t)}destroy(){var t;(t=l(this,eo))==null||t.remove(),S(this,eo,null)}hideDropdown(){}};eo=new WeakMap,uv=new WeakMap,vf=new WeakMap,hv=new WeakMap,M(Rc,hv,null);let F_=Rc;function VT(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Vp(n){return Math.max(0,Math.min(255,255*n))}class GT{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Vp(t),[t,t,t]}static G_HTML([t]){const e=VT(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Vp)}static RGB_HTML(t){return`#${t.map(VT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[Vp(1-Math.min(1,t+s)),Vp(1-Math.min(1,i+s)),Vp(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,r=1-e,a=1-i,c=Math.min(s,r,a);return["CMYK",s,r,a,c]}}class f8{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ae("Abstract method `_createSVG` called.")}}class rm extends f8{_createSVG(t){return document.createElementNS(ko,t)}}const p8=9,lh=new WeakSet,g8=new Date().getTimezoneOffset()*60*1e3;class qT{static create(t){switch(t.data.annotationType){case We.LINK:return new xE(t);case We.TEXT:return new v8(t);case We.WIDGET:switch(t.data.fieldType){case"Tx":return new y8(t);case"Btn":return t.data.radioButton?new ON(t):t.data.checkBox?new w8(t):new x8(t);case"Ch":return new b8(t);case"Sig":return new _8(t)}return new mh(t);case We.POPUP:return new oS(t);case We.FREETEXT:return new HN(t);case We.LINE:return new A8(t);case We.SQUARE:return new E8(t);case We.CIRCLE:return new P8(t);case We.POLYLINE:return new UN(t);case We.CARET:return new T8(t);case We.INK:return new bE(t);case We.POLYGON:return new C8(t);case We.HIGHLIGHT:return new $N(t);case We.UNDERLINE:return new k8(t);case We.SQUIGGLY:return new L8(t);case We.STRIKEOUT:return new M8(t);case We.STAMP:return new WN(t);case We.FILEATTACHMENT:return new R8(t);default:return new Le(t)}}}var Tu,yf,Cs,dv,rS;const LE=class LE{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){M(this,dv);M(this,Tu,null);M(this,yf,!1);M(this,Cs,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return LE._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:t}=this,e=(i=this.annotationStorage)==null?void 0:i.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var c;const t=(c=this.annotationStorage)==null?void 0:c.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:s}=this.data;let r=-1/0,a=-1/0;if((e==null?void 0:e.length)>=8){for(let u=0;u<e.length;u+=8)e[u+1]>a?(a=e[u+1],r=e[u+2]):e[u+1]===a&&(r=Math.max(r,e[u+2]));return[r,a]}if((i==null?void 0:i.length)>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>a?(a=u[d+1],r=u[d]):u[d+1]===a&&(r=Math.max(r,u[d]));if(r!==1/0)return[r,a]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/i,t[1]=100*(t[1]-a)/s,t}get commentText(){var e,i,s;const{data:t}=this;return((i=(e=this.annotationStorage.getRawValue(`${Qg}${t.id}`))==null?void 0:e.popup)==null?void 0:i.contents)||((s=t.contentsObj)==null?void 0:s.str)||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Qg}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;(e=((t=l(this,Cs))==null?void 0:t.popup)||this.popup)==null||e.remove(),S(this,Cs,this.popup=null)}updateEdited(t){var r;if(!this.container)return;t.rect&&(l(this,Tu)||S(this,Tu,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&N(this,dv,rS).call(this,e);let s=((r=l(this,Cs))==null?void 0:r.popup)||this.popup;!s&&(i!=null&&i.text)&&(this._createPopup(i),s=l(this,Cs).popup),s&&(s.updateEdited(t),i!=null&&i.deleted&&(s.remove(),S(this,Cs,null),this.popup=null))}resetEdited(){var t;l(this,Tu)&&(N(this,dv,rS).call(this,l(this,Tu).rect),(t=l(this,Cs))==null||t.popup.resetEdited(),S(this,Tu,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof mh)&&!(this instanceof xE)&&(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof oS){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,r),r}const{width:c,height:u}=this;if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(w>0||C>0){const P=`calc(${w}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;a.borderRadius=P}else if(this instanceof ON){const P=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;a.borderRadius=P}switch(e.borderStyle.style){case Lh.SOLID:a.borderStyle="solid";break;case Lh.DASHED:a.borderStyle="dashed";break;case Lh.BEVELED:St("Unimplemented border style: beveled");break;case Lh.INSET:St("Unimplemented border style: inset");break;case Lh.UNDERLINE:a.borderBottomStyle="solid";break}const b=e.borderColor||null;b?(S(this,yf,!0),a.borderColor=pt.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):a.borderWidth=0}const d=pt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:y}=s.rawDims;a.left=`${100*(d[0]-m)/f}%`,a.top=`${100*(d[1]-y)/p}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(a.width=`${100*c/f}%`,a.height=`${100*u/p}%`):this.setRotation(E,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:a}=this;t%180!==0&&([r,a]=[a,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*a/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const r=s.detail[e],a=r[0],c=r.slice(1);s.target.style[i]=GT[`${a}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:GT[`${a}_rgb`](c)})};return kt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||i[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,r]of Object.entries(e)){const a=i[s];if(a){const c={detail:{[s]:r},target:t};a(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,r]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,C,b,P]=t.subarray(2,6);if(s===w&&r===C&&e===b&&i===P)return}const{style:a}=this.container;let c;if(l(this,yf)){const{borderColor:w,borderWidth:C}=a;a.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const u=s-e,d=r-i,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=f.createElement("defs");p.append(m);const y=f.createElement("clipPath"),E=`clippath_${this.data.id}`;y.setAttribute("id",E),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let w=2,C=t.length;w<C;w+=8){const b=t[w],P=t[w+1],A=t[w+2],v=t[w+3],x=f.createElement("rect"),k=(A-e)/u,I=(r-P)/d,F=(b-A)/u,B=(P-v)/d;x.setAttribute("x",k),x.setAttribute("y",I),x.setAttribute("width",F),x.setAttribute("height",B),y.append(x),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${I}" width="${F}" height="${B}"/>`)}l(this,yf)&&(c.push("</g></svg>')"),a.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${E})`}_createPopup(t=null){const{data:e}=this;let i,s;t?(i={str:t.text},s=t.date):(i=e.contentsObj,s=e.modificationDate);const r=S(this,Cs,new oS({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(l(this,Cs)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,Cs)}render(){ae("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:c}of s){if(r===-1||a===e)continue;const u=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!lh.has(d)){St(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:u,domElement:d})}return i}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&lh.has(s)&&i.push({id:a,exportValue:r,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Tu=new WeakMap,yf=new WeakMap,Cs=new WeakMap,dv=new WeakSet,rS=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:c,pageY:u}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-c)/r}%`,e.top=`${100*(a-t[3]+u)/a}%`,s===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/a}%`):this.setRotation(s)};let Le=LE;class m8 extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var ns,Tc,IN,DN;class xE extends Le{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});M(this,ns);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),r=!0):e.attachment?(N(this,ns,IN).call(this,s,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(N(this,ns,DN).call(this,s,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,i,s=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&N(this,ns,Tc).call(this),s&&(e.title=s)}_bindNamedAction(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),s&&(e.title=s),N(this,ns,Tc).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const a=s.get(r);a&&(e[a]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),N(this,ns,Tc).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),N(this,ns,Tc).call(this),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var p;s==null||s();const{fields:r,refs:a,include:c}=i,u=[];if(r.length!==0||a.length!==0){const m=new Set(a);for(const y of r){const E=this._fieldObjects[y]||[];for(const{id:w}of E)m.add(w)}for(const y of Object.values(this._fieldObjects))for(const E of y)m.has(E.id)===c&&u.push(E)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const d=this.annotationStorage,f=[];for(const m of u){const{id:y}=m;switch(f.push(y),m.type){case"text":{const w=m.defaultValue||"";d.setValue(y,{value:w});break}case"checkbox":case"radiobutton":{const w=m.defaultValue===m.exportValues;d.setValue(y,{value:w});break}case"combobox":case"listbox":{const w=m.defaultValue||"";d.setValue(y,{value:w});break}default:continue}const E=document.querySelector(`[data-element-id="${y}"]`);if(E){if(!lh.has(E)){St(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}ns=new WeakSet,Tc=function(){this.container.setAttribute("data-internal-link","")},IN=function(e,i,s="",r=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:s&&(e.title=s),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,r),!1},N(this,ns,Tc).call(this)},DN=function(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),s&&(e.title=s),N(this,ns,Tc).call(this)};class v8 extends Le{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class mh extends Le{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return wn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,r){i.includes("mouse")?t.addEventListener(i,a=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(i,a=>{var c;if(i==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,e,i,s){var r,a,c;for(const[u,d]of i)(d==="Action"||(r=this.data.actions)!=null&&r[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,u,d,s),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||p8,r=t.style;let a;const c=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(tb*s))||1,p=d/f;a=Math.min(s,u(p/tb))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);a=Math.min(s,u(d/tb))}r.fontSize=`calc(${a}px * var(--total-scale-factor))`,r.color=pt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class y8 extends mh{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=i),r.setValue(a.id,{[s]:i})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let c=a.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&c.length>u&&(c=c.slice(0,u));let d=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??c,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",d??c),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),lh.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:p,datetimeType:m,timeStep:y}=this.data,E=!!m&&this.enableScripting;p&&(i.title=p),this._setRequired(i,this.data.required),u&&(i.maxLength=u),i.addEventListener("input",C=>{t.setValue(e,{value:C.target.value}),this.setPropertyOnSiblings(i,"value",C.target.value,"value"),f.formattedValue=null}),i.addEventListener("resetform",C=>{const b=this.data.defaultFieldValue??"";i.value=f.userValue=b,f.formattedValue=null});let w=C=>{const{formattedValue:b}=f;b!=null&&(C.target.value=b),C.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",b=>{var A;if(f.focused)return;const{target:P}=b;if(E&&(P.type=m,y&&(P.step=y)),f.userValue){const v=f.userValue;if(E)if(m==="time"){const x=new Date(v),k=[x.getHours(),x.getMinutes(),x.getSeconds()];P.value=k.map(I=>I.toString().padStart(2,"0")).join(":")}else P.value=new Date(v-g8).toISOString().split(m==="date"?"T":".",1)[0];else P.value=v}f.lastCommittedValue=P.value,f.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(f.focused=!0)}),i.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const P={value(A){f.userValue=A.detail.value??"",E||t.setValue(e,{value:f.userValue.toString()}),A.target.value=f.userValue},formattedValue(A){const{formattedValue:v}=A.detail;f.formattedValue=v,v!=null&&A.target!==document.activeElement&&(A.target.value=v);const x={formattedValue:v};E&&(x.value=v),t.setValue(e,x)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var I;const{charLimit:v}=A.detail,{target:x}=A;if(v===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",v);let k=f.userValue;!k||k.length<=v||(k=k.slice(0,v),x.value=f.userValue=k,t.setValue(e,{value:k}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(P,b)}),i.addEventListener("keydown",b=>{var v;f.commitKey=1;let P=-1;if(b.key==="Escape"?P=0:b.key==="Enter"&&!this.data.multiLine?P=2:b.key==="Tab"&&(f.commitKey=3),P===-1)return;const{value:A}=b.target;f.lastCommittedValue!==A&&(f.lastCommittedValue=A,f.userValue=A,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:P,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const C=w;w=null,i.addEventListener("blur",b=>{var v,x;if(!f.focused||!b.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(f.focused=!1);const{target:P}=b;let{value:A}=P;if(E){if(A&&m==="time"){const k=A.split(":").map(I=>parseInt(I,10));A=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),P.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();P.type="text"}f.userValue=A,f.lastCommittedValue!==A&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:f.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),C(b)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",b=>{var B;f.lastCommittedValue=null;const{data:P,target:A}=b,{value:v,selectionStart:x,selectionEnd:k}=A;let I=x,F=k;switch(b.inputType){case"deleteWordBackward":{const z=v.substring(0,x).match(/\w*[^\w]*$/);z&&(I-=z[0].length);break}case"deleteWordForward":{const z=v.substring(x).match(/^[^\w]*\w*/);z&&(F+=z[0].length);break}case"deleteContentBackward":x===k&&(I-=1);break;case"deleteContentForward":x===k&&(F+=1);break}b.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,change:P||"",willCommit:!1,selStart:I,selEnd:F}})}),this._setEventListeners(i,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(w&&i.addEventListener("blur",w),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/u;i.classList.add("comb"),i.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class _8 extends mh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class w8 extends mh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return lh.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const d of this._getElementsByName(c,i)){const f=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:u})}),r.addEventListener("resetform",a=>{const c=e.defaultFieldValue||"Off";a.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ON extends mh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,i))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(lh.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const d of this._getElementsByName(c,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:u})}),r.addEventListener("resetform",a=>{const c=e.defaultFieldValue;a.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",c=>{const u={value:d=>{const f=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const m=f&&p.id===i;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class x8 extends xE{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class b8 extends mh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");lh.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of s.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,i.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),r=!1),s.append(p)}let a=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),s.prepend(f),a=()=>{f.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const c=f=>{const p=f?"value":"textContent",{options:m,multiple:y}=s;return y?Array.prototype.filter.call(m,E=>E.selected).map(E=>E[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=c(!1);const d=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",f=>{const p={value(m){a==null||a();const y=m.detail.value,E=new Set(Array.isArray(y)?y:[y]);for(const w of s.options)w.selected=E.has(w.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(m){s.multiple=!0},remove(m){const y=s.options,E=m.detail.remove;y[E].selected=!1,s.remove(E),y.length>0&&Array.prototype.findIndex.call(y,C=>C.selected)===-1&&(y[0].selected=!0),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},clear(m){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(m){const{index:y,displayValue:E,exportValue:w}=m.detail.insert,C=s.children[y],b=document.createElement("option");b.textContent=E,b.value=w,C?C.before(b):s.append(b),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},items(m){const{items:y}=m.detail;for(;s.length!==0;)s.remove(0);for(const E of y){const{displayValue:w,exportValue:C}=E,b=document.createElement("option");b.textContent=w,b.value=C,s.append(b)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},indices(m){const y=new Set(m.detail.indices);for(const E of m.target.options)E.selected=y.has(E.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),s.addEventListener("input",f=>{var y;const p=c(!0),m=c(!1);t.setValue(e,{value:p}),f.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):s.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var fv,aS;class oS extends Le{constructor(e){const{data:i,elements:s,parent:r}=e,a=!!r._commentManager;super(e,{isRenderable:!a&&Le._hasPopupData(i)});M(this,fv);if(this.elements=s,a&&Le._hasPopupData(i)){const c=this.popup=N(this,fv,aS).call(this);for(const u of s)u.popup=c}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const i=this.popup=N(this,fv,aS).call(this),s=[];for(const r of this.elements)r.popup=i,r.container.ariaHasPopup="dialog",s.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(r=>`${fE}${r}`).join(",")),this.container}}fv=new WeakSet,aS=function(){return new S8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Hi,Pl,ew,nw,_f,wf,Be,no,Cl,ku,xf,bf,io,Ui,aa,la,dn,ca,Tl,pv,ua,Sf,Lu,kl,$n,Ll,Mt,I0,lS,cS,uS,D0,hS,FN,BN,jN,zN,O0,F0,dS;class S8{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:c,parent:u,rect:d,parentRect:f,open:p,commentManager:m=null}){M(this,Mt);M(this,Hi,null);M(this,Pl,N(this,Mt,jN).bind(this));M(this,ew,N(this,Mt,dS).bind(this));M(this,nw,N(this,Mt,F0).bind(this));M(this,_f,N(this,Mt,O0).bind(this));M(this,wf,null);M(this,Be,null);M(this,no,null);M(this,Cl,null);M(this,ku,null);M(this,xf,null);M(this,bf,null);M(this,io,!1);M(this,Ui,null);M(this,aa,null);M(this,la,null);M(this,dn,null);M(this,ca,null);M(this,Tl,null);M(this,pv,null);M(this,ua,null);M(this,Sf,null);M(this,Lu,null);M(this,kl,!1);M(this,$n,null);M(this,Ll,null);S(this,Be,t),S(this,Sf,s),S(this,no,a),S(this,ua,c),S(this,xf,u),S(this,wf,e),S(this,pv,d),S(this,bf,f),S(this,ku,i),S(this,Hi,m),S(this,$n,i[0]),S(this,Cl,em.toDateObject(r)),this.trigger=i.flatMap(y=>y.getElementsToTriggerPopup()),m?this.renderCommentButton():(N(this,Mt,I0).call(this),l(this,Be).hidden=!0,p&&N(this,Mt,O0).call(this))}renderCommentButton(){if(l(this,dn)||(l(this,ca)||N(this,Mt,lS).call(this),!l(this,ca)))return;const{signal:t}=S(this,aa,new AbortController),e=!!l(this,$n).extraPopupElement,i=()=>{l(this,Hi).toggleCommentPopup(this,!0,void 0,!e)},s=()=>{l(this,Hi).toggleCommentPopup(this,!1,!0,!e)},r=()=>{l(this,Hi).toggleCommentPopup(this,!1,!1)};if(e){S(this,dn,l(this,$n).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",l(this,Pl),{signal:t}),a.addEventListener("click",i,{signal:t}),a.addEventListener("pointerenter",s,{signal:t}),a.addEventListener("pointerleave",r,{signal:t}),a.classList.add("popupTriggerArea")}else{const a=S(this,dn,document.createElement("button"));a.className="annotationCommentButton";const c=l(this,$n).container;a.style.zIndex=c.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),N(this,Mt,uS).call(this),N(this,Mt,cS).call(this),a.addEventListener("keydown",l(this,Pl),{signal:t}),a.addEventListener("click",i,{signal:t}),a.addEventListener("pointerenter",s,{signal:t}),a.addEventListener("pointerleave",r,{signal:t}),c.after(a)}}get commentButtonColor(){const{color:t,opacity:e}=l(this,$n).commentData;return t?l(this,xf)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;(t=l(this,dn))==null||t.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}=l(this,$n).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}}get elementBeforePopup(){return l(this,dn)}get comment(){return l(this,Ll)||S(this,Ll,l(this,$n).commentText),l(this,Ll)}set comment(t){t!==this.comment&&(l(this,$n).commentText=S(this,Ll,t))}get parentBoundingClientRect(){return l(this,$n).layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){l(this,dn)&&(l(this,dn).classList.toggle("selected",t),l(this,dn).ariaExpanded=e)}setSelectedCommentButton(t){l(this,dn).classList.toggle("selected",t)}get commentPopupPosition(){if(l(this,Tl))return l(this,Tl);const{x:t,y:e,height:i}=l(this,dn).getBoundingClientRect(),{x:s,y:r,width:a,height:c}=l(this,$n).layer.getBoundingClientRect();return[(t-s)/a,(e+i-r)/c]}set commentPopupPosition(t){S(this,Tl,t)}hasDefaultPopupPosition(){return l(this,Tl)===null}get commentButtonPosition(){return l(this,ca)}get commentButtonWidth(){return l(this,dn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=l(this,Tl)||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:r,y:a,width:c,height:u}=s;l(this,Hi).showDialog(null,this,r+e*c,a+i*u,{...t,parentDimensions:s})}render(){var i,s;if(l(this,Ui))return;const t=S(this,Ui,document.createElement("div"));if(t.className="popup",l(this,wf)){const r=t.style.outlineColor=pt.makeHexColor(...l(this,wf));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",(i=l(this,Sf))!=null&&i.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=l(this,Sf)}if(t.append(e),l(this,Cl)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Cl).valueOf()})),r.dateTime=l(this,Cl).toISOString(),e.append(r)}gE({html:l(this,Mt,D0)||l(this,no).str,dir:(s=l(this,no))==null?void 0:s.dir,className:"popupContent"},t),l(this,Be).append(t)}updateEdited({rect:t,popup:e,deleted:i}){var s;if(l(this,Hi)){i?(this.remove(),S(this,Ll,null)):e&&(e.deleted?this.remove():(N(this,Mt,uS).call(this),S(this,Ll,e.text))),t&&(S(this,ca,null),N(this,Mt,lS).call(this),N(this,Mt,cS).call(this));return}if(i||e!=null&&e.deleted){this.remove();return}N(this,Mt,I0).call(this),l(this,Lu)||S(this,Lu,{contentsObj:l(this,no),richText:l(this,ua)}),t&&S(this,la,null),e&&e.text&&(S(this,ua,N(this,Mt,BN).call(this,e.text)),S(this,Cl,em.toDateObject(e.date)),S(this,no,null)),(s=l(this,Ui))==null||s.remove(),S(this,Ui,null)}resetEdited(){var t;l(this,Lu)&&({contentsObj:Ie(this,no)._,richText:Ie(this,ua)._}=l(this,Lu),S(this,Lu,null),(t=l(this,Ui))==null||t.remove(),S(this,Ui,null),S(this,la,null))}remove(){var t,e,i;if((t=l(this,aa))==null||t.abort(),S(this,aa,null),(e=l(this,Ui))==null||e.remove(),S(this,Ui,null),S(this,kl,!1),S(this,io,!1),(i=l(this,dn))==null||i.remove(),S(this,dn,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){S(this,kl,this.isVisible),l(this,kl)&&(l(this,Be).hidden=!0)}maybeShow(){l(this,Hi)||(N(this,Mt,I0).call(this),l(this,kl)&&(l(this,Ui)||N(this,Mt,F0).call(this),S(this,kl,!1),l(this,Be).hidden=!1))}get isVisible(){return l(this,Hi)?!1:l(this,Be).hidden===!1}}Hi=new WeakMap,Pl=new WeakMap,ew=new WeakMap,nw=new WeakMap,_f=new WeakMap,wf=new WeakMap,Be=new WeakMap,no=new WeakMap,Cl=new WeakMap,ku=new WeakMap,xf=new WeakMap,bf=new WeakMap,io=new WeakMap,Ui=new WeakMap,aa=new WeakMap,la=new WeakMap,dn=new WeakMap,ca=new WeakMap,Tl=new WeakMap,pv=new WeakMap,ua=new WeakMap,Sf=new WeakMap,Lu=new WeakMap,kl=new WeakMap,$n=new WeakMap,Ll=new WeakMap,Mt=new WeakSet,I0=function(){var e;if(l(this,aa))return;S(this,aa,new AbortController);const{signal:t}=l(this,aa);for(const i of this.trigger)i.addEventListener("click",l(this,_f),{signal:t}),i.addEventListener("pointerenter",l(this,nw),{signal:t}),i.addEventListener("pointerleave",l(this,ew),{signal:t}),i.classList.add("popupTriggerArea");for(const i of l(this,ku))(e=i.container)==null||e.addEventListener("keydown",l(this,Pl),{signal:t})},lS=function(){const t=l(this,ku).find(e=>e.hasCommentButton);t&&S(this,ca,t._normalizePoint(t.commentButtonPosition))},cS=function(){if(l(this,$n).extraPopupElement&&!l(this,$n).editor)return;this.renderCommentButton();const[t,e]=l(this,ca),{style:i}=l(this,dn);i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`},uS=function(){l(this,$n).extraPopupElement||(this.renderCommentButton(),l(this,dn).style.backgroundColor=this.commentButtonColor||"")},D0=function(){const t=l(this,ua),e=l(this,no);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&l(this,ua).html||null},hS=function(){var t,e,i;return((i=(e=(t=l(this,Mt,D0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},FN=function(){var t,e,i;return((i=(e=(t=l(this,Mt,D0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},BN=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:l(this,Mt,FN),fontSize:l(this,Mt,hS)?`calc(${l(this,Mt,hS)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return i},jN=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&l(this,io))&&N(this,Mt,O0).call(this)},zN=function(){if(l(this,la)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:r}}}=l(this,xf);let a=!!l(this,bf),c=a?l(this,bf):l(this,pv);for(const E of l(this,ku))if(!c||pt.intersect(E.data.rect,c)!==null){c=E.data.rect,a=!0;break}const u=pt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=a?c[2]-c[0]+5:0,p=u[0]+f,m=u[1];S(this,la,[100*(p-s)/e,100*(m-r)/i]);const{style:y}=l(this,Be);y.left=`${l(this,la)[0]}%`,y.top=`${l(this,la)[1]}%`},O0=function(){if(l(this,Hi)){l(this,Hi).toggleCommentPopup(this,!1);return}S(this,io,!l(this,io)),l(this,io)?(N(this,Mt,F0).call(this),l(this,Be).addEventListener("click",l(this,_f)),l(this,Be).addEventListener("keydown",l(this,Pl))):(N(this,Mt,dS).call(this),l(this,Be).removeEventListener("click",l(this,_f)),l(this,Be).removeEventListener("keydown",l(this,Pl)))},F0=function(){l(this,Ui)||this.render(),this.isVisible?l(this,io)&&l(this,Be).classList.add("focused"):(N(this,Mt,zN).call(this),l(this,Be).hidden=!1,l(this,Be).style.zIndex=parseInt(l(this,Be).style.zIndex)+1e3)},dS=function(){l(this,Be).classList.remove("focused"),!(l(this,io)||!this.isVisible)&&(l(this,Be).hidden=!0,l(this,Be).style.zIndex=parseInt(l(this,Be).style.zIndex)-1e3)};class HN extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=bt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var gv;class A8 extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,gv,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=S(this,gv,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,gv)}addHighlightArea(){this.container.classList.add("highlightArea")}}gv=new WeakMap;var mv;class E8 extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,mv,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=e.borderStyle.width,c=S(this,mv,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",a/2),c.setAttribute("y",a/2),c.setAttribute("width",i-a),c.setAttribute("height",s-a),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,mv)}addHighlightArea(){this.container.classList.add("highlightArea")}}mv=new WeakMap;var vv;class P8 extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,vv,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=e.borderStyle.width,c=S(this,vv,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",i/2),c.setAttribute("cy",s/2),c.setAttribute("rx",i/2-a/2),c.setAttribute("ry",s/2-a/2),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,vv)}addHighlightArea(){this.container.classList.add("highlightArea")}}vv=new WeakMap;var yv;class UN extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,yv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:r},width:a,height:c}=this;if(!i)return this.container;const u=this.svgFactory.create(a,c,!0);let d=[];for(let p=0,m=i.length;p<m;p+=2){const y=i[p]-e[0],E=e[3]-i[p+1];d.push(`${y},${E}`)}d=d.join(" ");const f=S(this,yv,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,yv)}addHighlightArea(){this.container.classList.add("highlightArea")}}yv=new WeakMap;class C8 extends UN{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T8 extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _v,Mu,wv,fS;class bE extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,wv);M(this,_v,null);M(this,Mu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?bt.HIGHLIGHT:bt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:r,popupRef:a}}=this,{transform:c,width:u,height:d}=N(this,wv,fS).call(this,i,e),f=this.svgFactory.create(u,d,!0),p=S(this,_v,this.svgFactory.createElement("svg:g"));f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let m=0,y=s.length;m<y;m++){const E=this.svgFactory.createElement(this.svgElementName);l(this,Mu).push(E),E.setAttribute("points",s[m].join(",")),p.append(E)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:r}=e,a=l(this,_v);if(i>=0&&a.setAttribute("stroke-width",i||1),s)for(let c=0,u=l(this,Mu).length;c<u;c++)l(this,Mu)[c].setAttribute("points",s[c].join(","));if(r){const{transform:c,width:u,height:d}=N(this,wv,fS).call(this,this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),a.setAttribute("transform",c)}}getElementsToTriggerPopup(){return l(this,Mu)}addHighlightArea(){this.container.classList.add("highlightArea")}}_v=new WeakMap,Mu=new WeakMap,wv=new WeakSet,fS=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class $N extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=bt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class k8 extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class L8 extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class M8 extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class WN extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=bt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xv,bv,pS;class R8 extends Le{constructor(e){var s;super(e,{isRenderable:!0});M(this,bv);M(this,xv,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",N(this,bv,pS).bind(this)),S(this,xv,s);const{isMac:r}=wn.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&N(this,bv,pS).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return l(this,xv)}addHighlightArea(){this.container.classList.add("highlightArea")}}xv=new WeakMap,bv=new WeakSet,pS=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Af,Ru,Ef,Ml,Sv,Nu,fc,gS,mS,Pf;let SE=(Pf=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:c,commentManager:u,linkService:d,annotationStorage:f}){M(this,fc);M(this,Af,null);M(this,Ru,null);M(this,Ef,null);M(this,Ml,new Map);M(this,Sv,null);M(this,Nu,null);this.div=t,S(this,Af,e),S(this,Ru,i),S(this,Sv,c||null),S(this,Nu,d||null),S(this,Ef,f||new mE),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=u||null}hasEditableAnnotations(){return l(this,Ml).size>0}async render(t){var a,c,u;const{annotations:e}=t,i=this.div;uc(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:l(this,Nu),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new rm,annotationStorage:l(this,Ef),enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===We.POPUP;if(f){const y=s.get(d.id);if(!y)continue;r.elements=y}else if(d.rect[2]===d.rect[0]||d.rect[3]===d.rect[1])continue;r.data=d;const p=qT.create(r);if(!p.isRenderable)continue;if(!f&&d.popupRef){const y=s.get(d.popupRef);y?y.push(p):s.set(d.popupRef,[p])}const m=p.render();d.hidden&&(m.style.visibility="hidden"),await N(this,fc,gS).call(this,m,d.id,r.elements),(c=(a=p.extraPopupElement)==null?void 0:a.popup)==null||c.renderCommentButton(),p._isEditable&&(l(this,Ml).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}N(this,fc,mS).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:l(this,Nu),svgFactory:new rm,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=Pf._defaultBorderStyle),e.data=i;const s=qT.create(e);if(!s.isRenderable)continue;const r=s.render();await N(this,fc,gS).call(this,r,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,uc(e,{rotation:t.rotation}),N(this,fc,mS).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Ml).values())}getEditableAnnotation(t){return l(this,Ml).get(t)}addFakeAnnotation(t){var c;const{div:e}=this,{id:i,rotation:s}=t,r=new m8({data:{id:i,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:l(this,Nu),annotationStorage:l(this,Ef)}),a=r.render();return e.append(a),(c=l(this,Af))==null||c.moveElementInDOM(e,a,a,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return kt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Lh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Af=new WeakMap,Ru=new WeakMap,Ef=new WeakMap,Ml=new WeakMap,Sv=new WeakMap,Nu=new WeakMap,fc=new WeakSet,gS=async function(t,e,i){var c,u;const s=t.firstChild||t,r=s.id=`${fE}${e}`,a=await((c=l(this,Sv))==null?void 0:c.getAriaAttributes(r));if(a)for(const[d,f]of a)s.setAttribute(d,f);i?i.at(-1).container.after(t):(this.div.append(t),(u=l(this,Af))==null||u.moveElementInDOM(this.div,t,s,!1))},mS=function(){var e;if(!l(this,Ru))return;const t=this.div;for(const[i,s]of l(this,Ru)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):r.append(s);const c=l(this,Ml).get(i);c&&(c._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,s),c._hasNoCanvas=!1):c.canvas=s)}l(this,Ru).clear()},Pf);const s0=/\r\n?|\n/g;var $i,Av,Iu,Wi,tn,VN,GN,qN,B0,ba,j0,z0,ZN,yS,XN;const ye=class ye extends fe{constructor(e){super({...e,name:"freeTextEditor"});M(this,tn);M(this,$i,"");M(this,Av,`${this.id}-editor`);M(this,Iu,null);M(this,Wi);tt(this,"_colorPicker",null);this.color=e.color||ye._defaultColor||fe._defaultLineColor,S(this,Wi,e.fontSize||ye._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=ye.prototype,i=a=>a.isEmpty(),s=hc.TRANSLATE_SMALL,r=hc.TRANSLATE_BIG;return kt(this,"_keyboardManager",new ny([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){fe.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case Ft.FREETEXT_SIZE:ye._defaultFontSize=i;break;case Ft.FREETEXT_COLOR:ye._defaultColor=i;break}}updateParams(e,i){switch(e){case Ft.FREETEXT_SIZE:N(this,tn,VN).call(this,i);break;case Ft.FREETEXT_COLOR:N(this,tn,GN).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ft.FREETEXT_SIZE,ye._defaultFontSize],[Ft.FREETEXT_COLOR,ye._defaultColor||fe._defaultLineColor]]}get propertiesToUpdate(){return[[Ft.FREETEXT_SIZE,l(this,Wi)],[Ft.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new F_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-ye._internalPadding*e,-(ye._internalPadding+l(this,Wi))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),S(this,Iu,new AbortController);const e=this._uiManager.combinedSignal(l(this,Iu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Av)),this._isDraggable=!0,(e=l(this,Iu))==null||e.abort(),S(this,Iu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=l(this,$i),i=S(this,$i,N(this,tn,qN).call(this).trimEnd());if(e===i)return;const s=r=>{if(S(this,$i,r),!r){this.remove();return}N(this,tn,z0).call(this),this._uiManager.rebuild(this),N(this,tn,B0).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),N(this,tn,B0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ye._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Av)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${l(this,Wi)}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,y]=this.pageTranslation;let E,w;switch(this.rotation){case 0:E=e+(c[0]-m)/f,w=i+this.height-(c[1]-y)/p;break;case 90:E=e+(c[0]-m)/f,w=i-(c[1]-y)/p,[u,d]=[d,-u];break;case 180:E=e-this.width+(c[0]-m)/f,w=i-(c[1]-y)/p,[u,d]=[-u,-d];break;case 270:E=e+(c[0]-m-this.height*p)/f,w=i+(c[1]-y-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(E*r,w*a,u,d)}else this._moveAfterPaste(e,i);N(this,tn,z0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,w,C;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=N(E=ye,ba,yS).call(E,i.getData("text")||"").replaceAll(s0,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const c=a.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const b=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(s0,"")),b!==this.editorDiv){let P=f;for(const A of this.editorDiv.childNodes){if(A===b){P=p;continue}P.push(N(w=ye,ba,j0).call(w,A))}}f.push(u.nodeValue.slice(0,d).replaceAll(s0,""))}else if(u===this.editorDiv){let b=f,P=0;for(const A of this.editorDiv.childNodes)P++===d&&(b=p),b.push(N(C=ye,ba,j0).call(C,A))}S(this,$i,`${f.join(`
`)}${r}${p.join(`
`)}`),N(this,tn,z0).call(this);const m=new Range;let y=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const P=b.nodeValue.length;if(y<=P){m.setStart(b,y),m.setEnd(b,y);break}y-=P}a.removeAllRanges(),a.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=ye._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,i,s){var c;let r=null;if(e instanceof HN){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:f,rotation:p,id:m,popupRef:y,richText:E,contentsObj:w,creationDate:C,modificationDate:b},textContent:P,textPosition:A,parent:{page:{pageNumber:v}}}=e;if(!P||P.length===0)return null;r=e={annotationType:bt.FREETEXT,color:Array.from(d),fontSize:u,value:P.join(`
`),position:A,pageIndex:v-1,rect:f.slice(0),rotation:p,annotationElementId:m,id:m,deleted:!1,popupRef:y,comment:(w==null?void 0:w.str)||null,richText:E,creationDate:C,modificationDate:b}}const a=await super.deserialize(e,i,s);return S(a,Wi,e.fontSize),a.color=pt.makeHexColor(...e.color),S(a,$i,N(c=ye,ba,yS).call(c,e.value)),a._initialData=r,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=fe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:i,fontSize:l(this,Wi),value:N(this,tn,ZN).call(this)});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!N(this,tn,XN).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(!i)return null;const{style:s}=i;s.fontSize=`calc(${l(this,Wi)}px * var(--total-scale-factor))`,s.color=this.color,i.replaceChildren();for(const r of l(this,$i).split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),i.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,$i)}}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};$i=new WeakMap,Av=new WeakMap,Iu=new WeakMap,Wi=new WeakMap,tn=new WeakSet,VN=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-l(this,Wi))*this.parentScale),S(this,Wi,r),N(this,tn,B0).call(this)},s=l(this,Wi);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},GN=function(e){const i=r=>{this.color=r,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qN=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(N(s=ye,ba,j0).call(s,r)),i=r);return e.join(`
`)},B0=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,c=a.style.display,u=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=c,a.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},ba=new WeakSet,j0=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(s0,"")},z0=function(){if(this.editorDiv.replaceChildren(),!!l(this,$i))for(const e of l(this,$i).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},ZN=function(){return l(this,$i).replaceAll(""," ")},yS=function(e){return e.replaceAll(" ","")},XN=function(e){const{value:i,fontSize:s,color:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((c,u)=>c!==r[u])||e.pageIndex!==a},M(ye,ba),tt(ye,"_freeTextDefaultContent",""),tt(ye,"_internalPadding",0),tt(ye,"_defaultColor",null),tt(ye,"_defaultFontSize",10),tt(ye,"_type","freetext"),tt(ye,"_editorType",bt.FREETEXT);let vS=ye;class ft{toSVGPath(){ae("Abstract method `toSVGPath` must be implemented.")}get box(){ae("Abstract getter `box` must be implemented.")}serialize(t,e){ae("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,r,a){a||(a=new Float32Array(t.length));for(let c=0,u=t.length;c<u;c+=2)a[c]=e+t[c]*s,a[c+1]=i+t[c+1]*r;return a}static _rescaleAndSwap(t,e,i,s,r,a){a||(a=new Float32Array(t.length));for(let c=0,u=t.length;c<u;c+=2)a[c]=e+t[c+1]*s,a[c+1]=i+t[c]*r;return a}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let r=0,a=t.length;r<a;r+=2)s[r]=e+t[r],s[r+1]=i+t[r+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,r){switch(r){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,r,a){return[(t+5*i)/6,(e+5*s)/6,(5*i+r)/6,(5*s+a)/6,(i+r)/2,(s+a)/2]}}tt(ft,"PRECISION",1e-4);var Vi,rr,Cf,Tf,so,It,Du,Ou,Ev,Pv,kf,Lf,Rl,Cv,iw,sw,ln,fg,YN,KN,QN,JN,tI,eI;const Do=class Do{constructor({x:t,y:e},i,s,r,a,c=0){M(this,ln);M(this,Vi);M(this,rr,[]);M(this,Cf);M(this,Tf);M(this,so,[]);M(this,It,new Float32Array(18));M(this,Du);M(this,Ou);M(this,Ev);M(this,Pv);M(this,kf);M(this,Lf);M(this,Rl,[]);S(this,Vi,i),S(this,Lf,r*s),S(this,Tf,a),l(this,It).set([NaN,NaN,NaN,NaN,t,e],6),S(this,Cf,c),S(this,Pv,l(Do,Cv)*s),S(this,Ev,l(Do,sw)*s),S(this,kf,s),l(this,Rl).push(t,e)}isEmpty(){return isNaN(l(this,It)[8])}add({x:t,y:e}){var B;S(this,Du,t),S(this,Ou,e);const[i,s,r,a]=l(this,Vi);let[c,u,d,f]=l(this,It).subarray(8,12);const p=t-d,m=e-f,y=Math.hypot(p,m);if(y<l(this,Ev))return!1;const E=y-l(this,Pv),w=E/y,C=w*p,b=w*m;let P=c,A=u;c=d,u=f,d+=C,f+=b,(B=l(this,Rl))==null||B.push(t,e);const v=-b/E,x=C/E,k=v*l(this,Lf),I=x*l(this,Lf);return l(this,It).set(l(this,It).subarray(2,8),0),l(this,It).set([d+k,f+I],4),l(this,It).set(l(this,It).subarray(14,18),12),l(this,It).set([d-k,f-I],16),isNaN(l(this,It)[6])?(l(this,so).length===0&&(l(this,It).set([c+k,u+I],2),l(this,so).push(NaN,NaN,NaN,NaN,(c+k-i)/r,(u+I-s)/a),l(this,It).set([c-k,u-I],14),l(this,rr).push(NaN,NaN,NaN,NaN,(c-k-i)/r,(u-I-s)/a)),l(this,It).set([P,A,c,u,d,f],6),!this.isEmpty()):(l(this,It).set([P,A,c,u,d,f],6),Math.abs(Math.atan2(A-u,P-c)-Math.atan2(b,C))<Math.PI/2?([c,u,d,f]=l(this,It).subarray(2,6),l(this,so).push(NaN,NaN,NaN,NaN,((c+d)/2-i)/r,((u+f)/2-s)/a),[c,u,P,A]=l(this,It).subarray(14,18),l(this,rr).push(NaN,NaN,NaN,NaN,((P+c)/2-i)/r,((A+u)/2-s)/a),!0):([P,A,c,u,d,f]=l(this,It).subarray(0,6),l(this,so).push(((P+5*c)/6-i)/r,((A+5*u)/6-s)/a,((5*c+d)/6-i)/r,((5*u+f)/6-s)/a,((c+d)/2-i)/r,((u+f)/2-s)/a),[d,f,c,u,P,A]=l(this,It).subarray(12,18),l(this,rr).push(((P+5*c)/6-i)/r,((A+5*u)/6-s)/a,((5*c+d)/6-i)/r,((5*u+f)/6-s)/a,((c+d)/2-i)/r,((u+f)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=l(this,so),e=l(this,rr);if(isNaN(l(this,It)[6])&&!this.isEmpty())return N(this,ln,YN).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);N(this,ln,QN).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return N(this,ln,KN).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,r,a){return new nI(t,e,i,s,r,a)}getOutlines(){var p;const t=l(this,so),e=l(this,rr),i=l(this,It),[s,r,a,c]=l(this,Vi),u=new Float32Array((((p=l(this,Rl))==null?void 0:p.length)??0)+2);for(let m=0,y=u.length-2;m<y;m+=2)u[m]=(l(this,Rl)[m]-s)/a,u[m+1]=(l(this,Rl)[m+1]-r)/c;if(u[u.length-2]=(l(this,Du)-s)/a,u[u.length-1]=(l(this,Ou)-r)/c,isNaN(i[6])&&!this.isEmpty())return N(this,ln,JN).call(this,u);const d=new Float32Array(l(this,so).length+24+l(this,rr).length);let f=t.length;for(let m=0;m<f;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}f=N(this,ln,eI).call(this,d,f);for(let m=e.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(e[m+y])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[m+y],d[f+1]=e[m+y+1],f+=2}return N(this,ln,tI).call(this,d,f),this.newFreeDrawOutline(d,u,l(this,Vi),l(this,kf),l(this,Cf),l(this,Tf))}};Vi=new WeakMap,rr=new WeakMap,Cf=new WeakMap,Tf=new WeakMap,so=new WeakMap,It=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Ev=new WeakMap,Pv=new WeakMap,kf=new WeakMap,Lf=new WeakMap,Rl=new WeakMap,Cv=new WeakMap,iw=new WeakMap,sw=new WeakMap,ln=new WeakSet,fg=function(){const t=l(this,It).subarray(4,6),e=l(this,It).subarray(16,18),[i,s,r,a]=l(this,Vi);return[(l(this,Du)+(t[0]-e[0])/2-i)/r,(l(this,Ou)+(t[1]-e[1])/2-s)/a,(l(this,Du)+(e[0]-t[0])/2-i)/r,(l(this,Ou)+(e[1]-t[1])/2-s)/a]},YN=function(){const[t,e,i,s]=l(this,Vi),[r,a,c,u]=N(this,ln,fg).call(this);return`M${(l(this,It)[2]-t)/i} ${(l(this,It)[3]-e)/s} L${(l(this,It)[4]-t)/i} ${(l(this,It)[5]-e)/s} L${r} ${a} L${c} ${u} L${(l(this,It)[16]-t)/i} ${(l(this,It)[17]-e)/s} L${(l(this,It)[14]-t)/i} ${(l(this,It)[15]-e)/s} Z`},KN=function(t){const e=l(this,rr);t.push(`L${e[4]} ${e[5]} Z`)},QN=function(t){const[e,i,s,r]=l(this,Vi),a=l(this,It).subarray(4,6),c=l(this,It).subarray(16,18),[u,d,f,p]=N(this,ln,fg).call(this);t.push(`L${(a[0]-e)/s} ${(a[1]-i)/r} L${u} ${d} L${f} ${p} L${(c[0]-e)/s} ${(c[1]-i)/r}`)},JN=function(t){const e=l(this,It),[i,s,r,a]=l(this,Vi),[c,u,d,f]=N(this,ln,fg).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-s)/a,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-s)/a,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-s)/a,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-s)/a],0),this.newFreeDrawOutline(p,t,l(this,Vi),l(this,kf),l(this,Cf),l(this,Tf))},tI=function(t,e){const i=l(this,rr);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},eI=function(t,e){const i=l(this,It).subarray(4,6),s=l(this,It).subarray(16,18),[r,a,c,u]=l(this,Vi),[d,f,p,m]=N(this,ln,fg).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/c,(i[1]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-r)/c,(s[1]-a)/u],e),e+=24},M(Do,Cv,8),M(Do,iw,2),M(Do,sw,l(Do,Cv)+l(Do,iw));let B_=Do;var Mf,Fu,ha,Tv,Gi,kv,Ge,rw,iI;class nI extends ft{constructor(e,i,s,r,a,c){super();M(this,rw);M(this,Mf);M(this,Fu,new Float32Array(4));M(this,ha);M(this,Tv);M(this,Gi);M(this,kv);M(this,Ge);S(this,Ge,e),S(this,Gi,i),S(this,Mf,s),S(this,kv,r),S(this,ha,a),S(this,Tv,c),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],N(this,rw,iI).call(this,c);const[u,d,f,p]=l(this,Fu);for(let m=0,y=e.length;m<y;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p;for(let m=0,y=i.length;m<y;m+=2)i[m]=(i[m]-u)/f,i[m+1]=(i[m+1]-d)/p}toSVGPath(){const e=[`M${l(this,Ge)[4]} ${l(this,Ge)[5]}`];for(let i=6,s=l(this,Ge).length;i<s;i+=6){if(isNaN(l(this,Ge)[i])){e.push(`L${l(this,Ge)[i+4]} ${l(this,Ge)[i+5]}`);continue}e.push(`C${l(this,Ge)[i]} ${l(this,Ge)[i+1]} ${l(this,Ge)[i+2]} ${l(this,Ge)[i+3]} ${l(this,Ge)[i+4]} ${l(this,Ge)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,r],a){const c=s-e,u=r-i;let d,f;switch(a){case 0:d=ft._rescale(l(this,Ge),e,r,c,-u),f=ft._rescale(l(this,Gi),e,r,c,-u);break;case 90:d=ft._rescaleAndSwap(l(this,Ge),e,i,c,u),f=ft._rescaleAndSwap(l(this,Gi),e,i,c,u);break;case 180:d=ft._rescale(l(this,Ge),s,i,-c,u),f=ft._rescale(l(this,Gi),s,i,-c,u);break;case 270:d=ft._rescaleAndSwap(l(this,Ge),s,r,-c,-u),f=ft._rescaleAndSwap(l(this,Gi),s,r,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return l(this,Fu)}newOutliner(e,i,s,r,a,c=0){return new B_(e,i,s,r,a,c)}getNewOutline(e,i){const[s,r,a,c]=l(this,Fu),[u,d,f,p]=l(this,Mf),m=a*f,y=c*p,E=s*f+u,w=r*p+d,C=this.newOutliner({x:l(this,Gi)[0]*m+E,y:l(this,Gi)[1]*y+w},l(this,Mf),l(this,kv),e,l(this,Tv),i??l(this,ha));for(let b=2;b<l(this,Gi).length;b+=2)C.add({x:l(this,Gi)[b]*m+E,y:l(this,Gi)[b+1]*y+w});return C.getOutlines()}}Mf=new WeakMap,Fu=new WeakMap,ha=new WeakMap,Tv=new WeakMap,Gi=new WeakMap,kv=new WeakMap,Ge=new WeakMap,rw=new WeakSet,iI=function(e){const i=l(this,Ge);let s=i[4],r=i[5];const a=[s,r,s,r];let c=s,u=r,d=s,f=r;const p=e?Math.max:Math.min,m=new Float32Array(4);for(let E=6,w=i.length;E<w;E+=6){const C=i[E+4],b=i[E+5];isNaN(i[E])?(pt.pointBoundingBox(C,b,a),u>b?(c=C,u=b):u===b&&(c=p(c,C)),f<b?(d=C,f=b):f===b&&(d=p(d,C))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,pt.bezierBoundingBox(s,r,...i.slice(E,E+6),m),pt.rectBoundingBox(m[0],m[1],m[2],m[3],a),u>m[1]?(c=m[0],u=m[1]):u===m[1]&&(c=p(c,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),s=C,r=b}const y=l(this,Fu);y[0]=a[0]-l(this,ha),y[1]=a[1]-l(this,ha),y[2]=a[2]-a[0]+2*l(this,ha),y[3]=a[3]-a[1]+2*l(this,ha),this.firstPoint=[c,u],this.lastPoint=[d,f]};var Lv,Mv,Rv,Nl,or,ci,sI,H0,rI,oI,wS;class _S{constructor(t,e=0,i=0,s=!0){M(this,ci);M(this,Lv);M(this,Mv);M(this,Rv);M(this,Nl,[]);M(this,or,[]);const r=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:C,y:b,width:P,height:A}of t){const v=Math.floor((C-e)/c)*c,x=Math.ceil((C+P+e)/c)*c,k=Math.floor((b-e)/c)*c,I=Math.ceil((b+A+e)/c)*c,F=[v,k,I,!0],B=[x,k,I,!1];l(this,Nl).push(F,B),pt.rectBoundingBox(v,k,x,I,r)}const u=r[2]-r[0]+2*i,d=r[3]-r[1]+2*i,f=r[0]-i,p=r[1]-i;let m=s?-1/0:1/0,y=1/0;const E=l(this,Nl).at(s?-1:-2),w=[E[0],E[2]];for(const C of l(this,Nl)){const[b,P,A,v]=C;!v&&s?P<y?(y=P,m=b):P===y&&(m=Math.max(m,b)):v&&!s&&(P<y?(y=P,m=b):P===y&&(m=Math.min(m,b))),C[0]=(b-f)/u,C[1]=(P-p)/d,C[2]=(A-p)/d}S(this,Lv,new Float32Array([f,p,u,d])),S(this,Mv,[m,y]),S(this,Rv,w)}getOutlines(){l(this,Nl).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of l(this,Nl))e[3]?(t.push(...N(this,ci,wS).call(this,e)),N(this,ci,rI).call(this,e)):(N(this,ci,oI).call(this,e),t.push(...N(this,ci,wS).call(this,e)));return N(this,ci,sI).call(this,t)}}Lv=new WeakMap,Mv=new WeakMap,Rv=new WeakMap,Nl=new WeakMap,or=new WeakMap,ci=new WeakSet,sI=function(t){const e=[],i=new Set;for(const a of t){const[c,u,d]=a;e.push([c,u,a],[c,d,a])}e.sort((a,c)=>a[1]-c[1]||a[0]-c[0]);for(let a=0,c=e.length;a<c;a+=2){const u=e[a][2],d=e[a+1][2];u.push(d),d.push(u),i.add(u),i.add(d)}const s=[];let r;for(;i.size>0;){const a=i.values().next().value;let[c,u,d,f,p]=a;i.delete(a);let m=c,y=u;for(r=[c,d],s.push(r);;){let E;if(i.has(f))E=f;else if(i.has(p))E=p;else break;i.delete(E),[c,u,d,f,p]=E,m!==c&&(r.push(m,y,c,y===u?u:d),m=c),y=y===u?d:u}r.push(m,y)}return new N8(s,l(this,Lv),l(this,Mv),l(this,Rv))},H0=function(t){const e=l(this,or);let i=0,s=e.length-1;for(;i<=s;){const r=i+s>>1,a=e[r][0];if(a===t)return r;a<t?i=r+1:s=r-1}return s+1},rI=function([,t,e]){const i=N(this,ci,H0).call(this,t);l(this,or).splice(i,0,[t,e])},oI=function([,t,e]){const i=N(this,ci,H0).call(this,t);for(let s=i;s<l(this,or).length;s++){const[r,a]=l(this,or)[s];if(r!==t)break;if(r===t&&a===e){l(this,or).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,a]=l(this,or)[s];if(r!==t)break;if(r===t&&a===e){l(this,or).splice(s,1);return}}},wS=function(t){const[e,i,s]=t,r=[[e,i,s]],a=N(this,ci,H0).call(this,s);for(let c=0;c<a;c++){const[u,d]=l(this,or)[c];for(let f=0,p=r.length;f<p;f++){const[,m,y]=r[f];if(!(d<=m||y<=u)){if(m>=u){if(y>d)r[f][1]=d;else{if(p===1)return[];r.splice(f,1),f--,p--}continue}r[f][2]=u,y>d&&r.push([e,d,y])}}}return r};var Nv,Rf;class N8 extends ft{constructor(e,i,s,r){super();M(this,Nv);M(this,Rf);S(this,Rf,e),S(this,Nv,i),this.firstPoint=s,this.lastPoint=r}toSVGPath(){const e=[];for(const i of l(this,Rf)){let[s,r]=i;e.push(`M${s} ${r}`);for(let a=2;a<i.length;a+=2){const c=i[a],u=i[a+1];c===s?(e.push(`V${u}`),r=u):u===r&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,i,s,r],a){const c=[],u=s-e,d=r-i;for(const f of l(this,Rf)){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=e+f[m]*u,p[m+1]=r-f[m+1]*d;c.push(p)}return c}get box(){return l(this,Nv)}get classNamesForOutlining(){return["highlightOutline"]}}Nv=new WeakMap,Rf=new WeakMap;class xS extends B_{newFreeDrawOutline(t,e,i,s,r,a){return new I8(t,e,i,s,r,a)}}class I8 extends nI{newOutliner(t,e,i,s,r,a=0){return new xS(t,e,i,s,r,a)}}var Nf,Iv,da,Bu,Dv,bi,Ov,Fv,ju,qi,Zi,Pn,If,Df,Wn,Of,Ts,Bv,Lt,bS,U0,aI,lI,cI,SS,kc,Is,Oh,uI,$0,W0,hI,dI,fI,pI,gI;const Vt=class Vt extends fe{constructor(e){super({...e,name:"highlightEditor"});M(this,Lt);M(this,Nf,null);M(this,Iv,0);M(this,da);M(this,Bu,null);M(this,Dv,null);M(this,bi,null);M(this,Ov,null);M(this,Fv,0);M(this,ju,null);M(this,qi,null);M(this,Zi,null);M(this,Pn,!1);M(this,If,null);M(this,Df,null);M(this,Wn,null);M(this,Of,"");M(this,Ts);M(this,Bv,"");this.color=e.color||Vt._defaultColor,S(this,Ts,e.thickness||Vt._defaultThickness),this.opacity=e.opacity||Vt._defaultOpacity,S(this,da,e.boxes||null),S(this,Bv,e.methodOfCreation||""),S(this,Of,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(S(this,Pn,!0),N(this,Lt,U0).call(this,e),N(this,Lt,kc).call(this)):l(this,da)&&(S(this,Nf,e.anchorNode),S(this,Iv,e.anchorOffset),S(this,Ov,e.focusNode),S(this,Fv,e.focusOffset),N(this,Lt,bS).call(this),N(this,Lt,kc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=Vt.prototype;return kt(this,"_keyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Pn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,Ts),methodOfCreation:l(this,Bv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;fe.initialize(e,i),Vt._defaultColor||(Vt._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case Ft.HIGHLIGHT_COLOR:Vt._defaultColor=i;break;case Ft.HIGHLIGHT_THICKNESS:Vt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return l(this,Df)}get commentButtonPosition(){return l(this,If)}updateParams(e,i){switch(e){case Ft.HIGHLIGHT_COLOR:N(this,Lt,aI).call(this,i);break;case Ft.HIGHLIGHT_THICKNESS:N(this,Lt,lI).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,Vt._defaultColor],[Ft.HIGHLIGHT_THICKNESS,Vt._defaultThickness]]}get propertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,this.color||Vt._defaultColor],[Ft.HIGHLIGHT_THICKNESS,l(this,Ts)||Vt._defaultThickness],[Ft.HIGHLIGHT_FREE,l(this,Pn)]]}onUpdatedColor(){var e,i;(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Zi),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=l(this,Dv))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",S(this,Dv,new sm({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,Lt,W0).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,N(this,Lt,W0).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){N(this,Lt,SS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Lt,kc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?N(this,Lt,SS).call(this):e&&(N(this,Lt,kc).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,a,c;const{drawLayer:i}=this.parent;let s;l(this,Pn)?(e=(e-this.rotation+360)%360,s=N(r=Vt,Is,Oh).call(r,l(this,qi).box,e)):s=N(a=Vt,Is,Oh).call(a,[this.x,this.y,this.width,this.height],e),i.updateProperties(l(this,Zi),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(l(this,Wn),{bbox:N(c=Vt,Is,Oh).call(c,l(this,bi).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();l(this,Of)&&(e.setAttribute("aria-label",l(this,Of)),e.setAttribute("role","mark")),l(this,Pn)?e.classList.add("free"):this.div.addEventListener("keydown",N(this,Lt,uI).bind(this),{signal:this._uiManager._signal});const i=S(this,ju,document.createElement("div"));return e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,Bu),this.setDims(this.width,this.height),DR(this,l(this,ju),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:N(this,Lt,$0).call(this,!0);break;case 1:case 3:N(this,Lt,$0).call(this,!1);break}}select(){var e;super.select(),l(this,Wn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),l(this,Wn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{selected:!1}}),l(this,Pn)||N(this,Lt,$0).call(this,!1))}get _mustFixPosition(){return!l(this,Pn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(l(this,Zi),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(l(this,Wn),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:r,y:a}){const{x:c,y:u,width:d,height:f}=s.getBoundingClientRect(),p=new AbortController,m=e.combinedSignal(p),y=E=>{p.abort(),N(this,Is,pI).call(this,e,E)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",Te,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",ls,{signal:m}),s.addEventListener("pointermove",N(this,Is,fI).bind(this,e),{signal:m}),this._freeHighlight=new xS({x:r,y:a},[c,u,d,f],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var w,C,b,P;let r=null;if(e instanceof $N){const{data:{quadPoints:A,rect:v,rotation:x,id:k,color:I,opacity:F,popupRef:B,richText:z,contentsObj:U,creationDate:$,modificationDate:K},parent:{page:{pageNumber:W}}}=e;r=e={annotationType:bt.HIGHLIGHT,color:Array.from(I),opacity:F,quadPoints:A,boxes:null,pageIndex:W-1,rect:v.slice(0),rotation:x,annotationElementId:k,id:k,deleted:!1,popupRef:B,richText:z,comment:(U==null?void 0:U.str)||null,creationDate:$,modificationDate:K}}else if(e instanceof bE){const{data:{inkLists:A,rect:v,rotation:x,id:k,color:I,borderStyle:{rawWidth:F},popupRef:B,richText:z,contentsObj:U,creationDate:$,modificationDate:K},parent:{page:{pageNumber:W}}}=e;r=e={annotationType:bt.HIGHLIGHT,color:Array.from(I),thickness:F,inkLists:A,boxes:null,pageIndex:W-1,rect:v.slice(0),rotation:x,annotationElementId:k,id:k,deleted:!1,popupRef:B,richText:z,comment:(U==null?void 0:U.str)||null,creationDate:$,modificationDate:K}}const{color:a,quadPoints:c,inkLists:u,opacity:d}=e,f=await super.deserialize(e,i,s);f.color=pt.makeHexColor(...a),f.opacity=d||1,u&&S(f,Ts,e.thickness),f._initialData=r,e.comment&&f.setCommentData(e);const[p,m]=f.pageDimensions,[y,E]=f.pageTranslation;if(c){const A=S(f,da,[]);for(let v=0;v<c.length;v+=8)A.push({x:(c[v]-y)/p,y:1-(c[v+1]-E)/m,width:(c[v+2]-c[v])/p,height:(c[v+1]-c[v+5])/m});N(w=f,Lt,bS).call(w),N(C=f,Lt,kc).call(C),f.rotate(f.rotation)}else if(u){S(f,Pn,!0);const A=u[0],v={x:A[0]-y,y:m-(A[1]-E)},x=new xS(v,[0,0,p,m],1,l(f,Ts)/2,!0,.001);for(let F=0,B=A.length;F<B;F+=2)v.x=A[F]-y,v.y=m-(A[F+1]-E),x.add(v);const{id:k,clipPathId:I}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);N(b=f,Lt,U0).call(b,{highlightOutlines:x.getOutlines(),highlightId:k,clipPathId:I}),N(P=f,Lt,kc).call(P),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=fe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:i,opacity:this.opacity,thickness:l(this,Ts),quadPoints:N(this,Lt,hI).call(this),outlines:N(this,Lt,dI).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!N(this,Lt,gI).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Nf=new WeakMap,Iv=new WeakMap,da=new WeakMap,Bu=new WeakMap,Dv=new WeakMap,bi=new WeakMap,Ov=new WeakMap,Fv=new WeakMap,ju=new WeakMap,qi=new WeakMap,Zi=new WeakMap,Pn=new WeakMap,If=new WeakMap,Df=new WeakMap,Wn=new WeakMap,Of=new WeakMap,Ts=new WeakMap,Bv=new WeakMap,Lt=new WeakSet,bS=function(){const e=new _S(l(this,da),.001);S(this,qi,e.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,qi).box;const i=new _S(l(this,da),.0025,.001,this._uiManager.direction==="ltr");S(this,bi,i.getOutlines());const{firstPoint:s}=l(this,qi);S(this,If,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:r}=l(this,bi);S(this,Df,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},U0=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var m,y;if(S(this,qi,e),S(this,bi,e.getNewOutline(l(this,Ts)/2+1.5,.0025)),i>=0)S(this,Zi,i),S(this,Bu,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),S(this,Wn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,bi).box,path:{d:l(this,bi).toSVGPath()}},!0));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,Zi),{bbox:N(m=Vt,Is,Oh).call(m,l(this,qi).box,(E-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Wn),{bbox:N(y=Vt,Is,Oh).call(y,l(this,bi).box,E),path:{d:l(this,bi).toSVGPath()}})}const[a,c,u,d]=e.box;switch(this.rotation){case 0:this.x=a,this.y=c,this.width=u,this.height=d;break;case 90:{const[E,w]=this.parentDimensions;this.x=c,this.y=1-a,this.width=u*w/E,this.height=d*E/w;break}case 180:this.x=1-a,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[E,w]=this.parentDimensions;this.x=1-c,this.y=a,this.width=u*w/E,this.height=d*E/w;break}}const{firstPoint:f}=e;S(this,If,[(f[0]-a)/u,(f[1]-c)/d]);const{lastPoint:p}=l(this,bi);S(this,Df,[(p[0]-a)/u,(p[1]-c)/d])},aI=function(e){const i=(a,c)=>{this.color=a,this.opacity=c,this.onUpdatedColor()},s=this.color,r=this.opacity;this.addCommands({cmd:i.bind(this,e,Vt._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},lI=function(e){const i=l(this,Ts),s=r=>{S(this,Ts,r),N(this,Lt,cI).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},cI=function(e){l(this,Pn)&&(N(this,Lt,U0).call(this,{highlightOutlines:l(this,qi).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},SS=function(){l(this,Zi)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Zi)),S(this,Zi,null),this.parent.drawLayer.remove(l(this,Wn)),S(this,Wn,null))},kc=function(e=this.parent){l(this,Zi)===null&&({id:Ie(this,Zi)._,clipPathId:Ie(this,Bu)._}=e.drawLayer.draw({bbox:l(this,qi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,Pn)},path:{d:l(this,qi).toSVGPath()}},!1,!0),S(this,Wn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,Pn)},bbox:l(this,bi).box,path:{d:l(this,bi).toSVGPath()}},l(this,Pn))),l(this,ju)&&(l(this,ju).style.clipPath=l(this,Bu)))},Is=new WeakSet,Oh=function([e,i,s,r],a){switch(a){case 90:return[1-i-r,e,r,s];case 180:return[1-e-s,1-i-r,s,r];case 270:return[i,1-e-s,r,s]}return[e,i,s,r]},uI=function(e){Vt._keyboardManager.exec(this,e)},$0=function(e){if(!l(this,Nf))return;const i=window.getSelection();e?i.setPosition(l(this,Nf),l(this,Iv)):i.setPosition(l(this,Ov),l(this,Fv))},W0=function(){return l(this,Pn)?this.rotation:0},hI=function(){if(l(this,Pn))return null;const[e,i]=this.pageDimensions,[s,r]=this.pageTranslation,a=l(this,da),c=new Float32Array(a.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of a){const y=d*e+s,E=(1-f)*i+r;c[u]=c[u+4]=y,c[u+1]=c[u+3]=E,c[u+2]=c[u+6]=y+p*e,c[u+5]=c[u+7]=E-m*i,u+=8}return c},dI=function(e){return l(this,qi).serialize(e,N(this,Lt,W0).call(this))},fI=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},pI=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},gI=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((s,r)=>s!==i[r])},M(Vt,Is),tt(Vt,"_defaultColor",null),tt(Vt,"_defaultOpacity",1),tt(Vt,"_defaultThickness",12),tt(Vt,"_type","highlight"),tt(Vt,"_editorType",bt.HIGHLIGHT),tt(Vt,"_freeHighlightId",-1),tt(Vt,"_freeHighlight",null),tt(Vt,"_freeHighlightClipId","");let j_=Vt;var zu;class mI{constructor(){M(this,zu,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){l(this,zu)[t]=e}toSVGProperties(){const t=l(this,zu);return S(this,zu,Object.create(null)),{root:t}}reset(){S(this,zu,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){ae("Not implemented")}}zu=new WeakMap;var Xi,Ff,fn,Hu,Uu,Il,Dl,Ol,$u,Ut,AS,ES,PS,pg,vI,V0,gg,Fh;const mt=class mt extends fe{constructor(e){super(e);M(this,Ut);M(this,Xi,null);M(this,Ff);tt(this,"_colorPicker",null);tt(this,"_drawId",null);S(this,Ff,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(N(this,Ut,AS).call(this,e),N(this,Ut,pg).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[r,a]of Object.entries(i))s.has(r)?Object.assign(e[r],a):e[r]=a;return e}static getDefaultDrawingOptions(e){ae("Not implemented")}static get typesMap(){ae("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(l(mt,fn).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)e.push([s,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)e.push([s,i[r]]);return e}_updateProperty(e,i,s){const r=this._drawingOptions,a=r[i],c=u=>{var f;r.updateProperty(i,u);const d=l(this,Xi).updateProperty(i,u);d&&N(this,Ut,gg).call(this,d),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,mt._mergeSVGProperties(l(this,Xi).getPathResizingSVGProperties(N(this,Ut,V0).call(this)),{bbox:N(this,Ut,Fh).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,mt._mergeSVGProperties(l(this,Xi).getPathResizedSVGProperties(N(this,Ut,V0).call(this)),{bbox:N(this,Ut,Fh).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:N(this,Ut,Fh).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,mt._mergeSVGProperties(l(this,Xi).getPathTranslatedSVGProperties(N(this,Ut,V0).call(this),this.parentDimensions),{bbox:N(this,Ut,Fh).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,Ff)&&(S(this,Ff,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){N(this,Ut,PS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Ut,pg).call(this),N(this,Ut,gg).call(this,l(this,Xi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),N(this,Ut,PS).call(this)):e&&(this._uiManager.addShouldRescale(this),N(this,Ut,pg).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,mt._mergeSVGProperties({bbox:N(this,Ut,Fh).call(this)},l(this,Xi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&N(this,Ut,gg).call(this,l(this,Xi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");return s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,r,a){ae("Not implemented")}static startDrawing(e,i,s,r){var C;const{target:a,offsetX:c,offsetY:u,pointerId:d,pointerType:f}=r;if(l(mt,Dl)&&l(mt,Dl)!==f)return;const{viewport:{rotation:p}}=e,{width:m,height:y}=a.getBoundingClientRect(),E=S(mt,Hu,new AbortController),w=e.combinedSignal(E);if(l(mt,Il)||S(mt,Il,d),l(mt,Dl)??S(mt,Dl,f),window.addEventListener("pointerup",b=>{var P;l(mt,Il)===b.pointerId?this._endDraw(b):(P=l(mt,Ol))==null||P.delete(b.pointerId)},{signal:w}),window.addEventListener("pointercancel",b=>{var P;l(mt,Il)===b.pointerId?this._currentParent.endDrawingSession():(P=l(mt,Ol))==null||P.delete(b.pointerId)},{signal:w}),window.addEventListener("pointerdown",b=>{l(mt,Dl)===b.pointerType&&((l(mt,Ol)||S(mt,Ol,new Set)).add(b.pointerId),l(mt,fn).isCancellable()&&(l(mt,fn).removeLastElement(),l(mt,fn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",ls,{signal:w}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),a.addEventListener("touchmove",b=>{b.timeStamp===l(mt,$u)&&Te(b)},{signal:w}),e.toggleDrawing(),(C=i._editorUndoBar)==null||C.hide(),l(mt,fn)){e.drawLayer.updateProperties(this._currentDrawId,l(mt,fn).startNew(c,u,m,y,p));return}i.updateUIForDefaultProperties(this),S(mt,fn,this.createDrawerInstance(c,u,m,y,p)),S(mt,Uu,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(l(mt,Uu).toSVGProperties(),l(mt,fn).defaultSVGProperties),!0,!1)}static _drawMove(e){var a;if(S(mt,$u,-1),!l(mt,fn))return;const{offsetX:i,offsetY:s,pointerId:r}=e;if(l(mt,Il)===r){if(((a=l(mt,Ol))==null?void 0:a.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(mt,fn).add(i,s)),S(mt,$u,e.timeStamp),Te(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,S(mt,fn,null),S(mt,Uu,null),S(mt,Dl,null),S(mt,$u,NaN)),l(mt,Hu)&&(l(mt,Hu).abort(),S(mt,Hu,null),S(mt,Il,NaN),S(mt,Ol,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,l(mt,fn).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=l(mt,fn),r=this._currentDrawId,a=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:Ft.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Ft.DRAW_STEP),!l(mt,fn).isEmpty()){const{pageDimensions:[s,r],scale:a}=i,c=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(mt,fn).getOutlines(s*a,r*a,a,this._INNER_MARGIN),drawingOptions:l(mt,Uu),mustBeCommitted:!e});return this._cleanup(!0),c}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,r,a,c){ae("Not implemented")}static async deserialize(e,i,s){var p,m;const{rawDims:{pageWidth:r,pageHeight:a,pageX:c,pageY:u}}=i.viewport,d=this.deserializeDraw(c,u,r,a,this._INNER_MARGIN,e),f=await super.deserialize(e,i,s);return f.createDrawingOptions(e),N(p=f,Ut,AS).call(p,{drawOutlines:d}),N(m=f,Ut,pg).call(m),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[i,s]=this.pageTranslation,[r,a]=this.pageDimensions;return l(this,Xi).serialize([i,s,r,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Xi=new WeakMap,Ff=new WeakMap,fn=new WeakMap,Hu=new WeakMap,Uu=new WeakMap,Il=new WeakMap,Dl=new WeakMap,Ol=new WeakMap,$u=new WeakMap,Ut=new WeakSet,AS=function({drawOutlines:e,drawId:i,drawingOptions:s}){S(this,Xi,e),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=N(this,Ut,ES).call(this,e,this.parent),N(this,Ut,gg).call(this,e.box)},ES=function(e,i){const{id:s}=i.drawLayer.draw(mt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},PS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},pg=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=N(this,Ut,ES).call(this,l(this,Xi),e)}},vI=function([e,i,s,r]){const{parentDimensions:[a,c],rotation:u}=this;switch(u){case 90:return[i,1-e,s*(c/a),r*(a/c)];case 180:return[1-e,1-i,s,r];case 270:return[1-i,e,s*(c/a),r*(a/c)];default:return[e,i,s,r]}},V0=function(){const{x:e,y:i,width:s,height:r,parentDimensions:[a,c],rotation:u}=this;switch(u){case 90:return[1-i,e,s*(a/c),r*(c/a)];case 180:return[1-e,1-i,s,r];case 270:return[i,1-e,s*(a/c),r*(c/a)];default:return[e,i,s,r]}},gg=function(e){[this.x,this.y,this.width,this.height]=N(this,Ut,vI).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Fh=function(){const{x:e,y:i,width:s,height:r,rotation:a,parentRotation:c,parentDimensions:[u,d]}=this;switch((a*4+c)/90){case 1:return[1-i-r,e,r,s];case 2:return[1-e-s,1-i-r,s,r];case 3:return[i,1-e-s,r,s];case 4:return[e,i-s*(u/d),r*(d/u),s*(u/d)];case 5:return[1-i,e,s*(u/d),r*(d/u)];case 6:return[1-e-r*(d/u),1-i,r*(d/u),s*(u/d)];case 7:return[i-s*(u/d),1-e-r*(d/u),s*(u/d),r*(d/u)];case 8:return[e-s,i-r,s,r];case 9:return[1-i,e-s,r,s];case 10:return[1-e,1-i,s,r];case 11:return[i-r,1-e,r,s];case 12:return[e-r*(d/u),i,r*(d/u),s*(u/d)];case 13:return[1-i-s*(u/d),e-r*(d/u),s*(u/d),r*(d/u)];case 14:return[1-e,1-i-s*(u/d),r*(d/u),s*(u/d)];case 15:return[i,1-e,s*(u/d),r*(d/u)];default:return[e,i,s,r]}},tt(mt,"_currentDrawId",-1),tt(mt,"_currentParent",null),M(mt,fn,null),M(mt,Hu,null),M(mt,Uu,null),M(mt,Il,NaN),M(mt,Dl,null),M(mt,Ol,null),M(mt,$u,NaN),tt(mt,"_INNER_MARGIN",3);let z_=mt;var ro,pn,gn,Wu,Bf,ei,Cn,ks,Vu,Gu,qu,jf,G0;class D8{constructor(t,e,i,s,r,a){M(this,jf);M(this,ro,new Float64Array(6));M(this,pn);M(this,gn);M(this,Wu);M(this,Bf);M(this,ei);M(this,Cn,"");M(this,ks,0);M(this,Vu,new sy);M(this,Gu);M(this,qu);S(this,Gu,i),S(this,qu,s),S(this,Wu,r),S(this,Bf,a),[t,e]=N(this,jf,G0).call(this,t,e);const c=S(this,pn,[NaN,NaN,NaN,NaN,t,e]);S(this,ei,[t,e]),S(this,gn,[{line:c,points:l(this,ei)}]),l(this,ro).set(c,0)}updateProperty(t,e){t==="stroke-width"&&S(this,Bf,e)}isEmpty(){return!l(this,gn)||l(this,gn).length===0}isCancellable(){return l(this,ei).length<=10}add(t,e){[t,e]=N(this,jf,G0).call(this,t,e);const[i,s,r,a]=l(this,ro).subarray(2,6),c=t-r,u=e-a;return Math.hypot(l(this,Gu)*c,l(this,qu)*u)<=2?null:(l(this,ei).push(t,e),isNaN(i)?(l(this,ro).set([r,a,t,e],2),l(this,pn).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(l(this,ro)[0])&&l(this,pn).splice(6,6),l(this,ro).set([i,s,r,a,t,e],0),l(this,pn).push(...ft.createBezierPoints(i,s,r,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(l(this,ei).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,r){S(this,Gu,i),S(this,qu,s),S(this,Wu,r),[t,e]=N(this,jf,G0).call(this,t,e);const a=S(this,pn,[NaN,NaN,NaN,NaN,t,e]);S(this,ei,[t,e]);const c=l(this,gn).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),l(this,gn).push({line:a,points:l(this,ei)}),l(this,ro).set(a,0),S(this,ks,0),this.toSVGPath(),null}getLastElement(){return l(this,gn).at(-1)}setLastElement(t){return l(this,gn)?(l(this,gn).push(t),S(this,pn,t.line),S(this,ei,t.points),S(this,ks,0),{path:{d:this.toSVGPath()}}):l(this,Vu).setLastElement(t)}removeLastElement(){if(!l(this,gn))return l(this,Vu).removeLastElement();l(this,gn).pop(),S(this,Cn,"");for(let t=0,e=l(this,gn).length;t<e;t++){const{line:i,points:s}=l(this,gn)[t];S(this,pn,i),S(this,ei,s),S(this,ks,0),this.toSVGPath()}return{path:{d:l(this,Cn)}}}toSVGPath(){const t=ft.svgRound(l(this,pn)[4]),e=ft.svgRound(l(this,pn)[5]);if(l(this,ei).length===2)return S(this,Cn,`${l(this,Cn)} M ${t} ${e} Z`),l(this,Cn);if(l(this,ei).length<=6){const s=l(this,Cn).lastIndexOf("M");S(this,Cn,`${l(this,Cn).slice(0,s)} M ${t} ${e}`),S(this,ks,6)}if(l(this,ei).length===4){const s=ft.svgRound(l(this,pn)[10]),r=ft.svgRound(l(this,pn)[11]);return S(this,Cn,`${l(this,Cn)} L ${s} ${r}`),S(this,ks,12),l(this,Cn)}const i=[];l(this,ks)===0&&(i.push(`M ${t} ${e}`),S(this,ks,6));for(let s=l(this,ks),r=l(this,pn).length;s<r;s+=6){const[a,c,u,d,f,p]=l(this,pn).slice(s,s+6).map(ft.svgRound);i.push(`C${a} ${c} ${u} ${d} ${f} ${p}`)}return S(this,Cn,l(this,Cn)+i.join(" ")),S(this,ks,l(this,pn).length),l(this,Cn)}getOutlines(t,e,i,s){const r=l(this,gn).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),l(this,Vu).build(l(this,gn),t,e,i,l(this,Wu),l(this,Bf),s),S(this,ro,null),S(this,pn,null),S(this,gn,null),S(this,Cn,null),l(this,Vu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ro=new WeakMap,pn=new WeakMap,gn=new WeakMap,Wu=new WeakMap,Bf=new WeakMap,ei=new WeakMap,Cn=new WeakMap,ks=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,qu=new WeakMap,jf=new WeakSet,G0=function(t,e){return ft._normalizePoint(t,e,l(this,Gu),l(this,qu),l(this,Wu))};var ni,jv,zv,Yi,oo,ao,zf,Hf,Zu,Ln,Mo,yI,_I,wI;class sy extends ft{constructor(){super(...arguments);M(this,Ln);M(this,ni);M(this,jv,0);M(this,zv);M(this,Yi);M(this,oo);M(this,ao);M(this,zf);M(this,Hf);M(this,Zu)}build(e,i,s,r,a,c,u){S(this,oo,i),S(this,ao,s),S(this,zf,r),S(this,Hf,a),S(this,Zu,c),S(this,zv,u??0),S(this,Yi,e),N(this,Ln,_I).call(this)}get thickness(){return l(this,Zu)}setLastElement(e){return l(this,Yi).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Yi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of l(this,Yi)){if(e.push(`M${ft.svgRound(i[4])} ${ft.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${ft.svgRound(i[10])} ${ft.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[a,c,u,d,f,p]=i.subarray(s,s+6).map(ft.svgRound);e.push(`C${a} ${c} ${u} ${d} ${f} ${p}`)}}return e.join("")}serialize([e,i,s,r],a){const c=[],u=[],[d,f,p,m]=N(this,Ln,yI).call(this);let y,E,w,C,b,P,A,v,x;switch(l(this,Hf)){case 0:x=ft._rescale,y=e,E=i+r,w=s,C=-r,b=e+d*s,P=i+(1-f-m)*r,A=e+(d+p)*s,v=i+(1-f)*r;break;case 90:x=ft._rescaleAndSwap,y=e,E=i,w=s,C=r,b=e+f*s,P=i+d*r,A=e+(f+m)*s,v=i+(d+p)*r;break;case 180:x=ft._rescale,y=e+s,E=i,w=-s,C=r,b=e+(1-d-p)*s,P=i+f*r,A=e+(1-d)*s,v=i+(f+m)*r;break;case 270:x=ft._rescaleAndSwap,y=e+s,E=i+r,w=-s,C=-r,b=e+(1-f-m)*s,P=i+(1-d-p)*r,A=e+(1-f)*s,v=i+(1-d)*r;break}for(const{line:k,points:I}of l(this,Yi))c.push(x(k,y,E,w,C,a?new Array(k.length):null)),u.push(x(I,y,E,w,C,a?new Array(I.length):null));return{lines:c,points:u,rect:[b,P,A,v]}}static deserialize(e,i,s,r,a,{paths:{lines:c,points:u},rotation:d,thickness:f}){const p=[];let m,y,E,w,C;switch(d){case 0:C=ft._rescale,m=-e/s,y=i/r+1,E=1/s,w=-1/r;break;case 90:C=ft._rescaleAndSwap,m=-i/r,y=-e/s,E=1/r,w=1/s;break;case 180:C=ft._rescale,m=e/s+1,y=-i/r,E=-1/s,w=1/r;break;case 270:C=ft._rescaleAndSwap,m=i/r+1,y=e/s+1,E=-1/r,w=-1/s;break}if(!c){c=[];for(const P of u){const A=P.length;if(A===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,P[0],P[1]]));continue}if(A===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,P[0],P[1],NaN,NaN,NaN,NaN,P[2],P[3]]));continue}const v=new Float32Array(3*(A-2));c.push(v);let[x,k,I,F]=P.subarray(0,4);v.set([NaN,NaN,NaN,NaN,x,k],0);for(let B=4;B<A;B+=2){const z=P[B],U=P[B+1];v.set(ft.createBezierPoints(x,k,I,F,z,U),(B-2)*3),[x,k,I,F]=[I,F,z,U]}}}for(let P=0,A=c.length;P<A;P++)p.push({line:C(c[P].map(v=>v??NaN),m,y,E,w),points:C(u[P].map(v=>v??NaN),m,y,E,w)});const b=new this.prototype.constructor;return b.build(p,s,r,1,d,f,a),b}get box(){return l(this,ni)}updateProperty(e,i){return e==="stroke-width"?N(this,Ln,wI).call(this,i):null}updateParentDimensions([e,i],s){const[r,a]=N(this,Ln,Mo).call(this);S(this,oo,e),S(this,ao,i),S(this,zf,s);const[c,u]=N(this,Ln,Mo).call(this),d=c-r,f=u-a,p=l(this,ni);return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(e){return S(this,jv,e),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,ni).map(ft.svgRound).join(" ")}get defaultProperties(){const[e,i]=l(this,ni);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=l(this,ni);let s=0,r=0,a=0,c=0,u=0,d=0;switch(l(this,jv)){case 90:r=i/e,a=-e/i,u=e;break;case 180:s=-1,c=-1,u=e,d=i;break;case 270:r=-i/e,a=e/i,d=i;break;default:return""}return`matrix(${s} ${r} ${a} ${c} ${ft.svgRound(u)} ${ft.svgRound(d)})`}getPathResizingSVGProperties([e,i,s,r]){const[a,c]=N(this,Ln,Mo).call(this),[u,d,f,p]=l(this,ni);if(Math.abs(f-a)<=ft.PRECISION||Math.abs(p-c)<=ft.PRECISION){const C=e+s/2-(u+f/2),b=i+r/2-(d+p/2);return{path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:`${this.rotationTransform} translate(${C} ${b})`}}}const m=(s-2*a)/(f-2*a),y=(r-2*c)/(p-2*c),E=f/s,w=p/r;return{path:{"transform-origin":`${ft.svgRound(u)} ${ft.svgRound(d)}`,transform:`${this.rotationTransform} scale(${E} ${w}) translate(${ft.svgRound(a)} ${ft.svgRound(c)}) scale(${m} ${y}) translate(${ft.svgRound(-a)} ${ft.svgRound(-c)})`}}}getPathResizedSVGProperties([e,i,s,r]){const[a,c]=N(this,Ln,Mo).call(this),u=l(this,ni),[d,f,p,m]=u;if(u[0]=e,u[1]=i,u[2]=s,u[3]=r,Math.abs(p-a)<=ft.PRECISION||Math.abs(m-c)<=ft.PRECISION){const b=e+s/2-(d+p/2),P=i+r/2-(f+m/2);for(const{line:A,points:v}of l(this,Yi))ft._translate(A,b,P,A),ft._translate(v,b,P,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(s-2*a)/(p-2*a),E=(r-2*c)/(m-2*c),w=-y*(d+a)+e+a,C=-E*(f+c)+i+c;if(y!==1||E!==1||w!==0||C!==0)for(const{line:b,points:P}of l(this,Yi))ft._rescale(b,w,C,y,E,b),ft._rescale(P,w,C,y,E,P);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[r,a]=s,c=l(this,ni),u=e-c[0],d=i-c[1];if(l(this,oo)===r&&l(this,ao)===a)for(const{line:f,points:p}of l(this,Yi))ft._translate(f,u,d,f),ft._translate(p,u,d,p);else{const f=l(this,oo)/r,p=l(this,ao)/a;S(this,oo,r),S(this,ao,a);for(const{line:m,points:y}of l(this,Yi))ft._rescale(m,u,d,f,p,m),ft._rescale(y,u,d,f,p,y);c[2]*=f,c[3]*=p}return c[0]=e,c[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`}}}get defaultSVGProperties(){const e=l(this,ni);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(e[0])} ${ft.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}ni=new WeakMap,jv=new WeakMap,zv=new WeakMap,Yi=new WeakMap,oo=new WeakMap,ao=new WeakMap,zf=new WeakMap,Hf=new WeakMap,Zu=new WeakMap,Ln=new WeakSet,Mo=function(e=l(this,Zu)){const i=l(this,zv)+e/2*l(this,zf);return l(this,Hf)%180===0?[i/l(this,oo),i/l(this,ao)]:[i/l(this,ao),i/l(this,oo)]},yI=function(){const[e,i,s,r]=l(this,ni),[a,c]=N(this,Ln,Mo).call(this,0);return[e+a,i+c,s-2*a,r-2*c]},_I=function(){const e=S(this,ni,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of l(this,Yi)){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)pt.pointBoundingBox(r[u],r[u+1],e);continue}let a=r[4],c=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,m,y,E,w]=r.subarray(u,u+6);pt.bezierBoundingBox(a,c,f,p,m,y,E,w,e),a=E,c=w}}const[i,s]=N(this,Ln,Mo).call(this);e[0]=Vn(e[0]-i,0,1),e[1]=Vn(e[1]-s,0,1),e[2]=Vn(e[2]+i,0,1),e[3]=Vn(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},wI=function(e){const[i,s]=N(this,Ln,Mo).call(this);S(this,Zu,e);const[r,a]=N(this,Ln,Mo).call(this),[c,u]=[r-i,a-s],d=l(this,ni);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d};class zw extends mI{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:fe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new zw(this._viewParameters);return t.updateAll(this),t}}var ow,xI;const ed=class ed extends z_{constructor(e){super({...e,name:"inkEditor"});M(this,ow);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){fe.initialize(e,i),this._defaultDrawingOptions=new zw(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return kt(this,"typesMap",new Map([[Ft.INK_THICKNESS,"stroke-width"],[Ft.INK_COLOR,"stroke"],[Ft.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,r,a){return new D8(e,i,s,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,r,a,c){return sy.deserialize(e,i,s,r,a,c)}static async deserialize(e,i,s){let r=null;if(e instanceof bE){const{data:{inkLists:c,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:E,richText:w,contentsObj:C,creationDate:b,modificationDate:P},parent:{page:{pageNumber:A}}}=e;r=e={annotationType:bt.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:c},boxes:null,pageIndex:A-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:E,richText:w,comment:(C==null?void 0:C.str)||null,creationDate:b,modificationDate:P}}const a=await super.deserialize(e,i,s);return a._initialData=r,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new F_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=ed.getDefaultDrawingOptions({stroke:pt.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":a,"stroke-width":c}}=this,u=Object.assign(super.serialize(e),{color:fe._colorManager.convert(r),opacity:a,thickness:c,paths:{lines:i,points:s}});return this.addComment(u),e?(u.isCopy=!0,u):this.annotationElementId&&!N(this,ow,xI).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};ow=new WeakSet,xI=function(e){const{color:i,thickness:s,opacity:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((c,u)=>c!==i[u])||e.thickness!==s||e.opacity!==r||e.pageIndex!==a},tt(ed,"_type","ink"),tt(ed,"_editorType",bt.INK),tt(ed,"_defaultDrawingOptions",null);let CS=ed;class TS extends sy{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const r0=8,Gp=3;var Xu,qt,kS,ar,bI,SI,LS,q0,AI,EI,PI,MS,RS,CI;class fo{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},r,a,c,u){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const p=200,m=f.font=`${i} ${s} ${p}px ${e}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:E,actualBoundingBoxAscent:w,actualBoundingBoxDescent:C,fontBoundingBoxAscent:b,fontBoundingBoxDescent:P,width:A}=f.measureText(t),v=1.5,x=Math.ceil(Math.max(Math.abs(y)+Math.abs(E)||0,A)*v),k=Math.ceil(Math.max(Math.abs(w)+Math.abs(C)||p,Math.abs(b)+Math.abs(P)||p)*v);d=new OffscreenCanvas(x,k),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,x,k),f.fillStyle="black",f.fillText(t,x*(v-1)/2,k*(3-v)/2);const I=N(this,qt,MS).call(this,f.getImageData(0,0,x,k).data),F=N(this,qt,PI).call(this,I),B=N(this,qt,RS).call(this,F),z=N(this,qt,LS).call(this,I,x,k,B);return this.processDrawnLines({lines:{curves:z,width:x,height:k},pageWidth:r,pageHeight:a,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,r){const[a,c,u]=N(this,qt,CI).call(this,t),[d,f]=N(this,qt,EI).call(this,a,c,u,Math.hypot(c,u)*l(this,Xu).sigmaSFactor,l(this,Xu).sigmaR,l(this,Xu).kernelSize),p=N(this,qt,RS).call(this,f),m=N(this,qt,LS).call(this,d,c,u,p);return this.processDrawnLines({lines:{curves:m,width:c,height:u},pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:a,areContours:c}){s%180!==0&&([e,i]=[i,e]);const{curves:u,width:d,height:f}=t,p=t.thickness??0,m=[],y=Math.min(e/d,i/f),E=y/e,w=y/i,C=[];for(const{points:P}of u){const A=a?N(this,qt,AI).call(this,P):P;if(!A)continue;C.push(A);const v=A.length,x=new Float32Array(v),k=new Float32Array(3*(v===2?2:v-2));if(m.push({line:k,points:x}),v===2){x[0]=A[0]*E,x[1]=A[1]*w,k.set([NaN,NaN,NaN,NaN,x[0],x[1]],0);continue}let[I,F,B,z]=A;I*=E,F*=w,B*=E,z*=w,x.set([I,F,B,z],0),k.set([NaN,NaN,NaN,NaN,I,F],0);for(let U=4;U<v;U+=2){const $=x[U]=A[U]*E,K=x[U+1]=A[U+1]*w;k.set(ft.createBezierPoints(I,F,B,z,$,K),(U-2)*3),[I,F,B,z]=[B,z,$,K]}}if(m.length===0)return null;const b=c?new TS:new sy;return b.build(m,e,i,1,s,c?0:p,r),{outline:b,newCurves:C,areContours:c,thickness:p,width:d,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:r}){let a=1/0,c=-1/0,u=0;for(const A of t){u+=A.length;for(let v=2,x=A.length;v<x;v++){const k=A[v]-A[v-2];a=Math.min(a,k),c=Math.max(c,k)}}let d;a>=-128&&c<=127?d=Int8Array:a>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const f=t.length,p=r0+Gp*f,m=new Uint32Array(p);let y=0;m[y++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*d.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=s,m[y++]=r,m[y++]=e?0:1,m[y++]=Math.max(0,Math.floor(i??0)),m[y++]=f,m[y++]=d.BYTES_PER_ELEMENT;for(const A of t)m[y++]=A.length-2,m[y++]=A[0],m[y++]=A[1];const E=new CompressionStream("deflate-raw"),w=E.writable.getWriter();await w.ready,w.write(m);const C=d.prototype.constructor;for(const A of t){const v=new C(A.length-2);for(let x=2,k=A.length;x<k;x++)v[x-2]=A[x]-A[x-2];w.write(v)}w.close();const b=await new Response(E.readable).arrayBuffer(),P=new Uint8Array(b);return SR(P)}static async decompressSignature(t){try{const e=oU(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let a=null,c=0;for await(const A of i)a||(a=new Uint8Array(new Uint32Array(A.buffer,0,4)[0])),a.set(A,c),c+=A.length;const u=new Uint32Array(a.buffer,0,a.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=u[2],p=u[3],m=u[4]===0,y=u[5],E=u[6],w=u[7],C=[],b=(r0+Gp*E)*Uint32Array.BYTES_PER_ELEMENT;let P;switch(w){case Int8Array.BYTES_PER_ELEMENT:P=new Int8Array(a.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:P=new Int16Array(a.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:P=new Int32Array(a.buffer,b);break}c=0;for(let A=0;A<E;A++){const v=u[Gp*A+r0],x=new Float32Array(v+2);C.push(x);for(let k=0;k<Gp-1;k++)x[k]=u[Gp*A+r0+k+1];for(let k=0;k<v;k++)x[k+2]=x[k]+P[c++]}return{areContours:m,thickness:y,outlines:C,width:f,height:p}}catch(e){return St(`decompressSignature: ${e}`),null}}}Xu=new WeakMap,qt=new WeakSet,kS=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},ar=new WeakMap,bI=function(t,e,i,s,r,a,c){const u=N(this,qt,kS).call(this,i,s,r,a);for(let d=0;d<8;d++){const f=(-d+u-c+16)%8,p=l(this,ar)[2*f],m=l(this,ar)[2*f+1];if(t[(i+p)*e+(s+m)]!==0)return f}return-1},SI=function(t,e,i,s,r,a,c){const u=N(this,qt,kS).call(this,i,s,r,a);for(let d=0;d<8;d++){const f=(d+u+c+16)%8,p=l(this,ar)[2*f],m=l(this,ar)[2*f+1];if(t[(i+p)*e+(s+m)]!==0)return f}return-1},LS=function(t,e,i,s){const r=t.length,a=new Int32Array(r);for(let f=0;f<r;f++)a[f]=t[f]<=s?1:0;for(let f=1;f<i-1;f++)a[f*e]=a[f*e+e-1]=0;for(let f=0;f<e;f++)a[f]=a[e*i-1-f]=0;let c=1,u;const d=[];for(let f=1;f<i-1;f++){u=1;for(let p=1;p<e-1;p++){const m=f*e+p,y=a[m];if(y===0)continue;let E=f,w=p;if(y===1&&a[m-1]===0)c+=1,w-=1;else if(y>=1&&a[m+1]===0)c+=1,w+=1,y>1&&(u=y);else{y!==1&&(u=Math.abs(y));continue}const C=[p,f],b=w===p+1,P={isHole:b,points:C,id:c,parent:0};d.push(P);let A;for(const U of d)if(U.id===u){A=U;break}A?A.isHole?P.parent=b?A.parent:u:P.parent=b?u:A.parent:P.parent=b?u:0;const v=N(this,qt,bI).call(this,a,e,f,p,E,w,0);if(v===-1){a[m]=-c,a[m]!==1&&(u=Math.abs(a[m]));continue}let x=l(this,ar)[2*v],k=l(this,ar)[2*v+1];const I=f+x,F=p+k;E=I,w=F;let B=f,z=p;for(;;){const U=N(this,qt,SI).call(this,a,e,B,z,E,w,1);x=l(this,ar)[2*U],k=l(this,ar)[2*U+1];const $=B+x,K=z+k;C.push(K,$);const W=B*e+z;if(a[W+1]===0?a[W]=-c:a[W]===1&&(a[W]=c),$===f&&K===p&&B===I&&z===F){a[m]!==1&&(u=Math.abs(a[m]));break}else E=B,w=z,B=$,z=K}}}return d},q0=function(t,e,i,s){if(i-e<=4){for(let I=e;I<i-2;I+=2)s.push(t[I],t[I+1]);return}const r=t[e],a=t[e+1],c=t[i-4]-r,u=t[i-3]-a,d=Math.hypot(c,u),f=c/d,p=u/d,m=f*a-p*r,y=u/c,E=1/d,w=Math.atan(y),C=Math.cos(w),b=Math.sin(w),P=E*(Math.abs(C)+Math.abs(b)),A=E*(1-P+P**2),v=Math.max(Math.atan(Math.abs(b+C)*A),Math.atan(Math.abs(b-C)*A));let x=0,k=e;for(let I=e+2;I<i-2;I+=2){const F=Math.abs(m-f*t[I+1]+p*t[I]);F>x&&(k=I,x=F)}x>(d*v)**2?(N(this,qt,q0).call(this,t,e,k+2,s),N(this,qt,q0).call(this,t,k,i,s)):s.push(r,a)},AI=function(t){const e=[],i=t.length;return N(this,qt,q0).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},EI=function(t,e,i,s,r,a){const c=new Float32Array(a**2),u=-2*s**2,d=a>>1;for(let w=0;w<a;w++){const C=(w-d)**2;for(let b=0;b<a;b++)c[w*a+b]=Math.exp((C+(b-d)**2)/u)}const f=new Float32Array(256),p=-2*r**2;for(let w=0;w<256;w++)f[w]=Math.exp(w**2/p);const m=t.length,y=new Uint8Array(m),E=new Uint32Array(256);for(let w=0;w<i;w++)for(let C=0;C<e;C++){const b=w*e+C,P=t[b];let A=0,v=0;for(let k=0;k<a;k++){const I=w+k-d;if(!(I<0||I>=i))for(let F=0;F<a;F++){const B=C+F-d;if(B<0||B>=e)continue;const z=t[I*e+B],U=c[k*a+F]*f[Math.abs(z-P)];A+=z*U,v+=U}}const x=y[b]=Math.round(A/v);E[x]++}return[y,E]},PI=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},MS=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,r=1/0;for(let c=0,u=i.length;c<u;c++){const d=i[c]=t[c<<2];s=Math.max(s,d),r=Math.min(r,d)}const a=255/(s-r);for(let c=0,u=i.length;c<u;c++)i[c]=(i[c]-r)*a;return i},RS=function(t){let e,i=-1/0,s=-1/0;const r=t.findIndex(u=>u!==0);let a=r,c=r;for(e=r;e<256;e++){const u=t[e];u>i&&(e-a>s&&(s=e-a,c=e-1),i=u,a=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e},CI=function(t){const e=t,{width:i,height:s}=t,{maxDim:r}=l(this,Xu);let a=i,c=s;if(i>r||s>r){let m=i,y=s,E=Math.log2(Math.max(i,s)/r);const w=Math.floor(E);E=E===w?w-1:w;for(let b=0;b<E;b++){a=Math.ceil(m/2),c=Math.ceil(y/2);const P=new OffscreenCanvas(a,c);P.getContext("2d").drawImage(t,0,0,m,y,0,0,a,c),m=a,y=c,t!==e&&t.close(),t=P.transferToImageBitmap()}const C=Math.min(r/a,r/c);a=Math.round(a*C),c=Math.round(c*C)}const d=new OffscreenCanvas(a,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,c),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,a,c);const f=d.getImageData(0,0,a,c).data;return[N(this,qt,MS).call(this,f),a,c]},M(fo,qt),M(fo,Xu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),M(fo,ar,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class AE extends mI{constructor(){super(),super.updateProperties({fill:fe._defaultLineColor,"stroke-width":0})}clone(){const t=new AE;return t.updateAll(this),t}}class EE extends zw{constructor(t){super(t),super.updateProperties({stroke:fe._defaultLineColor,"stroke-width":1})}clone(){const t=new EE(this._viewParameters);return t.updateAll(this),t}}var Fl,lo,Bl,Yu;const Ii=class Ii extends z_{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});M(this,Fl,!1);M(this,lo,null);M(this,Bl,null);M(this,Yu,null);this._willKeepAspectRatio=!0,S(this,Bl,e.signatureData||null),S(this,lo,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){fe.initialize(e,i),this._defaultDrawingOptions=new AE,this._defaultDrawnSignatureOptions=new EE(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return kt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,lo)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(l(this,Bl)){const{lines:r,mustSmooth:a,areContours:c,description:u,uuid:d,heightInPage:f}=l(this,Bl),{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,E=fo.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:y,innerMargin:Ii._INNER_MARGIN,mustSmooth:a,areContours:c});this.addSignature(E,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,lo)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){S(this,Yu,e),this.addEditToolbar()}getUuid(){return l(this,Yu)}get description(){return l(this,lo)}set description(e){S(this,lo,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:r,height:a}=l(this,Bl),c=Math.max(r,a),u=fo.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:s,width:r,height:a},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,s,r){const{x:a,y:c}=this,{outline:u}=S(this,Bl,e);S(this,Fl,u instanceof TS),this.description=s;let d;l(this,Fl)?d=Ii.getDefaultDrawingOptions():(d=Ii._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=a,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return fo.process(e,i,s,r,Ii._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:a}=this.parent.viewport;return fo.extractContoursFromText(e,i,s,r,a,Ii._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return fo.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:r,innerMargin:Ii._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Ii.getDefaultDrawingOptions():(this._drawingOptions=Ii._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:l(this,Fl),color:[0,0,0],thickness:l(this,Fl)?0:r});return this.addComment(a),e?(a.paths={lines:i,points:s},a.uuid=l(this,Yu),a.isCopy=!0):a.lines=i,l(this,lo)&&(a.accessibilityData={type:"Figure",alt:l(this,lo)}),a}static deserializeDraw(e,i,s,r,a,c){return c.areContours?TS.deserialize(e,i,s,r,a,c):sy.deserialize(e,i,s,r,a,c)}static async deserialize(e,i,s){var a;const r=await super.deserialize(e,i,s);return S(r,Fl,e.areContours),r.description=((a=e.accessibilityData)==null?void 0:a.alt)||"",S(r,Yu,e.uuid),r}};Fl=new WeakMap,lo=new WeakMap,Bl=new WeakMap,Yu=new WeakMap,tt(Ii,"_type","signature"),tt(Ii,"_editorType",bt.SIGNATURE),tt(Ii,"_defaultDrawingOptions",null);let NS=Ii;var be,mn,jl,fa,zl,Uf,pa,Ku,co,Ki,$f,$t,mg,vg,Z0,X0,Y0,DS,K0,TI;class IS extends fe{constructor(e){super({...e,name:"stampEditor"});M(this,$t);M(this,be,null);M(this,mn,null);M(this,jl,null);M(this,fa,null);M(this,zl,null);M(this,Uf,"");M(this,pa,null);M(this,Ku,!1);M(this,co,null);M(this,Ki,!1);M(this,$f,!1);S(this,fa,e.bitmapUrl),S(this,zl,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){fe.initialize(e,i)}static isHandlingMimeForPasting(e){return R_.includes(e)}static paste(e,i){i.pasteEditor({mode:bt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:c}=e||this.copyCanvas(null,null,!0).imageData,u=await s.guess({name:"altText",request:{data:r,width:a,height:c,channels:r.length/(a*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e;l(this,mn)&&(S(this,be,null),this._uiManager.imageManager.deleteId(l(this,mn)),(e=l(this,pa))==null||e.remove(),S(this,pa,null),l(this,co)&&(clearTimeout(l(this,co)),S(this,co,null))),super.remove()}rebuild(){if(!this.parent){l(this,mn)&&N(this,$t,Z0).call(this);return}super.rebuild(),this.div!==null&&(l(this,mn)&&l(this,pa)===null&&N(this,$t,Z0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(l(this,jl)||l(this,be)||l(this,fa)||l(this,zl)||l(this,mn)||l(this,Ku))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,Ku)||(l(this,be)?N(this,$t,X0).call(this):N(this,$t,Z0).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(S(this,mn,s),r&&S(this,be,r),S(this,Ku,!1),N(this,$t,X0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,co)!==null&&clearTimeout(l(this,co)),S(this,co,setTimeout(()=>{S(this,co,null),N(this,$t,DS).call(this)},200))}copyCanvas(e,i,s=!1){e||(e=224);const{width:r,height:a}=l(this,be),c=new wr;let u=l(this,be),d=r,f=a,p=null;if(i){if(r>i||a>i){const I=Math.min(i/r,i/a);d=Math.floor(r*I),f=Math.floor(a*I)}p=document.createElement("canvas");const y=p.width=Math.ceil(d*c.sx),E=p.height=Math.ceil(f*c.sy);l(this,Ki)||(u=N(this,$t,Y0).call(this,y,E));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let C="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":cU.isDarkMode&&(C="#8f8f9d",b="#42414d");const P=15,A=P*c.sx,v=P*c.sy,x=new OffscreenCanvas(A*2,v*2),k=x.getContext("2d");k.fillStyle=C,k.fillRect(0,0,A*2,v*2),k.fillStyle=b,k.fillRect(0,0,A,v),k.fillRect(A,v,A,v),w.fillStyle=w.createPattern(x,"repeat"),w.fillRect(0,0,y,E),w.drawImage(u,0,0,u.width,u.height,0,0,y,E)}let m=null;if(s){let y,E;if(c.symmetric&&u.width<e&&u.height<e)y=u.width,E=u.height;else if(u=l(this,be),r>e||a>e){const b=Math.min(e/r,e/a);y=Math.floor(r*b),E=Math.floor(a*b),l(this,Ki)||(u=N(this,$t,Y0).call(this,y,E))}const C=new OffscreenCanvas(y,E).getContext("2d",{willReadFrequently:!0});C.drawImage(u,0,0,u.width,u.height,0,0,y,E),m={width:y,height:E,data:C.getImageData(0,0,y,E).data}}return{canvas:p,width:d,height:f,imageData:m}}static async deserialize(e,i,s){var C;let r=null,a=!1;if(e instanceof WN){const{data:{rect:b,rotation:P,id:A,structParent:v,popupRef:x,richText:k,contentsObj:I,creationDate:F,modificationDate:B},container:z,parent:{page:{pageNumber:U}},canvas:$}=e;let K,W;$?(delete e.canvas,{id:K,bitmap:W}=s.imageManager.getFromCanvas(z.id,$),$.remove()):(a=!0,e._hasNoCanvas=!0);const it=((C=await i._structTree.getAriaAttributes(`${fE}${A}`))==null?void 0:C.get("aria-label"))||"";r=e={annotationType:bt.STAMP,bitmapId:K,bitmap:W,pageIndex:U-1,rect:b.slice(0),rotation:P,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:it},isSvg:!1,structParent:v,popupRef:x,richText:k,comment:(I==null?void 0:I.str)||null,creationDate:F,modificationDate:B}}const c=await super.deserialize(e,i,s),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:y}=e;a?(s.addMissingCanvas(e.id,c),S(c,Ku,!0)):p&&s.imageManager.isValidId(p)?(S(c,mn,p),d&&S(c,be,d)):S(c,fa,f),S(c,Ki,m);const[E,w]=c.pageDimensions;return c.width=(u[2]-u[0])/E,c.height=(u[3]-u[1])/w,y&&(c.altTextData=y),c._initialData=r,e.comment&&c.setCommentData(e),S(c,$f,!!r),c}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:l(this,mn),isSvg:l(this,Ki)});if(this.addComment(s),e)return s.bitmapUrl=N(this,$t,K0).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const u=N(this,$t,TI).call(this,s);return u.isSame?null:(u.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(i===null)return s;i.stamps||(i.stamps=new Map);const c=l(this,Ki)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(l(this,mn)))i.stamps.set(l(this,mn),{area:c,serialized:s}),s.bitmap=N(this,$t,K0).call(this,!1);else if(l(this,Ki)){const u=i.stamps.get(l(this,mn));c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=N(this,$t,K0).call(this,!1))}return s}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}be=new WeakMap,mn=new WeakMap,jl=new WeakMap,fa=new WeakMap,zl=new WeakMap,Uf=new WeakMap,pa=new WeakMap,Ku=new WeakMap,co=new WeakMap,Ki=new WeakMap,$f=new WeakMap,$t=new WeakSet,mg=function(e,i=!1){if(!e){this.remove();return}S(this,be,e.bitmap),i||(S(this,mn,e.id),S(this,Ki,e.isSvg)),e.file&&S(this,Uf,e.file.name),N(this,$t,X0).call(this)},vg=function(){if(S(this,jl,null),this._uiManager.enableWaiting(!1),!!l(this,pa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,be)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,be)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Z0=function(){if(l(this,mn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,mn)).then(s=>N(this,$t,mg).call(this,s,!0)).finally(()=>N(this,$t,vg).call(this));return}if(l(this,fa)){const s=l(this,fa);S(this,fa,null),this._uiManager.enableWaiting(!0),S(this,jl,this._uiManager.imageManager.getFromUrl(s).then(r=>N(this,$t,mg).call(this,r)).finally(()=>N(this,$t,vg).call(this)));return}if(l(this,zl)){const s=l(this,zl);S(this,zl,null),this._uiManager.enableWaiting(!0),S(this,jl,this._uiManager.imageManager.getFromFile(s).then(r=>N(this,$t,mg).call(this,r)).finally(()=>N(this,$t,vg).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=R_.join(",");const i=this._uiManager._signal;S(this,jl,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,$t,mg).call(this,r)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>N(this,$t,vg).call(this))),e.click()},X0=function(){var d;const{div:e}=this;let{width:i,height:s}=l(this,be);const[r,a]=this.pageDimensions,c=.75;if(this.width)i=this.width*r,s=this.height*a;else if(i>c*r||s>c*a){const f=Math.min(c*r/i,c*a/s);i*=f,s*=f}this._uiManager.enableWaiting(!1);const u=S(this,pa,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=i/r,this.height=s/a,this.setDims(),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),N(this,$t,DS).call(this),l(this,$f)||(this.parent.addUndoableEditor(this),S(this,$f,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,Uf)&&this.div.setAttribute("aria-description",l(this,Uf)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Y0=function(e,i){const{width:s,height:r}=l(this,be);let a=s,c=r,u=l(this,be);for(;a>2*e||c>2*i;){const d=a,f=c;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(a,c);p.getContext("2d").drawImage(u,0,0,d,f,0,0,a,c),u=p.transferToImageBitmap()}return u},DS=function(){const[e,i]=this.parentDimensions,{width:s,height:r}=this,a=new wr,c=Math.ceil(s*e*a.sx),u=Math.ceil(r*i*a.sy),d=l(this,pa);if(!d||d.width===c&&d.height===u)return;d.width=c,d.height=u;const f=l(this,Ki)?l(this,be):N(this,$t,Y0).call(this,c,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)},K0=function(e){if(e){if(l(this,Ki)){const r=this._uiManager.imageManager.getSvgUrl(l(this,mn));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=l(this,be),i.getContext("2d").drawImage(l(this,be),0,0),i.toDataURL()}if(l(this,Ki)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*La.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*La.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,a);return c.getContext("2d").drawImage(l(this,be),0,0,l(this,be).width,l(this,be).height,0,0,r,a),c.transferToImageBitmap()}return structuredClone(l(this,be))},TI=function(e){var c;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=e.pageIndex===i,a=(((c=e.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}},tt(IS,"_type","stamp"),tt(IS,"_editorType",bt.STAMP);var Qu,Wf,Hl,Ul,ga,Si,$l,Vf,Gf,lr,ma,vn,va,Wl,qf,vt,Vl,oe,OS,kI,Or,FS,BS,Q0;const qs=class qs{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:c,textLayer:u,viewport:d,l10n:f}){M(this,oe);M(this,Qu);M(this,Wf,!1);M(this,Hl,null);M(this,Ul,null);M(this,ga,null);M(this,Si,new Map);M(this,$l,!1);M(this,Vf,!1);M(this,Gf,!1);M(this,lr,null);M(this,ma,null);M(this,vn,null);M(this,va,null);M(this,Wl,null);M(this,qf,-1);M(this,vt);const p=[...l(qs,Vl).values()];if(!qs._initialized){qs._initialized=!0;for(const m of p)m.initialize(f,t)}t.registerEditorTypes(p),S(this,vt,t),this.pageIndex=e,this.div=i,S(this,Qu,r),S(this,Hl,a),this.viewport=d,S(this,vn,u),this.drawLayer=c,this._structTree=s,l(this,vt).addLayer(this)}get isEmpty(){return l(this,Si).size===0}get isInvisible(){return this.isEmpty&&l(this,vt).getMode()===bt.NONE}updateToolbar(t){l(this,vt).updateToolbar(t)}updateMode(t=l(this,vt).getMode()){switch(N(this,oe,Q0).call(this),t){case bt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case bt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case bt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===bt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of l(qs,Vl).values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=l(this,vn))==null?void 0:e.div)}setEditingState(t){l(this,vt).setEditingState(t)}addCommands(t){l(this,vt).addCommands(t)}cleanUndoStack(t){l(this,vt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=l(this,Hl))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;S(this,Gf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=l(this,Wl))==null||i.abort(),S(this,Wl,null);const t=new Set;for(const s of l(this,oe,OS))s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,vt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));const e=l(this,Hl);if(e)for(const s of e.getEditableAnnotations()){if(s.hide(),l(this,vt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}S(this,Gf,!1),l(this,vt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(S(this,Vf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,vn)&&!l(this,Wl)){S(this,Wl,new AbortController);const s=l(this,vt).combinedSignal(l(this,Wl));l(this,vn).div.addEventListener("pointerdown",r=>{const{clientX:c,clientY:u,timeStamp:d}=r,f=l(this,qf);if(d-f>500){S(this,qf,d);return}S(this,qf,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(c,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const E=new RegExp(`^${Qg}[0-9]+$`);for(const C of m)if(E.test(C.id)){y=C.id;break}if(!y)return;const w=l(this,Si).get(y);(w==null?void 0:w.annotationElementId)===null&&(r.stopPropagation(),r.preventDefault(),w.dblclick(r))},{signal:s,capture:!0})}const t=l(this,Hl);if(t){const s=new Map,r=new Map;for(const c of l(this,oe,OS)){if(c.disableEditing(),!c.annotationElementId){c.updateFakeAnnotationElement(t);continue}if(c.serialize()!==null){s.set(c.annotationElementId,c);continue}else r.set(c.annotationElementId,c);(i=this.getEditableAnnotation(c.annotationElementId))==null||i.show(),c.remove()}const a=t.getEditableAnnotations();for(const c of a){const{id:u}=c.data;if(l(this,vt).isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=s.get(u),d&&(l(this,vt).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}N(this,oe,Q0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const s of l(qs,Vl).values())e.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,Vf,!1)}getEditableAnnotation(t){var e;return((e=l(this,Hl))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){l(this,vt).getActive()!==t&&l(this,vt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=l(this,vn))!=null&&t.div&&!l(this,va)){S(this,va,new AbortController);const e=l(this,vt).combinedSignal(l(this,va));l(this,vn).div.addEventListener("pointerdown",N(this,oe,kI).bind(this),{signal:e}),l(this,vn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=l(this,vn))!=null&&t.div&&l(this,va)&&(l(this,va).abort(),S(this,va,null),l(this,vn).div.classList.remove("highlighting"))}enableClick(){if(l(this,Ul))return;S(this,Ul,new AbortController);const t=l(this,vt).combinedSignal(l(this,Ul));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=l(this,Ul))==null||t.abort(),S(this,Ul,null)}attach(t){l(this,Si).set(t.id,t);const{annotationElementId:e}=t;e&&l(this,vt).isDeletedAnnotationElement(e)&&l(this,vt).removeDeletedAnnotationElement(t)}detach(t){var e;l(this,Si).delete(t.id),(e=l(this,Qu))==null||e.removePointerInTextLayer(t.contentDiv),!l(this,Vf)&&t.annotationElementId&&l(this,vt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),l(this,vt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(l(this,vt).addDeletedAnnotationElement(t.annotationElementId),fe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),l(this,vt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!l(this,Gf)),l(this,vt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!l(this,ga)&&(t._focusEventsAllowed=!1,S(this,ga,setTimeout(()=>{S(this,ga,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:l(this,vt)._signal}),e.focus())},0))),t._structTreeParentId=(i=l(this,Qu))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of l(this,Si).values())if(e.uid===t)return e;return null}getNextId(){return l(this,vt).getId()}combinedSignal(t){return l(this,vt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=l(this,oe,Or))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await l(this,vt).updateMode(t.mode);const{offsetX:i,offsetY:s}=N(this,oe,BS).call(this),r=this.getNextId(),a=N(this,oe,FS).call(this,{parent:this,id:r,x:i,y:s,uiManager:l(this,vt),isCentered:!0,...e});a&&this.add(a)}async deserialize(t){var e;return await((e=l(qs,Vl).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,l(this,vt)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),r=N(this,oe,FS).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:l(this,vt),isCentered:e,...i});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(t={}){this.createAndAddNewEditor(N(this,oe,BS).call(this),!0,t)}setSelected(t){l(this,vt).setSelected(t)}toggleSelected(t){l(this,vt).toggleSelected(t)}unselect(t){l(this,vt).unselect(t)}pointerup(t){var s;const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!l(this,$l)||(S(this,$l,!1),(s=l(this,oe,Or))!=null&&s.isDrawer&&l(this,oe,Or).supportMultipleDrawings))return;if(!l(this,Wf)){S(this,Wf,!0);return}const i=l(this,vt).getMode();if(i===bt.STAMP||i===bt.SIGNATURE){l(this,vt).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(l(this,vt).getMode()===bt.HIGHLIGHT&&this.enableTextSelection(),l(this,$l)){S(this,$l,!1);return}const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(S(this,$l,!0),(s=l(this,oe,Or))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=l(this,vt).getActive();S(this,Wf,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),l(this,lr)){l(this,oe,Or).startDrawing(this,l(this,vt),!1,t);return}l(this,vt).setCurrentDrawingSession(this),S(this,lr,new AbortController);const e=l(this,vt).combinedSignal(l(this,lr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(S(this,ma,null),this.commitOrRemove())},{signal:e}),l(this,oe,Or).startDrawing(this,l(this,vt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&S(this,ma,e);return}l(this,ma)&&setTimeout(()=>{var e;(e=l(this,ma))==null||e.focus(),S(this,ma,null)},0)}endDrawingSession(t=!1){return l(this,lr)?(l(this,vt).setCurrentDrawingSession(null),l(this,lr).abort(),S(this,lr,null),S(this,ma,null),l(this,oe,Or).endDrawing(t)):null}findNewParent(t,e,i){const s=l(this,vt).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return l(this,lr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,lr)&&l(this,oe,Or).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=l(this,vt).getActive())==null?void 0:t.parent)===this&&(l(this,vt).commitOrRemove(),l(this,vt).setActiveEditor(null)),l(this,ga)&&(clearTimeout(l(this,ga)),S(this,ga,null));for(const i of l(this,Si).values())(e=l(this,Qu))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,l(this,Si).clear(),l(this,vt).removeLayer(this)}render({viewport:t}){this.viewport=t,uc(this.div,t);for(const e of l(this,vt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){l(this,vt).commitOrRemove(),N(this,oe,Q0).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,uc(this.div,{rotation:i}),e!==i)for(const s of l(this,Si).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return l(this,vt).viewParameters.realScale}};Qu=new WeakMap,Wf=new WeakMap,Hl=new WeakMap,Ul=new WeakMap,ga=new WeakMap,Si=new WeakMap,$l=new WeakMap,Vf=new WeakMap,Gf=new WeakMap,lr=new WeakMap,ma=new WeakMap,vn=new WeakMap,va=new WeakMap,Wl=new WeakMap,qf=new WeakMap,vt=new WeakMap,Vl=new WeakMap,oe=new WeakSet,OS=function(){return l(this,Si).size!==0?l(this,Si).values():l(this,vt).getEditors(this.pageIndex)},kI=function(t){l(this,vt).unselectAll();const{target:e}=t;if(e===l(this,vn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&l(this,vn).div.contains(e)){const{isMac:i}=wn.platform;if(t.button!==0||t.ctrlKey&&i)return;l(this,vt).showAllEditors("highlight",!0,!0),l(this,vn).div.classList.add("free"),this.toggleDrawing(),j_.startHighlighting(this,l(this,vt).direction==="ltr",{target:l(this,vn).div,x:t.x,y:t.y}),l(this,vn).div.addEventListener("pointerup",()=>{l(this,vn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,vt)._signal}),t.preventDefault()}},Or=function(){return l(qs,Vl).get(l(this,vt).getMode())},FS=function(t){const e=l(this,oe,Or);return e?new e.prototype.constructor(t):null},BS=function(){const{x:t,y:e,width:i,height:s}=this.boundingClientRect,r=Math.max(0,t),a=Math.max(0,e),c=Math.min(window.innerWidth,t+i),u=Math.min(window.innerHeight,e+s),d=(r+c)/2-t,f=(a+u)/2-e,[p,m]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:p,offsetY:m}},Q0=function(){for(const t of l(this,Si).values())t.isEmpty()&&t.remove()},tt(qs,"_initialized",!1),M(qs,Vl,new Map([vS,CS,IS,j_,NS].map(t=>[t._editorType,t])));let H_=qs;var cr,ii,Ju,Hv,aw,LI,_o,jS,MI,zS;const en=class en{constructor({pageIndex:t}){M(this,_o);M(this,cr,null);M(this,ii,new Map);M(this,Ju,new Map);this.pageIndex=t}setParent(t){if(!l(this,cr)){S(this,cr,t);return}if(l(this,cr)!==t){if(l(this,ii).size>0)for(const e of l(this,ii).values())e.remove(),t.append(e);S(this,cr,t)}}static get _svgFactory(){return kt(this,"_svgFactory",new rm)}draw(t,e=!1,i=!1){const s=Ie(en,Hv)._++,r=N(this,_o,jS).call(this),a=en._svgFactory.createElement("defs");r.append(a);const c=en._svgFactory.createElement("path");a.append(c);const u=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),e&&l(this,Ju).set(s,c);const d=i?N(this,_o,MI).call(this,a,u):null,f=en._svgFactory.createElement("use");return r.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(r,t),l(this,ii).set(s,r),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const i=Ie(en,Hv)._++,s=N(this,_o,jS).call(this),r=en._svgFactory.createElement("defs");s.append(r);const a=en._svgFactory.createElement("path");r.append(a);const c=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke");let u;if(e){const p=en._svgFactory.createElement("mask");r.append(p),u=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const m=en._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=en._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const d=en._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${c}`),u&&d.setAttribute("mask",`url(#${u})`);const f=d.cloneNode();return s.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(s,t),l(this,ii).set(i,s),i}finalizeDraw(t,e){l(this,Ju).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var u;if(!e)return;const{root:i,bbox:s,rootClass:r,path:a}=e,c=typeof t=="number"?l(this,ii).get(t):t;if(c){if(i&&N(this,_o,zS).call(this,c,i),s&&N(u=en,aw,LI).call(u,c,s),r){const{classList:d}=c;for(const[f,p]of Object.entries(r))d.toggle(f,p)}if(a){const f=c.firstChild.firstChild;N(this,_o,zS).call(this,f,a)}}}updateParent(t,e){if(e===this)return;const i=l(this,ii).get(t);i&&(l(e,cr).append(i),l(this,ii).delete(t),l(e,ii).set(t,i))}remove(t){l(this,Ju).delete(t),l(this,cr)!==null&&(l(this,ii).get(t).remove(),l(this,ii).delete(t))}destroy(){S(this,cr,null);for(const t of l(this,ii).values())t.remove();l(this,ii).clear(),l(this,Ju).clear()}};cr=new WeakMap,ii=new WeakMap,Ju=new WeakMap,Hv=new WeakMap,aw=new WeakSet,LI=function(t,[e,i,s,r]){const{style:a}=t;a.top=`${100*i}%`,a.left=`${100*e}%`,a.width=`${100*s}%`,a.height=`${100*r}%`},_o=new WeakSet,jS=function(){const t=en._svgFactory.create(1,1,!0);return l(this,cr).append(t),t.setAttribute("aria-hidden",!0),t},MI=function(t,e){const i=en._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=en._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},zS=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},M(en,aw),M(en,Hv,0);let U_=en;globalThis._pdfjsTestingUtils={HighlightOutliner:_S};globalThis.pdfjsLib={AbortException:ka,AnnotationEditorLayer:H_,AnnotationEditorParamsType:Ft,AnnotationEditorType:bt,AnnotationEditorUIManager:hc,AnnotationLayer:SE,AnnotationMode:ho,AnnotationType:We,applyOpacity:TR,build:RN,ColorPicker:sm,createValidAbsoluteUrl:uE,CSSConstants:CR,DOMSVGFactory:rm,DrawLayer:U_,FeatureTest:wn,fetchData:gp,findContrastColor:kR,getDocument:_E,getFilenameFromUrl:AR,getPdfFilenameFromUrl:ER,getRGB:mp,getUuid:dE,getXfaPageViewport:PR,GlobalWorkerOptions:Ns,ImageKind:Tg,InvalidPDFException:M_,isDataScheme:ey,isPdfFile:Bw,isValidExplicitDest:lN,MathClamp:Vn,noContextMenu:ls,normalizeUnicode:bR,OPS:ip,OutputScale:wr,PasswordResponses:wR,PDFDataRangeTransport:wE,PDFDateString:em,PDFWorker:sp,PermissionFlag:_R,PixelsPerInch:La,RenderingCancelledException:Fw,renderRichText:gE,ResponseException:Jg,setLayerDimensions:uc,shadow:kt,SignatureExtractor:fo,stopEvent:Te,SupportedImageMimeTypes:R_,TextLayer:im,TouchManager:nm,updateUrlHash:hE,Util:pt,VerbosityLevel:Qv,version:MN,XfaLayer:pE};const O8=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ka,AnnotationEditorLayer:H_,AnnotationEditorParamsType:Ft,AnnotationEditorType:bt,AnnotationEditorUIManager:hc,AnnotationLayer:SE,AnnotationMode:ho,AnnotationType:We,CSSConstants:CR,ColorPicker:sm,DOMSVGFactory:rm,DrawLayer:U_,FeatureTest:wn,GlobalWorkerOptions:Ns,ImageKind:Tg,InvalidPDFException:M_,MathClamp:Vn,OPS:ip,OutputScale:wr,PDFDataRangeTransport:wE,PDFDateString:em,PDFWorker:sp,PasswordResponses:wR,PermissionFlag:_R,PixelsPerInch:La,RenderingCancelledException:Fw,ResponseException:Jg,SignatureExtractor:fo,SupportedImageMimeTypes:R_,TextLayer:im,TouchManager:nm,Util:pt,VerbosityLevel:Qv,XfaLayer:pE,applyOpacity:TR,build:RN,createValidAbsoluteUrl:uE,fetchData:gp,findContrastColor:kR,getDocument:_E,getFilenameFromUrl:AR,getPdfFilenameFromUrl:ER,getRGB:mp,getUuid:dE,getXfaPageViewport:PR,isDataScheme:ey,isPdfFile:Bw,isValidExplicitDest:lN,noContextMenu:ls,normalizeUnicode:bR,renderRichText:gE,setLayerDimensions:uc,shadow:kt,stopEvent:Te,updateUrlHash:hE,version:MN},Symbol.toStringTag,{value:"Module"}));var ZT=Object.prototype.hasOwnProperty;function XT(n,t,e){for(e of n.keys())if(hd(e,t))return e}function hd(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&hd(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=XT(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=XT(t,s),!s)||!hd(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(ZT.call(n,e)&&++i&&!ZT.call(t,e)||!(e in t)||!hd(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function ry(n){let t=!1;return{promise:new Promise((i,s)=>{n.then(r=>!t&&i(r)).catch(r=>!t&&s(r))}),cancel(){t=!0}}}const F8=["onCopy","onCut","onPaste"],B8=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],j8=["onFocus","onBlur"],z8=["onInput","onInvalid","onReset","onSubmit"],H8=["onLoad","onError"],U8=["onKeyDown","onKeyPress","onKeyUp"],$8=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],W8=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],V8=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],G8=["onSelect"],q8=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Z8=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],X8=["onScroll"],Y8=["onWheel"],K8=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Q8=["onTransitionEnd"],J8=["onToggle"],t6=["onChange"],e6=[...F8,...B8,...j8,...z8,...H8,...U8,...$8,...W8,...V8,...G8,...q8,...Z8,...X8,...Y8,...K8,...Q8,...t6,...J8];function RI(n,t){const e={};for(const i of e6){const s=n[i];s&&(t?e[i]=r=>s(r,t(i)):e[i]=s)}return e}var n6="Invariant failed";function re(n,t){if(!n)throw new Error(n6)}var i6=function(){},s6=i6;const qn=WS(s6),NI=O.createContext(null),r6="noopener noreferrer nofollow";class o6{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return re(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){re(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||r6,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{re(this.pdfDocument),re(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{re(Array.isArray(e));const i=e[0];new Promise(s=>{re(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(r=>{s(r)}).catch(()=>{re(!1)}):typeof i=="number"?s(i):re(!1)}).then(s=>{const r=s+1;re(this.pdfViewer),re(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}goToPage(t){const e=t-1;re(this.pdfViewer),re(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function dd({children:n,type:t}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const YT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function a6(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function rp(){return O.useReducer(a6,{value:void 0,error:void 0})}const Hw=typeof window<"u",II=Hw&&window.location.protocol==="file:";function l6(n){return typeof n<"u"}function Sc(n){return l6(n)&&n!==null}function c6(n){return typeof n=="string"}function u6(n){return n instanceof ArrayBuffer}function h6(n){return re(Hw),n instanceof Blob}function HS(n){return c6(n)&&/^data:/.test(n)}function KT(n){re(HS(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function d6(){return Hw&&window.devicePixelRatio||1}const DI="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function QT(){qn(!II,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${DI}`)}function f6(){qn(!II,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${DI}`)}function ch(n){n!=null&&n.cancel&&n.cancel()}function US(n,t){return Object.defineProperty(n,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),n}function OI(n){return n.name==="AbortException"||n.name==="RenderingCancelledException"}function p6(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:g6}=O8,m6=(n,t)=>{switch(t){case YT.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case YT.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function JT(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const v6=O.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:r,file:a,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:y,onLoadSuccess:E,onPassword:w=m6,onSourceError:C,onSourceSuccess:b,options:P,renderMode:A,rotate:v,scale:x,...k},I){const[F,B]=rp(),{value:z,error:U}=F,[$,K]=rp(),{value:W,error:it}=$,Z=O.useRef(new o6),Y=O.useRef([]),H=O.useRef(void 0),q=O.useRef(void 0);a&&a!==H.current&&JT(a)&&(qn(!hd(a,H.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),H.current=a),P&&P!==q.current&&(qn(!hd(P,q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),q.current=P);const X=O.useRef({scrollPageIntoView:Dt=>{const{dest:zt,pageNumber:Kt,pageIndex:Ne=Kt-1}=Dt;if(p){p({dest:zt,pageIndex:Ne,pageNumber:Kt});return}const le=Y.current[Ne];if(le){le.scrollIntoView();return}qn(!1,`An internal link leading to page ${Kt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});O.useImperativeHandle(I,()=>({linkService:Z,pages:Y,viewer:X}),[]);function rt(){b&&b()}function J(){U&&(qn(!1,U.toString()),C&&C(U))}function st(){B({type:"RESET"})}O.useEffect(st,[a,B]);const at=O.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return HS(a)?{data:KT(a)}:(QT(),{url:a});if(a instanceof g6)return{range:a};if(u6(a))return{data:a};if(Hw&&h6(a))return{data:await p6(a)};if(re(typeof a=="object"),re(JT(a)),"url"in a&&typeof a.url=="string"){if(HS(a.url)){const{url:Dt,...zt}=a;return{data:KT(Dt),...zt}}QT()}return a},[a]);O.useEffect(()=>{const Dt=ry(at());return Dt.promise.then(zt=>{B({type:"RESOLVE",value:zt})}).catch(zt=>{B({type:"REJECT",error:zt})}),()=>{ch(Dt)}},[at,B]),O.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){J();return}rt()}},[z]);function ut(){W&&(E&&E(W),Y.current=new Array(W.numPages),Z.current.setDocument(W))}function dt(){it&&(qn(!1,it.toString()),m&&m(it))}O.useEffect(function(){K({type:"RESET"})},[K,z]),O.useEffect(function(){if(!z)return;const zt=P?{...z,...P}:z,Kt=_E(zt);y&&(Kt.onProgress=y),w&&(Kt.onPassword=w);const Ne=Kt;return Ne.promise.then(le=>{Ne.destroyed||K({type:"RESOLVE",value:le})}).catch(le=>{Ne.destroyed||K({type:"REJECT",error:le})}),()=>{Ne.destroy()}},[P,K,z]),O.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){dt();return}ut()}},[W]),O.useEffect(function(){Z.current.setViewer(X.current),Z.current.setExternalLinkRel(s),Z.current.setExternalLinkTarget(r)},[s,r]);const ct=O.useCallback((Dt,zt)=>{Y.current[Dt]=zt},[]),pe=O.useCallback(Dt=>{delete Y.current[Dt]},[]),Ue=O.useMemo(()=>({imageResourcesPath:u,linkService:Z.current,onItemClick:p,pdf:W,registerPage:ct,renderMode:A,rotate:v,scale:x,unregisterPage:pe}),[u,p,W,ct,A,v,x,pe]),ge=O.useMemo(()=>RI(k,()=>W),[k,W]);function Et(){function Dt(Kt){return!!(Kt!=null&&Kt.pdf)}if(!Dt(Ue))throw new Error("pdf is undefined");const zt=typeof t=="function"?t(Ue):t;return R.jsx(NI.Provider,{value:Ue,children:zt})}function Re(){return a?W==null?R.jsx(dd,{type:"loading",children:typeof d=="function"?d():d}):W===!1?R.jsx(dd,{type:"error",children:typeof i=="function"?i():i}):Et():R.jsx(dd,{type:"no-data",children:typeof f=="function"?f():f})}return R.jsx("div",{className:up("react-pdf__Document",e),ref:c,...ge,children:Re()})});function FI(){return O.useContext(NI)}function BI(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(r){for(var a=0,c=e;a<c.length;a++){var u=c[a];typeof u=="function"?u(r):u&&(u.current=r)}}}const jI=O.createContext(null);function Uw(){return O.useContext(jI)}function y6(){const n=FI(),t=Uw();re(t);const e={...n,...t},{filterAnnotations:i,imageResourcesPath:s,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:y,scale:E=1}=e;re(p),re(f),re(r);const[w,C]=rp(),{value:b,error:P}=w,A=O.useRef(null);qn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function v(){b&&c&&c(b)}function x(){P&&(qn(!1,P.toString()),a&&a(P))}O.useEffect(function(){C({type:"RESET"})},[C,f]),O.useEffect(function(){if(!f)return;const z=ry(f.getAnnotations()),U=z;return z.promise.then($=>{C({type:"RESOLVE",value:$})}).catch($=>{C({type:"REJECT",error:$})}),()=>{ch(U)}},[C,f]),O.useEffect(()=>{if(b!==void 0){if(b===!1){x();return}v()}},[b]);function k(){d&&d()}function I(B){qn(!1,`${B}`),u&&u(B)}const F=O.useMemo(()=>f.getViewport({scale:E,rotation:y}),[f,y,E]);return O.useEffect(function(){if(!p||!f||!r||!b)return;const{current:z}=A;if(!z)return;const U=F.clone({dontFlip:!0}),$={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:z,l10n:null,linkService:r,page:f,structTreeLayer:null,viewport:U},K={annotations:i?i({annotations:b}):b,annotationStorage:p.annotationStorage,div:z,imageResourcesPath:s,linkService:r,page:f,renderForms:m,viewport:U};z.innerHTML="";try{new SE($).render(K),k()}catch(W){I(W)}return()=>{}},[b,i,s,r,f,p,m,F]),R.jsx("div",{className:up("react-pdf__Page__annotations","annotationLayer"),ref:A})}const zI={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},_6=/^H(\d+)$/;function w6(n){return n in zI}function $w(n){return"children"in n}function HI(n){return $w(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function x6(n){const t={};if($w(n)){const{role:e}=n,i=e.match(_6);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(w6(e)){const s=zI[e];s&&(t.role=s)}}return t}function UI(n){const t={};if($w(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),HI(n)){const[e]=n.children;if(e){const i=UI(e);return{...t,...i}}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function b6(n){return n?{...x6(n),...UI(n)}:null}function $I({className:n,node:t}){const e=O.useMemo(()=>b6(t),[t]),i=O.useMemo(()=>!$w(t)||HI(t)?null:t.children.map((s,r)=>R.jsx($I,{node:s},r)),[t]);return R.jsx("span",{className:n,...e,children:i})}function S6(){const n=Uw();re(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=rp(),{value:r,error:a}=i,{customTextRenderer:c,page:u}=n;function d(){r&&e&&e(r)}function f(){a&&(qn(!1,a.toString()),t&&t(a))}return O.useEffect(function(){s({type:"RESET"})},[s,u]),O.useEffect(function(){if(c||!u)return;const m=ry(u.getStructTree()),y=m;return m.promise.then(E=>{s({type:"RESOLVE",value:E})}).catch(E=>{s({type:"REJECT",error:E})}),()=>ch(y)},[c,u,s]),O.useEffect(()=>{if(r!==void 0){if(r===!1){f();return}d()}},[r]),r?R.jsx($I,{className:"react-pdf__Page__structTree structTree",node:r}):null}const tk=ho;function A6(n){const t=Uw();re(t);const e={...t,...n},{_className:i,canvasBackground:s,devicePixelRatio:r=d6(),onRenderError:a,onRenderSuccess:c,page:u,renderForms:d,renderTextLayer:f,rotate:p,scale:m}=e,{canvasRef:y}=n;re(u);const E=O.useRef(null);function w(){u&&c&&c(US(u,m))}function C(v){OI(v)||(qn(!1,v.toString()),a&&a(v))}const b=O.useMemo(()=>u.getViewport({scale:m*r,rotation:p}),[r,u,p,m]),P=O.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);O.useEffect(function(){if(!u)return;u.cleanup();const{current:x}=E;if(!x)return;x.width=b.width,x.height=b.height,x.style.width=`${Math.floor(P.width)}px`,x.style.height=`${Math.floor(P.height)}px`,x.style.visibility="hidden";const k={annotationMode:d?tk.ENABLE_FORMS:tk.ENABLE,canvas:x,canvasContext:x.getContext("2d",{alpha:!1}),viewport:b};s&&(k.background=s);const I=u.render(k),F=I;return I.promise.then(()=>{x.style.visibility="",w()}).catch(C),()=>ch(F)},[s,u,d,b,P]);const A=O.useCallback(()=>{const{current:v}=E;v&&(v.width=0,v.height=0)},[]);return O.useEffect(()=>A,[A]),R.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:BI(y,E),style:{display:"block",userSelect:"none"},children:f?R.jsx(S6,{}):null})}function E6(n){return"str"in n}function P6(){const n=Uw();re(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:c,pageNumber:u,rotate:d,scale:f}=n;re(a);const[p,m]=rp(),{value:y,error:E}=p,w=O.useRef(null);qn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){y&&i&&i(y)}function b(){E&&(qn(!1,E.toString()),e&&e(E))}O.useEffect(function(){m({type:"RESET"})},[a,m]),O.useEffect(function(){if(!a)return;const F=ry(a.getTextContent()),B=F;return F.promise.then(z=>{m({type:"RESOLVE",value:z})}).catch(z=>{m({type:"REJECT",error:z})}),()=>ch(B)},[a,m]),O.useEffect(()=>{if(y!==void 0){if(y===!1){b();return}C()}},[y]);const P=O.useCallback(()=>{r&&r()},[r]),A=O.useCallback(I=>{OI(I)||(qn(!1,I.toString()),s&&s(I))},[s]);function v(){const I=w.current;I&&I.classList.add("selecting")}function x(){const I=w.current;I&&I.classList.remove("selecting")}const k=O.useMemo(()=>a.getViewport({scale:f,rotation:d}),[a,d,f]);return O.useLayoutEffect(function(){if(!a||!y)return;const{current:F}=w;if(!F)return;F.innerHTML="";const B=a.streamTextContent({includeMarkedContent:!0}),z={container:F,textContentSource:B,viewport:k},U=new im(z),$=U;return U.render().then(()=>{const K=document.createElement("div");K.className="endOfContent",F.append(K);const W=F.querySelectorAll('[role="presentation"]');if(t){let it=0;y.items.forEach((Z,Y)=>{if(!E6(Z))return;const H=W[it];if(!H)return;const q=t({pageIndex:c,pageNumber:u,itemIndex:Y,...Z});H.innerHTML=q,it+=Z.str&&Z.hasEOL?2:1})}P()}).catch(A),()=>ch($)},[t,A,P,a,c,u,y,k]),R.jsx("div",{className:up("react-pdf__Page__textContent","textLayer"),onMouseUp:x,onMouseDown:v,ref:w})}const ek=1;function C6(n){const e={...FI(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:c,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:p,error:m="Failed to load the page.",filterAnnotations:y,height:E,inputRef:w,loading:C="Loading page",noData:b="No page specified.",onGetAnnotationsError:P,onGetAnnotationsSuccess:A,onGetStructTreeError:v,onGetStructTreeSuccess:x,onGetTextError:k,onGetTextSuccess:I,onLoadError:F,onLoadSuccess:B,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:U,onRenderError:$,onRenderSuccess:K,onRenderTextLayerError:W,onRenderTextLayerSuccess:it,pageIndex:Z,pageNumber:Y,pdf:H,registerPage:q,renderAnnotationLayer:X=!0,renderForms:rt=!1,renderMode:J="canvas",renderTextLayer:st=!0,rotate:at,scale:ut=ek,unregisterPage:dt,width:ct,...pe}=e,[Ue,ge]=rp(),{value:Et,error:Re}=Ue,Dt=O.useRef(null);re(H);const zt=Sc(Y)?Y-1:Z??null,Kt=Y??(Sc(Z)?Z+1:null),Ne=at??(Et?Et.rotate:null),le=O.useMemo(()=>{if(!Et)return null;let Mi=1;const Ar=ut??ek;if(ct||E){const In=Et.getViewport({scale:1,rotation:Ne});ct?Mi=ct/In.width:E&&(Mi=E/In.height)}return Ar*Mi},[E,Et,Ne,ut,ct]);O.useEffect(function(){return()=>{Sc(zt)&&s&&dt&&dt(zt)}},[s,H,zt,dt]);function hs(){if(B){if(!Et||!le)return;B(US(Et,le))}if(s&&q){if(!Sc(zt)||!Dt.current)return;q(zt,Dt.current)}}function br(){Re&&(qn(!1,Re.toString()),F&&F(Re))}O.useEffect(function(){ge({type:"RESET"})},[ge,H,zt]),O.useEffect(function(){if(!H||!Kt)return;const Ar=ry(H.getPage(Kt)),In=Ar;return Ar.promise.then(Ia=>{ge({type:"RESOLVE",value:Ia})}).catch(Ia=>{ge({type:"REJECT",error:Ia})}),()=>ch(In)},[ge,H,Kt]),O.useEffect(()=>{if(Et!==void 0){if(Et===!1){br();return}hs()}},[Et,le]);const xo=O.useMemo(()=>Sc(zt)&&Kt&&Sc(Ne)&&Sc(le)?{_className:i,canvasBackground:r,customTextRenderer:f,devicePixelRatio:p,filterAnnotations:y,onGetAnnotationsError:P,onGetAnnotationsSuccess:A,onGetStructTreeError:v,onGetStructTreeSuccess:x,onGetTextError:k,onGetTextSuccess:I,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:U,onRenderError:$,onRenderSuccess:K,onRenderTextLayerError:W,onRenderTextLayerSuccess:it,page:Et,pageIndex:zt,pageNumber:Kt,renderForms:rt,renderTextLayer:st,rotate:Ne,scale:le}:null,[i,r,f,p,y,P,A,v,x,k,I,z,U,$,K,W,it,Et,zt,Kt,rt,st,Ne,le]),zs=O.useMemo(()=>RI(pe,()=>Et&&(le?US(Et,le):void 0)),[pe,Et,le]),Sr=`${zt}@${le}/${Ne}`;function ds(){switch(J){case"custom":return re(d),R.jsx(d,{},`${Sr}_custom`);case"none":return null;case"canvas":default:return R.jsx(A6,{canvasRef:a},`${Sr}_canvas`)}}function vp(){return st?R.jsx(P6,{},`${Sr}_text`):null}function yp(){return X?R.jsx(y6,{},`${Sr}_annotations`):null}function cn(){function Mi(In){return!!(In!=null&&In.page)}if(!Mi(xo))throw new Error("page is undefined");const Ar=typeof c=="function"?c(xo):c;return R.jsxs(jI.Provider,{value:xo,children:[ds(),vp(),yp(),Ar]})}function Hs(){return Kt?H===null||Et===void 0||Et===null?R.jsx(dd,{type:"loading",children:typeof C=="function"?C():C}):H===!1||Et===!1?R.jsx(dd,{type:"error",children:typeof m=="function"?m():m}):cn():R.jsx(dd,{type:"no-data",children:typeof b=="function"?b():b})}return R.jsx("div",{className:up(i,u),"data-page-number":Kt,ref:BI(w,Dt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${le}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...zs,children:Hs()})}f6();Ns.workerSrc="pdf.worker.mjs";var $S={exports:{}};(function(n,t){(function(e,i){i(t)})(dk,function(e){class i{constructor(v,x){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=x,this.nowDrawingDensity=this.createdDensity,this.render=v}setDensity(v){this.createdDensity=v,this.nowDrawingDensity=v}setDrawingDensity(v){this.nowDrawingDensity=v}setPosition(v){this.state.position=v}setAngle(v){this.state.angle=v}setArea(v){this.state.area=v}setHardDrawingAngle(v){this.state.hardDrawingAngle=v}setHardAngle(v){this.state.hardAngle=v,this.state.hardDrawingAngle=v}setOrientation(v){this.orientation=v}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class s extends i{constructor(v,x,k){super(v,k),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=x}draw(v){const x=this.render.getContext(),k=this.render.convertToGlobal(this.state.position),I=this.render.getRect().pageWidth,F=this.render.getRect().height;x.save(),x.translate(k.x,k.y),x.beginPath();for(let B of this.state.area)B!==null&&(B=this.render.convertToGlobal(B),x.lineTo(B.x-k.x,B.y-k.y));x.rotate(this.state.angle),x.clip(),this.isLoad?x.drawImage(this.image,0,0,I,F):this.drawLoader(x,{x:0,y:0},I,F),x.restore()}simpleDraw(v){const x=this.render.getRect(),k=this.render.getContext(),I=x.pageWidth,F=x.height,B=v===1?x.left+x.pageWidth:x.left,z=x.top;this.isLoad?k.drawImage(this.image,B,z,I,F):this.drawLoader(k,{x:B,y:z},I,F)}drawLoader(v,x,k,I){v.beginPath(),v.strokeStyle="rgb(200, 200, 200)",v.fillStyle="rgb(255, 255, 255)",v.lineWidth=1,v.rect(x.x+1,x.y+1,k-1,I-1),v.stroke(),v.fill();const F={x:x.x+k/2,y:x.y+I/2};v.beginPath(),v.lineWidth=10,v.arc(F.x,F.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),v.stroke(),v.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class r{constructor(v,x){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=x,this.app=v,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let x=0;x<this.pages.length;x++)this.portraitSpread.push([x]);let v=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([v]),v++);for(let x=v;x<this.pages.length;x+=2)x<this.pages.length-1?this.landscapeSpread.push([x,x+1]):(this.landscapeSpread.push([x]),this.pages[x].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(v){const x=this.getSpread();for(let k=0;k<x.length;k++)if(v===x[k][0]||v===x[k][1])return k;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(v){if(v>=0&&v<this.pages.length)return this.pages[v];throw new Error("Invalid page number")}nextBy(v){const x=this.pages.indexOf(v);return x<this.pages.length-1?this.pages[x+1]:null}prevBy(v){const x=this.pages.indexOf(v);return x>0?this.pages[x-1]:null}getFlippingPage(v){const x=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[x].newTemporaryCopy():this.pages[x-1];{const k=v===0?this.getSpread()[x+1]:this.getSpread()[x-1];return k.length===1||v===0?this.pages[k[0]]:this.pages[k[1]]}}getBottomPage(v){const x=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[x+1]:this.pages[x-1];{const k=v===0?this.getSpread()[x+1]:this.getSpread()[x-1];return k.length===1?this.pages[k[0]]:v===0?this.pages[k[1]]:this.pages[k[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(v=null){if(v===null&&(v=this.currentPageIndex),v<0||v>=this.pages.length)return;const x=this.getSpreadIndexByPage(v);x!==null&&(this.currentSpreadIndex=x,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(v){if(!(v>=0&&v<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=v}showSpread(){const v=this.getSpread()[this.currentSpreadIndex];v.length===2?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(this.pages[v[1]])):this.render.getOrientation()==="landscape"&&v[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[v[0]])),this.currentPageIndex=v[0],this.app.updatePageIndex(this.currentPageIndex)}}class a extends r{constructor(v,x,k){super(v,x),this.imagesHref=k}load(){for(const v of this.imagesHref){const x=new s(this.render,v,"soft");x.load(),this.pages.push(x)}this.createSpread()}}class c{static GetDistanceBetweenTwoPoint(v,x){return v===null||x===null?1/0:Math.sqrt(Math.pow(x.x-v.x,2)+Math.pow(x.y-v.y,2))}static GetSegmentLength(v){return c.GetDistanceBetweenTwoPoint(v[0],v[1])}static GetAngleBetweenTwoLine(v,x){const k=v[0].y-v[1].y,I=x[0].y-x[1].y,F=v[1].x-v[0].x,B=x[1].x-x[0].x;return Math.acos((k*I+F*B)/(Math.sqrt(k*k+F*F)*Math.sqrt(I*I+B*B)))}static PointInRect(v,x){return x===null?null:x.x>=v.left&&x.x<=v.width+v.left&&x.y>=v.top&&x.y<=v.top+v.height?x:null}static GetRotatedPoint(v,x,k){return{x:v.x*Math.cos(k)+v.y*Math.sin(k)+x.x,y:v.y*Math.cos(k)-v.x*Math.sin(k)+x.y}}static LimitPointToCircle(v,x,k){if(c.GetDistanceBetweenTwoPoint(v,k)<=x)return k;const I=v.x,F=v.y,B=k.x,z=k.y;let U=Math.sqrt(Math.pow(x,2)*Math.pow(I-B,2)/(Math.pow(I-B,2)+Math.pow(F-z,2)))+I;k.x<0&&(U*=-1);let $=(U-I)*(F-z)/(I-B)+F;return I-B+F===0&&($=x),{x:U,y:$}}static GetIntersectBetweenTwoSegment(v,x,k){return c.PointInRect(v,c.GetIntersectBeetwenTwoLine(x,k))}static GetIntersectBeetwenTwoLine(v,x){const k=v[0].y-v[1].y,I=x[0].y-x[1].y,F=v[1].x-v[0].x,B=x[1].x-x[0].x,z=v[0].x*v[1].y-v[1].x*v[0].y,U=x[0].x*x[1].y-x[1].x*x[0].y,$=k*U-I*z,K=F*U-B*z,W=-(z*B-U*F)/(k*B-I*F),it=-(k*U-I*z)/(k*B-I*F);if(isFinite(W)&&isFinite(it))return{x:W,y:it};if(Math.abs($-K)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(v,x){const k=Math.abs(v.x-x.x),I=Math.abs(v.y-x.y),F=Math.max(k,I),B=[v];function z(U,$,K,W,it){return $>U?U+it*(K/W):$<U?U-it*(K/W):U}for(let U=1;U<=F;U+=1)B.push({x:z(v.x,x.x,k,F,U),y:z(v.y,x.y,I,F,U)});return B}}class u extends i{constructor(v,x,k){super(v,k),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=x,this.element.classList.add("stf__item"),this.element.classList.add("--"+k)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(v){const x=v||this.nowDrawingDensity,k=this.render.convertToGlobal(this.state.position),I=this.render.getRect().pageWidth,F=this.render.getRect().height;this.element.classList.remove("--simple");const B=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${I}px;
            height: ${F}px;
        `;x==="hard"?this.drawHard(B):this.drawSoft(k,B)}drawHard(v=""){const x=this.render.getRect().left+this.render.getRect().width/2,k=this.state.hardDrawingAngle,I=v+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${k}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${x}px, 0, 0) rotateY(${k}deg);`);this.element.style.cssText=I}drawSoft(v,x=""){let k="polygon( ";for(const F of this.state.area)if(F!==null){let B=this.render.getDirection()===1?{x:-F.x+this.state.position.x,y:F.y-this.state.position.y}:{x:F.x-this.state.position.x,y:F.y-this.state.position.y};B=c.GetRotatedPoint(B,{x:0,y:0},this.state.angle),k+=B.x+"px "+B.y+"px, "}k=k.slice(0,-2),k+=")";const I=x+`transform-origin: 0 0; clip-path: ${k}; -webkit-clip-path: ${k};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${v.x}px, ${v.y}px);`:`transform: translate3d(${v.x}px, ${v.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=I}simpleDraw(v){const x=this.render.getRect(),k=x.pageWidth,I=x.height,F=v===1?x.left+x.pageWidth:x.left,B=x.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${I}px; 
            left: ${F}px; 
            top: ${B}px; 
            width: ${k}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(v){super.setOrientation(v),this.element.classList.remove("--left","--right"),this.element.classList.add(v===1?"--right":"--left")}setDrawingDensity(v){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+v),super.setDrawingDensity(v)}}class d extends r{constructor(v,x,k,I){super(v,x),this.element=k,this.pagesElement=I}load(){for(const v of this.pagesElement){const x=new u(this.render,v,v.dataset.density==="hard"?"hard":"soft");x.load(),this.pages.push(x)}this.createSpread()}}class f{constructor(v,x,k,I){this.direction=v,this.corner=x,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(k,10),this.pageHeight=parseInt(I,10)}calc(v){try{return this.position=this.calcAngleAndPosition(v),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const v=[];let x=!1;return v.push(this.rect.topLeft),v.push(this.topIntersectPoint),this.sideIntersectPoint===null?x=!0:(v.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(x=!1)),v.push(this.bottomIntersectPoint),(x||this.corner==="bottom")&&v.push(this.rect.bottomLeft),v}getBottomClipArea(){const v=[];return v.push(this.topIntersectPoint),this.corner==="top"?v.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&v.push({x:this.pageWidth,y:0}),v.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?c.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&v.push(this.sideIntersectPoint):this.corner==="top"&&v.push({x:this.pageWidth,y:this.pageHeight}),v.push(this.bottomIntersectPoint),v.push(this.topIntersectPoint),v}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const v=c.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?v:Math.PI-v}calcAngleAndPosition(v){let x=v;if(this.updateAngleAndGeometry(x),x=this.corner==="top"?this.checkPositionAtCenterLine(x,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(x,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(x.x-this.pageWidth)<1&&Math.abs(x.y)<1)throw new Error("Point is too small");return x}updateAngleAndGeometry(v){this.angle=this.calculateAngle(v),this.rect=this.getPageRect(v)}calculateAngle(v){const x=this.pageWidth-v.x+1,k=this.corner==="bottom"?this.pageHeight-v.y:v.y;let I=2*Math.acos(x/Math.sqrt(k*k+x*x));k<0&&(I=-I);const F=Math.PI-I;if(!isFinite(I)||F>=0&&F<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(I=-I),I}getPageRect(v){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],v):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],v)}getRectFromBasePoint(v,x){return{topLeft:this.getRotatedPoint(v[0],x),topRight:this.getRotatedPoint(v[1],x),bottomLeft:this.getRotatedPoint(v[2],x),bottomRight:this.getRotatedPoint(v[3],x)}}getRotatedPoint(v,x){return{x:v.x*Math.cos(this.angle)+v.y*Math.sin(this.angle)+x.x,y:v.y*Math.cos(this.angle)-v.x*Math.sin(this.angle)+x.y}}calculateIntersectPoint(v){const x={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(x,[v,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(x,[v,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(x,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(x,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(x,[v,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(x,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(v,x,k){let I=v;const F=c.LimitPointToCircle(x,this.pageWidth,I);I!==F&&(I=F,this.updateAngleAndGeometry(I));const B=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let z=this.rect.bottomRight,U=this.rect.topLeft;if(this.corner==="bottom"&&(z=this.rect.topRight,U=this.rect.bottomLeft),z.x<=0){const $=c.LimitPointToCircle(k,B,U);$!==I&&(I=$,this.updateAngleAndGeometry(I))}return I}getSegmentToShadowLine(){const v=this.getShadowStartPoint();return[v,v!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class p{constructor(v,x){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=v,this.app=x}fold(v){this.setState("user_fold"),this.calc===null&&this.start(v),this.do(this.render.convertToPage(v))}flip(v){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(v)||(this.calc!==null&&this.render.finishAnimation(),!this.start(v)))return;const x=this.getBoundsRect();this.setState("flipping");const k=x.height/10,I=this.calc.getCorner()==="bottom"?x.height-k:k,F=this.calc.getCorner()==="bottom"?x.height:0;this.calc.calc({x:x.pageWidth-k,y:I}),this.animateFlippingTo({x:x.pageWidth-k,y:I},{x:-x.pageWidth,y:F},!0)}start(v){this.reset();const x=this.render.convertToBook(v),k=this.getBoundsRect(),I=this.getDirectionByPoint(x),F=x.y>=k.height/2?"bottom":"top";if(!this.checkDirection(I))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(I),this.bottomPage=this.app.getPageCollection().getBottomPage(I),this.render.getOrientation()==="landscape")if(I===1){const B=this.app.getPageCollection().nextBy(this.flippingPage);B!==null&&this.flippingPage.getDensity()!==B.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),B.setDrawingDensity("hard"))}else{const B=this.app.getPageCollection().prevBy(this.flippingPage);B!==null&&this.flippingPage.getDensity()!==B.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),B.setDrawingDensity("hard"))}return this.render.setDirection(I),this.calc=new f(I,F,k.pageWidth.toString(10),k.height.toString(10)),!0}catch{return!1}}do(v){if(this.calc!==null&&this.calc.calc(v)){const x=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*x)/100):this.flippingPage.setHardAngle(-90*(200-2*x)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),x,this.calc.getDirection())}}flipToPage(v,x){const k=this.app.getPageCollection().getCurrentSpreadIndex(),I=this.app.getPageCollection().getSpreadIndexByPage(v);try{I>k&&(this.app.getPageCollection().setCurrentSpreadIndex(I-1),this.flipNext(x)),I<k&&(this.app.getPageCollection().setCurrentSpreadIndex(I+1),this.flipPrev(x))}catch{}}flipNext(v){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:v==="top"?1:this.render.getRect().height-2})}flipPrev(v){this.flip({x:10,y:v==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const v=this.calc.getPosition(),x=this.getBoundsRect(),k=this.calc.getCorner()==="bottom"?x.height:0;v.x<=0?this.animateFlippingTo(v,{x:-x.pageWidth,y:k},!0):this.animateFlippingTo(v,{x:x.pageWidth,y:k},!1)}showCorner(v){if(!this.checkState("read","fold_corner"))return;const x=this.getBoundsRect(),k=x.pageWidth;if(this.isPointOnCorners(v))if(this.calc===null){if(!this.start(v))return;this.setState("fold_corner"),this.calc.calc({x:k-1,y:1});const I=50,F=this.calc.getCorner()==="bottom"?x.height-1:1,B=this.calc.getCorner()==="bottom"?x.height-I:I;this.animateFlippingTo({x:k-1,y:F},{x:k-I,y:B},!1,!1)}else this.do(this.render.convertToPage(v));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(v,x,k,I=!0){const F=c.GetCordsFromTwoPoint(v,x),B=[];for(const U of F)B.push(()=>this.do(U));const z=this.getAnimationDuration(F.length);this.render.startAnimation(B,z,()=>{this.calc&&(k&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),I&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(v){this.state!==v&&(this.app.updateState(v),this.state=v)}getDirectionByPoint(v){const x=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(v.x-x.pageWidth<=x.width/5)return 1}else if(v.x<x.width/2)return 1;return 0}getAnimationDuration(v){const x=this.app.getSettings().flippingTime;return v>=1e3?x:v/1e3*x}checkDirection(v){return v===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...v){for(const x of v)if(this.state===x)return!0;return!1}isPointOnCorners(v){const x=this.getBoundsRect(),k=x.pageWidth,I=Math.sqrt(Math.pow(k,2)+Math.pow(x.height,2))/5,F=this.render.convertToBook(v);return F.x>0&&F.y>0&&F.x<x.width&&F.y<x.height&&(F.x<I||F.x>x.width-I)&&(F.y<I||F.y>x.height-I)}}class m{constructor(v,x){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=x,this.app=v;const k=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=k.exec(window.navigator.userAgent)!==null}render(v){if(this.animation!==null){const x=Math.round((v-this.animation.startedAt)/this.animation.durationFrame);x<this.animation.frames.length?this.animation.frames[x]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=v,this.drawFrame()}start(){this.update();const v=x=>{this.render(x),requestAnimationFrame(v)};requestAnimationFrame(v)}startAnimation(v,x,k){this.finishAnimation(),this.animation={frames:v,duration:x,durationFrame:x/v.length,onAnimateEnd:k,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const v=this.calculateBoundsRect();this.orientation!==v&&(this.orientation=v,this.app.updateOrientation(v))}calculateBoundsRect(){let v="landscape";const x=this.getBlockWidth(),k=x/2,I=this.getBlockHeight()/2,F=this.setting.width/this.setting.height;let B=this.setting.width,z=this.setting.height,U=k-B;return this.setting.size==="stretch"?(x<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(v="portrait"),B=v==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,B>this.setting.maxWidth&&(B=this.setting.maxWidth),z=B/F,z>this.getBlockHeight()&&(z=this.getBlockHeight(),B=z*F),U=v==="portrait"?k-B/2-B:k-B):x<2*B&&this.app.getSettings().usePortrait&&(v="portrait",U=k-B/2-B),this.boundsRect={left:U,top:I-z/2,width:2*B,height:z,pageWidth:B},v}setShadowData(v,x,k,I){if(!this.app.getSettings().drawShadow)return;const F=100*this.getSettings().maxShadowOpacity;this.shadow={pos:v,angle:x,width:3*this.getRect().pageWidth/4*k/100,opacity:(100-k)*F/100/100,direction:I,progress:2*k}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(v){this.pageRect=v}setDirection(v){this.direction=v}setRightPage(v){v!==null&&v.setOrientation(1),this.rightPage=v}setLeftPage(v){v!==null&&v.setOrientation(0),this.leftPage=v}setBottomPage(v){v!==null&&v.setOrientation(this.direction===1?0:1),this.bottomPage=v}setFlippingPage(v){v!==null&&v.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=v}convertToBook(v){const x=this.getRect();return{x:v.x-x.left,y:v.y-x.top}}isSafari(){return this.safari}convertToPage(v,x){x||(x=this.direction);const k=this.getRect();return{x:x===0?v.x-k.left-k.width/2:k.width/2-v.x+k.left,y:v.y-k.top}}convertToGlobal(v,x){if(x||(x=this.direction),v==null)return null;const k=this.getRect();return{x:x===0?v.x+k.left+k.width/2:k.width/2-v.x+k.left,y:v.y+k.top}}convertRectToGlobal(v,x){return x||(x=this.direction),{topLeft:this.convertToGlobal(v.topLeft,x),topRight:this.convertToGlobal(v.topRight,x),bottomLeft:this.convertToGlobal(v.bottomLeft,x),bottomRight:this.convertToGlobal(v.bottomRight,x)}}}class y extends m{constructor(v,x,k){super(v,x),this.canvas=k,this.ctx=k.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const v=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(v.left+v.pageWidth,v.top,v.width,v.height),this.ctx.clip())}drawBookShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const x=v.width/20;this.ctx.rect(v.left,v.top,v.width,v.height);const k={x:v.left+v.width/2-x/2,y:0};this.ctx.translate(k.x,k.y);const I=this.ctx.createLinearGradient(0,0,x,0);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),I.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),I.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),I.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),I.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=I,this.ctx.fillRect(0,0,x,2*v.height),this.ctx.restore()}drawOuterShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(v.left,v.top,v.width,v.height);const x=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(x.x,x.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const k=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),k.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,this.shadow.width,2*v.height),this.ctx.restore()}drawInnerShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const x=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),k=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(k.topLeft.x,k.topLeft.y),this.ctx.lineTo(k.topRight.x,k.topRight.y),this.ctx.lineTo(k.bottomRight.x,k.bottomRight.y),this.ctx.lineTo(k.bottomLeft.x,k.bottomLeft.y),this.ctx.translate(x.x,x.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const I=3*this.shadow.width/4,F=this.ctx.createLinearGradient(0,0,I,0);this.shadow.direction===0?(this.ctx.translate(-I,-100),F.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),F.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=F,this.ctx.fillRect(0,0,I,2*v.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class E{constructor(v,x,k){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=F=>{if(this.checkTarget(F.target)){const B=this.getMousePos(F.clientX,F.clientY);this.app.startUserTouch(B),F.preventDefault()}},this.onTouchStart=F=>{if(this.checkTarget(F.target)&&F.changedTouches.length>0){const B=F.changedTouches[0],z=this.getMousePos(B.clientX,B.clientY);this.touchPoint={point:z,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(z)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||F.preventDefault()}},this.onMouseUp=F=>{const B=this.getMousePos(F.clientX,F.clientY);this.app.userStop(B)},this.onMouseMove=F=>{const B=this.getMousePos(F.clientX,F.clientY);this.app.userMove(B,!1)},this.onTouchMove=F=>{if(F.changedTouches.length>0){const B=F.changedTouches[0],z=this.getMousePos(B.clientX,B.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-z.x)>10||this.app.getState()!=="read")&&F.cancelable&&this.app.userMove(z,!0),this.app.getState()!=="read"&&F.preventDefault()):this.app.userMove(z,!0)}},this.onTouchEnd=F=>{if(F.changedTouches.length>0){const B=F.changedTouches[0],z=this.getMousePos(B.clientX,B.clientY);let U=!1;if(this.touchPoint!==null){const $=z.x-this.touchPoint.point.x,K=Math.abs(z.y-this.touchPoint.point.y);Math.abs($)>this.swipeDistance&&K<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&($>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),U=!0),this.touchPoint=null}this.app.userStop(z,U)}},this.parentElement=v,v.classList.add("stf__parent"),v.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=v.querySelector(".stf__wrapper"),this.app=x;const I=this.app.getSettings().usePortrait?1:2;v.style.minWidth=k.minWidth*I+"px",v.style.minHeight=k.minHeight+"px",k.size==="fixed"&&(v.style.minWidth=k.width*I+"px",v.style.minHeight=k.height+"px"),k.autoSize&&(v.style.width="100%",v.style.maxWidth=2*k.maxWidth+"px"),v.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=k.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(v){this.wrapper.classList.remove("--portrait","--landscape"),v==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(v,x){const k=this.distElement.getBoundingClientRect();return{x:v-k.left,y:x-k.top}}checkTarget(v){return!this.app.getSettings().clickEventForward||!["a","button"].includes(v.tagName.toLowerCase())}}class w extends E{constructor(v,x,k,I){super(v,x,k),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=v.querySelector(".stf__block"),this.items=I;for(const F of I)this.distElement.appendChild(F);this.setHandlers()}clear(){for(const v of this.items)this.parentElement.appendChild(v)}updateItems(v){this.removeHandlers(),this.distElement.innerHTML="";for(const x of v)this.distElement.appendChild(x);this.items=v,this.setHandlers()}update(){this.app.getRender().update()}}class C extends E{constructor(v,x,k){super(v,x,k),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=v.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const v=getComputedStyle(this.canvas),x=parseInt(v.getPropertyValue("width"),10),k=parseInt(v.getPropertyValue("height"),10);this.canvas.width=x,this.canvas.height=k}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class b extends m{constructor(v,x,k){super(v,x),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=k,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const v=this.getRect(),x=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let k=(100-x)*(2.5*v.pageWidth)/100+20;k>v.pageWidth&&(k=v.pageWidth);let I=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${k}px;
            height: ${v.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*x/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;I+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=I}drawHardOuterShadow(){const v=this.getRect();let x=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*v.pageWidth)/100+20;x>v.pageWidth&&(x=v.pageWidth);let k=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${x}px;
            height: ${v.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;k+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=k}drawInnerShadow(){const v=this.getRect(),x=3*this.shadow.width/4,k=this.getDirection()===0?x:0,I=this.getDirection()===0?"to left":"to right",F=this.convertToGlobal(this.shadow.pos),B=this.shadow.angle+3*Math.PI/2,z=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let U="polygon( ";for(const K of z){let W=this.getDirection()===1?{x:-K.x+this.shadow.pos.x,y:K.y-this.shadow.pos.y}:{x:K.x-this.shadow.pos.x,y:K.y-this.shadow.pos.y};W=c.GetRotatedPoint(W,{x:k,y:100},B),U+=W.x+"px "+W.y+"px, "}U=U.slice(0,-2),U+=")";const $=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${x}px;
            height: ${2*v.height}px;
            background: linear-gradient(${I},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${k}px 100px;
            transform: translate3d(${F.x-k}px, ${F.y-100}px, 0) rotate(${B}rad);
            clip-path: ${U};
            -webkit-clip-path: ${U};
        `;this.innerShadow.style.cssText=$}drawOuterShadow(){const v=this.getRect(),x=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),k=this.shadow.angle+3*Math.PI/2,I=this.getDirection()===1?this.shadow.width:0,F=this.getDirection()===0?"to right":"to left",B=[{x:0,y:0},{x:v.pageWidth,y:0},{x:v.pageWidth,y:v.height},{x:0,y:v.height}];let z="polygon( ";for(const $ of B)if($!==null){let K=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};K=c.GetRotatedPoint(K,{x:I,y:100},k),z+=K.x+"px "+K.y+"px, "}z=z.slice(0,-2),z+=")";const U=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*v.height}px;
            background: linear-gradient(${F}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${I}px 100px;
            transform: translate3d(${x.x-I}px, ${x.y-100}px, 0) rotate(${k}rad);
            clip-path: ${z};
            -webkit-clip-path: ${z};
        `;this.outerShadow.style.cssText=U}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const v=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(v))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const v of this.app.getPageCollection().getPages())v!==this.leftPage&&v!==this.rightPage&&v!==this.flippingPage&&v!==this.bottomPage&&(v.getElement().style.cssText="display: none"),v.getTemporaryCopy()!==this.flippingPage&&v.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class P{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(v){const x=this._default;if(Object.assign(x,v),x.size!=="stretch"&&x.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(x.width<=0||x.height<=0)throw new Error("Invalid width or height");if(x.flippingTime<=0)throw new Error("Invalid flipping time");return x.size==="stretch"?(x.minWidth<=0&&(x.minWidth=100),x.maxWidth<x.minWidth&&(x.maxWidth=2e3),x.minHeight<=0&&(x.minHeight=100),x.maxHeight<x.minHeight&&(x.maxHeight=2e3)):(x.minWidth=x.width,x.maxWidth=x.width,x.minHeight=x.height,x.maxHeight=x.height),x}}(function(A,v){v===void 0&&(v={});var x=v.insertAt;if(typeof document<"u"){var k=document.head||document.getElementsByTagName("head")[0],I=document.createElement("style");I.type="text/css",x==="top"&&k.firstChild?k.insertBefore(I,k.firstChild):k.appendChild(I),I.styleSheet?I.styleSheet.cssText=A:I.appendChild(document.createTextNode(A))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),e.PageFlip=class extends class{constructor(){this.events=new Map}on(A,v){return this.events.has(A)?this.events.get(A).push(v):this.events.set(A,[v]),this}off(A){this.events.delete(A)}trigger(A,v,x=null){if(this.events.has(A))for(const k of this.events.get(A))k({data:x,object:v})}}{constructor(A,v){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new P().getSettings(v),this.block=A}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(A){this.ui=new C(this.block,this,this.setting);const v=this.ui.getCanvas();this.render=new y(this,this.setting,v),this.flipController=new p(this.render,this),this.pages=new a(this,this.render,A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(A){this.ui=new w(this.block,this,this.setting,A),this.render=new b(this,this.setting,this.ui.getDistElement()),this.flipController=new p(this.render,this),this.pages=new d(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(A){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new a(this,this.render,A),this.pages.load(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}updateFromHtml(A){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new d(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.ui.updateItems(A),this.render.reload(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(A){this.pages.show(A)}flipNext(A="top"){this.flipController.flipNext(A)}flipPrev(A="top"){this.flipController.flipPrev(A)}flip(A,v="top"){this.flipController.flipToPage(A,v)}updateState(A){this.trigger("changeState",this,A)}updatePageIndex(A){this.trigger("flip",this,A)}updateOrientation(A){this.ui.setOrientationStyle(A),this.update(),this.trigger("changeOrientation",this,A)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(A){return this.pages.getPage(A)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(A){this.mousePosition=A,this.isUserTouch=!0,this.isUserMove=!1}userMove(A,v){this.isUserTouch||v||!this.setting.showPageCorners?this.isUserTouch&&c.GetDistanceBetweenTwoPoint(this.mousePosition,A)>5&&(this.isUserMove=!0,this.flipController.fold(A)):this.flipController.showCorner(A)}userStop(A,v=!1){this.isUserTouch&&(this.isUserTouch=!1,v||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(A)))}},Object.defineProperty(e,"__esModule",{value:!0})})})($S,$S.exports);var T6=$S.exports;const k6=nt.forwardRef((n,t)=>{const e=O.useRef(null),i=O.useRef([]),s=O.useRef(),[r,a]=O.useState([]);O.useImperativeHandle(t,()=>({pageFlip:()=>s.current}));const c=O.useCallback(()=>{s.current&&s.current.clear()},[]),u=O.useCallback(()=>{const d=s.current;d&&(d.off("flip"),d.off("changeOrientation"),d.off("changeState"),d.off("init"),d.off("update"))},[]);return O.useEffect(()=>{if(i.current=[],n.children){const d=nt.Children.map(n.children,f=>nt.cloneElement(f,{ref:p=>{p&&i.current.push(p)}}));(!n.renderOnlyPageLengthChange||r.length!==d.length)&&(d.length<r.length&&c(),a(d))}},[n.children]),O.useEffect(()=>{const d=()=>{const f=s.current;f&&(n.onFlip&&f.on("flip",p=>n.onFlip(p)),n.onChangeOrientation&&f.on("changeOrientation",p=>n.onChangeOrientation(p)),n.onChangeState&&f.on("changeState",p=>n.onChangeState(p)),n.onInit&&f.on("init",p=>n.onInit(p)),n.onUpdate&&f.on("update",p=>n.onUpdate(p)))};r.length>0&&i.current.length>0&&(u(),e.current&&!s.current&&(s.current=new T6.PageFlip(e.current,n)),s.current.getFlipController()?s.current.updateFromHtml(i.current):s.current.loadFromHTML(i.current),d())},[r]),nt.createElement("div",{ref:e,className:n.className,style:n.style},r)}),L6=nt.memo(k6);Ns.workerSrc=new URL("/barkaas-website/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();const M6=()=>{const[n,t]=O.useState("food"),e={food:{title:"Food Menu",pdfUrl:"/food.pdf"},beverage:{title:"Beverage Menu",pdfUrl:"/drinks.pdf"}};console.log(e.food.pdfUrl);const i=({pdfUrl:s,title:r})=>{const[a,c]=O.useState(0),[u,d]=O.useState(1),f=({numPages:p})=>{c(p)};return R.jsxs("div",{className:"max-w-6xl mx-auto",children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-gradient-gold mb-2",children:r}),R.jsxs("p",{className:"text-muted-foreground",children:["Page ",u," of ",a]})]}),R.jsx("div",{className:"bg-amber-950rounded-3xl shadow-2xl overflow-hidden",children:R.jsx(v6,{file:s,onLoadSuccess:f,onLoadError:p=>console.error("PDF load error:",p),onSourceError:p=>console.error("PDF source error:",p),loading:R.jsx("div",{className:"h-[850px] flex items-center justify-center",children:R.jsx(Zx,{className:"w-14 h-14 animate-spin text-gold"})}),children:a>0&&R.jsx(L6,{style:{},startPage:0,usePortrait:!1,startZIndex:0,autoSize:!0,maxShadowOpacity:.5,showPageCorners:!1,disableFlipByClick:!1,clickEventForward:!0,swipeDistance:30,useMouseEvents:!0,width:250,height:450,size:"stretch",minWidth:380,maxWidth:850,minHeight:500,maxHeight:1100,showCover:!0,drawShadow:!0,flippingTime:900,mobileScrollSupport:!0,onFlip:p=>d(p.data+1),className:"mx-auto",children:Array.from({length:a},(p,m)=>R.jsx("div",{className:"flex items-center justify-center p-6 bg-secondary",children:R.jsx(C6,{pageNumber:m+1,width:520,renderAnnotationLayer:!1,renderTextLayer:!1})},m))})})})]})};return R.jsxs(Kv,{children:[R.jsx("section",{className:"py-20 bg-pattern-arabesque",children:R.jsxs("div",{className:"container mx-auto px-4 text-center",children:[R.jsx("p",{className:"text-gold tracking-[0.25em] uppercase mb-2",children:"Discover"}),R.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Our Menu"}),R.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Authentic Arabian dishes prepared with the finest ingredients"})]})}),R.jsx("section",{className:"py-20",children:R.jsxs("div",{className:"container mx-auto px-4",children:[R.jsxs("div",{className:"flex justify-center gap-6 mb-16",children:[R.jsxs(Rs,{variant:n==="food"?"gold":"outline",size:"xl",className:"px-12 py-6 text-lg font-heading rounded-full",onClick:()=>t("food"),children:[R.jsx(Zx,{className:"mr-3 h-6 w-6"}),"Food Menu"]}),R.jsxs(Rs,{variant:n==="beverage"?"gold":"outline",size:"xl",className:"px-12 py-6 text-lg font-heading rounded-full",onClick:()=>t("beverage"),children:[R.jsx(Zx,{className:"mr-3 h-6 w-6"}),"Beverages"]})]}),n==="food"&&R.jsx(i,{pdfUrl:e.food.pdfUrl,title:e.food.title}),n==="beverage"&&R.jsx(i,{pdfUrl:e.beverage.pdfUrl,title:e.beverage.title})]})})]})},Bh=O.forwardRef(({className:n,type:t,...e},i)=>R.jsx("input",{type:t,className:Zn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...e}));Bh.displayName="Input";var R6="Label",WI=O.forwardRef((n,t)=>R.jsx(di.label,{...n,ref:t,onMouseDown:e=>{var s;e.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));WI.displayName=R6;var VI=WI;const N6=WA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ro=O.forwardRef(({className:n,...t},e)=>R.jsx(VI,{ref:e,className:Zn(N6(),n),...t}));Ro.displayName=VI.displayName;const GI=O.forwardRef(({className:n,...t},e)=>R.jsx("textarea",{className:Zn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:e,...t}));GI.displayName="Textarea";const I6=["12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM","8:30 PM","9:00 PM","9:30 PM"],D6=[1,2,3,4,5,6,7,8],O6=()=>{const[n,t]=O.useState({name:"",email:"",phone:"",date:"",time:"",guests:"",occasion:"",notes:""}),e=s=>{s.preventDefault(),$3.success("Reservation request submitted! We'll confirm shortly."),t({name:"",email:"",phone:"",date:"",time:"",guests:"",occasion:"",notes:""})},i=s=>{t({...n,[s.target.name]:s.target.value})};return R.jsxs(Kv,{children:[R.jsx("section",{className:"py-20 bg-pattern-arabesque",children:R.jsxs("div",{className:"container mx-auto px-4 text-center",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Reservations"}),R.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Book a Table"}),R.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Reserve your spot for an unforgettable dining experience. We recommend booking in advance, especially for weekends and special occasions."})]})}),R.jsx("section",{className:"py-16",children:R.jsx("div",{className:"container mx-auto px-4",children:R.jsx("div",{className:"max-w-2xl mx-auto",children:R.jsxs("form",{onSubmit:e,className:"space-y-6",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsxs(Ro,{htmlFor:"name",className:"flex items-center gap-2 text-foreground",children:[R.jsx(r2,{size:16,className:"text-gold"}),"Full Name"]}),R.jsx(Bh,{id:"name",name:"name",value:n.name,onChange:i,placeholder:"Your name",required:!0,className:"bg-card border-border focus:border-gold"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs(Ro,{htmlFor:"email",className:"flex items-center gap-2 text-foreground",children:[R.jsx(i2,{size:16,className:"text-gold"}),"Email Address"]}),R.jsx(Bh,{id:"email",name:"email",type:"email",value:n.email,onChange:i,placeholder:"your@email.com",required:!0,className:"bg-card border-border focus:border-gold"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs(Ro,{htmlFor:"phone",className:"flex items-center gap-2 text-foreground",children:[R.jsx(s2,{size:16,className:"text-gold"}),"Phone Number"]}),R.jsx(Bh,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:i,placeholder:"+971 XX XXX XXXX",required:!0,className:"bg-card border-border focus:border-gold"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs(Ro,{htmlFor:"guests",className:"flex items-center gap-2 text-foreground",children:[R.jsx(Hj,{size:16,className:"text-gold"}),"Number of Guests"]}),R.jsxs("select",{id:"guests",name:"guests",value:n.guests,onChange:i,required:!0,className:"w-full h-10 px-3 rounded-md bg-card border border-border text-foreground focus:border-gold focus:outline-none focus:ring-1 focus:ring-gold",children:[R.jsx("option",{value:"",children:"Select guests"}),D6.map(s=>R.jsxs("option",{value:s,children:[s," ",s===1?"Guest":"Guests"]},s)),R.jsx("option",{value:"9+",children:"9+ Guests (Private Event)"})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs(Ro,{htmlFor:"date",className:"flex items-center gap-2 text-foreground",children:[R.jsx(Ij,{size:16,className:"text-gold"}),"Preferred Date"]}),R.jsx(Bh,{id:"date",name:"date",type:"date",value:n.date,onChange:i,required:!0,className:"bg-card border-border focus:border-gold"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs(Ro,{htmlFor:"time",className:"flex items-center gap-2 text-foreground",children:[R.jsx(n2,{size:16,className:"text-gold"}),"Preferred Time"]}),R.jsxs("select",{id:"time",name:"time",value:n.time,onChange:i,required:!0,className:"w-full h-10 px-3 rounded-md bg-card border border-border text-foreground focus:border-gold focus:outline-none focus:ring-1 focus:ring-gold",children:[R.jsx("option",{value:"",children:"Select time"}),I6.map(s=>R.jsx("option",{value:s,children:s},s))]})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(Ro,{htmlFor:"occasion",className:"text-foreground",children:"Special Occasion (Optional)"}),R.jsx(Bh,{id:"occasion",name:"occasion",value:n.occasion,onChange:i,placeholder:"Birthday, Anniversary, Business Dinner, etc.",className:"bg-card border-border focus:border-gold"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(Ro,{htmlFor:"notes",className:"text-foreground",children:"Special Requests (Optional)"}),R.jsx(GI,{id:"notes",name:"notes",value:n.notes,onChange:i,placeholder:"Dietary restrictions, seating preferences, etc.",rows:4,className:"bg-card border-border focus:border-gold resize-none"})]}),R.jsx(Rs,{type:"submit",variant:"gold",size:"xl",className:"w-full",children:"Request Reservation"}),R.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Our team will contact you to confirm your reservation within 24 hours."})]})})})})]})},F6="/barkaas-website/assets/about-1-dBGNP0r9.png",B6="/barkaas-website/assets/about-2-CZInUpjZ.png",qI="/barkaas-website/assets/SMP_4117-BZ8EGCPG.jpg",j6=Object.freeze(Object.defineProperty({__proto__:null,default:qI},Symbol.toStringTag,{value:"Module"})),ZI="/barkaas-website/assets/SMP_4249-BuvoWixN.jpg",z6=Object.freeze(Object.defineProperty({__proto__:null,default:ZI},Symbol.toStringTag,{value:"Module"})),XI="/barkaas-website/assets/SMP_4261-Cjn-q8z-.jpg",H6=Object.freeze(Object.defineProperty({__proto__:null,default:XI},Symbol.toStringTag,{value:"Module"})),YI="/barkaas-website/assets/SMP_3900-SpdZb0a8.jpg",U6=Object.freeze(Object.defineProperty({__proto__:null,default:YI},Symbol.toStringTag,{value:"Module"})),KI="/barkaas-website/assets/SMP_3896-DTKBDqCq.jpg",$6=Object.freeze(Object.defineProperty({__proto__:null,default:KI},Symbol.toStringTag,{value:"Module"})),QI="/barkaas-website/assets/SMP_4160-D11UN9Yi.jpg",W6=Object.freeze(Object.defineProperty({__proto__:null,default:QI},Symbol.toStringTag,{value:"Module"})),V6="/barkaas-website/assets/about-3-CDxEln_T.png",G6=()=>R.jsxs(Kv,{children:[R.jsx("section",{className:"bg-pattern-arabesque",children:R.jsx("div",{className:"container mx-auto px-4",children:R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[R.jsxs("div",{className:"text-center lg:text-left pt-16 animate-[fadeInUp_0.8s_ease-out]",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2 animate-[fadeIn_1s_ease-out_0.2s_both]",children:"India's Largest Indo-Arabic Chain"}),R.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4 animate-[fadeInUp_0.8s_ease-out_0.3s_both]",children:"Welcome to Barkaas"}),R.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto lg:mx-0 animate-[fadeInUp_0.8s_ease-out_0.5s_both]",children:"Spanning over 32 cities and continuously expanding, Barkaas is a prominent name in authentic Indo-Arabic cuisine, with vibrant establishments in key cities such as Bangalore, Hyderabad, Vishakhapatnam, Kolkata, and Lucknow. Our widespread presence across the nation highlights our dedication to delivering unparalleled culinary experiences, ensuring that every corner of India can savour the true essence of our exquisite flavors. With a secret recipe that is replicated across all restaurants, Barkaas is a legendary story waiting to be experienced."})]}),R.jsxs("div",{className:"relative group animate-[fadeInRight_1s_ease-out_0.4s_both]",children:[R.jsx("div",{className:"absolute inset-0 -z-10 group-hover:opacity-100 opacity-0 transition-all duration-500"}),R.jsx("img",{src:F6,alt:"Signature Barkaas Mandi Platter",className:"w-full object-cover transition-all duration-500 group-hover:scale-105"})]})]})})}),R.jsx("section",{className:"py-8",children:R.jsx("div",{className:"container mx-auto px-4",children:R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[R.jsx("div",{className:"relative overflow-hidden rounded-lg group animate-[fadeInLeft_0.8s_ease-out]",children:R.jsx("img",{src:B6,alt:"Barkaas Mandi Platter",className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"})}),R.jsxs("div",{className:"animate-[fadeInRight_0.8s_ease-out_0.2s_both]",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Our Heritage"}),R.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[R.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.4s_both]",children:"Get lost in the tingling aroma of our traditional Mandi as you enter a world of blended paradise. Immerse yourself in a dining experience where the rich legacies of Mughal and Afghani cultures converge to craft a truly memorable feast."}),R.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:'At Barkaas, our philosophy of "food that unites people" comes alive through an array of over 20 exquisite varieties of Mandi and Biryani. We invite you to gather with friends and family around our generous, flavorful platters, celebrating togetherness and creating lasting memories over each delectable bite. Spices dance in your palette as our deeply marinated meat and fish steal the show. A tall glass of our signature falooda and you are in food heaven.'})]})]})]})})}),R.jsx("section",{className:"py-16 bg-burgundy/20",children:R.jsxs("div",{className:"container mx-auto px-4",children:[R.jsxs("div",{className:"text-center mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"The Magic Behind the Masala"}),R.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto pt-4",children:"At Barkaas, we infuse each dish with our signature blend of freshly ground, in-house masalas, crafted daily to preserve peak freshness and deliver unparalleled flavor. Each recipe is a testament to our dedication, offering a unique and exceptional taste experience that sets every bite apart."})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[R.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.1s_both]",children:[R.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Mandi Masala"}),R.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Mandi rice preparation."})]}),R.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.2s_both]",children:[R.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Fahm Masala"}),R.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Al Fahm and Chicken Gravy."})]}),R.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.3s_both]",children:[R.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Mutton Masala"}),R.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Mutton Mandi and Mutton Raan."})]}),R.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.4s_both]",children:[R.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"BBQ Masala"}),R.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in the marination of all our charcoal-grilled products."})]})]})]})}),R.jsxs("section",{className:"py-20",children:[R.jsxs("div",{className:"container mx-auto px-4 max-w-6xl lg:max-w-5xl",children:[R.jsxs("div",{className:"text-center mb-16 animate-[fadeInUp_0.8s_ease-out]",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-4 inline-block px-6 py-3 bg-gold/10 rounded-full",children:"From Yemen to India"}),R.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-foreground",children:"Authentic Mandi"})]}),R.jsx("p",{className:"text-muted-foreground max-w-4xl mx-auto mb-20 text-center leading-relaxed text-lg px-8 animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:`The word "Mandi" comes from the Arabic word 'nada', meaning dew or dewy, referring to the moist texture of the meat. The origins of this authentic dish can be traced back to Yemen while being prevalent in most areas of the Arabian Peninsula and also in Egypt and other countries. Now trending in India, this dish is a magical blend of meat, rice and a range of brilliant spices. Moist meat, our secret recipe and a forgotten tale brought back to life  you are in for a timeless treat.`})]}),R.jsx("div",{className:"w-full mt-12",children:R.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-0 max-w-none w-full",children:[R.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.1s_both]",children:R.jsx("img",{src:qI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),R.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.15s_both]",children:R.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Murgh Mussalam Mandi"})}),R.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.2s_both]",children:R.jsx("img",{src:ZI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),R.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.25s_both]",children:R.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Mutton Madfoon Mandi"})}),R.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.3s_both]",children:R.jsx("img",{src:XI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),R.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.35s_both]",children:R.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Raan Mandi"})}),R.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.4s_both]",children:R.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Kheema Mandi"})}),R.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.45s_both]",children:R.jsx("img",{src:YI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),R.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.5s_both]",children:R.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Fahm Mandi"})}),R.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.55s_both]",children:R.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Patyala Mandi"})}),R.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-8 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.6s_both]",children:R.jsx("span",{className:"font-bold text-xl text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"BBQ Mandi"})}),R.jsx("div",{className:"group relative h-[180px] overflow-hidden border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.65s_both]",children:R.jsx("img",{src:KI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})})]})})]}),R.jsx("section",{className:"py-16 bg-secondary",children:R.jsx("div",{className:"container mx-auto px-4",children:R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[R.jsxs("div",{className:"animate-[fadeInLeft_0.8s_ease-out]",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Desserts & Faloodas"}),R.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[R.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.2s_both]",children:"Imagine the creaminess of an authentic falooda and the popping colours of the many textures and flavours that surround it. And now envision this rich decadent dessert but with even more exotic ingredients like tender coconut pudding, rabdi, kulfi, condensed milk, topped with the taste of tropic like like kiwi, dragon fruit, pomegranate and roasted almonds, cashews, and raisins."}),R.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:[R.jsx("strong",{children:"Kunafa:"})," Golden crisp shredded pastry embracing luscious creamy filling, drizzled with aromatic syrup and sprinkled with chopped nuts."]}),R.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.4s_both]",children:[R.jsx("strong",{children:"Kaddu ka Kheer:"})," Fragrant spiced pumpkin pudding simmered to perfection with rich milk, aromatic cardamom, and a hint of saffron."]}),R.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.5s_both]",children:[R.jsx("strong",{children:"Qubani ka Meetha:"})," Sumptuous slow-cooked apricot delight topped with slivers of nuts and a generous dollop of fresh cream."]}),R.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:[R.jsx("strong",{children:"Shahi Tukda:"})," Royal bread pudding fried golden, bathed in creamy saffron-cardamom milk sauce, garnished with nuts and raisins."]})]})]}),R.jsx("div",{className:"relative animate-[fadeInRight_0.8s_ease-out_0.3s_both]",children:R.jsx("img",{src:V6,alt:"Barkaas Falooda and Desserts",className:"w-full transition-transform duration-500 hover:scale-105"})})]})})}),R.jsx("section",{className:"py-16",children:R.jsx("div",{className:"container mx-auto px-4",children:R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[R.jsx("img",{src:QI,alt:"Barkaas Majlis-Style Dining",className:"rounded-lg shadow-2xl w-full transition-transform duration-500 hover:scale-105 animate-[fadeInLeft_0.8s_ease-out]"}),R.jsxs("div",{className:"animate-[fadeInRight_0.8s_ease-out_0.2s_both]",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Dining Experience"}),R.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[R.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:'Together we dine, embracing our ethos  "food that unites people." Inspired by the traditional Arab hospitality of private guest areas, our Majlis-style seating invites you to relax on low tables and cushions, offering a cosy and engaging dining experience. This style reflects the essence of Middle Eastern warmth and generosity, where every guest is treated with the utmost respect and kindness.'}),R.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.5s_both]",children:"Immerse yourself in our delectable cuisine while enjoying the comfort and camaraderie that come with sharing a meal in such a welcoming setting. Comfortable seating with a touch of the authenticity and cultural heritage of the Arabian Peninsula for an elegant and immersive fine dining experience. "})]})]})]})})}),R.jsx("section",{className:"py-16 bg-secondary",children:R.jsxs("div",{className:"container mx-auto px-4",children:[R.jsxs("div",{className:"text-center mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Since 2016"}),R.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Our Journey"})]}),R.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 text-muted-foreground leading-relaxed text-center",children:[R.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:"Founded in 2016 by visionaries Gowtham Kudapa, Sandeep Palavalasa, Nagarjuna Gannamani, and Vamsi Maddineni, our brand began its culinary journey in Vijayawada. Since launching our expansion phase in 2018, we have steadily grown into a leading name in the industry, driven by a commitment to excellence, authenticity, and innovation. Every milestone reflects our passion for delivering exceptional dining experiences that bring people together through food."}),R.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:'Today, we proudly operate 32 outlets across the country, serving over 20 million customers annually with an average rating of 4.3. Supported by a dedicated team of 1,000+ employees, our efforts were recognized when we were awarded "Promising Arabic Restaurant Chain of the Year 2022" by Franchise India, underscoring our continued pursuit of quality and innovation.'})]})]})}),R.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
      `})]}),q6="/barkaas-website/assets/_DSC1092-CtOFKgvi.jpg",Z6=Object.freeze(Object.defineProperty({__proto__:null,default:q6},Symbol.toStringTag,{value:"Module"})),X6="/barkaas-website/assets/_DSC1093-B8u0feR1.jpg",Y6=Object.freeze(Object.defineProperty({__proto__:null,default:X6},Symbol.toStringTag,{value:"Module"})),K6="/barkaas-website/assets/_RON1141-B7XrNPtp.jpg",Q6=Object.freeze(Object.defineProperty({__proto__:null,default:K6},Symbol.toStringTag,{value:"Module"})),J6="/barkaas-website/assets/_RON3045-q2HVkfUs.jpg",t$=Object.freeze(Object.defineProperty({__proto__:null,default:J6},Symbol.toStringTag,{value:"Module"})),e$="/barkaas-website/assets/_RON3066-DWx3TyPm.jpg",n$=Object.freeze(Object.defineProperty({__proto__:null,default:e$},Symbol.toStringTag,{value:"Module"})),i$="/barkaas-website/assets/010A1576-CUCh6MMK.jpg",s$=Object.freeze(Object.defineProperty({__proto__:null,default:i$},Symbol.toStringTag,{value:"Module"})),r$="/barkaas-website/assets/010A1647-CM-XTowj.jpg",o$=Object.freeze(Object.defineProperty({__proto__:null,default:r$},Symbol.toStringTag,{value:"Module"})),a$="/barkaas-website/assets/010A1682-DZZCnA6E.jpg",l$=Object.freeze(Object.defineProperty({__proto__:null,default:a$},Symbol.toStringTag,{value:"Module"})),c$="/barkaas-website/assets/010A1765-F_RIy2nR.jpg",u$=Object.freeze(Object.defineProperty({__proto__:null,default:c$},Symbol.toStringTag,{value:"Module"})),h$="/barkaas-website/assets/010A1828-DPlwkNIr.jpg",d$=Object.freeze(Object.defineProperty({__proto__:null,default:h$},Symbol.toStringTag,{value:"Module"})),f$="/barkaas-website/assets/010A1851-j-ISxG2w.jpg",p$=Object.freeze(Object.defineProperty({__proto__:null,default:f$},Symbol.toStringTag,{value:"Module"})),g$="/barkaas-website/assets/010A1858-BDs3N45j.jpg",m$=Object.freeze(Object.defineProperty({__proto__:null,default:g$},Symbol.toStringTag,{value:"Module"})),v$="/barkaas-website/assets/0X4A9932-CwoL-KWS.jpg",y$=Object.freeze(Object.defineProperty({__proto__:null,default:v$},Symbol.toStringTag,{value:"Module"})),_$="/barkaas-website/assets/SMP_3392-BQjB7QAh.jpg",w$=Object.freeze(Object.defineProperty({__proto__:null,default:_$},Symbol.toStringTag,{value:"Module"})),x$="/barkaas-website/assets/SMP_3530-B6a208ch.jpg",b$=Object.freeze(Object.defineProperty({__proto__:null,default:x$},Symbol.toStringTag,{value:"Module"})),S$="/barkaas-website/assets/SMP_3558-DXxpTQI4.jpg",A$=Object.freeze(Object.defineProperty({__proto__:null,default:S$},Symbol.toStringTag,{value:"Module"})),E$="/barkaas-website/assets/SMP_3613-CRBthWd3.jpg",P$=Object.freeze(Object.defineProperty({__proto__:null,default:E$},Symbol.toStringTag,{value:"Module"})),C$="/barkaas-website/assets/SMP_3658-5ERwtstd.jpg",T$=Object.freeze(Object.defineProperty({__proto__:null,default:C$},Symbol.toStringTag,{value:"Module"})),k$="/barkaas-website/assets/SMP_3687-BuRLGUmB.jpg",L$=Object.freeze(Object.defineProperty({__proto__:null,default:k$},Symbol.toStringTag,{value:"Module"})),M$="/barkaas-website/assets/SMP_3738-BvTC20PT.jpg",R$=Object.freeze(Object.defineProperty({__proto__:null,default:M$},Symbol.toStringTag,{value:"Module"})),N$="/barkaas-website/assets/SMP_3778-DWfPGxar.jpg",I$=Object.freeze(Object.defineProperty({__proto__:null,default:N$},Symbol.toStringTag,{value:"Module"})),D$="/barkaas-website/assets/SMP_3955-CDOJg2ZC.jpg",O$=Object.freeze(Object.defineProperty({__proto__:null,default:D$},Symbol.toStringTag,{value:"Module"})),F$="/barkaas-website/assets/SMP_3994-L5Jcau7w.jpg",B$=Object.freeze(Object.defineProperty({__proto__:null,default:F$},Symbol.toStringTag,{value:"Module"})),j$="/barkaas-website/assets/SMP_4008-D0ZmvMGC.jpg",z$=Object.freeze(Object.defineProperty({__proto__:null,default:j$},Symbol.toStringTag,{value:"Module"})),H$="/barkaas-website/assets/SMP_4021-CXgHDSQK.jpg",U$=Object.freeze(Object.defineProperty({__proto__:null,default:H$},Symbol.toStringTag,{value:"Module"})),$$="/barkaas-website/assets/SMP_4239-BPWyBff_.jpg",W$=Object.freeze(Object.defineProperty({__proto__:null,default:$$},Symbol.toStringTag,{value:"Module"})),V$="/barkaas-website/assets/SMP_4283-Ccdy2gjG.jpg",G$=Object.freeze(Object.defineProperty({__proto__:null,default:V$},Symbol.toStringTag,{value:"Module"})),q$="/barkaas-website/assets/SMP_4288-DM7TpGoM.jpg",Z$=Object.freeze(Object.defineProperty({__proto__:null,default:q$},Symbol.toStringTag,{value:"Module"})),X$=()=>{const[n,t]=O.useState("All"),[e,i]=O.useState(null),[s,r]=O.useState([]);O.useEffect(()=>{const u=Object.assign({"/src/assets/ambience/_DSC1092.jpg":Z6,"/src/assets/ambience/_DSC1093.jpg":Y6,"/src/assets/ambience/_DSC1109.jpg":FH,"/src/assets/ambience/_RON1141.jpg":Q6,"/src/assets/ambience/_RON3045.jpg":t$,"/src/assets/ambience/_RON3054.jpg":OH,"/src/assets/ambience/_RON3063.jpg":jH,"/src/assets/ambience/_RON3066.jpg":n$,"/src/assets/ambience/_RON3068.jpg":BH}),d=Object.assign({"/src/assets/food/010A1576.jpg":s$,"/src/assets/food/010A1647.jpg":o$,"/src/assets/food/010A1682.jpg":l$,"/src/assets/food/010A1765.jpg":u$,"/src/assets/food/010A1828.jpg":d$,"/src/assets/food/010A1851.jpg":p$,"/src/assets/food/010A1858.jpg":m$,"/src/assets/food/0X4A9932.jpg":y$,"/src/assets/food/SMP_3392.jpg":w$,"/src/assets/food/SMP_3530.jpg":b$,"/src/assets/food/SMP_3558.jpg":A$,"/src/assets/food/SMP_3613.jpg":P$,"/src/assets/food/SMP_3658.jpg":T$,"/src/assets/food/SMP_3687.jpg":L$,"/src/assets/food/SMP_3738.jpg":R$,"/src/assets/food/SMP_3778.jpg":I$,"/src/assets/food/SMP_3896.jpg":$6,"/src/assets/food/SMP_3900.jpg":U6,"/src/assets/food/SMP_3955.jpg":O$,"/src/assets/food/SMP_3994.jpg":B$,"/src/assets/food/SMP_4008.jpg":z$,"/src/assets/food/SMP_4021.jpg":U$,"/src/assets/food/SMP_4117.jpg":j6,"/src/assets/food/SMP_4160.jpg":W6,"/src/assets/food/SMP_4239.jpg":W$,"/src/assets/food/SMP_4249.jpg":z6,"/src/assets/food/SMP_4261.jpg":H6,"/src/assets/food/SMP_4283.jpg":G$,"/src/assets/food/SMP_4288.jpg":Z$}),f=Object.entries(u).map(([m,y],E)=>{var b;const w=((b=m.split("/").pop())==null?void 0:b.split(".")[0])||`ambience-${E}`,C=y.default;return{id:E+1,src:C,alt:`${w.charAt(0).toUpperCase()+w.slice(1)} - Restaurant Interior`,category:"Ambiance"}}),p=Object.entries(d).map(([m,y],E)=>{var b;const w=((b=m.split("/").pop())==null?void 0:b.split(".")[0])||`food-${E}`,C=y.default;return{id:f.length+E+1,src:C,alt:`${w.charAt(0).toUpperCase()+w.slice(1)} Dish`,category:"Food"}});r([...f,...p])},[]);const a=["All","Food","Ambiance"],c=n==="All"?s:s.filter(u=>u.category===n);return R.jsxs(Kv,{children:[R.jsx("section",{className:"py-20 bg-pattern-arabesque",children:R.jsxs("div",{className:"container mx-auto px-4 text-center",children:[R.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Visual Journey"}),R.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Our Gallery"}),R.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore the beauty of our restaurant, from our elegant interiors to our exquisite culinary creations."})]})}),R.jsx("section",{className:"py-2",children:R.jsxs("div",{className:"container mx-auto px-4",children:[R.jsx("div",{className:"flex justify-center gap-3 mb-12",children:a.map(u=>R.jsx("button",{onClick:()=>t(u),className:Zn("px-6 py-2 rounded-full text-sm font-medium transition-all duration-300",n===u?"bg-gold text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-gold/20 hover:text-foreground"),children:u},u))}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map((u,d)=>R.jsxs("div",{className:Zn("group relative overflow-hidden rounded-lg cursor-pointer",d===0&&"sm:col-span-2 sm:row-span-2"),onClick:()=>i(u),children:[R.jsx("img",{src:u.src,alt:u.alt,className:Zn("w-full object-cover transition-transform duration-500 group-hover:scale-110",d===0?"h-full min-h-[400px]":"aspect-square")}),R.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),R.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[R.jsx("p",{className:"text-foreground font-medium",children:u.alt}),R.jsx("p",{className:"text-gold text-sm",children:u.category})]})]},u.id))})]})}),e&&R.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 flex items-center justify-center p-4",onClick:()=>i(null),children:[R.jsx("button",{className:"absolute top-4 right-4 text-foreground hover:text-gold transition-colors",onClick:()=>i(null),"aria-label":"Close",children:R.jsx(VA,{size:32})}),R.jsx("img",{src:e.src,alt:e.alt,className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:u=>u.stopPropagation()})]})]})},Y$=()=>{const n=pp();return O.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),R.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),R.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),R.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},K$=new h5,Q$=()=>R.jsx(f5,{client:K$,children:R.jsxs(H4,{children:[R.jsx(S3,{}),R.jsx(nz,{}),R.jsx(uH,{children:R.jsxs(iH,{children:[R.jsx(Pc,{path:"/",element:R.jsx(YH,{})}),R.jsx(Pc,{path:"/menu",element:R.jsx(M6,{})}),R.jsx(Pc,{path:"/book",element:R.jsx(O6,{})}),R.jsx(Pc,{path:"/about",element:R.jsx(G6,{})}),R.jsx(Pc,{path:"/gallery",element:R.jsx(X$,{})}),R.jsx(Pc,{path:"*",element:R.jsx(Y$,{})})]})})]})});CM(document.getElementById("root")).render(R.jsx(Q$,{}));
