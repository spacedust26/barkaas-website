var sO=Object.defineProperty;var AC=n=>{throw TypeError(n)};var rO=(n,t,e)=>t in n?sO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var tt=(n,t,e)=>rO(n,typeof t!="symbol"?t+"":t,e),yb=(n,t,e)=>t.has(n)||AC("Cannot "+e);var l=(n,t,e)=>(yb(n,t,"read from private field"),e?e.call(n):t.get(n)),P=(n,t,e)=>t.has(n)?AC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),b=(n,t,e,i)=>(yb(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),k=(n,t,e)=>(yb(n,t,"access private method"),e);var Ie=(n,t,e,i)=>({set _(s){b(n,t,s,e)},get _(){return l(n,t,i)}});function oO(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var aO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dk={exports:{}},lw={},fk={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=Symbol.for("react.element"),lO=Symbol.for("react.portal"),cO=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),hO=Symbol.for("react.profiler"),dO=Symbol.for("react.provider"),fO=Symbol.for("react.context"),pO=Symbol.for("react.forward_ref"),mO=Symbol.for("react.suspense"),gO=Symbol.for("react.memo"),vO=Symbol.for("react.lazy"),EC=Symbol.iterator;function yO(n){return n===null||typeof n!="object"?null:(n=EC&&n[EC]||n["@@iterator"],typeof n=="function"?n:null)}var pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mk=Object.assign,gk={};function ap(n,t,e){this.props=n,this.context=t,this.refs=gk,this.updater=e||pk}ap.prototype.isReactComponent={};ap.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};ap.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vk(){}vk.prototype=ap.prototype;function $S(n,t,e){this.props=n,this.context=t,this.refs=gk,this.updater=e||pk}var WS=$S.prototype=new vk;WS.constructor=$S;mk(WS,ap.prototype);WS.isPureReactComponent=!0;var CC=Array.isArray,yk=Object.prototype.hasOwnProperty,VS={current:null},_k={key:!0,ref:!0,__self:!0,__source:!0};function wk(n,t,e){var i,s={},r=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(r=""+t.key),t)yk.call(t,i)&&!_k.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(c===1)s.children=e;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(n&&n.defaultProps)for(i in c=n.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:Hv,type:n,key:r,ref:a,props:s,_owner:VS.current}}function _O(n,t){return{$$typeof:Hv,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function GS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Hv}function wO(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var PC=/\/+/g;function _b(n,t){return typeof n=="object"&&n!==null&&n.key!=null?wO(""+n.key):t.toString(36)}function o_(n,t,e,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Hv:case lO:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+_b(a,0):i,CC(s)?(e="",n!=null&&(e=n.replace(PC,"$&/")+"/"),o_(s,t,e,"",function(d){return d})):s!=null&&(GS(s)&&(s=_O(s,e+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(PC,"$&/")+"/")+n)),t.push(s)),1;if(a=0,i=i===""?".":i+":",CC(n))for(var c=0;c<n.length;c++){r=n[c];var u=i+_b(r,c);a+=o_(r,t,e,u,s)}else if(u=yO(n),typeof u=="function")for(n=u.call(n),c=0;!(r=n.next()).done;)r=r.value,u=i+_b(r,c++),a+=o_(r,t,e,u,s);else if(r==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Py(n,t,e){if(n==null)return n;var i=[],s=0;return o_(n,i,"","",function(r){return t.call(e,r,s++)}),i}function bO(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var ui={current:null},a_={transition:null},xO={ReactCurrentDispatcher:ui,ReactCurrentBatchConfig:a_,ReactCurrentOwner:VS};function bk(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Py,forEach:function(n,t,e){Py(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Py(n,function(){t++}),t},toArray:function(n){return Py(n,function(t){return t})||[]},only:function(n){if(!GS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ot.Component=ap;Ot.Fragment=cO;Ot.Profiler=hO;Ot.PureComponent=$S;Ot.StrictMode=uO;Ot.Suspense=mO;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xO;Ot.act=bk;Ot.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=mk({},n.props),s=n.key,r=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,a=VS.current),t.key!==void 0&&(s=""+t.key),n.type&&n.type.defaultProps)var c=n.type.defaultProps;for(u in t)yk.call(t,u)&&!_k.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=e;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:Hv,type:n.type,key:s,ref:r,props:i,_owner:a}};Ot.createContext=function(n){return n={$$typeof:fO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dO,_context:n},n.Consumer=n};Ot.createElement=wk;Ot.createFactory=function(n){var t=wk.bind(null,n);return t.type=n,t};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(n){return{$$typeof:pO,render:n}};Ot.isValidElement=GS;Ot.lazy=function(n){return{$$typeof:vO,_payload:{_status:-1,_result:n},_init:bO}};Ot.memo=function(n,t){return{$$typeof:gO,type:n,compare:t===void 0?null:t}};Ot.startTransition=function(n){var t=a_.transition;a_.transition={};try{n()}finally{a_.transition=t}};Ot.unstable_act=bk;Ot.useCallback=function(n,t){return ui.current.useCallback(n,t)};Ot.useContext=function(n){return ui.current.useContext(n)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(n){return ui.current.useDeferredValue(n)};Ot.useEffect=function(n,t){return ui.current.useEffect(n,t)};Ot.useId=function(){return ui.current.useId()};Ot.useImperativeHandle=function(n,t,e){return ui.current.useImperativeHandle(n,t,e)};Ot.useInsertionEffect=function(n,t){return ui.current.useInsertionEffect(n,t)};Ot.useLayoutEffect=function(n,t){return ui.current.useLayoutEffect(n,t)};Ot.useMemo=function(n,t){return ui.current.useMemo(n,t)};Ot.useReducer=function(n,t,e){return ui.current.useReducer(n,t,e)};Ot.useRef=function(n){return ui.current.useRef(n)};Ot.useState=function(n){return ui.current.useState(n)};Ot.useSyncExternalStore=function(n,t,e){return ui.current.useSyncExternalStore(n,t,e)};Ot.useTransition=function(){return ui.current.useTransition()};Ot.version="18.3.1";fk.exports=Ot;var I=fk.exports;const st=HS(I),xk=oO({__proto__:null,default:st},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO=I,AO=Symbol.for("react.element"),EO=Symbol.for("react.fragment"),CO=Object.prototype.hasOwnProperty,PO=SO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TO={key:!0,ref:!0,__self:!0,__source:!0};function Sk(n,t,e){var i,s={},r=null,a=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)CO.call(t,i)&&!TO.hasOwnProperty(i)&&(s[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:AO,type:n,key:r,ref:a,props:s,_owner:PO.current}}lw.Fragment=EO;lw.jsx=Sk;lw.jsxs=Sk;dk.exports=lw;var T=dk.exports,Ak={exports:{}},cs={},Ek={exports:{}},Ck={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(j,Z){var X=j.length;j.push(Z);t:for(;0<X;){var rt=X-1>>>1,Q=j[rt];if(0<s(Q,Z))j[rt]=Z,j[X]=Q,X=rt;else break t}}function e(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Z=j[0],X=j.pop();if(X!==Z){j[0]=X;t:for(var rt=0,Q=j.length,it=Q>>>1;rt<it;){var at=2*(rt+1)-1,ut=j[at],dt=at+1,ct=j[dt];if(0>s(ut,X))dt<Q&&0>s(ct,ut)?(j[rt]=ct,j[dt]=X,rt=dt):(j[rt]=ut,j[at]=X,rt=at);else if(dt<Q&&0>s(ct,X))j[rt]=ct,j[dt]=X,rt=dt;else break t}}return Z}function s(j,Z){var X=j.sortIndex-Z.sortIndex;return X!==0?X:j.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,p=null,g=3,v=!1,x=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var Z=e(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=j)i(d),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=e(d)}}function M(j){if(_=!1,E(j),!x)if(e(u)!==null)x=!0,q(N);else{var Z=e(d);Z!==null&&Y(M,Z.startTime-j)}}function N(j,Z){x=!1,_&&(_=!1,w(B),B=-1),v=!0;var X=g;try{for(E(Z),p=e(u);p!==null&&(!(p.expirationTime>Z)||j&&!W());){var rt=p.callback;if(typeof rt=="function"){p.callback=null,g=p.priorityLevel;var Q=rt(p.expirationTime<=Z);Z=n.unstable_now(),typeof Q=="function"?p.callback=Q:p===e(u)&&i(u),E(Z)}else i(u);p=e(u)}if(p!==null)var it=!0;else{var at=e(d);at!==null&&Y(M,at.startTime-Z),it=!1}return it}finally{p=null,g=X,v=!1}}var D=!1,O=null,B=-1,z=5,H=-1;function W(){return!(n.unstable_now()-H<z)}function V(){if(O!==null){var j=n.unstable_now();H=j;var Z=!0;try{Z=O(!0,j)}finally{Z?J():(D=!1,O=null)}}else D=!1}var J;if(typeof S=="function")J=function(){S(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,et=U.port2;U.port1.onmessage=V,J=function(){et.postMessage(null)}}else J=function(){A(V,0)};function q(j){O=j,D||(D=!0,J())}function Y(j,Z){B=A(function(){j(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,q(N))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return e(u)},n.unstable_next=function(j){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var X=g;g=Z;try{return j()}finally{g=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=g;g=j;try{return Z()}finally{g=X}},n.unstable_scheduleCallback=function(j,Z,X){var rt=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?rt+X:rt):X=rt,j){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,j={id:f++,callback:Z,priorityLevel:j,startTime:X,expirationTime:Q,sortIndex:-1},X>rt?(j.sortIndex=X,t(d,j),e(u)===null&&j===e(d)&&(_?(w(B),B=-1):_=!0,Y(M,X-rt))):(j.sortIndex=Q,t(u,j),x||v||(x=!0,q(N))),j},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(j){var Z=g;return function(){var X=g;g=Z;try{return j.apply(this,arguments)}finally{g=X}}}})(Ck);Ek.exports=Ck;var kO=Ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO=I,as=kO;function nt(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pk=new Set,km={};function uh(n,t){Xf(n,t),Xf(n+"Capture",t)}function Xf(n,t){for(km[n]=t,n=0;n<t.length;n++)Pk.add(t[n])}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ax=Object.prototype.hasOwnProperty,MO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TC={},kC={};function RO(n){return ax.call(kC,n)?!0:ax.call(TC,n)?!1:MO.test(n)?kC[n]=!0:(TC[n]=!0,!1)}function NO(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function IO(n,t,e,i){if(t===null||typeof t>"u"||NO(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hi(n,t,e,i,s,r,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Nn[n]=new hi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Nn[t]=new hi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Nn[n]=new hi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Nn[n]=new hi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Nn[n]=new hi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Nn[n]=new hi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Nn[n]=new hi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Nn[n]=new hi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Nn[n]=new hi(n,5,!1,n.toLowerCase(),null,!1,!1)});var qS=/[\-:]([a-z])/g;function ZS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(qS,ZS);Nn[t]=new hi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(qS,ZS);Nn[t]=new hi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(qS,ZS);Nn[t]=new hi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Nn[n]=new hi(n,1,!1,n.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Nn[n]=new hi(n,1,!1,n.toLowerCase(),null,!0,!0)});function XS(n,t,e,i){var s=Nn.hasOwnProperty(t)?Nn[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IO(t,e,s,i)&&(e=null),i||s===null?RO(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):s.mustUseProperty?n[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,i=s.attributeNamespace,e===null?n.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var Na=LO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ty=Symbol.for("react.element"),zh=Symbol.for("react.portal"),Uh=Symbol.for("react.fragment"),YS=Symbol.for("react.strict_mode"),lx=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),kk=Symbol.for("react.context"),KS=Symbol.for("react.forward_ref"),cx=Symbol.for("react.suspense"),ux=Symbol.for("react.suspense_list"),QS=Symbol.for("react.memo"),$a=Symbol.for("react.lazy"),Lk=Symbol.for("react.offscreen"),LC=Symbol.iterator;function Np(n){return n===null||typeof n!="object"?null:(n=LC&&n[LC]||n["@@iterator"],typeof n=="function"?n:null)}var Me=Object.assign,wb;function qp(n){if(wb===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);wb=t&&t[1]||""}return`
`+wb+n}var bb=!1;function xb(n,t){if(!n||bb)return"";bb=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(n,[],t)}else{try{t.call()}catch(d){i=d}n.call(t.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),r=i.stack.split(`
`),a=s.length-1,c=r.length-1;1<=a&&0<=c&&s[a]!==r[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==r[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==r[c]){var u=`
`+s[a].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=a&&0<=c);break}}}finally{bb=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?qp(n):""}function DO(n){switch(n.tag){case 5:return qp(n.type);case 16:return qp("Lazy");case 13:return qp("Suspense");case 19:return qp("SuspenseList");case 0:case 2:case 15:return n=xb(n.type,!1),n;case 11:return n=xb(n.type.render,!1),n;case 1:return n=xb(n.type,!0),n;default:return""}}function hx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Uh:return"Fragment";case zh:return"Portal";case lx:return"Profiler";case YS:return"StrictMode";case cx:return"Suspense";case ux:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kk:return(n.displayName||"Context")+".Consumer";case Tk:return(n._context.displayName||"Context")+".Provider";case KS:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case QS:return t=n.displayName||null,t!==null?t:hx(n.type)||"Memo";case $a:t=n._payload,n=n._init;try{return hx(n(t))}catch{}}return null}function OO(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hx(t);case 8:return t===YS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mk(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FO(n){var t=Mk(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,r=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function ky(n){n._valueTracker||(n._valueTracker=FO(n))}function Rk(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=Mk(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function J_(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function dx(n,t){var e=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function MC(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=sc(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nk(n,t){t=t.checked,t!=null&&XS(n,"checked",t,!1)}function fx(n,t){Nk(n,t);var e=sc(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?px(n,t.type,e):t.hasOwnProperty("defaultValue")&&px(n,t.type,sc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function RC(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function px(n,t,e){(t!=="number"||J_(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Zp=Array.isArray;function id(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+sc(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function mx(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function NC(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(nt(92));if(Zp(e)){if(1<e.length)throw Error(nt(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:sc(e)}}function Ik(n,t){var e=sc(t.value),i=sc(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function IC(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function Dk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gx(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?Dk(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ly,Ok=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,s)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Ly=Ly||document.createElement("div"),Ly.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ly.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Lm(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var ym={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BO=["Webkit","ms","Moz","O"];Object.keys(ym).forEach(function(n){BO.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),ym[t]=ym[n]})});function Fk(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||ym.hasOwnProperty(n)&&ym[n]?(""+t).trim():t+"px"}function Bk(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,s=Fk(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,s):n[e]=s}}var jO=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vx(n,t){if(t){if(jO[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nt(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nt(62))}}function yx(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _x=null;function JS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wx=null,sd=null,rd=null;function DC(n){if(n=Vv(n)){if(typeof wx!="function")throw Error(nt(280));var t=n.stateNode;t&&(t=fw(t),wx(n.stateNode,n.type,t))}}function jk(n){sd?rd?rd.push(n):rd=[n]:sd=n}function zk(){if(sd){var n=sd,t=rd;if(rd=sd=null,DC(n),t)for(n=0;n<t.length;n++)DC(t[n])}}function Uk(n,t){return n(t)}function Hk(){}var Sb=!1;function $k(n,t,e){if(Sb)return n(t,e);Sb=!0;try{return Uk(n,t,e)}finally{Sb=!1,(sd!==null||rd!==null)&&(Hk(),zk())}}function Mm(n,t){var e=n.stateNode;if(e===null)return null;var i=fw(e);if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(nt(231,t,typeof e));return e}var bx=!1;if(Sa)try{var Ip={};Object.defineProperty(Ip,"passive",{get:function(){bx=!0}}),window.addEventListener("test",Ip,Ip),window.removeEventListener("test",Ip,Ip)}catch{bx=!1}function zO(n,t,e,i,s,r,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(e,d)}catch(f){this.onError(f)}}var _m=!1,t0=null,e0=!1,xx=null,UO={onError:function(n){_m=!0,t0=n}};function HO(n,t,e,i,s,r,a,c,u){_m=!1,t0=null,zO.apply(UO,arguments)}function $O(n,t,e,i,s,r,a,c,u){if(HO.apply(this,arguments),_m){if(_m){var d=t0;_m=!1,t0=null}else throw Error(nt(198));e0||(e0=!0,xx=d)}}function hh(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function Wk(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function OC(n){if(hh(n)!==n)throw Error(nt(188))}function WO(n){var t=n.alternate;if(!t){if(t=hh(n),t===null)throw Error(nt(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===e)return OC(s),n;if(r===i)return OC(s),t;r=r.sibling}throw Error(nt(188))}if(e.return!==i.return)e=s,i=r;else{for(var a=!1,c=s.child;c;){if(c===e){a=!0,e=s,i=r;break}if(c===i){a=!0,i=s,e=r;break}c=c.sibling}if(!a){for(c=r.child;c;){if(c===e){a=!0,e=r,i=s;break}if(c===i){a=!0,i=r,e=s;break}c=c.sibling}if(!a)throw Error(nt(189))}}if(e.alternate!==i)throw Error(nt(190))}if(e.tag!==3)throw Error(nt(188));return e.stateNode.current===e?n:t}function Vk(n){return n=WO(n),n!==null?Gk(n):null}function Gk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=Gk(n);if(t!==null)return t;n=n.sibling}return null}var qk=as.unstable_scheduleCallback,FC=as.unstable_cancelCallback,VO=as.unstable_shouldYield,GO=as.unstable_requestPaint,qe=as.unstable_now,qO=as.unstable_getCurrentPriorityLevel,tA=as.unstable_ImmediatePriority,Zk=as.unstable_UserBlockingPriority,n0=as.unstable_NormalPriority,ZO=as.unstable_LowPriority,Xk=as.unstable_IdlePriority,cw=null,mo=null;function XO(n){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(cw,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:QO,YO=Math.log,KO=Math.LN2;function QO(n){return n>>>=0,n===0?32:31-(YO(n)/KO|0)|0}var My=64,Ry=4194304;function Xp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function i0(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,a=e&268435455;if(a!==0){var c=a&~s;c!==0?i=Xp(c):(r&=a,r!==0&&(i=Xp(r)))}else a=e&~s,a!==0?i=Xp(a):r!==0&&(i=Xp(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-pr(t),s=1<<e,i|=n[e],t&=~s;return i}function JO(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tF(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-pr(r),c=1<<a,u=s[a];u===-1?(!(c&e)||c&i)&&(s[a]=JO(c,t)):u<=t&&(n.expiredLanes|=c),r&=~c}}function Sx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yk(){var n=My;return My<<=1,!(My&4194240)&&(My=64),n}function Ab(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function $v(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-pr(t),n[t]=e}function eF(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var s=31-pr(e),r=1<<s;t[s]=0,i[s]=-1,n[s]=-1,e&=~r}}function eA(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-pr(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}var Yt=0;function Kk(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Qk,nA,Jk,tL,eL,Ax=!1,Ny=[],Xl=null,Yl=null,Kl=null,Rm=new Map,Nm=new Map,Va=[],nF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BC(n,t){switch(n){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":Rm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nm.delete(t.pointerId)}}function Dp(n,t,e,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Vv(t),t!==null&&nA(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function iF(n,t,e,i,s){switch(t){case"focusin":return Xl=Dp(Xl,n,t,e,i,s),!0;case"dragenter":return Yl=Dp(Yl,n,t,e,i,s),!0;case"mouseover":return Kl=Dp(Kl,n,t,e,i,s),!0;case"pointerover":var r=s.pointerId;return Rm.set(r,Dp(Rm.get(r)||null,n,t,e,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Nm.set(r,Dp(Nm.get(r)||null,n,t,e,i,s)),!0}return!1}function nL(n){var t=Nc(n.target);if(t!==null){var e=hh(t);if(e!==null){if(t=e.tag,t===13){if(t=Wk(e),t!==null){n.blockedOn=t,eL(n.priority,function(){Jk(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function l_(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Ex(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);_x=i,e.target.dispatchEvent(i),_x=null}else return t=Vv(e),t!==null&&nA(t),n.blockedOn=e,!1;t.shift()}return!0}function jC(n,t,e){l_(n)&&e.delete(t)}function sF(){Ax=!1,Xl!==null&&l_(Xl)&&(Xl=null),Yl!==null&&l_(Yl)&&(Yl=null),Kl!==null&&l_(Kl)&&(Kl=null),Rm.forEach(jC),Nm.forEach(jC)}function Op(n,t){n.blockedOn===t&&(n.blockedOn=null,Ax||(Ax=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,sF)))}function Im(n){function t(s){return Op(s,n)}if(0<Ny.length){Op(Ny[0],n);for(var e=1;e<Ny.length;e++){var i=Ny[e];i.blockedOn===n&&(i.blockedOn=null)}}for(Xl!==null&&Op(Xl,n),Yl!==null&&Op(Yl,n),Kl!==null&&Op(Kl,n),Rm.forEach(t),Nm.forEach(t),e=0;e<Va.length;e++)i=Va[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<Va.length&&(e=Va[0],e.blockedOn===null);)nL(e),e.blockedOn===null&&Va.shift()}var od=Na.ReactCurrentBatchConfig,s0=!0;function rF(n,t,e,i){var s=Yt,r=od.transition;od.transition=null;try{Yt=1,iA(n,t,e,i)}finally{Yt=s,od.transition=r}}function oF(n,t,e,i){var s=Yt,r=od.transition;od.transition=null;try{Yt=4,iA(n,t,e,i)}finally{Yt=s,od.transition=r}}function iA(n,t,e,i){if(s0){var s=Ex(n,t,e,i);if(s===null)Ib(n,t,i,r0,e),BC(n,i);else if(iF(s,n,t,e,i))i.stopPropagation();else if(BC(n,i),t&4&&-1<nF.indexOf(n)){for(;s!==null;){var r=Vv(s);if(r!==null&&Qk(r),r=Ex(n,t,e,i),r===null&&Ib(n,t,i,r0,e),r===s)break;s=r}s!==null&&i.stopPropagation()}else Ib(n,t,i,null,e)}}var r0=null;function Ex(n,t,e,i){if(r0=null,n=JS(i),n=Nc(n),n!==null)if(t=hh(n),t===null)n=null;else if(e=t.tag,e===13){if(n=Wk(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return r0=n,null}function iL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qO()){case tA:return 1;case Zk:return 4;case n0:case ZO:return 16;case Xk:return 536870912;default:return 16}default:return 16}}var Gl=null,sA=null,c_=null;function sL(){if(c_)return c_;var n,t=sA,e=t.length,i,s="value"in Gl?Gl.value:Gl.textContent,r=s.length;for(n=0;n<e&&t[n]===s[n];n++);var a=e-n;for(i=1;i<=a&&t[e-i]===s[r-i];i++);return c_=s.slice(n,1<i?1-i:void 0)}function u_(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Iy(){return!0}function zC(){return!1}function us(n){function t(e,i,s,r,a){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var c in n)n.hasOwnProperty(c)&&(e=n[c],this[c]=e?e(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Iy:zC,this.isPropagationStopped=zC,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Iy)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Iy)},persist:function(){},isPersistent:Iy}),t}var lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rA=us(lp),Wv=Me({},lp,{view:0,detail:0}),aF=us(Wv),Eb,Cb,Fp,uw=Me({},Wv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fp&&(Fp&&n.type==="mousemove"?(Eb=n.screenX-Fp.screenX,Cb=n.screenY-Fp.screenY):Cb=Eb=0,Fp=n),Eb)},movementY:function(n){return"movementY"in n?n.movementY:Cb}}),UC=us(uw),lF=Me({},uw,{dataTransfer:0}),cF=us(lF),uF=Me({},Wv,{relatedTarget:0}),Pb=us(uF),hF=Me({},lp,{animationName:0,elapsedTime:0,pseudoElement:0}),dF=us(hF),fF=Me({},lp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pF=us(fF),mF=Me({},lp,{data:0}),HC=us(mF),gF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _F(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=yF[n])?!!t[n]:!1}function oA(){return _F}var wF=Me({},Wv,{key:function(n){if(n.key){var t=gF[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=u_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vF[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oA,charCode:function(n){return n.type==="keypress"?u_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?u_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bF=us(wF),xF=Me({},uw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$C=us(xF),SF=Me({},Wv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oA}),AF=us(SF),EF=Me({},lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),CF=us(EF),PF=Me({},uw,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),TF=us(PF),kF=[9,13,27,32],aA=Sa&&"CompositionEvent"in window,wm=null;Sa&&"documentMode"in document&&(wm=document.documentMode);var LF=Sa&&"TextEvent"in window&&!wm,rL=Sa&&(!aA||wm&&8<wm&&11>=wm),WC=" ",VC=!1;function oL(n,t){switch(n){case"keyup":return kF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hh=!1;function MF(n,t){switch(n){case"compositionend":return aL(t);case"keypress":return t.which!==32?null:(VC=!0,WC);case"textInput":return n=t.data,n===WC&&VC?null:n;default:return null}}function RF(n,t){if(Hh)return n==="compositionend"||!aA&&oL(n,t)?(n=sL(),c_=sA=Gl=null,Hh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rL&&t.locale!=="ko"?null:t.data;default:return null}}var NF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GC(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!NF[n.type]:t==="textarea"}function lL(n,t,e,i){jk(i),t=o0(t,"onChange"),0<t.length&&(e=new rA("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var bm=null,Dm=null;function IF(n){_L(n,0)}function hw(n){var t=Vh(n);if(Rk(t))return n}function DF(n,t){if(n==="change")return t}var cL=!1;if(Sa){var Tb;if(Sa){var kb="oninput"in document;if(!kb){var qC=document.createElement("div");qC.setAttribute("oninput","return;"),kb=typeof qC.oninput=="function"}Tb=kb}else Tb=!1;cL=Tb&&(!document.documentMode||9<document.documentMode)}function ZC(){bm&&(bm.detachEvent("onpropertychange",uL),Dm=bm=null)}function uL(n){if(n.propertyName==="value"&&hw(Dm)){var t=[];lL(t,Dm,n,JS(n)),$k(IF,t)}}function OF(n,t,e){n==="focusin"?(ZC(),bm=t,Dm=e,bm.attachEvent("onpropertychange",uL)):n==="focusout"&&ZC()}function FF(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hw(Dm)}function BF(n,t){if(n==="click")return hw(t)}function jF(n,t){if(n==="input"||n==="change")return hw(t)}function zF(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var gr=typeof Object.is=="function"?Object.is:zF;function Om(n,t){if(gr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!ax.call(t,s)||!gr(n[s],t[s]))return!1}return!0}function XC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function YC(n,t){var e=XC(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=XC(e)}}function hL(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?hL(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function dL(){for(var n=window,t=J_();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=J_(n.document)}return t}function lA(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function UF(n){var t=dL(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&hL(e.ownerDocument.documentElement,e)){if(i!==null&&lA(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var s=e.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=YC(e,r);var a=YC(e,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var HF=Sa&&"documentMode"in document&&11>=document.documentMode,$h=null,Cx=null,xm=null,Px=!1;function KC(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Px||$h==null||$h!==J_(i)||(i=$h,"selectionStart"in i&&lA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),xm&&Om(xm,i)||(xm=i,i=o0(Cx,"onSelect"),0<i.length&&(t=new rA("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=$h)))}function Dy(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Wh={animationend:Dy("Animation","AnimationEnd"),animationiteration:Dy("Animation","AnimationIteration"),animationstart:Dy("Animation","AnimationStart"),transitionend:Dy("Transition","TransitionEnd")},Lb={},fL={};Sa&&(fL=document.createElement("div").style,"AnimationEvent"in window||(delete Wh.animationend.animation,delete Wh.animationiteration.animation,delete Wh.animationstart.animation),"TransitionEvent"in window||delete Wh.transitionend.transition);function dw(n){if(Lb[n])return Lb[n];if(!Wh[n])return n;var t=Wh[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in fL)return Lb[n]=t[e];return n}var pL=dw("animationend"),mL=dw("animationiteration"),gL=dw("animationstart"),vL=dw("transitionend"),yL=new Map,QC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(n,t){yL.set(n,t),uh(t,[n])}for(var Mb=0;Mb<QC.length;Mb++){var Rb=QC[Mb],$F=Rb.toLowerCase(),WF=Rb[0].toUpperCase()+Rb.slice(1);pc($F,"on"+WF)}pc(pL,"onAnimationEnd");pc(mL,"onAnimationIteration");pc(gL,"onAnimationStart");pc("dblclick","onDoubleClick");pc("focusin","onFocus");pc("focusout","onBlur");pc(vL,"onTransitionEnd");Xf("onMouseEnter",["mouseout","mouseover"]);Xf("onMouseLeave",["mouseout","mouseover"]);Xf("onPointerEnter",["pointerout","pointerover"]);Xf("onPointerLeave",["pointerout","pointerover"]);uh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uh("onBeforeInput",["compositionend","keypress","textInput","paste"]);uh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yp));function JC(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,$O(i,t,void 0,n),n.currentTarget=null}function _L(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var c=i[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==r&&s.isPropagationStopped())break t;JC(s,c,d),r=u}else for(a=0;a<i.length;a++){if(c=i[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==r&&s.isPropagationStopped())break t;JC(s,c,d),r=u}}}if(e0)throw n=xx,e0=!1,xx=null,n}function ve(n,t){var e=t[Rx];e===void 0&&(e=t[Rx]=new Set);var i=n+"__bubble";e.has(i)||(wL(t,n,2,!1),e.add(i))}function Nb(n,t,e){var i=0;t&&(i|=4),wL(e,n,i,t)}var Oy="_reactListening"+Math.random().toString(36).slice(2);function Fm(n){if(!n[Oy]){n[Oy]=!0,Pk.forEach(function(e){e!=="selectionchange"&&(VF.has(e)||Nb(e,!1,n),Nb(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Oy]||(t[Oy]=!0,Nb("selectionchange",!1,t))}}function wL(n,t,e,i){switch(iL(t)){case 1:var s=rF;break;case 4:s=oF;break;default:s=iA}e=s.bind(null,t,e,n),s=void 0,!bx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function Ib(n,t,e,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Nc(c),a===null)return;if(u=a.tag,u===5||u===6){i=r=a;continue t}c=c.parentNode}}i=i.return}$k(function(){var d=r,f=JS(e),p=[];t:{var g=yL.get(n);if(g!==void 0){var v=rA,x=n;switch(n){case"keypress":if(u_(e)===0)break t;case"keydown":case"keyup":v=bF;break;case"focusin":x="focus",v=Pb;break;case"focusout":x="blur",v=Pb;break;case"beforeblur":case"afterblur":v=Pb;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=UC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=AF;break;case pL:case mL:case gL:v=dF;break;case vL:v=CF;break;case"scroll":v=aF;break;case"wheel":v=TF;break;case"copy":case"cut":case"paste":v=pF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$C}var _=(t&4)!==0,A=!_&&n==="scroll",w=_?g!==null?g+"Capture":null:g;_=[];for(var S=d,E;S!==null;){E=S;var M=E.stateNode;if(E.tag===5&&M!==null&&(E=M,w!==null&&(M=Mm(S,w),M!=null&&_.push(Bm(S,M,E)))),A)break;S=S.return}0<_.length&&(g=new v(g,x,null,e,f),p.push({event:g,listeners:_}))}}if(!(t&7)){t:{if(g=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",g&&e!==_x&&(x=e.relatedTarget||e.fromElement)&&(Nc(x)||x[Aa]))break t;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=e.relatedTarget||e.toElement,v=d,x=x?Nc(x):null,x!==null&&(A=hh(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(_=UC,M="onMouseLeave",w="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(_=$C,M="onPointerLeave",w="onPointerEnter",S="pointer"),A=v==null?g:Vh(v),E=x==null?g:Vh(x),g=new _(M,S+"leave",v,e,f),g.target=A,g.relatedTarget=E,M=null,Nc(f)===d&&(_=new _(w,S+"enter",x,e,f),_.target=E,_.relatedTarget=A,M=_),A=M,v&&x)e:{for(_=v,w=x,S=0,E=_;E;E=kh(E))S++;for(E=0,M=w;M;M=kh(M))E++;for(;0<S-E;)_=kh(_),S--;for(;0<E-S;)w=kh(w),E--;for(;S--;){if(_===w||w!==null&&_===w.alternate)break e;_=kh(_),w=kh(w)}_=null}else _=null;v!==null&&tP(p,g,v,_,!1),x!==null&&A!==null&&tP(p,A,x,_,!0)}}t:{if(g=d?Vh(d):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var N=DF;else if(GC(g))if(cL)N=jF;else{N=FF;var D=OF}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=BF);if(N&&(N=N(n,d))){lL(p,N,e,f);break t}D&&D(n,g,d),n==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&px(g,"number",g.value)}switch(D=d?Vh(d):window,n){case"focusin":(GC(D)||D.contentEditable==="true")&&($h=D,Cx=d,xm=null);break;case"focusout":xm=Cx=$h=null;break;case"mousedown":Px=!0;break;case"contextmenu":case"mouseup":case"dragend":Px=!1,KC(p,e,f);break;case"selectionchange":if(HF)break;case"keydown":case"keyup":KC(p,e,f)}var O;if(aA)t:{switch(n){case"compositionstart":var B="onCompositionStart";break t;case"compositionend":B="onCompositionEnd";break t;case"compositionupdate":B="onCompositionUpdate";break t}B=void 0}else Hh?oL(n,e)&&(B="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(B="onCompositionStart");B&&(rL&&e.locale!=="ko"&&(Hh||B!=="onCompositionStart"?B==="onCompositionEnd"&&Hh&&(O=sL()):(Gl=f,sA="value"in Gl?Gl.value:Gl.textContent,Hh=!0)),D=o0(d,B),0<D.length&&(B=new HC(B,n,null,e,f),p.push({event:B,listeners:D}),O?B.data=O:(O=aL(e),O!==null&&(B.data=O)))),(O=LF?MF(n,e):RF(n,e))&&(d=o0(d,"onBeforeInput"),0<d.length&&(f=new HC("onBeforeInput","beforeinput",null,e,f),p.push({event:f,listeners:d}),f.data=O))}_L(p,t)})}function Bm(n,t,e){return{instance:n,listener:t,currentTarget:e}}function o0(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Mm(n,e),r!=null&&i.unshift(Bm(n,r,s)),r=Mm(n,t),r!=null&&i.push(Bm(n,r,s))),n=n.return}return i}function kh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function tP(n,t,e,i,s){for(var r=t._reactName,a=[];e!==null&&e!==i;){var c=e,u=c.alternate,d=c.stateNode;if(u!==null&&u===i)break;c.tag===5&&d!==null&&(c=d,s?(u=Mm(e,r),u!=null&&a.unshift(Bm(e,u,c))):s||(u=Mm(e,r),u!=null&&a.push(Bm(e,u,c)))),e=e.return}a.length!==0&&n.push({event:t,listeners:a})}var GF=/\r\n?/g,qF=/\u0000|\uFFFD/g;function eP(n){return(typeof n=="string"?n:""+n).replace(GF,`
`).replace(qF,"")}function Fy(n,t,e){if(t=eP(t),eP(n)!==t&&e)throw Error(nt(425))}function a0(){}var Tx=null,kx=null;function Lx(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mx=typeof setTimeout=="function"?setTimeout:void 0,ZF=typeof clearTimeout=="function"?clearTimeout:void 0,nP=typeof Promise=="function"?Promise:void 0,XF=typeof queueMicrotask=="function"?queueMicrotask:typeof nP<"u"?function(n){return nP.resolve(null).then(n).catch(YF)}:Mx;function YF(n){setTimeout(function(){throw n})}function Db(n,t){var e=t,i=0;do{var s=e.nextSibling;if(n.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(i===0){n.removeChild(s),Im(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=s}while(e);Im(t)}function Ql(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function iP(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var cp=Math.random().toString(36).slice(2),uo="__reactFiber$"+cp,jm="__reactProps$"+cp,Aa="__reactContainer$"+cp,Rx="__reactEvents$"+cp,KF="__reactListeners$"+cp,QF="__reactHandles$"+cp;function Nc(n){var t=n[uo];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Aa]||e[uo]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=iP(n);n!==null;){if(e=n[uo])return e;n=iP(n)}return t}n=e,e=n.parentNode}return null}function Vv(n){return n=n[uo]||n[Aa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(nt(33))}function fw(n){return n[jm]||null}var Nx=[],Gh=-1;function mc(n){return{current:n}}function _e(n){0>Gh||(n.current=Nx[Gh],Nx[Gh]=null,Gh--)}function de(n,t){Gh++,Nx[Gh]=n.current,n.current=t}var rc={},Xn=mc(rc),Ti=mc(!1),nh=rc;function Yf(n,t){var e=n.type.contextTypes;if(!e)return rc;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in e)s[r]=t[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=s),s}function ki(n){return n=n.childContextTypes,n!=null}function l0(){_e(Ti),_e(Xn)}function sP(n,t,e){if(Xn.current!==rc)throw Error(nt(168));de(Xn,t),de(Ti,e)}function bL(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(nt(108,OO(n)||"Unknown",s));return Me({},e,i)}function c0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||rc,nh=Xn.current,de(Xn,n),de(Ti,Ti.current),!0}function rP(n,t,e){var i=n.stateNode;if(!i)throw Error(nt(169));e?(n=bL(n,t,nh),i.__reactInternalMemoizedMergedChildContext=n,_e(Ti),_e(Xn),de(Xn,n)):_e(Ti),de(Ti,e)}var Oo=null,pw=!1,Ob=!1;function xL(n){Oo===null?Oo=[n]:Oo.push(n)}function JF(n){pw=!0,xL(n)}function gc(){if(!Ob&&Oo!==null){Ob=!0;var n=0,t=Yt;try{var e=Oo;for(Yt=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}Oo=null,pw=!1}catch(s){throw Oo!==null&&(Oo=Oo.slice(n+1)),qk(tA,gc),s}finally{Yt=t,Ob=!1}}return null}var qh=[],Zh=0,u0=null,h0=0,Ls=[],Ms=0,ih=null,ya=1,_a="";function Ac(n,t){qh[Zh++]=h0,qh[Zh++]=u0,u0=n,h0=t}function SL(n,t,e){Ls[Ms++]=ya,Ls[Ms++]=_a,Ls[Ms++]=ih,ih=n;var i=ya;n=_a;var s=32-pr(i)-1;i&=~(1<<s),e+=1;var r=32-pr(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,ya=1<<32-pr(t)+s|e<<s|i,_a=r+n}else ya=1<<r|e<<s|i,_a=n}function cA(n){n.return!==null&&(Ac(n,1),SL(n,1,0))}function uA(n){for(;n===u0;)u0=qh[--Zh],qh[Zh]=null,h0=qh[--Zh],qh[Zh]=null;for(;n===ih;)ih=Ls[--Ms],Ls[Ms]=null,_a=Ls[--Ms],Ls[Ms]=null,ya=Ls[--Ms],Ls[Ms]=null}var ss=null,is=null,Se=!1,hr=null;function AL(n,t){var e=Ds(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function oP(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,ss=n,is=Ql(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,ss=n,is=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=ih!==null?{id:ya,overflow:_a}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ds(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,ss=n,is=null,!0):!1;default:return!1}}function Ix(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dx(n){if(Se){var t=is;if(t){var e=t;if(!oP(n,t)){if(Ix(n))throw Error(nt(418));t=Ql(e.nextSibling);var i=ss;t&&oP(n,t)?AL(i,e):(n.flags=n.flags&-4097|2,Se=!1,ss=n)}}else{if(Ix(n))throw Error(nt(418));n.flags=n.flags&-4097|2,Se=!1,ss=n}}}function aP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ss=n}function By(n){if(n!==ss)return!1;if(!Se)return aP(n),Se=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Lx(n.type,n.memoizedProps)),t&&(t=is)){if(Ix(n))throw EL(),Error(nt(418));for(;t;)AL(n,t),t=Ql(t.nextSibling)}if(aP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(nt(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){is=Ql(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}is=null}}else is=ss?Ql(n.stateNode.nextSibling):null;return!0}function EL(){for(var n=is;n;)n=Ql(n.nextSibling)}function Kf(){is=ss=null,Se=!1}function hA(n){hr===null?hr=[n]:hr.push(n)}var tB=Na.ReactCurrentBatchConfig;function Bp(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(nt(309));var i=e.stateNode}if(!i)throw Error(nt(147,n));var s=i,r=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(a){var c=s.refs;a===null?delete c[r]:c[r]=a},t._stringRef=r,t)}if(typeof n!="string")throw Error(nt(284));if(!e._owner)throw Error(nt(290,n))}return n}function jy(n,t){throw n=Object.prototype.toString.call(t),Error(nt(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function lP(n){var t=n._init;return t(n._payload)}function CL(n){function t(w,S){if(n){var E=w.deletions;E===null?(w.deletions=[S],w.flags|=16):E.push(S)}}function e(w,S){if(!n)return null;for(;S!==null;)t(w,S),S=S.sibling;return null}function i(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function s(w,S){return w=nc(w,S),w.index=0,w.sibling=null,w}function r(w,S,E){return w.index=E,n?(E=w.alternate,E!==null?(E=E.index,E<S?(w.flags|=2,S):E):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return n&&w.alternate===null&&(w.flags|=2),w}function c(w,S,E,M){return S===null||S.tag!==6?(S=$b(E,w.mode,M),S.return=w,S):(S=s(S,E),S.return=w,S)}function u(w,S,E,M){var N=E.type;return N===Uh?f(w,S,E.props.children,M,E.key):S!==null&&(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$a&&lP(N)===S.type)?(M=s(S,E.props),M.ref=Bp(w,S,E),M.return=w,M):(M=v_(E.type,E.key,E.props,null,w.mode,M),M.ref=Bp(w,S,E),M.return=w,M)}function d(w,S,E,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=Wb(E,w.mode,M),S.return=w,S):(S=s(S,E.children||[]),S.return=w,S)}function f(w,S,E,M,N){return S===null||S.tag!==7?(S=eh(E,w.mode,M,N),S.return=w,S):(S=s(S,E),S.return=w,S)}function p(w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=$b(""+S,w.mode,E),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ty:return E=v_(S.type,S.key,S.props,null,w.mode,E),E.ref=Bp(w,null,S),E.return=w,E;case zh:return S=Wb(S,w.mode,E),S.return=w,S;case $a:var M=S._init;return p(w,M(S._payload),E)}if(Zp(S)||Np(S))return S=eh(S,w.mode,E,null),S.return=w,S;jy(w,S)}return null}function g(w,S,E,M){var N=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:c(w,S,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ty:return E.key===N?u(w,S,E,M):null;case zh:return E.key===N?d(w,S,E,M):null;case $a:return N=E._init,g(w,S,N(E._payload),M)}if(Zp(E)||Np(E))return N!==null?null:f(w,S,E,M,null);jy(w,E)}return null}function v(w,S,E,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(E)||null,c(S,w,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ty:return w=w.get(M.key===null?E:M.key)||null,u(S,w,M,N);case zh:return w=w.get(M.key===null?E:M.key)||null,d(S,w,M,N);case $a:var D=M._init;return v(w,S,E,D(M._payload),N)}if(Zp(M)||Np(M))return w=w.get(E)||null,f(S,w,M,N,null);jy(S,M)}return null}function x(w,S,E,M){for(var N=null,D=null,O=S,B=S=0,z=null;O!==null&&B<E.length;B++){O.index>B?(z=O,O=null):z=O.sibling;var H=g(w,O,E[B],M);if(H===null){O===null&&(O=z);break}n&&O&&H.alternate===null&&t(w,O),S=r(H,S,B),D===null?N=H:D.sibling=H,D=H,O=z}if(B===E.length)return e(w,O),Se&&Ac(w,B),N;if(O===null){for(;B<E.length;B++)O=p(w,E[B],M),O!==null&&(S=r(O,S,B),D===null?N=O:D.sibling=O,D=O);return Se&&Ac(w,B),N}for(O=i(w,O);B<E.length;B++)z=v(O,w,B,E[B],M),z!==null&&(n&&z.alternate!==null&&O.delete(z.key===null?B:z.key),S=r(z,S,B),D===null?N=z:D.sibling=z,D=z);return n&&O.forEach(function(W){return t(w,W)}),Se&&Ac(w,B),N}function _(w,S,E,M){var N=Np(E);if(typeof N!="function")throw Error(nt(150));if(E=N.call(E),E==null)throw Error(nt(151));for(var D=N=null,O=S,B=S=0,z=null,H=E.next();O!==null&&!H.done;B++,H=E.next()){O.index>B?(z=O,O=null):z=O.sibling;var W=g(w,O,H.value,M);if(W===null){O===null&&(O=z);break}n&&O&&W.alternate===null&&t(w,O),S=r(W,S,B),D===null?N=W:D.sibling=W,D=W,O=z}if(H.done)return e(w,O),Se&&Ac(w,B),N;if(O===null){for(;!H.done;B++,H=E.next())H=p(w,H.value,M),H!==null&&(S=r(H,S,B),D===null?N=H:D.sibling=H,D=H);return Se&&Ac(w,B),N}for(O=i(w,O);!H.done;B++,H=E.next())H=v(O,w,B,H.value,M),H!==null&&(n&&H.alternate!==null&&O.delete(H.key===null?B:H.key),S=r(H,S,B),D===null?N=H:D.sibling=H,D=H);return n&&O.forEach(function(V){return t(w,V)}),Se&&Ac(w,B),N}function A(w,S,E,M){if(typeof E=="object"&&E!==null&&E.type===Uh&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ty:t:{for(var N=E.key,D=S;D!==null;){if(D.key===N){if(N=E.type,N===Uh){if(D.tag===7){e(w,D.sibling),S=s(D,E.props.children),S.return=w,w=S;break t}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$a&&lP(N)===D.type){e(w,D.sibling),S=s(D,E.props),S.ref=Bp(w,D,E),S.return=w,w=S;break t}e(w,D);break}else t(w,D);D=D.sibling}E.type===Uh?(S=eh(E.props.children,w.mode,M,E.key),S.return=w,w=S):(M=v_(E.type,E.key,E.props,null,w.mode,M),M.ref=Bp(w,S,E),M.return=w,w=M)}return a(w);case zh:t:{for(D=E.key;S!==null;){if(S.key===D)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){e(w,S.sibling),S=s(S,E.children||[]),S.return=w,w=S;break t}else{e(w,S);break}else t(w,S);S=S.sibling}S=Wb(E,w.mode,M),S.return=w,w=S}return a(w);case $a:return D=E._init,A(w,S,D(E._payload),M)}if(Zp(E))return x(w,S,E,M);if(Np(E))return _(w,S,E,M);jy(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(e(w,S.sibling),S=s(S,E),S.return=w,w=S):(e(w,S),S=$b(E,w.mode,M),S.return=w,w=S),a(w)):e(w,S)}return A}var Qf=CL(!0),PL=CL(!1),d0=mc(null),f0=null,Xh=null,dA=null;function fA(){dA=Xh=f0=null}function pA(n){var t=d0.current;_e(d0),n._currentValue=t}function Ox(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function ad(n,t){f0=n,dA=Xh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Pi=!0),n.firstContext=null)}function Bs(n){var t=n._currentValue;if(dA!==n)if(n={context:n,memoizedValue:t,next:null},Xh===null){if(f0===null)throw Error(nt(308));Xh=n,f0.dependencies={lanes:0,firstContext:n}}else Xh=Xh.next=n;return t}var Ic=null;function mA(n){Ic===null?Ic=[n]:Ic.push(n)}function TL(n,t,e,i){var s=t.interleaved;return s===null?(e.next=e,mA(t)):(e.next=s.next,s.next=e),t.interleaved=e,Ea(n,i)}function Ea(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Wa=!1;function gA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kL(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wa(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Jl(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ut&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ea(n,e)}return s=i.interleaved,s===null?(t.next=t,mA(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ea(n,e)}function h_(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,eA(n,e)}}function cP(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?s=r=a:r=r.next=a,e=e.next}while(e!==null);r===null?s=r=t:r=r.next=t}else s=r=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function p0(n,t,e,i){var s=n.updateQueue;Wa=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?r=d:a.next=d,a=u;var f=n.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,f=d=u=null,c=r;do{var g=c.lane,v=c.eventTime;if((i&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});t:{var x=n,_=c;switch(g=t,v=e,_.tag){case 1:if(x=_.payload,typeof x=="function"){p=x.call(v,p,g);break t}p=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,g=typeof x=="function"?x.call(v,p,g):x,g==null)break t;p=Me({},p,g);break t;case 2:Wa=!0}}c.callback!==null&&c.lane!==0&&(n.flags|=64,g=s.effects,g===null?s.effects=[c]:g.push(c))}else v={eventTime:v,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=v,u=p):f=f.next=v,a|=g;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);rh|=a,n.lanes=a,n.memoizedState=p}}function uP(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],s=i.callback;if(s!==null){if(i.callback=null,i=e,typeof s!="function")throw Error(nt(191,s));s.call(i)}}}var Gv={},go=mc(Gv),zm=mc(Gv),Um=mc(Gv);function Dc(n){if(n===Gv)throw Error(nt(174));return n}function vA(n,t){switch(de(Um,t),de(zm,n),de(go,Gv),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gx(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=gx(t,n)}_e(go),de(go,t)}function Jf(){_e(go),_e(zm),_e(Um)}function LL(n){Dc(Um.current);var t=Dc(go.current),e=gx(t,n.type);t!==e&&(de(zm,n),de(go,e))}function yA(n){zm.current===n&&(_e(go),_e(zm))}var Pe=mc(0);function m0(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fb=[];function _A(){for(var n=0;n<Fb.length;n++)Fb[n]._workInProgressVersionPrimary=null;Fb.length=0}var d_=Na.ReactCurrentDispatcher,Bb=Na.ReactCurrentBatchConfig,sh=0,ke=null,rn=null,yn=null,g0=!1,Sm=!1,Hm=0,eB=0;function Dn(){throw Error(nt(321))}function wA(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!gr(n[e],t[e]))return!1;return!0}function bA(n,t,e,i,s,r){if(sh=r,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,d_.current=n===null||n.memoizedState===null?rB:oB,n=e(i,s),Sm){r=0;do{if(Sm=!1,Hm=0,25<=r)throw Error(nt(301));r+=1,yn=rn=null,t.updateQueue=null,d_.current=aB,n=e(i,s)}while(Sm)}if(d_.current=v0,t=rn!==null&&rn.next!==null,sh=0,yn=rn=ke=null,g0=!1,t)throw Error(nt(300));return n}function xA(){var n=Hm!==0;return Hm=0,n}function Fr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?ke.memoizedState=yn=n:yn=yn.next=n,yn}function js(){if(rn===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=rn.next;var t=yn===null?ke.memoizedState:yn.next;if(t!==null)yn=t,rn=n;else{if(n===null)throw Error(nt(310));rn=n,n={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},yn===null?ke.memoizedState=yn=n:yn=yn.next=n}return yn}function $m(n,t){return typeof t=="function"?t(n):t}function jb(n){var t=js(),e=t.queue;if(e===null)throw Error(nt(311));e.lastRenderedReducer=n;var i=rn,s=i.baseQueue,r=e.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}i.baseQueue=s=r,e.pending=null}if(s!==null){r=s.next,i=i.baseState;var c=a=null,u=null,d=r;do{var f=d.lane;if((sh&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,a=i):u=u.next=p,ke.lanes|=f,rh|=f}d=d.next}while(d!==null&&d!==r);u===null?a=i:u.next=c,gr(i,t.memoizedState)||(Pi=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,e.lastRenderedState=i}if(n=e.interleaved,n!==null){s=n;do r=s.lane,ke.lanes|=r,rh|=r,s=s.next;while(s!==n)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function zb(n){var t=js(),e=t.queue;if(e===null)throw Error(nt(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,r=t.memoizedState;if(s!==null){e.pending=null;var a=s=s.next;do r=n(r,a.action),a=a.next;while(a!==s);gr(r,t.memoizedState)||(Pi=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,i]}function ML(){}function RL(n,t){var e=ke,i=js(),s=t(),r=!gr(i.memoizedState,s);if(r&&(i.memoizedState=s,Pi=!0),i=i.queue,SA(DL.bind(null,e,i,n),[n]),i.getSnapshot!==t||r||yn!==null&&yn.memoizedState.tag&1){if(e.flags|=2048,Wm(9,IL.bind(null,e,i,s,t),void 0,null),_n===null)throw Error(nt(349));sh&30||NL(e,t,s)}return s}function NL(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function IL(n,t,e,i){t.value=e,t.getSnapshot=i,OL(t)&&FL(n)}function DL(n,t,e){return e(function(){OL(t)&&FL(n)})}function OL(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!gr(n,e)}catch{return!0}}function FL(n){var t=Ea(n,1);t!==null&&mr(t,n,1,-1)}function hP(n){var t=Fr();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},t.queue=n,n=n.dispatch=sB.bind(null,ke,n),[t.memoizedState,n]}function Wm(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function BL(){return js().memoizedState}function f_(n,t,e,i){var s=Fr();ke.flags|=n,s.memoizedState=Wm(1|t,e,void 0,i===void 0?null:i)}function mw(n,t,e,i){var s=js();i=i===void 0?null:i;var r=void 0;if(rn!==null){var a=rn.memoizedState;if(r=a.destroy,i!==null&&wA(i,a.deps)){s.memoizedState=Wm(t,e,r,i);return}}ke.flags|=n,s.memoizedState=Wm(1|t,e,r,i)}function dP(n,t){return f_(8390656,8,n,t)}function SA(n,t){return mw(2048,8,n,t)}function jL(n,t){return mw(4,2,n,t)}function zL(n,t){return mw(4,4,n,t)}function UL(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function HL(n,t,e){return e=e!=null?e.concat([n]):null,mw(4,4,UL.bind(null,t,n),e)}function AA(){}function $L(n,t){var e=js();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&wA(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function WL(n,t){var e=js();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&wA(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function VL(n,t,e){return sh&21?(gr(e,t)||(e=Yk(),ke.lanes|=e,rh|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Pi=!0),n.memoizedState=e)}function nB(n,t){var e=Yt;Yt=e!==0&&4>e?e:4,n(!0);var i=Bb.transition;Bb.transition={};try{n(!1),t()}finally{Yt=e,Bb.transition=i}}function GL(){return js().memoizedState}function iB(n,t,e){var i=ec(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},qL(n))ZL(t,e);else if(e=TL(n,t,e,i),e!==null){var s=li();mr(e,n,i,s),XL(e,t,i)}}function sB(n,t,e){var i=ec(n),s={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(qL(n))ZL(t,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,c=r(a,e);if(s.hasEagerState=!0,s.eagerState=c,gr(c,a)){var u=t.interleaved;u===null?(s.next=s,mA(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}e=TL(n,t,s,i),e!==null&&(s=li(),mr(e,n,i,s),XL(e,t,i))}}function qL(n){var t=n.alternate;return n===ke||t!==null&&t===ke}function ZL(n,t){Sm=g0=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function XL(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,eA(n,e)}}var v0={readContext:Bs,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},rB={readContext:Bs,useCallback:function(n,t){return Fr().memoizedState=[n,t===void 0?null:t],n},useContext:Bs,useEffect:dP,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,f_(4194308,4,UL.bind(null,t,n),e)},useLayoutEffect:function(n,t){return f_(4194308,4,n,t)},useInsertionEffect:function(n,t){return f_(4,2,n,t)},useMemo:function(n,t){var e=Fr();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=Fr();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=iB.bind(null,ke,n),[i.memoizedState,n]},useRef:function(n){var t=Fr();return n={current:n},t.memoizedState=n},useState:hP,useDebugValue:AA,useDeferredValue:function(n){return Fr().memoizedState=n},useTransition:function(){var n=hP(!1),t=n[0];return n=nB.bind(null,n[1]),Fr().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=ke,s=Fr();if(Se){if(e===void 0)throw Error(nt(407));e=e()}else{if(e=t(),_n===null)throw Error(nt(349));sh&30||NL(i,t,e)}s.memoizedState=e;var r={value:e,getSnapshot:t};return s.queue=r,dP(DL.bind(null,i,r,n),[n]),i.flags|=2048,Wm(9,IL.bind(null,i,r,e,t),void 0,null),e},useId:function(){var n=Fr(),t=_n.identifierPrefix;if(Se){var e=_a,i=ya;e=(i&~(1<<32-pr(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=Hm++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=eB++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},oB={readContext:Bs,useCallback:$L,useContext:Bs,useEffect:SA,useImperativeHandle:HL,useInsertionEffect:jL,useLayoutEffect:zL,useMemo:WL,useReducer:jb,useRef:BL,useState:function(){return jb($m)},useDebugValue:AA,useDeferredValue:function(n){var t=js();return VL(t,rn.memoizedState,n)},useTransition:function(){var n=jb($m)[0],t=js().memoizedState;return[n,t]},useMutableSource:ML,useSyncExternalStore:RL,useId:GL,unstable_isNewReconciler:!1},aB={readContext:Bs,useCallback:$L,useContext:Bs,useEffect:SA,useImperativeHandle:HL,useInsertionEffect:jL,useLayoutEffect:zL,useMemo:WL,useReducer:zb,useRef:BL,useState:function(){return zb($m)},useDebugValue:AA,useDeferredValue:function(n){var t=js();return rn===null?t.memoizedState=n:VL(t,rn.memoizedState,n)},useTransition:function(){var n=zb($m)[0],t=js().memoizedState;return[n,t]},useMutableSource:ML,useSyncExternalStore:RL,useId:GL,unstable_isNewReconciler:!1};function Zs(n,t){if(n&&n.defaultProps){t=Me({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Fx(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:Me({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var gw={isMounted:function(n){return(n=n._reactInternals)?hh(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=li(),s=ec(n),r=wa(i,s);r.payload=t,e!=null&&(r.callback=e),t=Jl(n,r,s),t!==null&&(mr(t,n,s,i),h_(t,n,s))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=li(),s=ec(n),r=wa(i,s);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=Jl(n,r,s),t!==null&&(mr(t,n,s,i),h_(t,n,s))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=li(),i=ec(n),s=wa(e,i);s.tag=2,t!=null&&(s.callback=t),t=Jl(n,s,i),t!==null&&(mr(t,n,i,e),h_(t,n,i))}};function fP(n,t,e,i,s,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Om(e,i)||!Om(s,r):!0}function YL(n,t,e){var i=!1,s=rc,r=t.contextType;return typeof r=="object"&&r!==null?r=Bs(r):(s=ki(t)?nh:Xn.current,i=t.contextTypes,r=(i=i!=null)?Yf(n,s):rc),t=new t(e,r),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gw,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),t}function pP(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&gw.enqueueReplaceState(t,t.state,null)}function Bx(n,t,e,i){var s=n.stateNode;s.props=e,s.state=n.memoizedState,s.refs={},gA(n);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Bs(r):(r=ki(t)?nh:Xn.current,s.context=Yf(n,r)),s.state=n.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Fx(n,t,r,e),s.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gw.enqueueReplaceState(s,s.state,null),p0(n,e,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function tp(n,t){try{var e="",i=t;do e+=DO(i),i=i.return;while(i);var s=e}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:t,stack:s,digest:null}}function Ub(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function jx(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var lB=typeof WeakMap=="function"?WeakMap:Map;function KL(n,t,e){e=wa(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){_0||(_0=!0,Xx=i),jx(n,t)},e}function QL(n,t,e){e=wa(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;e.payload=function(){return i(s)},e.callback=function(){jx(n,t)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){jx(n,t),typeof i!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function mP(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new lB;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(s.add(e),n=xB.bind(null,n,t,e),t.then(n,n))}function gP(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function vP(n,t,e,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=wa(-1,1),t.tag=2,Jl(e,t,1))),e.lanes|=1),n)}var cB=Na.ReactCurrentOwner,Pi=!1;function ri(n,t,e,i){t.child=n===null?PL(t,null,e,i):Qf(t,n.child,e,i)}function yP(n,t,e,i,s){e=e.render;var r=t.ref;return ad(t,s),i=bA(n,t,e,i,r,s),e=xA(),n!==null&&!Pi?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,Ca(n,t,s)):(Se&&e&&cA(t),t.flags|=1,ri(n,t,i,s),t.child)}function _P(n,t,e,i,s){if(n===null){var r=e.type;return typeof r=="function"&&!RA(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,JL(n,t,r,i,s)):(n=v_(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(r=n.child,!(n.lanes&s)){var a=r.memoizedProps;if(e=e.compare,e=e!==null?e:Om,e(a,i)&&n.ref===t.ref)return Ca(n,t,s)}return t.flags|=1,n=nc(r,i),n.ref=t.ref,n.return=t,t.child=n}function JL(n,t,e,i,s){if(n!==null){var r=n.memoizedProps;if(Om(r,i)&&n.ref===t.ref)if(Pi=!1,t.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(Pi=!0);else return t.lanes=n.lanes,Ca(n,t,s)}return zx(n,t,e,i,s)}function tM(n,t,e){var i=t.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Kh,Ji),Ji|=e;else{if(!(e&1073741824))return n=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,de(Kh,Ji),Ji|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:e,de(Kh,Ji),Ji|=i}else r!==null?(i=r.baseLanes|e,t.memoizedState=null):i=e,de(Kh,Ji),Ji|=i;return ri(n,t,s,e),t.child}function eM(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function zx(n,t,e,i,s){var r=ki(e)?nh:Xn.current;return r=Yf(t,r),ad(t,s),e=bA(n,t,e,i,r,s),i=xA(),n!==null&&!Pi?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,Ca(n,t,s)):(Se&&i&&cA(t),t.flags|=1,ri(n,t,e,s),t.child)}function wP(n,t,e,i,s){if(ki(e)){var r=!0;c0(t)}else r=!1;if(ad(t,s),t.stateNode===null)p_(n,t),YL(t,e,i),Bx(t,e,i,s),i=!0;else if(n===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var u=a.context,d=e.contextType;typeof d=="object"&&d!==null?d=Bs(d):(d=ki(e)?nh:Xn.current,d=Yf(t,d));var f=e.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||u!==d)&&pP(t,a,i,d),Wa=!1;var g=t.memoizedState;a.state=g,p0(t,i,a,s),u=t.memoizedState,c!==i||g!==u||Ti.current||Wa?(typeof f=="function"&&(Fx(t,e,f,i),u=t.memoizedState),(c=Wa||fP(t,e,c,i,g,u,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=d,i=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,kL(n,t),c=t.memoizedProps,d=t.type===t.elementType?c:Zs(t.type,c),a.props=d,p=t.pendingProps,g=a.context,u=e.contextType,typeof u=="object"&&u!==null?u=Bs(u):(u=ki(e)?nh:Xn.current,u=Yf(t,u));var v=e.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||g!==u)&&pP(t,a,i,u),Wa=!1,g=t.memoizedState,a.state=g,p0(t,i,a,s);var x=t.memoizedState;c!==p||g!==x||Ti.current||Wa?(typeof v=="function"&&(Fx(t,e,v,i),x=t.memoizedState),(d=Wa||fP(t,e,d,i,g,x,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&g===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&g===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=x),a.props=i,a.state=x,a.context=u,i=d):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&g===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&g===n.memoizedState||(t.flags|=1024),i=!1)}return Ux(n,t,e,i,r,s)}function Ux(n,t,e,i,s,r){eM(n,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&rP(t,e,!1),Ca(n,t,r);i=t.stateNode,cB.current=t;var c=a&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&a?(t.child=Qf(t,n.child,null,r),t.child=Qf(t,null,c,r)):ri(n,t,c,r),t.memoizedState=i.state,s&&rP(t,e,!0),t.child}function nM(n){var t=n.stateNode;t.pendingContext?sP(n,t.pendingContext,t.pendingContext!==t.context):t.context&&sP(n,t.context,!1),vA(n,t.containerInfo)}function bP(n,t,e,i,s){return Kf(),hA(s),t.flags|=256,ri(n,t,e,i),t.child}var Hx={dehydrated:null,treeContext:null,retryLane:0};function $x(n){return{baseLanes:n,cachePool:null,transitions:null}}function iM(n,t,e){var i=t.pendingProps,s=Pe.current,r=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=n!==null&&n.memoizedState===null?!1:(s&2)!==0),c?(r=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),de(Pe,s&1),n===null)return Dx(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,n=i.fallback,r?(i=t.mode,r=t.child,a={mode:"hidden",children:a},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=_w(a,i,0,null),n=eh(n,i,e,null),r.return=t,n.return=t,r.sibling=n,t.child=r,t.child.memoizedState=$x(e),t.memoizedState=Hx,n):EA(t,a));if(s=n.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return uB(n,t,a,i,c,s,e);if(r){r=i.fallback,a=t.mode,s=n.child,c=s.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=nc(s,u),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?r=nc(c,r):(r=eh(r,a,e,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,a=n.child.memoizedState,a=a===null?$x(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~e,t.memoizedState=Hx,i}return r=n.child,n=r.sibling,i=nc(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function EA(n,t){return t=_w({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function zy(n,t,e,i){return i!==null&&hA(i),Qf(t,n.child,null,e),n=EA(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function uB(n,t,e,i,s,r,a){if(e)return t.flags&256?(t.flags&=-257,i=Ub(Error(nt(422))),zy(n,t,a,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=_w({mode:"visible",children:i.children},s,0,null),r=eh(r,s,a,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&Qf(t,n.child,null,a),t.child.memoizedState=$x(a),t.memoizedState=Hx,r);if(!(t.mode&1))return zy(n,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,r=Error(nt(419)),i=Ub(r,i,void 0),zy(n,t,a,i)}if(c=(a&n.childLanes)!==0,Pi||c){if(i=_n,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Ea(n,s),mr(i,n,s,-1))}return MA(),i=Ub(Error(nt(421))),zy(n,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=n.child,t=SB.bind(null,n),s._reactRetry=t,null):(n=r.treeContext,is=Ql(s.nextSibling),ss=t,Se=!0,hr=null,n!==null&&(Ls[Ms++]=ya,Ls[Ms++]=_a,Ls[Ms++]=ih,ya=n.id,_a=n.overflow,ih=t),t=EA(t,i.children),t.flags|=4096,t)}function xP(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),Ox(n.return,t,e)}function Hb(n,t,e,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=e,r.tailMode=s)}function sM(n,t,e){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(ri(n,t,i.children,e),i=Pe.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xP(n,e,t);else if(n.tag===19)xP(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(de(Pe,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&m0(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),Hb(t,!1,s,e,r);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&m0(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}Hb(t,!0,e,null,r);break;case"together":Hb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function p_(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Ca(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),rh|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(nt(153));if(t.child!==null){for(n=t.child,e=nc(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=nc(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function hB(n,t,e){switch(t.tag){case 3:nM(t),Kf();break;case 5:LL(t);break;case 1:ki(t.type)&&c0(t);break;case 4:vA(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;de(d0,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(de(Pe,Pe.current&1),t.flags|=128,null):e&t.child.childLanes?iM(n,t,e):(de(Pe,Pe.current&1),n=Ca(n,t,e),n!==null?n.sibling:null);de(Pe,Pe.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return sM(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(Pe,Pe.current),i)break;return null;case 22:case 23:return t.lanes=0,tM(n,t,e)}return Ca(n,t,e)}var rM,Wx,oM,aM;rM=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Wx=function(){};oM=function(n,t,e,i){var s=n.memoizedProps;if(s!==i){n=t.stateNode,Dc(go.current);var r=null;switch(e){case"input":s=dx(n,s),i=dx(n,i),r=[];break;case"select":s=Me({},s,{value:void 0}),i=Me({},i,{value:void 0}),r=[];break;case"textarea":s=mx(n,s),i=mx(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=a0)}vx(e,i);var a;e=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(km.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in i){var u=i[d];if(c=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(e||(e={}),e[a]=u[a])}else e||(r||(r=[]),r.push(d,e)),e=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(r=r||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(r=r||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(km.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ve("scroll",n),r||c===u||(r=[])):(r=r||[]).push(d,u))}e&&(r=r||[]).push("style",e);var d=r;(t.updateQueue=d)&&(t.flags|=4)}};aM=function(n,t,e,i){e!==i&&(t.flags|=4)};function jp(n,t){if(!Se)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function On(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function dB(n,t,e){var i=t.pendingProps;switch(uA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(t),null;case 1:return ki(t.type)&&l0(),On(t),null;case 3:return i=t.stateNode,Jf(),_e(Ti),_e(Xn),_A(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(By(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(Qx(hr),hr=null))),Wx(n,t),On(t),null;case 5:yA(t);var s=Dc(Um.current);if(e=t.type,n!==null&&t.stateNode!=null)oM(n,t,e,i,s),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(nt(166));return On(t),null}if(n=Dc(go.current),By(t)){i=t.stateNode,e=t.type;var r=t.memoizedProps;switch(i[uo]=t,i[jm]=r,n=(t.mode&1)!==0,e){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(s=0;s<Yp.length;s++)ve(Yp[s],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":MC(i,r),ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ve("invalid",i);break;case"textarea":NC(i,r),ve("invalid",i)}vx(e,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var c=r[a];a==="children"?typeof c=="string"?i.textContent!==c&&(r.suppressHydrationWarning!==!0&&Fy(i.textContent,c,n),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(r.suppressHydrationWarning!==!0&&Fy(i.textContent,c,n),s=["children",""+c]):km.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&ve("scroll",i)}switch(e){case"input":ky(i),RC(i,r,!0);break;case"textarea":ky(i),IC(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=a0)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Dk(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(e,{is:i.is}):(n=a.createElement(e),e==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,e),n[uo]=t,n[jm]=i,rM(n,t,!1,!1),t.stateNode=n;t:{switch(a=yx(e,i),e){case"dialog":ve("cancel",n),ve("close",n),s=i;break;case"iframe":case"object":case"embed":ve("load",n),s=i;break;case"video":case"audio":for(s=0;s<Yp.length;s++)ve(Yp[s],n);s=i;break;case"source":ve("error",n),s=i;break;case"img":case"image":case"link":ve("error",n),ve("load",n),s=i;break;case"details":ve("toggle",n),s=i;break;case"input":MC(n,i),s=dx(n,i),ve("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=Me({},i,{value:void 0}),ve("invalid",n);break;case"textarea":NC(n,i),s=mx(n,i),ve("invalid",n);break;default:s=i}vx(e,s),c=s;for(r in c)if(c.hasOwnProperty(r)){var u=c[r];r==="style"?Bk(n,u):r==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ok(n,u)):r==="children"?typeof u=="string"?(e!=="textarea"||u!=="")&&Lm(n,u):typeof u=="number"&&Lm(n,""+u):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(km.hasOwnProperty(r)?u!=null&&r==="onScroll"&&ve("scroll",n):u!=null&&XS(n,r,u,a))}switch(e){case"input":ky(n),RC(n,i,!1);break;case"textarea":ky(n),IC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+sc(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?id(n,!!i.multiple,r,!1):i.defaultValue!=null&&id(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=a0)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return On(t),null;case 6:if(n&&t.stateNode!=null)aM(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(nt(166));if(e=Dc(Um.current),Dc(go.current),By(t)){if(i=t.stateNode,e=t.memoizedProps,i[uo]=t,(r=i.nodeValue!==e)&&(n=ss,n!==null))switch(n.tag){case 3:Fy(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Fy(i.nodeValue,e,(n.mode&1)!==0)}r&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[uo]=t,t.stateNode=i}return On(t),null;case 13:if(_e(Pe),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Se&&is!==null&&t.mode&1&&!(t.flags&128))EL(),Kf(),t.flags|=98560,r=!1;else if(r=By(t),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(nt(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(nt(317));r[uo]=t}else Kf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;On(t),r=!1}else hr!==null&&(Qx(hr),hr=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||Pe.current&1?an===0&&(an=3):MA())),t.updateQueue!==null&&(t.flags|=4),On(t),null);case 4:return Jf(),Wx(n,t),n===null&&Fm(t.stateNode.containerInfo),On(t),null;case 10:return pA(t.type._context),On(t),null;case 17:return ki(t.type)&&l0(),On(t),null;case 19:if(_e(Pe),r=t.memoizedState,r===null)return On(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)jp(r,!1);else{if(an!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=m0(n),a!==null){for(t.flags|=128,jp(r,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)r=e,n=i,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return de(Pe,Pe.current&1|2),t.child}n=n.sibling}r.tail!==null&&qe()>ep&&(t.flags|=128,i=!0,jp(r,!1),t.lanes=4194304)}else{if(!i)if(n=m0(a),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),jp(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Se)return On(t),null}else 2*qe()-r.renderingStartTime>ep&&e!==1073741824&&(t.flags|=128,i=!0,jp(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=qe(),t.sibling=null,e=Pe.current,de(Pe,i?e&1|2:e&1),t):(On(t),null);case 22:case 23:return LA(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ji&1073741824&&(On(t),t.subtreeFlags&6&&(t.flags|=8192)):On(t),null;case 24:return null;case 25:return null}throw Error(nt(156,t.tag))}function fB(n,t){switch(uA(t),t.tag){case 1:return ki(t.type)&&l0(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Jf(),_e(Ti),_e(Xn),_A(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return yA(t),null;case 13:if(_e(Pe),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(nt(340));Kf()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return _e(Pe),null;case 4:return Jf(),null;case 10:return pA(t.type._context),null;case 22:case 23:return LA(),null;case 24:return null;default:return null}}var Uy=!1,Gn=!1,pB=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Yh(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Ue(n,t,i)}else e.current=null}function Vx(n,t,e){try{e()}catch(i){Ue(n,t,i)}}var SP=!1;function mB(n,t){if(Tx=s0,n=dL(),lA(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var a=0,c=-1,u=-1,d=0,f=0,p=n,g=null;e:for(;;){for(var v;p!==e||s!==0&&p.nodeType!==3||(c=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===n)break e;if(g===e&&++d===s&&(c=a),g===r&&++f===i&&(u=a),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}e=c===-1||u===-1?null:{start:c,end:u}}else e=null}e=e||{start:0,end:0}}else e=null;for(kx={focusedElem:n,selectionRange:e},s0=!1,mt=t;mt!==null;)if(t=mt,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,mt=n;else for(;mt!==null;){t=mt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,A=x.memoizedState,w=t.stateNode,S=w.getSnapshotBeforeUpdate(t.elementType===t.type?_:Zs(t.type,_),A);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(M){Ue(t,t.return,M)}if(n=t.sibling,n!==null){n.return=t.return,mt=n;break}mt=t.return}return x=SP,SP=!1,x}function Am(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&Vx(t,e,r)}s=s.next}while(s!==i)}}function vw(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function Gx(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function lM(n){var t=n.alternate;t!==null&&(n.alternate=null,lM(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[uo],delete t[jm],delete t[Rx],delete t[KF],delete t[QF])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cM(n){return n.tag===5||n.tag===3||n.tag===4}function AP(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||cM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qx(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=a0));else if(i!==4&&(n=n.child,n!==null))for(qx(n,t,e),n=n.sibling;n!==null;)qx(n,t,e),n=n.sibling}function Zx(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Zx(n,t,e),n=n.sibling;n!==null;)Zx(n,t,e),n=n.sibling}var Tn=null,ur=!1;function Ba(n,t,e){for(e=e.child;e!==null;)uM(n,t,e),e=e.sibling}function uM(n,t,e){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(cw,e)}catch{}switch(e.tag){case 5:Gn||Yh(e,t);case 6:var i=Tn,s=ur;Tn=null,Ba(n,t,e),Tn=i,ur=s,Tn!==null&&(ur?(n=Tn,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Tn.removeChild(e.stateNode));break;case 18:Tn!==null&&(ur?(n=Tn,e=e.stateNode,n.nodeType===8?Db(n.parentNode,e):n.nodeType===1&&Db(n,e),Im(n)):Db(Tn,e.stateNode));break;case 4:i=Tn,s=ur,Tn=e.stateNode.containerInfo,ur=!0,Ba(n,t,e),Tn=i,ur=s;break;case 0:case 11:case 14:case 15:if(!Gn&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&Vx(e,t,a),s=s.next}while(s!==i)}Ba(n,t,e);break;case 1:if(!Gn&&(Yh(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(c){Ue(e,t,c)}Ba(n,t,e);break;case 21:Ba(n,t,e);break;case 22:e.mode&1?(Gn=(i=Gn)||e.memoizedState!==null,Ba(n,t,e),Gn=i):Ba(n,t,e);break;default:Ba(n,t,e)}}function EP(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new pB),t.forEach(function(i){var s=AB.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}}function Ws(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];try{var r=n,a=t,c=a;t:for(;c!==null;){switch(c.tag){case 5:Tn=c.stateNode,ur=!1;break t;case 3:Tn=c.stateNode.containerInfo,ur=!0;break t;case 4:Tn=c.stateNode.containerInfo,ur=!0;break t}c=c.return}if(Tn===null)throw Error(nt(160));uM(r,a,s),Tn=null,ur=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Ue(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hM(t,n),t=t.sibling}function hM(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ws(t,n),Nr(n),i&4){try{Am(3,n,n.return),vw(3,n)}catch(_){Ue(n,n.return,_)}try{Am(5,n,n.return)}catch(_){Ue(n,n.return,_)}}break;case 1:Ws(t,n),Nr(n),i&512&&e!==null&&Yh(e,e.return);break;case 5:if(Ws(t,n),Nr(n),i&512&&e!==null&&Yh(e,e.return),n.flags&32){var s=n.stateNode;try{Lm(s,"")}catch(_){Ue(n,n.return,_)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,a=e!==null?e.memoizedProps:r,c=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{c==="input"&&r.type==="radio"&&r.name!=null&&Nk(s,r),yx(c,a);var d=yx(c,r);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?Bk(s,p):f==="dangerouslySetInnerHTML"?Ok(s,p):f==="children"?Lm(s,p):XS(s,f,p,d)}switch(c){case"input":fx(s,r);break;case"textarea":Ik(s,r);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var v=r.value;v!=null?id(s,!!r.multiple,v,!1):g!==!!r.multiple&&(r.defaultValue!=null?id(s,!!r.multiple,r.defaultValue,!0):id(s,!!r.multiple,r.multiple?[]:"",!1))}s[jm]=r}catch(_){Ue(n,n.return,_)}}break;case 6:if(Ws(t,n),Nr(n),i&4){if(n.stateNode===null)throw Error(nt(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(_){Ue(n,n.return,_)}}break;case 3:if(Ws(t,n),Nr(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{Im(t.containerInfo)}catch(_){Ue(n,n.return,_)}break;case 4:Ws(t,n),Nr(n);break;case 13:Ws(t,n),Nr(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(TA=qe())),i&4&&EP(n);break;case 22:if(f=e!==null&&e.memoizedState!==null,n.mode&1?(Gn=(d=Gn)||f,Ws(t,n),Gn=d):Ws(t,n),Nr(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(mt=n,f=n.child;f!==null;){for(p=mt=f;mt!==null;){switch(g=mt,v=g.child,g.tag){case 0:case 11:case 14:case 15:Am(4,g,g.return);break;case 1:Yh(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){i=g,e=g.return;try{t=i,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(_){Ue(i,e,_)}}break;case 5:Yh(g,g.return);break;case 22:if(g.memoizedState!==null){PP(p);continue}}v!==null?(v.return=g,mt=v):PP(p)}f=f.sibling}t:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(c=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Fk("display",a))}catch(_){Ue(n,n.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(_){Ue(n,n.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ws(t,n),Nr(n),i&4&&EP(n);break;case 21:break;default:Ws(t,n),Nr(n)}}function Nr(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(cM(e)){var i=e;break t}e=e.return}throw Error(nt(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Lm(s,""),i.flags&=-33);var r=AP(n);Zx(n,r,s);break;case 3:case 4:var a=i.stateNode.containerInfo,c=AP(n);qx(n,c,a);break;default:throw Error(nt(161))}}catch(u){Ue(n,n.return,u)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function gB(n,t,e){mt=n,dM(n)}function dM(n,t,e){for(var i=(n.mode&1)!==0;mt!==null;){var s=mt,r=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Uy;if(!a){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Gn;c=Uy;var d=Gn;if(Uy=a,(Gn=u)&&!d)for(mt=s;mt!==null;)a=mt,u=a.child,a.tag===22&&a.memoizedState!==null?TP(s):u!==null?(u.return=a,mt=u):TP(s);for(;r!==null;)mt=r,dM(r),r=r.sibling;mt=s,Uy=c,Gn=d}CP(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,mt=r):CP(n)}}function CP(n){for(;mt!==null;){var t=mt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gn||vw(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Gn)if(e===null)i.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:Zs(t.type,e.memoizedProps);i.componentDidUpdate(s,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&uP(t,r,i);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}uP(t,a,e)}break;case 5:var c=t.stateNode;if(e===null&&t.flags&4){e=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&e.focus();break;case"img":u.src&&(e.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Im(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}Gn||t.flags&512&&Gx(t)}catch(g){Ue(t,t.return,g)}}if(t===n){mt=null;break}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function PP(n){for(;mt!==null;){var t=mt;if(t===n){mt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,mt=e;break}mt=t.return}}function TP(n){for(;mt!==null;){var t=mt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{vw(4,t)}catch(u){Ue(t,e,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){Ue(t,s,u)}}var r=t.return;try{Gx(t)}catch(u){Ue(t,r,u)}break;case 5:var a=t.return;try{Gx(t)}catch(u){Ue(t,a,u)}}}catch(u){Ue(t,t.return,u)}if(t===n){mt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,mt=c;break}mt=t.return}}var vB=Math.ceil,y0=Na.ReactCurrentDispatcher,CA=Na.ReactCurrentOwner,Os=Na.ReactCurrentBatchConfig,Ut=0,_n=null,Qe=null,Rn=0,Ji=0,Kh=mc(0),an=0,Vm=null,rh=0,yw=0,PA=0,Em=null,Ci=null,TA=0,ep=1/0,No=null,_0=!1,Xx=null,tc=null,Hy=!1,ql=null,w0=0,Cm=0,Yx=null,m_=-1,g_=0;function li(){return Ut&6?qe():m_!==-1?m_:m_=qe()}function ec(n){return n.mode&1?Ut&2&&Rn!==0?Rn&-Rn:tB.transition!==null?(g_===0&&(g_=Yk()),g_):(n=Yt,n!==0||(n=window.event,n=n===void 0?16:iL(n.type)),n):1}function mr(n,t,e,i){if(50<Cm)throw Cm=0,Yx=null,Error(nt(185));$v(n,e,i),(!(Ut&2)||n!==_n)&&(n===_n&&(!(Ut&2)&&(yw|=e),an===4&&Ga(n,Rn)),Li(n,i),e===1&&Ut===0&&!(t.mode&1)&&(ep=qe()+500,pw&&gc()))}function Li(n,t){var e=n.callbackNode;tF(n,t);var i=i0(n,n===_n?Rn:0);if(i===0)e!==null&&FC(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&FC(e),t===1)n.tag===0?JF(kP.bind(null,n)):xL(kP.bind(null,n)),XF(function(){!(Ut&6)&&gc()}),e=null;else{switch(Kk(i)){case 1:e=tA;break;case 4:e=Zk;break;case 16:e=n0;break;case 536870912:e=Xk;break;default:e=n0}e=wM(e,fM.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function fM(n,t){if(m_=-1,g_=0,Ut&6)throw Error(nt(327));var e=n.callbackNode;if(ld()&&n.callbackNode!==e)return null;var i=i0(n,n===_n?Rn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=b0(n,i);else{t=i;var s=Ut;Ut|=2;var r=mM();(_n!==n||Rn!==t)&&(No=null,ep=qe()+500,th(n,t));do try{wB();break}catch(c){pM(n,c)}while(!0);fA(),y0.current=r,Ut=s,Qe!==null?t=0:(_n=null,Rn=0,t=an)}if(t!==0){if(t===2&&(s=Sx(n),s!==0&&(i=s,t=Kx(n,s))),t===1)throw e=Vm,th(n,0),Ga(n,i),Li(n,qe()),e;if(t===6)Ga(n,i);else{if(s=n.current.alternate,!(i&30)&&!yB(s)&&(t=b0(n,i),t===2&&(r=Sx(n),r!==0&&(i=r,t=Kx(n,r))),t===1))throw e=Vm,th(n,0),Ga(n,i),Li(n,qe()),e;switch(n.finishedWork=s,n.finishedLanes=i,t){case 0:case 1:throw Error(nt(345));case 2:Ec(n,Ci,No);break;case 3:if(Ga(n,i),(i&130023424)===i&&(t=TA+500-qe(),10<t)){if(i0(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){li(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Mx(Ec.bind(null,n,Ci,No),t);break}Ec(n,Ci,No);break;case 4:if(Ga(n,i),(i&4194240)===i)break;for(t=n.eventTimes,s=-1;0<i;){var a=31-pr(i);r=1<<a,a=t[a],a>s&&(s=a),i&=~r}if(i=s,i=qe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vB(i/1960))-i,10<i){n.timeoutHandle=Mx(Ec.bind(null,n,Ci,No),i);break}Ec(n,Ci,No);break;case 5:Ec(n,Ci,No);break;default:throw Error(nt(329))}}}return Li(n,qe()),n.callbackNode===e?fM.bind(null,n):null}function Kx(n,t){var e=Em;return n.current.memoizedState.isDehydrated&&(th(n,t).flags|=256),n=b0(n,t),n!==2&&(t=Ci,Ci=e,t!==null&&Qx(t)),n}function Qx(n){Ci===null?Ci=n:Ci.push.apply(Ci,n)}function yB(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var s=e[i],r=s.getSnapshot;s=s.value;try{if(!gr(r(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(n,t){for(t&=~PA,t&=~yw,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-pr(t),i=1<<e;n[e]=-1,t&=~i}}function kP(n){if(Ut&6)throw Error(nt(327));ld();var t=i0(n,0);if(!(t&1))return Li(n,qe()),null;var e=b0(n,t);if(n.tag!==0&&e===2){var i=Sx(n);i!==0&&(t=i,e=Kx(n,i))}if(e===1)throw e=Vm,th(n,0),Ga(n,t),Li(n,qe()),e;if(e===6)throw Error(nt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Ec(n,Ci,No),Li(n,qe()),null}function kA(n,t){var e=Ut;Ut|=1;try{return n(t)}finally{Ut=e,Ut===0&&(ep=qe()+500,pw&&gc())}}function oh(n){ql!==null&&ql.tag===0&&!(Ut&6)&&ld();var t=Ut;Ut|=1;var e=Os.transition,i=Yt;try{if(Os.transition=null,Yt=1,n)return n()}finally{Yt=i,Os.transition=e,Ut=t,!(Ut&6)&&gc()}}function LA(){Ji=Kh.current,_e(Kh)}function th(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,ZF(e)),Qe!==null)for(e=Qe.return;e!==null;){var i=e;switch(uA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&l0();break;case 3:Jf(),_e(Ti),_e(Xn),_A();break;case 5:yA(i);break;case 4:Jf();break;case 13:_e(Pe);break;case 19:_e(Pe);break;case 10:pA(i.type._context);break;case 22:case 23:LA()}e=e.return}if(_n=n,Qe=n=nc(n.current,null),Rn=Ji=t,an=0,Vm=null,PA=yw=rh=0,Ci=Em=null,Ic!==null){for(t=0;t<Ic.length;t++)if(e=Ic[t],i=e.interleaved,i!==null){e.interleaved=null;var s=i.next,r=e.pending;if(r!==null){var a=r.next;r.next=s,i.next=a}e.pending=i}Ic=null}return n}function pM(n,t){do{var e=Qe;try{if(fA(),d_.current=v0,g0){for(var i=ke.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}g0=!1}if(sh=0,yn=rn=ke=null,Sm=!1,Hm=0,CA.current=null,e===null||e.return===null){an=1,Vm=t,Qe=null;break}t:{var r=n,a=e.return,c=e,u=t;if(t=Rn,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=gP(a);if(v!==null){v.flags&=-257,vP(v,a,c,r,t),v.mode&1&&mP(r,d,t),t=v,u=d;var x=t.updateQueue;if(x===null){var _=new Set;_.add(u),t.updateQueue=_}else x.add(u);break t}else{if(!(t&1)){mP(r,d,t),MA();break t}u=Error(nt(426))}}else if(Se&&c.mode&1){var A=gP(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),vP(A,a,c,r,t),hA(tp(u,c));break t}}r=u=tp(u,c),an!==4&&(an=2),Em===null?Em=[r]:Em.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var w=KL(r,u,t);cP(r,w);break t;case 1:c=u;var S=r.type,E=r.stateNode;if(!(r.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(tc===null||!tc.has(E)))){r.flags|=65536,t&=-t,r.lanes|=t;var M=QL(r,c,t);cP(r,M);break t}}r=r.return}while(r!==null)}vM(e)}catch(N){t=N,Qe===e&&e!==null&&(Qe=e=e.return);continue}break}while(!0)}function mM(){var n=y0.current;return y0.current=v0,n===null?v0:n}function MA(){(an===0||an===3||an===2)&&(an=4),_n===null||!(rh&268435455)&&!(yw&268435455)||Ga(_n,Rn)}function b0(n,t){var e=Ut;Ut|=2;var i=mM();(_n!==n||Rn!==t)&&(No=null,th(n,t));do try{_B();break}catch(s){pM(n,s)}while(!0);if(fA(),Ut=e,y0.current=i,Qe!==null)throw Error(nt(261));return _n=null,Rn=0,an}function _B(){for(;Qe!==null;)gM(Qe)}function wB(){for(;Qe!==null&&!VO();)gM(Qe)}function gM(n){var t=_M(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,t===null?vM(n):Qe=t,CA.current=null}function vM(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=fB(e,t),e!==null){e.flags&=32767,Qe=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{an=6,Qe=null;return}}else if(e=dB(e,t,Ji),e!==null){Qe=e;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=n}while(t!==null);an===0&&(an=5)}function Ec(n,t,e){var i=Yt,s=Os.transition;try{Os.transition=null,Yt=1,bB(n,t,e,i)}finally{Os.transition=s,Yt=i}return null}function bB(n,t,e,i){do ld();while(ql!==null);if(Ut&6)throw Error(nt(327));e=n.finishedWork;var s=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(nt(177));n.callbackNode=null,n.callbackPriority=0;var r=e.lanes|e.childLanes;if(eF(n,r),n===_n&&(Qe=_n=null,Rn=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Hy||(Hy=!0,wM(n0,function(){return ld(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Os.transition,Os.transition=null;var a=Yt;Yt=1;var c=Ut;Ut|=4,CA.current=null,mB(n,e),hM(e,n),UF(kx),s0=!!Tx,kx=Tx=null,n.current=e,gB(e),GO(),Ut=c,Yt=a,Os.transition=r}else n.current=e;if(Hy&&(Hy=!1,ql=n,w0=s),r=n.pendingLanes,r===0&&(tc=null),XO(e.stateNode),Li(n,qe()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)s=t[e],i(s.value,{componentStack:s.stack,digest:s.digest});if(_0)throw _0=!1,n=Xx,Xx=null,n;return w0&1&&n.tag!==0&&ld(),r=n.pendingLanes,r&1?n===Yx?Cm++:(Cm=0,Yx=n):Cm=0,gc(),null}function ld(){if(ql!==null){var n=Kk(w0),t=Os.transition,e=Yt;try{if(Os.transition=null,Yt=16>n?16:n,ql===null)var i=!1;else{if(n=ql,ql=null,w0=0,Ut&6)throw Error(nt(331));var s=Ut;for(Ut|=4,mt=n.current;mt!==null;){var r=mt,a=r.child;if(mt.flags&16){var c=r.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(mt=d;mt!==null;){var f=mt;switch(f.tag){case 0:case 11:case 15:Am(8,f,r)}var p=f.child;if(p!==null)p.return=f,mt=p;else for(;mt!==null;){f=mt;var g=f.sibling,v=f.return;if(lM(f),f===d){mt=null;break}if(g!==null){g.return=v,mt=g;break}mt=v}}}var x=r.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var A=_.sibling;_.sibling=null,_=A}while(_!==null)}}mt=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,mt=a;else t:for(;mt!==null;){if(r=mt,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Am(9,r,r.return)}var w=r.sibling;if(w!==null){w.return=r.return,mt=w;break t}mt=r.return}}var S=n.current;for(mt=S;mt!==null;){a=mt;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,mt=E;else t:for(a=S;mt!==null;){if(c=mt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:vw(9,c)}}catch(N){Ue(c,c.return,N)}if(c===a){mt=null;break t}var M=c.sibling;if(M!==null){M.return=c.return,mt=M;break t}mt=c.return}}if(Ut=s,gc(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(cw,n)}catch{}i=!0}return i}finally{Yt=e,Os.transition=t}}return!1}function LP(n,t,e){t=tp(e,t),t=KL(n,t,1),n=Jl(n,t,1),t=li(),n!==null&&($v(n,1,t),Li(n,t))}function Ue(n,t,e){if(n.tag===3)LP(n,n,e);else for(;t!==null;){if(t.tag===3){LP(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tc===null||!tc.has(i))){n=tp(e,n),n=QL(t,n,1),t=Jl(t,n,1),n=li(),t!==null&&($v(t,1,n),Li(t,n));break}}t=t.return}}function xB(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=li(),n.pingedLanes|=n.suspendedLanes&e,_n===n&&(Rn&e)===e&&(an===4||an===3&&(Rn&130023424)===Rn&&500>qe()-TA?th(n,0):PA|=e),Li(n,t)}function yM(n,t){t===0&&(n.mode&1?(t=Ry,Ry<<=1,!(Ry&130023424)&&(Ry=4194304)):t=1);var e=li();n=Ea(n,t),n!==null&&($v(n,t,e),Li(n,e))}function SB(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),yM(n,e)}function AB(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(nt(314))}i!==null&&i.delete(t),yM(n,e)}var _M;_M=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Ti.current)Pi=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Pi=!1,hB(n,t,e);Pi=!!(n.flags&131072)}else Pi=!1,Se&&t.flags&1048576&&SL(t,h0,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;p_(n,t),n=t.pendingProps;var s=Yf(t,Xn.current);ad(t,e),s=bA(null,t,i,n,s,e);var r=xA();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(i)?(r=!0,c0(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gA(t),s.updater=gw,t.stateNode=s,s._reactInternals=t,Bx(t,i,n,e),t=Ux(null,t,i,!0,r,e)):(t.tag=0,Se&&r&&cA(t),ri(null,t,s,e),t=t.child),t;case 16:i=t.elementType;t:{switch(p_(n,t),n=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=CB(i),n=Zs(i,n),s){case 0:t=zx(null,t,i,n,e);break t;case 1:t=wP(null,t,i,n,e);break t;case 11:t=yP(null,t,i,n,e);break t;case 14:t=_P(null,t,i,Zs(i.type,n),e);break t}throw Error(nt(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),zx(n,t,i,s,e);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),wP(n,t,i,s,e);case 3:t:{if(nM(t),n===null)throw Error(nt(387));i=t.pendingProps,r=t.memoizedState,s=r.element,kL(n,t),p0(t,i,null,e);var a=t.memoizedState;if(i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=tp(Error(nt(423)),t),t=bP(n,t,i,e,s);break t}else if(i!==s){s=tp(Error(nt(424)),t),t=bP(n,t,i,e,s);break t}else for(is=Ql(t.stateNode.containerInfo.firstChild),ss=t,Se=!0,hr=null,e=PL(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Kf(),i===s){t=Ca(n,t,e);break t}ri(n,t,i,e)}t=t.child}return t;case 5:return LL(t),n===null&&Dx(t),i=t.type,s=t.pendingProps,r=n!==null?n.memoizedProps:null,a=s.children,Lx(i,s)?a=null:r!==null&&Lx(i,r)&&(t.flags|=32),eM(n,t),ri(n,t,a,e),t.child;case 6:return n===null&&Dx(t),null;case 13:return iM(n,t,e);case 4:return vA(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=Qf(t,null,i,e):ri(n,t,i,e),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),yP(n,t,i,s,e);case 7:return ri(n,t,t.pendingProps,e),t.child;case 8:return ri(n,t,t.pendingProps.children,e),t.child;case 12:return ri(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,a=s.value,de(d0,i._currentValue),i._currentValue=a,r!==null)if(gr(r.value,a)){if(r.children===s.children&&!Ti.current){t=Ca(n,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var c=r.dependencies;if(c!==null){a=r.child;for(var u=c.firstContext;u!==null;){if(u.context===i){if(r.tag===1){u=wa(-1,e&-e),u.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}r.lanes|=e,u=r.alternate,u!==null&&(u.lanes|=e),Ox(r.return,e,t),c.lanes|=e;break}u=u.next}}else if(r.tag===10)a=r.type===t.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(nt(341));a.lanes|=e,c=a.alternate,c!==null&&(c.lanes|=e),Ox(a,e,t),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}ri(n,t,s.children,e),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,ad(t,e),s=Bs(s),i=i(s),t.flags|=1,ri(n,t,i,e),t.child;case 14:return i=t.type,s=Zs(i,t.pendingProps),s=Zs(i.type,s),_P(n,t,i,s,e);case 15:return JL(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Zs(i,s),p_(n,t),t.tag=1,ki(i)?(n=!0,c0(t)):n=!1,ad(t,e),YL(t,i,s),Bx(t,i,s,e),Ux(null,t,i,!0,n,e);case 19:return sM(n,t,e);case 22:return tM(n,t,e)}throw Error(nt(156,t.tag))};function wM(n,t){return qk(n,t)}function EB(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(n,t,e,i){return new EB(n,t,e,i)}function RA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function CB(n){if(typeof n=="function")return RA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===KS)return 11;if(n===QS)return 14}return 2}function nc(n,t){var e=n.alternate;return e===null?(e=Ds(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function v_(n,t,e,i,s,r){var a=2;if(i=n,typeof n=="function")RA(n)&&(a=1);else if(typeof n=="string")a=5;else t:switch(n){case Uh:return eh(e.children,s,r,t);case YS:a=8,s|=8;break;case lx:return n=Ds(12,e,t,s|2),n.elementType=lx,n.lanes=r,n;case cx:return n=Ds(13,e,t,s),n.elementType=cx,n.lanes=r,n;case ux:return n=Ds(19,e,t,s),n.elementType=ux,n.lanes=r,n;case Lk:return _w(e,s,r,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Tk:a=10;break t;case kk:a=9;break t;case KS:a=11;break t;case QS:a=14;break t;case $a:a=16,i=null;break t}throw Error(nt(130,n==null?n:typeof n,""))}return t=Ds(a,e,t,s),t.elementType=n,t.type=i,t.lanes=r,t}function eh(n,t,e,i){return n=Ds(7,n,i,t),n.lanes=e,n}function _w(n,t,e,i){return n=Ds(22,n,i,t),n.elementType=Lk,n.lanes=e,n.stateNode={isHidden:!1},n}function $b(n,t,e){return n=Ds(6,n,null,t),n.lanes=e,n}function Wb(n,t,e){return t=Ds(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function PB(n,t,e,i,s){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ab(0),this.expirationTimes=Ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ab(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function NA(n,t,e,i,s,r,a,c,u){return n=new PB(n,t,e,c,u),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Ds(3,null,null,t),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},gA(r),n}function TB(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zh,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function bM(n){if(!n)return rc;n=n._reactInternals;t:{if(hh(n)!==n||n.tag!==1)throw Error(nt(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(nt(171))}if(n.tag===1){var e=n.type;if(ki(e))return bL(n,e,t)}return t}function xM(n,t,e,i,s,r,a,c,u){return n=NA(e,i,!0,n,s,r,a,c,u),n.context=bM(null),e=n.current,i=li(),s=ec(e),r=wa(i,s),r.callback=t??null,Jl(e,r,s),n.current.lanes=s,$v(n,s,i),Li(n,i),n}function ww(n,t,e,i){var s=t.current,r=li(),a=ec(s);return e=bM(e),t.context===null?t.context=e:t.pendingContext=e,t=wa(r,a),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=Jl(s,t,a),n!==null&&(mr(n,s,a,r),h_(n,s,a)),a}function x0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function MP(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function IA(n,t){MP(n,t),(n=n.alternate)&&MP(n,t)}function kB(){return null}var SM=typeof reportError=="function"?reportError:function(n){console.error(n)};function DA(n){this._internalRoot=n}bw.prototype.render=DA.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(nt(409));ww(n,t,null,null)};bw.prototype.unmount=DA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;oh(function(){ww(null,n,null,null)}),t[Aa]=null}};function bw(n){this._internalRoot=n}bw.prototype.unstable_scheduleHydration=function(n){if(n){var t=tL();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Va.length&&t!==0&&t<Va[e].priority;e++);Va.splice(e,0,n),e===0&&nL(n)}};function OA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function RP(){}function LB(n,t,e,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var d=x0(a);r.call(d)}}var a=xM(t,i,n,0,null,!1,!1,"",RP);return n._reactRootContainer=a,n[Aa]=a.current,Fm(n.nodeType===8?n.parentNode:n),oh(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var d=x0(u);c.call(d)}}var u=NA(n,0,!1,null,null,!1,!1,"",RP);return n._reactRootContainer=u,n[Aa]=u.current,Fm(n.nodeType===8?n.parentNode:n),oh(function(){ww(t,u,e,i)}),u}function Sw(n,t,e,i,s){var r=e._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var c=s;s=function(){var u=x0(a);c.call(u)}}ww(t,a,n,s)}else a=LB(e,t,n,s,i);return x0(a)}Qk=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Xp(t.pendingLanes);e!==0&&(eA(t,e|1),Li(t,qe()),!(Ut&6)&&(ep=qe()+500,gc()))}break;case 13:oh(function(){var i=Ea(n,1);if(i!==null){var s=li();mr(i,n,1,s)}}),IA(n,1)}};nA=function(n){if(n.tag===13){var t=Ea(n,134217728);if(t!==null){var e=li();mr(t,n,134217728,e)}IA(n,134217728)}};Jk=function(n){if(n.tag===13){var t=ec(n),e=Ea(n,t);if(e!==null){var i=li();mr(e,n,t,i)}IA(n,t)}};tL=function(){return Yt};eL=function(n,t){var e=Yt;try{return Yt=n,t()}finally{Yt=e}};wx=function(n,t,e){switch(t){case"input":if(fx(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=fw(i);if(!s)throw Error(nt(90));Rk(i),fx(i,s)}}}break;case"textarea":Ik(n,e);break;case"select":t=e.value,t!=null&&id(n,!!e.multiple,t,!1)}};Uk=kA;Hk=oh;var MB={usingClientEntryPoint:!1,Events:[Vv,Vh,fw,jk,zk,kA]},zp={findFiberByHostInstance:Nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RB={bundleType:zp.bundleType,version:zp.version,rendererPackageName:zp.rendererPackageName,rendererConfig:zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Vk(n),n===null?null:n.stateNode},findFiberByHostInstance:zp.findFiberByHostInstance||kB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$y.isDisabled&&$y.supportsFiber)try{cw=$y.inject(RB),mo=$y}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MB;cs.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OA(t))throw Error(nt(200));return TB(n,t,null,e)};cs.createRoot=function(n,t){if(!OA(n))throw Error(nt(299));var e=!1,i="",s=SM;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=NA(n,1,!1,null,null,e,!1,i,s),n[Aa]=t.current,Fm(n.nodeType===8?n.parentNode:n),new DA(t)};cs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(nt(188)):(n=Object.keys(n).join(","),Error(nt(268,n)));return n=Vk(t),n=n===null?null:n.stateNode,n};cs.flushSync=function(n){return oh(n)};cs.hydrate=function(n,t,e){if(!xw(t))throw Error(nt(200));return Sw(null,n,t,!0,e)};cs.hydrateRoot=function(n,t,e){if(!OA(n))throw Error(nt(405));var i=e!=null&&e.hydratedSources||null,s=!1,r="",a=SM;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=xM(t,null,n,1,e??null,s,!1,r,a),n[Aa]=t.current,Fm(n),i)for(n=0;n<i.length;n++)e=i[n],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new bw(t)};cs.render=function(n,t,e){if(!xw(t))throw Error(nt(200));return Sw(null,n,t,!1,e)};cs.unmountComponentAtNode=function(n){if(!xw(n))throw Error(nt(40));return n._reactRootContainer?(oh(function(){Sw(null,null,n,!1,function(){n._reactRootContainer=null,n[Aa]=null})}),!0):!1};cs.unstable_batchedUpdates=kA;cs.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!xw(e))throw Error(nt(200));if(n==null||n._reactInternals===void 0)throw Error(nt(38));return Sw(n,t,e,!1,i)};cs.version="18.3.1-next-f1338f8080-20240426";function AM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AM)}catch(n){console.error(n)}}AM(),Ak.exports=cs;var up=Ak.exports;const EM=HS(up);var CM,NP=up;CM=NP.createRoot,NP.hydrateRoot;const NB=1,IB=1e6;let Vb=0;function DB(){return Vb=(Vb+1)%Number.MAX_SAFE_INTEGER,Vb.toString()}const Gb=new Map,IP=n=>{if(Gb.has(n))return;const t=setTimeout(()=>{Gb.delete(n),Pm({type:"REMOVE_TOAST",toastId:n})},IB);Gb.set(n,t)},OB=(n,t)=>{switch(t.type){case"ADD_TOAST":return{...n,toasts:[t.toast,...n.toasts].slice(0,NB)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?IP(e):n.toasts.forEach(i=>{IP(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===e||e===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(e=>e.id!==t.toastId)}}},y_=[];let __={toasts:[]};function Pm(n){__=OB(__,n),y_.forEach(t=>{t(__)})}function FB({...n}){const t=DB(),e=s=>Pm({type:"UPDATE_TOAST",toast:{...s,id:t}}),i=()=>Pm({type:"DISMISS_TOAST",toastId:t});return Pm({type:"ADD_TOAST",toast:{...n,id:t,open:!0,onOpenChange:s=>{s||i()}}}),{id:t,dismiss:i,update:e}}function BB(){const[n,t]=I.useState(__);return I.useEffect(()=>(y_.push(t),()=>{const e=y_.indexOf(t);e>-1&&y_.splice(e,1)}),[n]),{...n,toast:FB,dismiss:e=>Pm({type:"DISMISS_TOAST",toastId:e})}}function on(n,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(n==null||n(s),e===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function DP(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function PM(...n){return t=>{let e=!1;const i=n.map(s=>{const r=DP(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():DP(n[s],null)}}}}function vr(...n){return I.useCallback(PM(...n),n)}function Aw(n,t=[]){let e=[];function i(r,a){const c=I.createContext(a),u=e.length;e=[...e,a];const d=p=>{var w;const{scope:g,children:v,...x}=p,_=((w=g==null?void 0:g[n])==null?void 0:w[u])||c,A=I.useMemo(()=>x,Object.values(x));return T.jsx(_.Provider,{value:A,children:v})};d.displayName=r+"Provider";function f(p,g){var _;const v=((_=g==null?void 0:g[n])==null?void 0:_[u])||c,x=I.useContext(v);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${r}\``)}return[d,f]}const s=()=>{const r=e.map(a=>I.createContext(a));return function(c){const u=(c==null?void 0:c[n])||r;return I.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return s.scopeName=n,[i,jB(s,...t)]}function jB(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const a=i.reduce((c,{useScope:u,scopeName:d})=>{const p=u(r)[`__scope${d}`];return{...c,...p}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return e.scopeName=t.scopeName,e}function S0(n){const t=UB(n),e=I.forwardRef((i,s)=>{const{children:r,...a}=i,c=I.Children.toArray(r),u=c.find($B);if(u){const d=u.props.children,f=c.map(p=>p===u?I.Children.count(d)>1?I.Children.only(null):I.isValidElement(d)?d.props.children:null:p);return T.jsx(t,{...a,ref:s,children:I.isValidElement(d)?I.cloneElement(d,void 0,f):null})}return T.jsx(t,{...a,ref:s,children:r})});return e.displayName=`${n}.Slot`,e}var zB=S0("Slot");function UB(n){const t=I.forwardRef((e,i)=>{const{children:s,...r}=e;if(I.isValidElement(s)){const a=VB(s),c=WB(r,s.props);return s.type!==I.Fragment&&(c.ref=i?PM(i,a):a),I.cloneElement(s,c)}return I.Children.count(s)>1?I.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var TM=Symbol("radix.slottable");function HB(n){const t=({children:e})=>T.jsx(T.Fragment,{children:e});return t.displayName=`${n}.Slottable`,t.__radixId=TM,t}function $B(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===TM}function WB(n,t){const e={...t};for(const i in t){const s=n[i],r=t[i];/^on[A-Z]/.test(i)?s&&r?e[i]=(...c)=>{const u=r(...c);return s(...c),u}:s&&(e[i]=s):i==="style"?e[i]={...s,...r}:i==="className"&&(e[i]=[s,r].filter(Boolean).join(" "))}return{...n,...e}}function VB(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function GB(n){const t=n+"CollectionProvider",[e,i]=Aw(t),[s,r]=e(t,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:A,children:w}=_,S=st.useRef(null),E=st.useRef(new Map).current;return T.jsx(s,{scope:A,itemMap:E,collectionRef:S,children:w})};a.displayName=t;const c=n+"CollectionSlot",u=S0(c),d=st.forwardRef((_,A)=>{const{scope:w,children:S}=_,E=r(c,w),M=vr(A,E.collectionRef);return T.jsx(u,{ref:M,children:S})});d.displayName=c;const f=n+"CollectionItemSlot",p="data-radix-collection-item",g=S0(f),v=st.forwardRef((_,A)=>{const{scope:w,children:S,...E}=_,M=st.useRef(null),N=vr(A,M),D=r(f,w);return st.useEffect(()=>(D.itemMap.set(M,{ref:M,...E}),()=>void D.itemMap.delete(M))),T.jsx(g,{[p]:"",ref:N,children:S})});v.displayName=f;function x(_){const A=r(n+"CollectionConsumer",_);return st.useCallback(()=>{const S=A.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(A.itemMap.values()).sort((D,O)=>E.indexOf(D.ref.current)-E.indexOf(O.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},x,i]}var qB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],di=qB.reduce((n,t)=>{const e=S0(`Primitive.${t}`),i=I.forwardRef((s,r)=>{const{asChild:a,...c}=s,u=a?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(u,{...c,ref:r})});return i.displayName=`Primitive.${t}`,{...n,[t]:i}},{});function kM(n,t){n&&up.flushSync(()=>n.dispatchEvent(t))}function oc(n){const t=I.useRef(n);return I.useEffect(()=>{t.current=n}),I.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}function ZB(n,t=globalThis==null?void 0:globalThis.document){const e=oc(n);I.useEffect(()=>{const i=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[e,t])}var XB="DismissableLayer",Jx="dismissableLayer.update",YB="dismissableLayer.pointerDownOutside",KB="dismissableLayer.focusOutside",OP,LM=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FA=I.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,onDismiss:c,...u}=n,d=I.useContext(LM),[f,p]=I.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=I.useState({}),x=vr(t,O=>p(O)),_=Array.from(d.layers),[A]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(A),S=f?_.indexOf(f):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,M=S>=w,N=JB(O=>{const B=O.target,z=[...d.branches].some(H=>H.contains(B));!M||z||(s==null||s(O),a==null||a(O),O.defaultPrevented||c==null||c())},g),D=tj(O=>{const B=O.target;[...d.branches].some(H=>H.contains(B))||(r==null||r(O),a==null||a(O),O.defaultPrevented||c==null||c())},g);return ZB(O=>{S===d.layers.size-1&&(i==null||i(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},g),I.useEffect(()=>{if(f)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(OP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),FP(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=OP)}},[f,g,e,d]),I.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),FP())},[f,d]),I.useEffect(()=>{const O=()=>v({});return document.addEventListener(Jx,O),()=>document.removeEventListener(Jx,O)},[]),T.jsx(di.div,{...u,ref:x,style:{pointerEvents:E?M?"auto":"none":void 0,...n.style},onFocusCapture:on(n.onFocusCapture,D.onFocusCapture),onBlurCapture:on(n.onBlurCapture,D.onBlurCapture),onPointerDownCapture:on(n.onPointerDownCapture,N.onPointerDownCapture)})});FA.displayName=XB;var QB="DismissableLayerBranch",MM=I.forwardRef((n,t)=>{const e=I.useContext(LM),i=I.useRef(null),s=vr(t,i);return I.useEffect(()=>{const r=i.current;if(r)return e.branches.add(r),()=>{e.branches.delete(r)}},[e.branches]),T.jsx(di.div,{...n,ref:s})});MM.displayName=QB;function JB(n,t=globalThis==null?void 0:globalThis.document){const e=oc(n),i=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const r=c=>{if(c.target&&!i.current){let u=function(){RM(YB,e,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function tj(n,t=globalThis==null?void 0:globalThis.document){const e=oc(n),i=I.useRef(!1);return I.useEffect(()=>{const s=r=>{r.target&&!i.current&&RM(KB,e,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function FP(){const n=new CustomEvent(Jx);document.dispatchEvent(n)}function RM(n,t,e,{discrete:i}){const s=e.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(n,t,{once:!0}),i?kM(s,r):s.dispatchEvent(r)}var ej=FA,nj=MM,ac=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},ij="Portal",NM=I.forwardRef((n,t)=>{var c;const{container:e,...i}=n,[s,r]=I.useState(!1);ac(()=>r(!0),[]);const a=e||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?EM.createPortal(T.jsx(di.div,{...i,ref:t}),a):null});NM.displayName=ij;function sj(n,t){return I.useReducer((e,i)=>t[e][i]??e,n)}var BA=n=>{const{present:t,children:e}=n,i=rj(t),s=typeof e=="function"?e({present:i.isPresent}):I.Children.only(e),r=vr(i.ref,oj(s));return typeof e=="function"||i.isPresent?I.cloneElement(s,{ref:r}):null};BA.displayName="Presence";function rj(n){const[t,e]=I.useState(),i=I.useRef(null),s=I.useRef(n),r=I.useRef("none"),a=n?"mounted":"unmounted",[c,u]=sj(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const d=Wy(i.current);r.current=c==="mounted"?d:"none"},[c]),ac(()=>{const d=i.current,f=s.current;if(f!==n){const g=r.current,v=Wy(d);n?u("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,u]),ac(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,p=v=>{const _=Wy(i.current).includes(v.animationName);if(v.target===t&&_&&(u("ANIMATION_END"),!s.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},g=v=>{v.target===t&&(r.current=Wy(i.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:I.useCallback(d=>{i.current=d?getComputedStyle(d):null,e(d)},[])}}function Wy(n){return(n==null?void 0:n.animationName)||"none"}function oj(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var aj=xk[" useInsertionEffect ".trim().toString()]||ac;function lj({prop:n,defaultProp:t,onChange:e=()=>{},caller:i}){const[s,r,a]=cj({defaultProp:t,onChange:e}),c=n!==void 0,u=c?n:s;{const f=I.useRef(n!==void 0);I.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,i])}const d=I.useCallback(f=>{var p;if(c){const g=uj(f)?f(n):f;g!==n&&((p=a.current)==null||p.call(a,g))}else r(f)},[c,n,r,a]);return[u,d]}function cj({defaultProp:n,onChange:t}){const[e,i]=I.useState(n),s=I.useRef(e),r=I.useRef(t);return aj(()=>{r.current=t},[t]),I.useEffect(()=>{var a;s.current!==e&&((a=r.current)==null||a.call(r,e),s.current=e)},[e,s]),[e,i,r]}function uj(n){return typeof n=="function"}var hj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dj="VisuallyHidden",Ew=I.forwardRef((n,t)=>T.jsx(di.span,{...n,ref:t,style:{...hj,...n.style}}));Ew.displayName=dj;var fj=Ew,jA="ToastProvider",[zA,pj,mj]=GB("Toast"),[IM,nW]=Aw("Toast",[mj]),[gj,Cw]=IM(jA),DM=n=>{const{__scopeToast:t,label:e="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:r=50,children:a}=n,[c,u]=I.useState(null),[d,f]=I.useState(0),p=I.useRef(!1),g=I.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${jA}\`. Expected non-empty \`string\`.`),T.jsx(zA.Provider,{scope:t,children:T.jsx(gj,{scope:t,label:e,duration:i,swipeDirection:s,swipeThreshold:r,toastCount:d,viewport:c,onViewportChange:u,onToastAdd:I.useCallback(()=>f(v=>v+1),[]),onToastRemove:I.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:a})})};DM.displayName=jA;var OM="ToastViewport",vj=["F8"],t1="toast.viewportPause",e1="toast.viewportResume",FM=I.forwardRef((n,t)=>{const{__scopeToast:e,hotkey:i=vj,label:s="Notifications ({hotkey})",...r}=n,a=Cw(OM,e),c=pj(e),u=I.useRef(null),d=I.useRef(null),f=I.useRef(null),p=I.useRef(null),g=vr(t,p,a.onViewportChange),v=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;I.useEffect(()=>{const A=w=>{var E;i.length!==0&&i.every(M=>w[M]||w.code===M)&&((E=p.current)==null||E.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[i]),I.useEffect(()=>{const A=u.current,w=p.current;if(x&&A&&w){const S=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(t1);w.dispatchEvent(D),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(e1);w.dispatchEvent(D),a.isClosePausedRef.current=!1}},M=D=>{!A.contains(D.relatedTarget)&&E()},N=()=>{A.contains(document.activeElement)||E()};return A.addEventListener("focusin",S),A.addEventListener("focusout",M),A.addEventListener("pointermove",S),A.addEventListener("pointerleave",N),window.addEventListener("blur",S),window.addEventListener("focus",E),()=>{A.removeEventListener("focusin",S),A.removeEventListener("focusout",M),A.removeEventListener("pointermove",S),A.removeEventListener("pointerleave",N),window.removeEventListener("blur",S),window.removeEventListener("focus",E)}}},[x,a.isClosePausedRef]);const _=I.useCallback(({tabbingDirection:A})=>{const S=c().map(E=>{const M=E.ref.current,N=[M,...Lj(M)];return A==="forwards"?N:N.reverse()});return(A==="forwards"?S.reverse():S).flat()},[c]);return I.useEffect(()=>{const A=p.current;if(A){const w=S=>{var N,D,O;const E=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!E){const B=document.activeElement,z=S.shiftKey;if(S.target===A&&z){(N=d.current)==null||N.focus();return}const V=_({tabbingDirection:z?"backwards":"forwards"}),J=V.findIndex(U=>U===B);qb(V.slice(J+1))?S.preventDefault():z?(D=d.current)==null||D.focus():(O=f.current)==null||O.focus()}};return A.addEventListener("keydown",w),()=>A.removeEventListener("keydown",w)}},[c,_]),T.jsxs(nj,{ref:u,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&T.jsx(n1,{ref:d,onFocusFromOutsideViewport:()=>{const A=_({tabbingDirection:"forwards"});qb(A)}}),T.jsx(zA.Slot,{scope:e,children:T.jsx(di.ol,{tabIndex:-1,...r,ref:g})}),x&&T.jsx(n1,{ref:f,onFocusFromOutsideViewport:()=>{const A=_({tabbingDirection:"backwards"});qb(A)}})]})});FM.displayName=OM;var BM="ToastFocusProxy",n1=I.forwardRef((n,t)=>{const{__scopeToast:e,onFocusFromOutsideViewport:i,...s}=n,r=Cw(BM,e);return T.jsx(Ew,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var d;const c=a.relatedTarget;!((d=r.viewport)!=null&&d.contains(c))&&i()}})});n1.displayName=BM;var qv="Toast",yj="toast.swipeStart",_j="toast.swipeMove",wj="toast.swipeCancel",bj="toast.swipeEnd",jM=I.forwardRef((n,t)=>{const{forceMount:e,open:i,defaultOpen:s,onOpenChange:r,...a}=n,[c,u]=lj({prop:i,defaultProp:s??!0,onChange:r,caller:qv});return T.jsx(BA,{present:e||c,children:T.jsx(Aj,{open:c,...a,ref:t,onClose:()=>u(!1),onPause:oc(n.onPause),onResume:oc(n.onResume),onSwipeStart:on(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:on(n.onSwipeMove,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:on(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:on(n.onSwipeEnd,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});jM.displayName=qv;var[xj,Sj]=IM(qv,{onClose(){}}),Aj=I.forwardRef((n,t)=>{const{__scopeToast:e,type:i="foreground",duration:s,open:r,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:v,...x}=n,_=Cw(qv,e),[A,w]=I.useState(null),S=vr(t,U=>w(U)),E=I.useRef(null),M=I.useRef(null),N=s||_.duration,D=I.useRef(0),O=I.useRef(N),B=I.useRef(0),{onToastAdd:z,onToastRemove:H}=_,W=oc(()=>{var et;(A==null?void 0:A.contains(document.activeElement))&&((et=_.viewport)==null||et.focus()),a()}),V=I.useCallback(U=>{!U||U===1/0||(window.clearTimeout(B.current),D.current=new Date().getTime(),B.current=window.setTimeout(W,U))},[W]);I.useEffect(()=>{const U=_.viewport;if(U){const et=()=>{V(O.current),d==null||d()},q=()=>{const Y=new Date().getTime()-D.current;O.current=O.current-Y,window.clearTimeout(B.current),u==null||u()};return U.addEventListener(t1,q),U.addEventListener(e1,et),()=>{U.removeEventListener(t1,q),U.removeEventListener(e1,et)}}},[_.viewport,N,u,d,V]),I.useEffect(()=>{r&&!_.isClosePausedRef.current&&V(N)},[r,N,_.isClosePausedRef,V]),I.useEffect(()=>(z(),()=>H()),[z,H]);const J=I.useMemo(()=>A?GM(A):null,[A]);return _.viewport?T.jsxs(T.Fragment,{children:[J&&T.jsx(Ej,{__scopeToast:e,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:J}),T.jsx(xj,{scope:e,onClose:W,children:up.createPortal(T.jsx(zA.ItemSlot,{scope:e,children:T.jsx(ej,{asChild:!0,onEscapeKeyDown:on(c,()=>{_.isFocusedToastEscapeKeyDownRef.current||W(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:T.jsx(di.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":_.swipeDirection,...x,ref:S,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:on(n.onKeyDown,U=>{U.key==="Escape"&&(c==null||c(U.nativeEvent),U.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:on(n.onPointerDown,U=>{U.button===0&&(E.current={x:U.clientX,y:U.clientY})}),onPointerMove:on(n.onPointerMove,U=>{if(!E.current)return;const et=U.clientX-E.current.x,q=U.clientY-E.current.y,Y=!!M.current,j=["left","right"].includes(_.swipeDirection),Z=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,X=j?Z(0,et):0,rt=j?0:Z(0,q),Q=U.pointerType==="touch"?10:2,it={x:X,y:rt},at={originalEvent:U,delta:it};Y?(M.current=it,Vy(_j,p,at,{discrete:!1})):BP(it,_.swipeDirection,Q)?(M.current=it,Vy(yj,f,at,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(et)>Q||Math.abs(q)>Q)&&(E.current=null)}),onPointerUp:on(n.onPointerUp,U=>{const et=M.current,q=U.target;if(q.hasPointerCapture(U.pointerId)&&q.releasePointerCapture(U.pointerId),M.current=null,E.current=null,et){const Y=U.currentTarget,j={originalEvent:U,delta:et};BP(et,_.swipeDirection,_.swipeThreshold)?Vy(bj,v,j,{discrete:!0}):Vy(wj,g,j,{discrete:!0}),Y.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),Ej=n=>{const{__scopeToast:t,children:e,...i}=n,s=Cw(qv,t),[r,a]=I.useState(!1),[c,u]=I.useState(!1);return Tj(()=>a(!0)),I.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:T.jsx(NM,{asChild:!0,children:T.jsx(Ew,{...i,children:r&&T.jsxs(T.Fragment,{children:[s.label," ",e]})})})},Cj="ToastTitle",zM=I.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return T.jsx(di.div,{...i,ref:t})});zM.displayName=Cj;var Pj="ToastDescription",UM=I.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return T.jsx(di.div,{...i,ref:t})});UM.displayName=Pj;var HM="ToastAction",$M=I.forwardRef((n,t)=>{const{altText:e,...i}=n;return e.trim()?T.jsx(VM,{altText:e,asChild:!0,children:T.jsx(UA,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${HM}\`. Expected non-empty \`string\`.`),null)});$M.displayName=HM;var WM="ToastClose",UA=I.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n,s=Sj(WM,e);return T.jsx(VM,{asChild:!0,children:T.jsx(di.button,{type:"button",...i,ref:t,onClick:on(n.onClick,s.onClose)})})});UA.displayName=WM;var VM=I.forwardRef((n,t)=>{const{__scopeToast:e,altText:i,...s}=n;return T.jsx(di.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function GM(n){const t=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),kj(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",r=i.dataset.radixToastAnnounceExclude==="";if(!s)if(r){const a=i.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...GM(i))}}),t}function Vy(n,t,e,{discrete:i}){const s=e.originalEvent.currentTarget,r=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:e});t&&s.addEventListener(n,t,{once:!0}),i?kM(s,r):s.dispatchEvent(r)}var BP=(n,t,e=0)=>{const i=Math.abs(n.x),s=Math.abs(n.y),r=i>s;return t==="left"||t==="right"?r&&i>e:!r&&s>e};function Tj(n=()=>{}){const t=oc(n);ac(()=>{let e=0,i=0;return e=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(i)}},[t])}function kj(n){return n.nodeType===n.ELEMENT_NODE}function Lj(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function qb(n){const t=document.activeElement;return n.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var Mj=DM,qM=FM,ZM=jM,XM=zM,YM=UM,KM=$M,QM=UA;function JM(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=JM(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function hp(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=JM(n))&&(i&&(i+=" "),i+=t);return i}const jP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,zP=hp,HA=(n,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return zP(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:s,defaultVariants:r}=t,a=Object.keys(s).map(d=>{const f=e==null?void 0:e[d],p=r==null?void 0:r[d];if(f===null)return null;const g=jP(f)||jP(p);return s[d][g]}),c=e&&Object.entries(e).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),u=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(x=>{let[_,A]=x;return Array.isArray(A)?A.includes({...r,...c}[_]):{...r,...c}[_]===A})?[...d,p,g]:d},[]);return zP(n,a,u,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t2=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=I.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...c},u)=>I.createElement("svg",{ref:u,...Nj,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:t2("lucide",s),...c},[...a.map(([d,f])=>I.createElement(d,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=(n,t)=>{const e=I.forwardRef(({className:i,...s},r)=>I.createElement(Ij,{ref:r,iconNode:t,className:t2(`lucide-${Rj(n)}`,i),...s}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=fi("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=fi("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=fi("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=fi("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=fi("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=fi("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=fi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=fi("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=fi("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=fi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=fi("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=fi("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=fi("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=fi("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=fi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),WA="-",Wj=n=>{const t=Gj(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:a=>{const c=a.split(WA);return c[0]===""&&c.length!==1&&c.shift(),r2(c,t)||Vj(a)},getConflictingClassGroupIds:(a,c)=>{const u=e[a]||[];return c&&i[a]?[...u,...i[a]]:u}}},r2=(n,t)=>{var a;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?r2(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=n.join(WA);return(a=t.validators.find(({validator:c})=>c(r)))==null?void 0:a.classGroupId},UP=/^\[(.+)\]$/,Vj=n=>{if(UP.test(n)){const t=UP.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Gj=n=>{const{theme:t,prefix:e}=n,i={nextPart:new Map,validators:[]};return Zj(Object.entries(n.classGroups),e).forEach(([r,a])=>{i1(a,i,r,t)}),i},i1=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?t:HP(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(qj(s)){i1(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,a])=>{i1(a,HP(t,r),e,i)})})},HP=(n,t)=>{let e=n;return t.split(WA).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},qj=n=>n.isThemeGetter,Zj=(n,t)=>t?n.map(([e,i])=>{const s=i.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,c])=>[t+a,c])):r);return[e,s]}):n,Xj=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(r,a)=>{e.set(r,a),t++,t>n&&(t=0,i=e,e=new Map)};return{get(r){let a=e.get(r);if(a!==void 0)return a;if((a=i.get(r))!==void 0)return s(r,a),a},set(r,a){e.has(r)?e.set(r,a):s(r,a)}}},o2="!",Yj=n=>{const{separator:t,experimentalParseClassName:e}=n,i=t.length===1,s=t[0],r=t.length,a=c=>{const u=[];let d=0,f=0,p;for(let A=0;A<c.length;A++){let w=c[A];if(d===0){if(w===s&&(i||c.slice(A,A+r)===t)){u.push(c.slice(f,A)),f=A+r;continue}if(w==="/"){p=A;continue}}w==="["?d++:w==="]"&&d--}const g=u.length===0?c:c.substring(f),v=g.startsWith(o2),x=v?g.substring(1):g,_=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:_}};return e?c=>e({className:c,parseClassName:a}):a},Kj=n=>{if(n.length<=1)return n;const t=[];let e=[];return n.forEach(i=>{i[0]==="["?(t.push(...e.sort(),i),e=[]):e.push(i)}),t.push(...e.sort()),t},Qj=n=>({cache:Xj(n.cacheSize),parseClassName:Yj(n),...Wj(n)}),Jj=/\s+/,t3=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s}=t,r=[],a=n.trim().split(Jj);let c="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=e(d);let x=!!v,_=i(x?g.substring(0,v):g);if(!_){if(!x){c=d+(c.length>0?" "+c:c);continue}if(_=i(g),!_){c=d+(c.length>0?" "+c:c);continue}x=!1}const A=Kj(f).join(":"),w=p?A+o2:A,S=w+_;if(r.includes(S))continue;r.push(S);const E=s(_,x);for(let M=0;M<E.length;++M){const N=E[M];r.push(w+N)}c=d+(c.length>0?" "+c:c)}return c};function e3(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=a2(t))&&(i&&(i+=" "),i+=e);return i}const a2=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=a2(n[i]))&&(e&&(e+=" "),e+=t);return e};function n3(n,...t){let e,i,s,r=a;function a(u){const d=t.reduce((f,p)=>p(f),n());return e=Qj(d),i=e.cache.get,s=e.cache.set,r=c,c(u)}function c(u){const d=i(u);if(d)return d;const f=t3(u,e);return s(u,f),f}return function(){return r(e3.apply(null,arguments))}}const ge=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},l2=/^\[(?:([a-z-]+):)?(.+)\]$/i,i3=/^\d+\/\d+$/,s3=new Set(["px","full","screen"]),r3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Po=n=>cd(n)||s3.has(n)||i3.test(n),ja=n=>dp(n,"length",v3),cd=n=>!!n&&!Number.isNaN(Number(n)),Zb=n=>dp(n,"number",cd),Up=n=>!!n&&Number.isInteger(Number(n)),u3=n=>n.endsWith("%")&&cd(n.slice(0,-1)),Tt=n=>l2.test(n),za=n=>r3.test(n),h3=new Set(["length","size","percentage"]),d3=n=>dp(n,h3,c2),f3=n=>dp(n,"position",c2),p3=new Set(["image","url"]),m3=n=>dp(n,p3,_3),g3=n=>dp(n,"",y3),Hp=()=>!0,dp=(n,t,e)=>{const i=l2.exec(n);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):e(i[2]):!1},v3=n=>o3.test(n)&&!a3.test(n),c2=()=>!1,y3=n=>l3.test(n),_3=n=>c3.test(n),w3=()=>{const n=ge("colors"),t=ge("spacing"),e=ge("blur"),i=ge("brightness"),s=ge("borderColor"),r=ge("borderRadius"),a=ge("borderSpacing"),c=ge("borderWidth"),u=ge("contrast"),d=ge("grayscale"),f=ge("hueRotate"),p=ge("invert"),g=ge("gap"),v=ge("gradientColorStops"),x=ge("gradientColorStopPositions"),_=ge("inset"),A=ge("margin"),w=ge("opacity"),S=ge("padding"),E=ge("saturate"),M=ge("scale"),N=ge("sepia"),D=ge("skew"),O=ge("space"),B=ge("translate"),z=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Tt,t],V=()=>[Tt,t],J=()=>["",Po,ja],U=()=>["auto",cd,Tt],et=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Tt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],rt=()=>[cd,Tt];return{cacheSize:500,separator:":",theme:{colors:[Hp],spacing:[Po,ja],blur:["none","",za,Tt],brightness:rt(),borderColor:[n],borderRadius:["none","","full",za,Tt],borderSpacing:V(),borderWidth:J(),contrast:rt(),grayscale:Z(),hueRotate:rt(),invert:Z(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[u3,ja],inset:W(),margin:W(),opacity:rt(),padding:V(),saturate:rt(),scale:rt(),sepia:Z(),skew:rt(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Tt]}],container:["container"],columns:[{columns:[za]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...et(),Tt]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Up,Tt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Tt]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Up,Tt]}],"grid-cols":[{"grid-cols":[Hp]}],"col-start-end":[{col:["auto",{span:["full",Up,Tt]},Tt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Hp]}],"row-start-end":[{row:["auto",{span:[Up,Tt]},Tt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Tt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Tt,t]}],"min-w":[{"min-w":[Tt,t,"min","max","fit"]}],"max-w":[{"max-w":[Tt,t,"none","full","min","max","fit","prose",{screen:[za]},za]}],h:[{h:[Tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",za,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zb]}],"font-family":[{font:[Hp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Tt]}],"line-clamp":[{"line-clamp":["none",cd,Zb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Po,Tt]}],"list-image":[{"list-image":["none",Tt]}],"list-style-type":[{list:["none","disc","decimal",Tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Po,ja]}],"underline-offset":[{"underline-offset":["auto",Po,Tt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...et(),f3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",d3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},m3]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Po,Tt]}],"outline-w":[{outline:[Po,ja]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Po,ja]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",za,g3]}],"shadow-color":[{shadow:[Hp]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",za,Tt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[E]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Tt]}],duration:[{duration:rt()}],ease:[{ease:["linear","in","out","in-out",Tt]}],delay:[{delay:rt()}],animate:[{animate:["none","spin","ping","pulse","bounce",Tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Up,Tt]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Tt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Po,ja,Zb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b3=n3(w3);function Zn(...n){return b3(hp(n))}const x3=Mj,u2=I.forwardRef(({className:n,...t},e)=>T.jsx(qM,{ref:e,className:Zn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...t}));u2.displayName=qM.displayName;const S3=HA("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),h2=I.forwardRef(({className:n,variant:t,...e},i)=>T.jsx(ZM,{ref:i,className:Zn(S3({variant:t}),n),...e}));h2.displayName=ZM.displayName;const A3=I.forwardRef(({className:n,...t},e)=>T.jsx(KM,{ref:e,className:Zn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...t}));A3.displayName=KM.displayName;const d2=I.forwardRef(({className:n,...t},e)=>T.jsx(QM,{ref:e,className:Zn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...t,children:T.jsx($A,{className:"h-4 w-4"})}));d2.displayName=QM.displayName;const f2=I.forwardRef(({className:n,...t},e)=>T.jsx(XM,{ref:e,className:Zn("text-sm font-semibold",n),...t}));f2.displayName=XM.displayName;const p2=I.forwardRef(({className:n,...t},e)=>T.jsx(YM,{ref:e,className:Zn("text-sm opacity-90",n),...t}));p2.displayName=YM.displayName;function E3(){const{toasts:n}=BB();return T.jsxs(x3,{children:[n.map(function({id:t,title:e,description:i,action:s,...r}){return T.jsxs(h2,{...r,children:[T.jsxs("div",{className:"grid gap-1",children:[e&&T.jsx(f2,{children:e}),i&&T.jsx(p2,{children:i})]}),s,T.jsx(d2,{})]},t)}),T.jsx(u2,{})]})}var $P=["light","dark"],C3="(prefers-color-scheme: dark)",P3=I.createContext(void 0),T3={setTheme:n=>{},themes:[]},k3=()=>{var n;return(n=I.useContext(P3))!=null?n:T3};I.memo(({forcedTheme:n,storageKey:t,attribute:e,enableSystem:i,enableColorScheme:s,defaultTheme:r,value:a,attrs:c,nonce:u})=>{let d=r==="system",f=e==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${e}',s='setAttribute';`,p=s?$P.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(x,_=!1,A=!0)=>{let w=a?a[x]:x,S=_?x+"|| ''":`'${w}'`,E="";return s&&A&&!_&&$P.includes(x)&&(E+=`d.style.colorScheme = '${x}';`),e==="class"?_||w?E+=`c.add(${S})`:E+="null":w&&(E+=`d[s](n,${S})`),E},v=n?`!function(){${f}${g(n)}}()`:i?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${C3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}${d?"":"else{"+g(r,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}else{${g(r,!1,!1)};}${p}}catch(t){}}();`;return I.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:v}})});var L3=n=>{switch(n){case"success":return N3;case"info":return D3;case"warning":return I3;case"error":return O3;default:return null}},M3=Array(12).fill(0),R3=({visible:n,className:t})=>st.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},st.createElement("div",{className:"sonner-spinner"},M3.map((e,i)=>st.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),N3=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I3=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),D3=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O3=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},st.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F3=st.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},st.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),st.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),B3=()=>{let[n,t]=st.useState(document.hidden);return st.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n},s1=1,j3=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let t=this.subscribers.indexOf(n);this.subscribers.splice(t,1)}),this.publish=n=>{this.subscribers.forEach(t=>t(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var t;let{message:e,...i}=n,s=typeof(n==null?void 0:n.id)=="number"||((t=n.id)==null?void 0:t.length)>0?n.id:s1++,r=this.toasts.find(c=>c.id===s),a=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),r?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...n,id:s,title:e}),{...c,...n,id:s,dismissible:a,title:e}):c):this.addToast({title:e,...i,dismissible:a,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(t=>{this.subscribers.forEach(e=>e({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:n,dismiss:!0})),n),this.message=(n,t)=>this.create({...t,message:n}),this.error=(n,t)=>this.create({...t,message:n,type:"error"}),this.success=(n,t)=>this.create({...t,type:"success",message:n}),this.info=(n,t)=>this.create({...t,type:"info",message:n}),this.warning=(n,t)=>this.create({...t,type:"warning",message:n}),this.loading=(n,t)=>this.create({...t,type:"loading",message:n}),this.promise=(n,t)=>{if(!t)return;let e;t.loading!==void 0&&(e=this.create({...t,promise:n,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=n instanceof Promise?n:n(),s=e!==void 0,r,a=i.then(async u=>{if(r=["resolve",u],st.isValidElement(u))s=!1,this.create({id:e,type:"default",message:u});else if(U3(u)&&!u.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:e,type:"error",message:d,description:f})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(u):t.success,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:e,type:"success",message:d,description:f})}}).catch(async u=>{if(r=["reject",u],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(u):t.error,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:e,type:"error",message:d,description:f})}}).finally(()=>{var u;s&&(this.dismiss(e),e=void 0),(u=t.finally)==null||u.call(t)}),c=()=>new Promise((u,d)=>a.then(()=>r[0]==="reject"?d(r[1]):u(r[1])).catch(d));return typeof e!="string"&&typeof e!="number"?{unwrap:c}:Object.assign(e,{unwrap:c})},this.custom=(n,t)=>{let e=(t==null?void 0:t.id)||s1++;return this.create({jsx:n(e),id:e,...t}),e},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ai=new j3,z3=(n,t)=>{let e=(t==null?void 0:t.id)||s1++;return Ai.addToast({title:n,...t,id:e}),e},U3=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",H3=z3,$3=()=>Ai.toasts,W3=()=>Ai.getActiveToasts(),V3=Object.assign(H3,{success:Ai.success,info:Ai.info,warning:Ai.warning,error:Ai.error,custom:Ai.custom,message:Ai.message,promise:Ai.promise,dismiss:Ai.dismiss,loading:Ai.loading},{getHistory:$3,getToasts:W3});function G3(n,{insertAt:t}={}){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}G3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qy(n){return n.label!==void 0}var q3=3,Z3="32px",X3="16px",WP=4e3,Y3=356,K3=14,Q3=20,J3=200;function Vs(...n){return n.filter(Boolean).join(" ")}function tz(n){let[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}var ez=n=>{var t,e,i,s,r,a,c,u,d,f,p;let{invert:g,toast:v,unstyled:x,interacting:_,setHeights:A,visibleToasts:w,heights:S,index:E,toasts:M,expanded:N,removeToast:D,defaultRichColors:O,closeButton:B,style:z,cancelButtonStyle:H,actionButtonStyle:W,className:V="",descriptionClassName:J="",duration:U,position:et,gap:q,loadingIcon:Y,expandByDefault:j,classNames:Z,icons:X,closeButtonAriaLabel:rt="Close toast",pauseWhenPageIsHidden:Q}=n,[it,at]=st.useState(null),[ut,dt]=st.useState(null),[ct,pe]=st.useState(!1),[He,me]=st.useState(!1),[Et,Re]=st.useState(!1),[Dt,zt]=st.useState(!1),[Kt,Ne]=st.useState(!1),[le,hs]=st.useState(0),[xr,bo]=st.useState(0),zs=st.useRef(v.duration||U||WP),Sr=st.useRef(null),ds=st.useRef(null),vp=E===0,yp=E+1<=w,cn=v.type,Us=v.dismissible!==!1,Mi=v.className||"",Ar=v.descriptionClassName||"",In=st.useMemo(()=>S.findIndex(bt=>bt.toastId===v.id)||0,[S,v.id]),Ia=st.useMemo(()=>{var bt;return(bt=v.closeButton)!=null?bt:B},[v.closeButton,B]),oy=st.useMemo(()=>v.duration||U||WP,[v.duration,U]),yh=st.useRef(0),Er=st.useRef(0),_p=st.useRef(0),Da=st.useRef(null),[vc,Ww]=et.split("-"),ay=st.useMemo(()=>S.reduce((bt,Gt,ce)=>ce>=In?bt:bt+Gt.height,0),[S,In]),wp=B3(),ly=v.invert||g,_h=cn==="loading";Er.current=st.useMemo(()=>In*q+ay,[In,ay]),st.useEffect(()=>{zs.current=oy},[oy]),st.useEffect(()=>{pe(!0)},[]),st.useEffect(()=>{let bt=ds.current;if(bt){let Gt=bt.getBoundingClientRect().height;return bo(Gt),A(ce=>[{toastId:v.id,height:Gt,position:v.position},...ce]),()=>A(ce=>ce.filter(Ri=>Ri.toastId!==v.id))}},[A,v.id]),st.useLayoutEffect(()=>{if(!ct)return;let bt=ds.current,Gt=bt.style.height;bt.style.height="auto";let ce=bt.getBoundingClientRect().height;bt.style.height=Gt,bo(ce),A(Ri=>Ri.find(Yn=>Yn.toastId===v.id)?Ri.map(Yn=>Yn.toastId===v.id?{...Yn,height:ce}:Yn):[{toastId:v.id,height:ce,position:v.position},...Ri])},[ct,v.title,v.description,A,v.id]);let Cr=st.useCallback(()=>{me(!0),hs(Er.current),A(bt=>bt.filter(Gt=>Gt.toastId!==v.id)),setTimeout(()=>{D(v)},J3)},[v,D,A,Er]);st.useEffect(()=>{if(v.promise&&cn==="loading"||v.duration===1/0||v.type==="loading")return;let bt;return N||_||Q&&wp?(()=>{if(_p.current<yh.current){let Gt=new Date().getTime()-yh.current;zs.current=zs.current-Gt}_p.current=new Date().getTime()})():zs.current!==1/0&&(yh.current=new Date().getTime(),bt=setTimeout(()=>{var Gt;(Gt=v.onAutoClose)==null||Gt.call(v,v),Cr()},zs.current)),()=>clearTimeout(bt)},[N,_,v,cn,Q,wp,Cr]),st.useEffect(()=>{v.delete&&Cr()},[Cr,v.delete]);function Vw(){var bt,Gt,ce;return X!=null&&X.loading?st.createElement("div",{className:Vs(Z==null?void 0:Z.loader,(bt=v==null?void 0:v.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":cn==="loading"},X.loading):Y?st.createElement("div",{className:Vs(Z==null?void 0:Z.loader,(Gt=v==null?void 0:v.classNames)==null?void 0:Gt.loader,"sonner-loader"),"data-visible":cn==="loading"},Y):st.createElement(R3,{className:Vs(Z==null?void 0:Z.loader,(ce=v==null?void 0:v.classNames)==null?void 0:ce.loader),visible:cn==="loading"})}return st.createElement("li",{tabIndex:0,ref:ds,className:Vs(V,Mi,Z==null?void 0:Z.toast,(t=v==null?void 0:v.classNames)==null?void 0:t.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[cn],(e=v==null?void 0:v.classNames)==null?void 0:e[cn]),"data-sonner-toast":"","data-rich-colors":(i=v.richColors)!=null?i:O,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":ct,"data-promise":!!v.promise,"data-swiped":Kt,"data-removed":He,"data-visible":yp,"data-y-position":vc,"data-x-position":Ww,"data-index":E,"data-front":vp,"data-swiping":Et,"data-dismissible":Us,"data-type":cn,"data-invert":ly,"data-swipe-out":Dt,"data-swipe-direction":ut,"data-expanded":!!(N||j&&ct),style:{"--index":E,"--toasts-before":E,"--z-index":M.length-E,"--offset":`${He?le:Er.current}px`,"--initial-height":j?"auto":`${xr}px`,...z,...v.style},onDragEnd:()=>{Re(!1),at(null),Da.current=null},onPointerDown:bt=>{_h||!Us||(Sr.current=new Date,hs(Er.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(Re(!0),Da.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,Gt,ce,Ri;if(Dt||!Us)return;Da.current=null;let Yn=Number(((bt=ds.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pr=Number(((Gt=ds.current)==null?void 0:Gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xo=new Date().getTime()-((ce=Sr.current)==null?void 0:ce.getTime()),Ni=it==="x"?Yn:Pr,Tr=Math.abs(Ni)/xo;if(Math.abs(Ni)>=Q3||Tr>.11){hs(Er.current),(Ri=v.onDismiss)==null||Ri.call(v,v),dt(it==="x"?Yn>0?"right":"left":Pr>0?"down":"up"),Cr(),zt(!0),Ne(!1);return}Re(!1),at(null)},onPointerMove:bt=>{var Gt,ce,Ri,Yn;if(!Da.current||!Us||((Gt=window.getSelection())==null?void 0:Gt.toString().length)>0)return;let Pr=bt.clientY-Da.current.y,xo=bt.clientX-Da.current.x,Ni=(ce=n.swipeDirections)!=null?ce:tz(et);!it&&(Math.abs(xo)>1||Math.abs(Pr)>1)&&at(Math.abs(xo)>Math.abs(Pr)?"x":"y");let Tr={x:0,y:0};it==="y"?(Ni.includes("top")||Ni.includes("bottom"))&&(Ni.includes("top")&&Pr<0||Ni.includes("bottom")&&Pr>0)&&(Tr.y=Pr):it==="x"&&(Ni.includes("left")||Ni.includes("right"))&&(Ni.includes("left")&&xo<0||Ni.includes("right")&&xo>0)&&(Tr.x=xo),(Math.abs(Tr.x)>0||Math.abs(Tr.y)>0)&&Ne(!0),(Ri=ds.current)==null||Ri.style.setProperty("--swipe-amount-x",`${Tr.x}px`),(Yn=ds.current)==null||Yn.style.setProperty("--swipe-amount-y",`${Tr.y}px`)}},Ia&&!v.jsx?st.createElement("button",{"aria-label":rt,"data-disabled":_h,"data-close-button":!0,onClick:_h||!Us?()=>{}:()=>{var bt;Cr(),(bt=v.onDismiss)==null||bt.call(v,v)},className:Vs(Z==null?void 0:Z.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},(r=X==null?void 0:X.close)!=null?r:F3):null,v.jsx||I.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:st.createElement(st.Fragment,null,cn||v.icon||v.promise?st.createElement("div",{"data-icon":"",className:Vs(Z==null?void 0:Z.icon,(a=v==null?void 0:v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Vw():null,v.type!=="loading"?v.icon||(X==null?void 0:X[cn])||L3(cn):null):null,st.createElement("div",{"data-content":"",className:Vs(Z==null?void 0:Z.content,(c=v==null?void 0:v.classNames)==null?void 0:c.content)},st.createElement("div",{"data-title":"",className:Vs(Z==null?void 0:Z.title,(u=v==null?void 0:v.classNames)==null?void 0:u.title)},typeof v.title=="function"?v.title():v.title),v.description?st.createElement("div",{"data-description":"",className:Vs(J,Ar,Z==null?void 0:Z.description,(d=v==null?void 0:v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),I.isValidElement(v.cancel)?v.cancel:v.cancel&&qy(v.cancel)?st.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||H,onClick:bt=>{var Gt,ce;qy(v.cancel)&&Us&&((ce=(Gt=v.cancel).onClick)==null||ce.call(Gt,bt),Cr())},className:Vs(Z==null?void 0:Z.cancelButton,(f=v==null?void 0:v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,I.isValidElement(v.action)?v.action:v.action&&qy(v.action)?st.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||W,onClick:bt=>{var Gt,ce;qy(v.action)&&((ce=(Gt=v.action).onClick)==null||ce.call(Gt,bt),!bt.defaultPrevented&&Cr())},className:Vs(Z==null?void 0:Z.actionButton,(p=v==null?void 0:v.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function VP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function nz(n,t){let e={};return[n,t].forEach((i,s)=>{let r=s===1,a=r?"--mobile-offset":"--offset",c=r?X3:Z3;function u(d){["top","right","bottom","left"].forEach(f=>{e[`${a}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?e[`${a}-${d}`]=c:e[`${a}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(c)}),e}var iz=I.forwardRef(function(n,t){let{invert:e,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:a,className:c,offset:u,mobileOffset:d,theme:f="light",richColors:p,duration:g,style:v,visibleToasts:x=q3,toastOptions:_,dir:A=VP(),gap:w=K3,loadingIcon:S,icons:E,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:N}=n,[D,O]=st.useState([]),B=st.useMemo(()=>Array.from(new Set([i].concat(D.filter(Q=>Q.position).map(Q=>Q.position)))),[D,i]),[z,H]=st.useState([]),[W,V]=st.useState(!1),[J,U]=st.useState(!1),[et,q]=st.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=st.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=st.useRef(null),X=st.useRef(!1),rt=st.useCallback(Q=>{O(it=>{var at;return(at=it.find(ut=>ut.id===Q.id))!=null&&at.delete||Ai.dismiss(Q.id),it.filter(({id:ut})=>ut!==Q.id)})},[]);return st.useEffect(()=>Ai.subscribe(Q=>{if(Q.dismiss){O(it=>it.map(at=>at.id===Q.id?{...at,delete:!0}:at));return}setTimeout(()=>{EM.flushSync(()=>{O(it=>{let at=it.findIndex(ut=>ut.id===Q.id);return at!==-1?[...it.slice(0,at),{...it[at],...Q},...it.slice(at+1)]:[Q,...it]})})})}),[]),st.useEffect(()=>{if(f!=="system"){q(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:it})=>{q(it?"dark":"light")})}catch{Q.addListener(({matches:at})=>{try{q(at?"dark":"light")}catch(ut){console.error(ut)}})}},[f]),st.useEffect(()=>{D.length<=1&&V(!1)},[D]),st.useEffect(()=>{let Q=it=>{var at,ut;s.every(dt=>it[dt]||it.code===dt)&&(V(!0),(at=Y.current)==null||at.focus()),it.code==="Escape"&&(document.activeElement===Y.current||(ut=Y.current)!=null&&ut.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),st.useEffect(()=>{if(Y.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,X.current=!1)}},[Y.current]),st.createElement("section",{ref:t,"aria-label":`${M} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((Q,it)=>{var at;let[ut,dt]=Q.split("-");return D.length?st.createElement("ol",{key:Q,dir:A==="auto"?VP():A,tabIndex:-1,ref:Y,className:c,"data-sonner-toaster":!0,"data-theme":et,"data-y-position":ut,"data-lifted":W&&D.length>1&&!r,"data-x-position":dt,style:{"--front-toast-height":`${((at=z[0])==null?void 0:at.height)||0}px`,"--width":`${Y3}px`,"--gap":`${w}px`,...v,...nz(u,d)},onBlur:ct=>{X.current&&!ct.currentTarget.contains(ct.relatedTarget)&&(X.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||X.current||(X.current=!0,Z.current=ct.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{J||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},D.filter(ct=>!ct.position&&it===0||ct.position===Q).map((ct,pe)=>{var He,me;return st.createElement(ez,{key:ct.id,icons:E,index:pe,toast:ct,defaultRichColors:p,duration:(He=_==null?void 0:_.duration)!=null?He:g,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:e,visibleToasts:x,closeButton:(me=_==null?void 0:_.closeButton)!=null?me:a,interacting:J,position:Q,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:rt,toasts:D.filter(Et=>Et.position==ct.position),heights:z.filter(Et=>Et.position==ct.position),setHeights:H,expandByDefault:r,gap:w,loadingIcon:S,expanded:W,pauseWhenPageIsHidden:N,swipeDirections:n.swipeDirections})})):null}))});const sz=({...n})=>{const{theme:t="system"}=k3();return T.jsx(iz,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},rz=["top","right","bottom","left"],lc=Math.min,es=Math.max,A0=Math.round,Zy=Math.floor,vo=n=>({x:n,y:n}),oz={left:"right",right:"left",bottom:"top",top:"bottom"},az={start:"end",end:"start"};function r1(n,t,e){return es(n,lc(t,e))}function Pa(n,t){return typeof n=="function"?n(t):n}function Ta(n){return n.split("-")[0]}function fp(n){return n.split("-")[1]}function VA(n){return n==="x"?"y":"x"}function GA(n){return n==="y"?"height":"width"}const lz=new Set(["top","bottom"]);function po(n){return lz.has(Ta(n))?"y":"x"}function qA(n){return VA(po(n))}function cz(n,t,e){e===void 0&&(e=!1);const i=fp(n),s=qA(n),r=GA(s);let a=s==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=E0(a)),[a,E0(a)]}function uz(n){const t=E0(n);return[o1(n),t,o1(t)]}function o1(n){return n.replace(/start|end/g,t=>az[t])}const GP=["left","right"],qP=["right","left"],hz=["top","bottom"],dz=["bottom","top"];function fz(n,t,e){switch(n){case"top":case"bottom":return e?t?qP:GP:t?GP:qP;case"left":case"right":return t?hz:dz;default:return[]}}function pz(n,t,e,i){const s=fp(n);let r=fz(Ta(n),e==="start",i);return s&&(r=r.map(a=>a+"-"+s),t&&(r=r.concat(r.map(o1)))),r}function E0(n){return n.replace(/left|right|bottom|top/g,t=>oz[t])}function mz(n){return{top:0,right:0,bottom:0,left:0,...n}}function m2(n){return typeof n!="number"?mz(n):{top:n,right:n,bottom:n,left:n}}function C0(n){const{x:t,y:e,width:i,height:s}=n;return{width:i,height:s,top:e,left:t,right:t+i,bottom:e+s,x:t,y:e}}function ZP(n,t,e){let{reference:i,floating:s}=n;const r=po(t),a=qA(t),c=GA(a),u=Ta(t),d=r==="y",f=i.x+i.width/2-s.width/2,p=i.y+i.height/2-s.height/2,g=i[c]/2-s[c]/2;let v;switch(u){case"top":v={x:f,y:i.y-s.height};break;case"bottom":v={x:f,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:p};break;case"left":v={x:i.x-s.width,y:p};break;default:v={x:i.x,y:i.y}}switch(fp(t)){case"start":v[a]-=g*(e&&d?-1:1);break;case"end":v[a]+=g*(e&&d?-1:1);break}return v}const gz=async(n,t,e)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:a}=e,c=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:n,floating:t,strategy:s}),{x:f,y:p}=ZP(d,i,u),g=i,v={},x=0;for(let _=0;_<c.length;_++){const{name:A,fn:w}=c[_],{x:S,y:E,data:M,reset:N}=await w({x:f,y:p,initialPlacement:i,placement:g,strategy:s,middlewareData:v,rects:d,platform:a,elements:{reference:n,floating:t}});f=S??f,p=E??p,v={...v,[A]:{...v[A],...M}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(d=N.rects===!0?await a.getElementRects({reference:n,floating:t,strategy:s}):N.rects),{x:f,y:p}=ZP(d,g,u)),_=-1)}return{x:f,y:p,placement:g,strategy:s,middlewareData:v}};async function Gm(n,t){var e;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:a,elements:c,strategy:u}=n,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Pa(t,n),x=m2(v),A=c[g?p==="floating"?"reference":"floating":p],w=C0(await r.getClippingRect({element:(e=await(r.isElement==null?void 0:r.isElement(A)))==null||e?A:A.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),S=p==="floating"?{x:i,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),M=await(r.isElement==null?void 0:r.isElement(E))?await(r.getScale==null?void 0:r.getScale(E))||{x:1,y:1}:{x:1,y:1},N=C0(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:S,offsetParent:E,strategy:u}):S);return{top:(w.top-N.top+x.top)/M.y,bottom:(N.bottom-w.bottom+x.bottom)/M.y,left:(w.left-N.left+x.left)/M.x,right:(N.right-w.right+x.right)/M.x}}const vz=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:s,rects:r,platform:a,elements:c,middlewareData:u}=t,{element:d,padding:f=0}=Pa(n,t)||{};if(d==null)return{};const p=m2(f),g={x:e,y:i},v=qA(s),x=GA(v),_=await a.getDimensions(d),A=v==="y",w=A?"top":"left",S=A?"bottom":"right",E=A?"clientHeight":"clientWidth",M=r.reference[x]+r.reference[v]-g[v]-r.floating[x],N=g[v]-r.reference[v],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let O=D?D[E]:0;(!O||!await(a.isElement==null?void 0:a.isElement(D)))&&(O=c.floating[E]||r.floating[x]);const B=M/2-N/2,z=O/2-_[x]/2-1,H=lc(p[w],z),W=lc(p[S],z),V=H,J=O-_[x]-W,U=O/2-_[x]/2+B,et=r1(V,U,J),q=!u.arrow&&fp(s)!=null&&U!==et&&r.reference[x]/2-(U<V?H:W)-_[x]/2<0,Y=q?U<V?U-V:U-J:0;return{[v]:g[v]+Y,data:{[v]:et,centerOffset:U-et-Y,...q&&{alignmentOffset:Y}},reset:q}}}),yz=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:s,middlewareData:r,rects:a,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...A}=Pa(n,t);if((e=r.arrow)!=null&&e.alignmentOffset)return{};const w=Ta(s),S=po(c),E=Ta(c)===c,M=await(u.isRTL==null?void 0:u.isRTL(d.floating)),N=g||(E||!_?[E0(c)]:uz(c)),D=x!=="none";!g&&D&&N.push(...pz(c,_,x,M));const O=[c,...N],B=await Gm(t,A),z=[];let H=((i=r.flip)==null?void 0:i.overflows)||[];if(f&&z.push(B[w]),p){const U=cz(s,a,M);z.push(B[U[0]],B[U[1]])}if(H=[...H,{placement:s,overflows:z}],!z.every(U=>U<=0)){var W,V;const U=(((W=r.flip)==null?void 0:W.index)||0)+1,et=O[U];if(et&&(!(p==="alignment"?S!==po(et):!1)||H.every(j=>j.overflows[0]>0&&po(j.placement)===S)))return{data:{index:U,overflows:H},reset:{placement:et}};let q=(V=H.filter(Y=>Y.overflows[0]<=0).sort((Y,j)=>Y.overflows[1]-j.overflows[1])[0])==null?void 0:V.placement;if(!q)switch(v){case"bestFit":{var J;const Y=(J=H.filter(j=>{if(D){const Z=po(j.placement);return Z===S||Z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(Z=>Z>0).reduce((Z,X)=>Z+X,0)]).sort((j,Z)=>j[1]-Z[1])[0])==null?void 0:J[0];Y&&(q=Y);break}case"initialPlacement":q=c;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function XP(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function YP(n){return rz.some(t=>n[t]>=0)}const _z=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:i="referenceHidden",...s}=Pa(n,t);switch(i){case"referenceHidden":{const r=await Gm(t,{...s,elementContext:"reference"}),a=XP(r,e.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:YP(a)}}}case"escaped":{const r=await Gm(t,{...s,altBoundary:!0}),a=XP(r,e.floating);return{data:{escapedOffsets:a,escaped:YP(a)}}}default:return{}}}}},g2=new Set(["left","top"]);async function wz(n,t){const{placement:e,platform:i,elements:s}=n,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=Ta(e),c=fp(e),u=po(e)==="y",d=g2.has(a)?-1:1,f=r&&u?-1:1,p=Pa(t,n);let{mainAxis:g,crossAxis:v,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof x=="number"&&(v=c==="end"?x*-1:x),u?{x:v*f,y:g*d}:{x:g*d,y:v*f}}const bz=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:s,y:r,placement:a,middlewareData:c}=t,u=await wz(t,n);return a===((e=c.offset)==null?void 0:e.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:r+u.y,data:{...u,placement:a}}}}},xz=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:c={fn:A=>{let{x:w,y:S}=A;return{x:w,y:S}}},...u}=Pa(n,t),d={x:e,y:i},f=await Gm(t,u),p=po(Ta(s)),g=VA(p);let v=d[g],x=d[p];if(r){const A=g==="y"?"top":"left",w=g==="y"?"bottom":"right",S=v+f[A],E=v-f[w];v=r1(S,v,E)}if(a){const A=p==="y"?"top":"left",w=p==="y"?"bottom":"right",S=x+f[A],E=x-f[w];x=r1(S,x,E)}const _=c.fn({...t,[g]:v,[p]:x});return{..._,data:{x:_.x-e,y:_.y-i,enabled:{[g]:r,[p]:a}}}}}},Sz=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:i,placement:s,rects:r,middlewareData:a}=t,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=Pa(n,t),f={x:e,y:i},p=po(s),g=VA(p);let v=f[g],x=f[p];const _=Pa(c,t),A=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const E=g==="y"?"height":"width",M=r.reference[g]-r.floating[E]+A.mainAxis,N=r.reference[g]+r.reference[E]-A.mainAxis;v<M?v=M:v>N&&(v=N)}if(d){var w,S;const E=g==="y"?"width":"height",M=g2.has(Ta(s)),N=r.reference[p]-r.floating[E]+(M&&((w=a.offset)==null?void 0:w[p])||0)+(M?0:A.crossAxis),D=r.reference[p]+r.reference[E]+(M?0:((S=a.offset)==null?void 0:S[p])||0)-(M?A.crossAxis:0);x<N?x=N:x>D&&(x=D)}return{[g]:v,[p]:x}}}},Az=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:s,rects:r,platform:a,elements:c}=t,{apply:u=()=>{},...d}=Pa(n,t),f=await Gm(t,d),p=Ta(s),g=fp(s),v=po(s)==="y",{width:x,height:_}=r.floating;let A,w;p==="top"||p==="bottom"?(A=p,w=g===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(w=p,A=g==="end"?"top":"bottom");const S=_-f.top-f.bottom,E=x-f.left-f.right,M=lc(_-f[A],S),N=lc(x-f[w],E),D=!t.middlewareData.shift;let O=M,B=N;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(B=E),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(O=S),D&&!g){const H=es(f.left,0),W=es(f.right,0),V=es(f.top,0),J=es(f.bottom,0);v?B=x-2*(H!==0||W!==0?H+W:es(f.left,f.right)):O=_-2*(V!==0||J!==0?V+J:es(f.top,f.bottom))}await u({...t,availableWidth:B,availableHeight:O});const z=await a.getDimensions(c.floating);return x!==z.width||_!==z.height?{reset:{rects:!0}}:{}}}};function Pw(){return typeof window<"u"}function pp(n){return v2(n)?(n.nodeName||"").toLowerCase():"#document"}function rs(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function wo(n){var t;return(t=(v2(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function v2(n){return Pw()?n instanceof Node||n instanceof rs(n).Node:!1}function yr(n){return Pw()?n instanceof Element||n instanceof rs(n).Element:!1}function yo(n){return Pw()?n instanceof HTMLElement||n instanceof rs(n).HTMLElement:!1}function KP(n){return!Pw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof rs(n).ShadowRoot}const Ez=new Set(["inline","contents"]);function Zv(n){const{overflow:t,overflowX:e,overflowY:i,display:s}=_r(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!Ez.has(s)}const Cz=new Set(["table","td","th"]);function Pz(n){return Cz.has(pp(n))}const Tz=[":popover-open",":modal"];function Tw(n){return Tz.some(t=>{try{return n.matches(t)}catch{return!1}})}const kz=["transform","translate","scale","rotate","perspective"],Lz=["transform","translate","scale","rotate","perspective","filter"],Mz=["paint","layout","strict","content"];function ZA(n){const t=XA(),e=yr(n)?_r(n):n;return kz.some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||Lz.some(i=>(e.willChange||"").includes(i))||Mz.some(i=>(e.contain||"").includes(i))}function Rz(n){let t=cc(n);for(;yo(t)&&!np(t);){if(ZA(t))return t;if(Tw(t))return null;t=cc(t)}return null}function XA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nz=new Set(["html","body","#document"]);function np(n){return Nz.has(pp(n))}function _r(n){return rs(n).getComputedStyle(n)}function kw(n){return yr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function cc(n){if(pp(n)==="html")return n;const t=n.assignedSlot||n.parentNode||KP(n)&&n.host||wo(n);return KP(t)?t.host:t}function y2(n){const t=cc(n);return np(t)?n.ownerDocument?n.ownerDocument.body:n.body:yo(t)&&Zv(t)?t:y2(t)}function qm(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=y2(n),r=s===((i=n.ownerDocument)==null?void 0:i.body),a=rs(s);if(r){const c=a1(a);return t.concat(a,a.visualViewport||[],Zv(s)?s:[],c&&e?qm(c):[])}return t.concat(s,qm(s,[],e))}function a1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _2(n){const t=_r(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=yo(n),r=s?n.offsetWidth:e,a=s?n.offsetHeight:i,c=A0(e)!==r||A0(i)!==a;return c&&(e=r,i=a),{width:e,height:i,$:c}}function YA(n){return yr(n)?n:n.contextElement}function ud(n){const t=YA(n);if(!yo(t))return vo(1);const e=t.getBoundingClientRect(),{width:i,height:s,$:r}=_2(t);let a=(r?A0(e.width):e.width)/i,c=(r?A0(e.height):e.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Iz=vo(0);function w2(n){const t=rs(n);return!XA()||!t.visualViewport?Iz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dz(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==rs(n)?!1:t}function ah(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=n.getBoundingClientRect(),r=YA(n);let a=vo(1);t&&(i?yr(i)&&(a=ud(i)):a=ud(n));const c=Dz(r,e,i)?w2(r):vo(0);let u=(s.left+c.x)/a.x,d=(s.top+c.y)/a.y,f=s.width/a.x,p=s.height/a.y;if(r){const g=rs(r),v=i&&yr(i)?rs(i):i;let x=g,_=a1(x);for(;_&&i&&v!==x;){const A=ud(_),w=_.getBoundingClientRect(),S=_r(_),E=w.left+(_.clientLeft+parseFloat(S.paddingLeft))*A.x,M=w.top+(_.clientTop+parseFloat(S.paddingTop))*A.y;u*=A.x,d*=A.y,f*=A.x,p*=A.y,u+=E,d+=M,x=rs(_),_=a1(x)}}return C0({width:f,height:p,x:u,y:d})}function KA(n,t){const e=kw(n).scrollLeft;return t?t.left+e:ah(wo(n)).left+e}function b2(n,t,e){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=i.left+t.scrollLeft-(e?0:KA(n,i)),r=i.top+t.scrollTop;return{x:s,y:r}}function Oz(n){let{elements:t,rect:e,offsetParent:i,strategy:s}=n;const r=s==="fixed",a=wo(i),c=t?Tw(t.floating):!1;if(i===a||c&&r)return e;let u={scrollLeft:0,scrollTop:0},d=vo(1);const f=vo(0),p=yo(i);if((p||!p&&!r)&&((pp(i)!=="body"||Zv(a))&&(u=kw(i)),yo(i))){const v=ah(i);d=ud(i),f.x=v.x+i.clientLeft,f.y=v.y+i.clientTop}const g=a&&!p&&!r?b2(a,u,!0):vo(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:e.y*d.y-u.scrollTop*d.y+f.y+g.y}}function Fz(n){return Array.from(n.getClientRects())}function Bz(n){const t=wo(n),e=kw(n),i=n.ownerDocument.body,s=es(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=es(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-e.scrollLeft+KA(n);const c=-e.scrollTop;return _r(i).direction==="rtl"&&(a+=es(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:a,y:c}}function jz(n,t){const e=rs(n),i=wo(n),s=e.visualViewport;let r=i.clientWidth,a=i.clientHeight,c=0,u=0;if(s){r=s.width,a=s.height;const d=XA();(!d||d&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:r,height:a,x:c,y:u}}const zz=new Set(["absolute","fixed"]);function Uz(n,t){const e=ah(n,!0,t==="fixed"),i=e.top+n.clientTop,s=e.left+n.clientLeft,r=yo(n)?ud(n):vo(1),a=n.clientWidth*r.x,c=n.clientHeight*r.y,u=s*r.x,d=i*r.y;return{width:a,height:c,x:u,y:d}}function QP(n,t,e){let i;if(t==="viewport")i=jz(n,e);else if(t==="document")i=Bz(wo(n));else if(yr(t))i=Uz(t,e);else{const s=w2(n);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return C0(i)}function x2(n,t){const e=cc(n);return e===t||!yr(e)||np(e)?!1:_r(e).position==="fixed"||x2(e,t)}function Hz(n,t){const e=t.get(n);if(e)return e;let i=qm(n,[],!1).filter(c=>yr(c)&&pp(c)!=="body"),s=null;const r=_r(n).position==="fixed";let a=r?cc(n):n;for(;yr(a)&&!np(a);){const c=_r(a),u=ZA(a);!u&&c.position==="fixed"&&(s=null),(r?!u&&!s:!u&&c.position==="static"&&!!s&&zz.has(s.position)||Zv(a)&&!u&&x2(n,a))?i=i.filter(f=>f!==a):s=c,a=cc(a)}return t.set(n,i),i}function $z(n){let{element:t,boundary:e,rootBoundary:i,strategy:s}=n;const a=[...e==="clippingAncestors"?Tw(t)?[]:Hz(t,this._c):[].concat(e),i],c=a[0],u=a.reduce((d,f)=>{const p=QP(t,f,s);return d.top=es(p.top,d.top),d.right=lc(p.right,d.right),d.bottom=lc(p.bottom,d.bottom),d.left=es(p.left,d.left),d},QP(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Wz(n){const{width:t,height:e}=_2(n);return{width:t,height:e}}function Vz(n,t,e){const i=yo(t),s=wo(t),r=e==="fixed",a=ah(n,!0,r,t);let c={scrollLeft:0,scrollTop:0};const u=vo(0);function d(){u.x=KA(s)}if(i||!i&&!r)if((pp(t)!=="body"||Zv(s))&&(c=kw(t)),i){const v=ah(t,!0,r,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else s&&d();r&&!i&&s&&d();const f=s&&!i&&!r?b2(s,c):vo(0),p=a.left+c.scrollLeft-u.x-f.x,g=a.top+c.scrollTop-u.y-f.y;return{x:p,y:g,width:a.width,height:a.height}}function Xb(n){return _r(n).position==="static"}function JP(n,t){if(!yo(n)||_r(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return wo(n)===e&&(e=e.ownerDocument.body),e}function S2(n,t){const e=rs(n);if(Tw(n))return e;if(!yo(n)){let s=cc(n);for(;s&&!np(s);){if(yr(s)&&!Xb(s))return s;s=cc(s)}return e}let i=JP(n,t);for(;i&&Pz(i)&&Xb(i);)i=JP(i,t);return i&&np(i)&&Xb(i)&&!ZA(i)?e:i||Rz(n)||e}const Gz=async function(n){const t=this.getOffsetParent||S2,e=this.getDimensions,i=await e(n.floating);return{reference:Vz(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function qz(n){return _r(n).direction==="rtl"}const Zz={convertOffsetParentRelativeRectToViewportRelativeRect:Oz,getDocumentElement:wo,getClippingRect:$z,getOffsetParent:S2,getElementRects:Gz,getClientRects:Fz,getDimensions:Wz,getScale:ud,isElement:yr,isRTL:qz};function A2(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function Xz(n,t){let e=null,i;const s=wo(n);function r(){var c;clearTimeout(i),(c=e)==null||c.disconnect(),e=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),r();const d=n.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=d;if(c||t(),!g||!v)return;const x=Zy(p),_=Zy(s.clientWidth-(f+g)),A=Zy(s.clientHeight-(p+v)),w=Zy(f),E={rootMargin:-x+"px "+-_+"px "+-A+"px "+-w+"px",threshold:es(0,lc(1,u))||1};let M=!0;function N(D){const O=D[0].intersectionRatio;if(O!==u){if(!M)return a();O?a(!1,O):i=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!A2(d,n.getBoundingClientRect())&&a(),M=!1}try{e=new IntersectionObserver(N,{...E,root:s.ownerDocument})}catch{e=new IntersectionObserver(N,E)}e.observe(n)}return a(!0),r}function Yz(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=YA(n),f=s||r?[...d?qm(d):[],...qm(t)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",e,{passive:!0}),r&&w.addEventListener("resize",e)});const p=d&&c?Xz(d,e):null;let g=-1,v=null;a&&(v=new ResizeObserver(w=>{let[S]=w;S&&S.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(t)})),e()}),d&&!u&&v.observe(d),v.observe(t));let x,_=u?ah(n):null;u&&A();function A(){const w=ah(n);_&&!A2(_,w)&&e(),_=w,x=requestAnimationFrame(A)}return e(),()=>{var w;f.forEach(S=>{s&&S.removeEventListener("scroll",e),r&&S.removeEventListener("resize",e)}),p==null||p(),(w=v)==null||w.disconnect(),v=null,u&&cancelAnimationFrame(x)}}const Kz=bz,Qz=xz,Jz=yz,t4=Az,e4=_z,tT=vz,n4=Sz,i4=(n,t,e)=>{const i=new Map,s={platform:Zz,...e},r={...s.platform,_c:i};return gz(n,t,{...s,platform:r})};var s4=typeof document<"u",r4=function(){},w_=s4?I.useLayoutEffect:r4;function P0(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,i,s;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(i=e;i--!==0;)if(!P0(n[i],t[i]))return!1;return!0}if(s=Object.keys(n),e=s.length,e!==Object.keys(t).length)return!1;for(i=e;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=e;i--!==0;){const r=s[i];if(!(r==="_owner"&&n.$$typeof)&&!P0(n[r],t[r]))return!1}return!0}return n!==n&&t!==t}function E2(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function eT(n,t){const e=E2(n);return Math.round(t*e)/e}function Yb(n){const t=I.useRef(n);return w_(()=>{t.current=n}),t}function o4(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=n,[f,p]=I.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=I.useState(i);P0(g,i)||v(i);const[x,_]=I.useState(null),[A,w]=I.useState(null),S=I.useCallback(j=>{j!==D.current&&(D.current=j,_(j))},[]),E=I.useCallback(j=>{j!==O.current&&(O.current=j,w(j))},[]),M=r||x,N=a||A,D=I.useRef(null),O=I.useRef(null),B=I.useRef(f),z=u!=null,H=Yb(u),W=Yb(s),V=Yb(d),J=I.useCallback(()=>{if(!D.current||!O.current)return;const j={placement:t,strategy:e,middleware:g};W.current&&(j.platform=W.current),i4(D.current,O.current,j).then(Z=>{const X={...Z,isPositioned:V.current!==!1};U.current&&!P0(B.current,X)&&(B.current=X,up.flushSync(()=>{p(X)}))})},[g,t,e,W,V]);w_(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[d]);const U=I.useRef(!1);w_(()=>(U.current=!0,()=>{U.current=!1}),[]),w_(()=>{if(M&&(D.current=M),N&&(O.current=N),M&&N){if(H.current)return H.current(M,N,J);J()}},[M,N,J,H,z]);const et=I.useMemo(()=>({reference:D,floating:O,setReference:S,setFloating:E}),[S,E]),q=I.useMemo(()=>({reference:M,floating:N}),[M,N]),Y=I.useMemo(()=>{const j={position:e,left:0,top:0};if(!q.floating)return j;const Z=eT(q.floating,f.x),X=eT(q.floating,f.y);return c?{...j,transform:"translate("+Z+"px, "+X+"px)",...E2(q.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:Z,top:X}},[e,c,q.floating,f.x,f.y]);return I.useMemo(()=>({...f,update:J,refs:et,elements:q,floatingStyles:Y}),[f,J,et,q,Y])}const a4=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:i,padding:s}=typeof n=="function"?n(e):n;return i&&t(i)?i.current!=null?tT({element:i.current,padding:s}).fn(e):{}:i?tT({element:i,padding:s}).fn(e):{}}}},l4=(n,t)=>({...Kz(n),options:[n,t]}),c4=(n,t)=>({...Qz(n),options:[n,t]}),u4=(n,t)=>({...n4(n),options:[n,t]}),h4=(n,t)=>({...Jz(n),options:[n,t]}),d4=(n,t)=>({...t4(n),options:[n,t]}),f4=(n,t)=>({...e4(n),options:[n,t]}),p4=(n,t)=>({...a4(n),options:[n,t]});var m4="Arrow",C2=I.forwardRef((n,t)=>{const{children:e,width:i=10,height:s=5,...r}=n;return T.jsx(di.svg,{...r,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});C2.displayName=m4;var g4=C2;function v4(n){const[t,e]=I.useState(void 0);return ac(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let a,c;if("borderBoxSize"in r){const u=r.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,c=d.blockSize}else a=n.offsetWidth,c=n.offsetHeight;e({width:a,height:c})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else e(void 0)},[n]),t}var P2="Popper",[T2,k2]=Aw(P2),[iW,L2]=T2(P2),M2="PopperAnchor",R2=I.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...s}=n,r=L2(M2,e),a=I.useRef(null),c=vr(t,a);return I.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:T.jsx(di.div,{...s,ref:c})});R2.displayName=M2;var QA="PopperContent",[y4,_4]=T2(QA),N2=I.forwardRef((n,t)=>{var ct,pe,He,me,Et,Re;const{__scopePopper:e,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:x,..._}=n,A=L2(QA,e),[w,S]=I.useState(null),E=vr(t,Dt=>S(Dt)),[M,N]=I.useState(null),D=v4(M),O=(D==null?void 0:D.width)??0,B=(D==null?void 0:D.height)??0,z=i+(r!=="center"?"-"+r:""),H=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},W=Array.isArray(d)?d:[d],V=W.length>0,J={padding:H,boundary:W.filter(b4),altBoundary:V},{refs:U,floatingStyles:et,placement:q,isPositioned:Y,middlewareData:j}=o4({strategy:"fixed",placement:z,whileElementsMounted:(...Dt)=>Yz(...Dt,{animationFrame:v==="always"}),elements:{reference:A.anchor},middleware:[l4({mainAxis:s+B,alignmentAxis:a}),u&&c4({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?u4():void 0,...J}),u&&h4({...J}),d4({...J,apply:({elements:Dt,rects:zt,availableWidth:Kt,availableHeight:Ne})=>{const{width:le,height:hs}=zt.reference,xr=Dt.floating.style;xr.setProperty("--radix-popper-available-width",`${Kt}px`),xr.setProperty("--radix-popper-available-height",`${Ne}px`),xr.setProperty("--radix-popper-anchor-width",`${le}px`),xr.setProperty("--radix-popper-anchor-height",`${hs}px`)}}),M&&p4({element:M,padding:c}),x4({arrowWidth:O,arrowHeight:B}),g&&f4({strategy:"referenceHidden",...J})]}),[Z,X]=O2(q),rt=oc(x);ac(()=>{Y&&(rt==null||rt())},[Y,rt]);const Q=(ct=j.arrow)==null?void 0:ct.x,it=(pe=j.arrow)==null?void 0:pe.y,at=((He=j.arrow)==null?void 0:He.centerOffset)!==0,[ut,dt]=I.useState();return ac(()=>{w&&dt(window.getComputedStyle(w).zIndex)},[w]),T.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...et,transform:Y?et.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[(me=j.transformOrigin)==null?void 0:me.x,(Et=j.transformOrigin)==null?void 0:Et.y].join(" "),...((Re=j.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:T.jsx(y4,{scope:e,placedSide:Z,onArrowChange:N,arrowX:Q,arrowY:it,shouldHideArrow:at,children:T.jsx(di.div,{"data-side":Z,"data-align":X,..._,ref:E,style:{..._.style,animation:Y?void 0:"none"}})})})});N2.displayName=QA;var I2="PopperArrow",w4={top:"bottom",right:"left",bottom:"top",left:"right"},D2=I.forwardRef(function(t,e){const{__scopePopper:i,...s}=t,r=_4(I2,i),a=w4[r.placedSide];return T.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:T.jsx(g4,{...s,ref:e,style:{...s.style,display:"block"}})})});D2.displayName=I2;function b4(n){return n!==null}var x4=n=>({name:"transformOrigin",options:n,fn(t){var A,w,S;const{placement:e,rects:i,middlewareData:s}=t,a=((A=s.arrow)==null?void 0:A.centerOffset)!==0,c=a?0:n.arrowWidth,u=a?0:n.arrowHeight,[d,f]=O2(e),p={start:"0%",center:"50%",end:"100%"}[f],g=(((w=s.arrow)==null?void 0:w.x)??0)+c/2,v=(((S=s.arrow)==null?void 0:S.y)??0)+u/2;let x="",_="";return d==="bottom"?(x=a?p:`${g}px`,_=`${-u}px`):d==="top"?(x=a?p:`${g}px`,_=`${i.floating.height+u}px`):d==="right"?(x=`${-u}px`,_=a?p:`${v}px`):d==="left"&&(x=`${i.floating.width+u}px`,_=a?p:`${v}px`),{data:{x,y:_}}}});function O2(n){const[t,e="center"]=n.split("-");return[t,e]}var S4=R2,A4=N2,E4=D2,[Lw,sW]=Aw("Tooltip",[k2]),JA=k2(),F2="TooltipProvider",C4=700,nT="tooltip.open",[P4,B2]=Lw(F2),j2=n=>{const{__scopeTooltip:t,delayDuration:e=C4,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=n,a=I.useRef(!0),c=I.useRef(!1),u=I.useRef(0);return I.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),T.jsx(P4,{scope:t,isOpenDelayedRef:a,delayDuration:e,onOpen:I.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:I.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:r})};j2.displayName=F2;var z2="Tooltip",[rW,Mw]=Lw(z2),l1="TooltipTrigger",T4=I.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=Mw(l1,e),r=B2(l1,e),a=JA(e),c=I.useRef(null),u=vr(t,c,s.onTriggerChange),d=I.useRef(!1),f=I.useRef(!1),p=I.useCallback(()=>d.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),T.jsx(S4,{asChild:!0,...a,children:T.jsx(di.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:u,onPointerMove:on(n.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:on(n.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:on(n.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:on(n.onFocus,()=>{d.current||s.onOpen()}),onBlur:on(n.onBlur,s.onClose),onClick:on(n.onClick,s.onClose)})})});T4.displayName=l1;var k4="TooltipPortal",[oW,L4]=Lw(k4,{forceMount:void 0}),ip="TooltipContent",U2=I.forwardRef((n,t)=>{const e=L4(ip,n.__scopeTooltip),{forceMount:i=e.forceMount,side:s="top",...r}=n,a=Mw(ip,n.__scopeTooltip);return T.jsx(BA,{present:i||a.open,children:a.disableHoverableContent?T.jsx(H2,{side:s,...r,ref:t}):T.jsx(M4,{side:s,...r,ref:t})})}),M4=I.forwardRef((n,t)=>{const e=Mw(ip,n.__scopeTooltip),i=B2(ip,n.__scopeTooltip),s=I.useRef(null),r=vr(t,s),[a,c]=I.useState(null),{trigger:u,onClose:d}=e,f=s.current,{onPointerInTransitChange:p}=i,g=I.useCallback(()=>{c(null),p(!1)},[p]),v=I.useCallback((x,_)=>{const A=x.currentTarget,w={x:x.clientX,y:x.clientY},S=O4(w,A.getBoundingClientRect()),E=F4(w,S),M=B4(_.getBoundingClientRect()),N=z4([...E,...M]);c(N),p(!0)},[p]);return I.useEffect(()=>()=>g(),[g]),I.useEffect(()=>{if(u&&f){const x=A=>v(A,f),_=A=>v(A,u);return u.addEventListener("pointerleave",x),f.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",_)}}},[u,f,v,g]),I.useEffect(()=>{if(a){const x=_=>{const A=_.target,w={x:_.clientX,y:_.clientY},S=(u==null?void 0:u.contains(A))||(f==null?void 0:f.contains(A)),E=!j4(w,a);S?g():E&&(g(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,f,a,d,g]),T.jsx(H2,{...n,ref:r})}),[R4,N4]=Lw(z2,{isInside:!1}),I4=HB("TooltipContent"),H2=I.forwardRef((n,t)=>{const{__scopeTooltip:e,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:a,...c}=n,u=Mw(ip,e),d=JA(e),{onClose:f}=u;return I.useEffect(()=>(document.addEventListener(nT,f),()=>document.removeEventListener(nT,f)),[f]),I.useEffect(()=>{if(u.trigger){const p=g=>{const v=g.target;v!=null&&v.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),T.jsx(FA,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:T.jsxs(A4,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[T.jsx(I4,{children:i}),T.jsx(R4,{scope:e,isInside:!0,children:T.jsx(fj,{id:u.contentId,role:"tooltip",children:s||i})})]})})});U2.displayName=ip;var $2="TooltipArrow",D4=I.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=JA(e);return N4($2,e).isInside?null:T.jsx(E4,{...s,...i,ref:t})});D4.displayName=$2;function O4(n,t){const e=Math.abs(t.top-n.y),i=Math.abs(t.bottom-n.y),s=Math.abs(t.right-n.x),r=Math.abs(t.left-n.x);switch(Math.min(e,i,s,r)){case r:return"left";case s:return"right";case e:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function F4(n,t,e=5){const i=[];switch(t){case"top":i.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":i.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":i.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":i.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return i}function B4(n){const{top:t,right:e,bottom:i,left:s}=n;return[{x:s,y:t},{x:e,y:t},{x:e,y:i},{x:s,y:i}]}function j4(n,t){const{x:e,y:i}=n;let s=!1;for(let r=0,a=t.length-1;r<t.length;a=r++){const c=t[r],u=t[a],d=c.x,f=c.y,p=u.x,g=u.y;f>i!=g>i&&e<(p-d)*(i-f)/(g-f)+d&&(s=!s)}return s}function z4(n){const t=n.slice();return t.sort((e,i)=>e.x<i.x?-1:e.x>i.x?1:e.y<i.y?-1:e.y>i.y?1:0),U4(t)}function U4(n){if(n.length<=1)return n.slice();const t=[];for(let i=0;i<n.length;i++){const s=n[i];for(;t.length>=2;){const r=t[t.length-1],a=t[t.length-2];if((r.x-a.x)*(s.y-a.y)>=(r.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const e=[];for(let i=n.length-1;i>=0;i--){const s=n[i];for(;e.length>=2;){const r=e[e.length-1],a=e[e.length-2];if((r.x-a.x)*(s.y-a.y)>=(r.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var H4=j2,W2=U2;const $4=H4,W4=I.forwardRef(({className:n,sideOffset:t=4,...e},i)=>T.jsx(W2,{ref:i,sideOffset:t,className:Zn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));W4.displayName=W2.displayName;var Rw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nw=typeof window>"u"||"Deno"in globalThis;function Xs(){}function V4(n,t){return typeof n=="function"?n(t):n}function G4(n){return typeof n=="number"&&n>=0&&n!==1/0}function q4(n,t){return Math.max(n+(t||0)-Date.now(),0)}function c1(n,t){return typeof n=="function"?n(t):n}function Z4(n,t){return typeof n=="function"?n(t):n}function iT(n,t){const{type:e="all",exact:i,fetchStatus:s,predicate:r,queryKey:a,stale:c}=n;if(a){if(i){if(t.queryHash!==tE(a,t.options))return!1}else if(!Xm(t.queryKey,a))return!1}if(e!=="all"){const u=t.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||r&&!r(t))}function sT(n,t){const{exact:e,status:i,predicate:s,mutationKey:r}=n;if(r){if(!t.options.mutationKey)return!1;if(e){if(Zm(t.options.mutationKey)!==Zm(r))return!1}else if(!Xm(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function tE(n,t){return((t==null?void 0:t.queryKeyHashFn)||Zm)(n)}function Zm(n){return JSON.stringify(n,(t,e)=>u1(e)?Object.keys(e).sort().reduce((i,s)=>(i[s]=e[s],i),{}):e)}function Xm(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>Xm(n[e],t[e])):!1}function V2(n,t){if(n===t)return n;const e=rT(n)&&rT(t);if(e||u1(n)&&u1(t)){const i=e?n:Object.keys(n),s=i.length,r=e?t:Object.keys(t),a=r.length,c=e?[]:{},u=new Set(i);let d=0;for(let f=0;f<a;f++){const p=e?f:r[f];(!e&&u.has(p)||e)&&n[p]===void 0&&t[p]===void 0?(c[p]=void 0,d++):(c[p]=V2(n[p],t[p]),c[p]===n[p]&&n[p]!==void 0&&d++)}return s===a&&d===s?n:c}return t}function rT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function u1(n){if(!oT(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!oT(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function oT(n){return Object.prototype.toString.call(n)==="[object Object]"}function X4(n){return new Promise(t=>{setTimeout(t,n)})}function Y4(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?V2(n,t):t}function K4(n,t,e=0){const i=[...n,t];return e&&i.length>e?i.slice(1):i}function Q4(n,t,e=0){const i=[t,...n];return e&&i.length>e?i.slice(0,-1):i}var eE=Symbol();function G2(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===eE?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Oc,qa,pd,nk,J4=(nk=class extends Rw{constructor(){super();P(this,Oc);P(this,qa);P(this,pd);b(this,pd,t=>{if(!Nw&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){l(this,qa)||this.setEventListener(l(this,pd))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,qa))==null||t.call(this),b(this,qa,void 0))}setEventListener(t){var e;b(this,pd,t),(e=l(this,qa))==null||e.call(this),b(this,qa,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){l(this,Oc)!==t&&(b(this,Oc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof l(this,Oc)=="boolean"?l(this,Oc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Oc=new WeakMap,qa=new WeakMap,pd=new WeakMap,nk),q2=new J4,md,Za,gd,ik,t5=(ik=class extends Rw{constructor(){super();P(this,md,!0);P(this,Za);P(this,gd);b(this,gd,t=>{if(!Nw&&window.addEventListener){const e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}})}onSubscribe(){l(this,Za)||this.setEventListener(l(this,gd))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,Za))==null||t.call(this),b(this,Za,void 0))}setEventListener(t){var e;b(this,gd,t),(e=l(this,Za))==null||e.call(this),b(this,Za,t(this.setOnline.bind(this)))}setOnline(t){l(this,md)!==t&&(b(this,md,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return l(this,md)}},md=new WeakMap,Za=new WeakMap,gd=new WeakMap,ik),T0=new t5;function e5(){let n,t;const e=new Promise((s,r)=>{n=s,t=r});e.status="pending",e.catch(()=>{});function i(s){Object.assign(e,s),delete e.resolve,delete e.reject}return e.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},e.reject=s=>{i({status:"rejected",reason:s}),t(s)},e}function n5(n){return Math.min(1e3*2**n,3e4)}function Z2(n){return(n??"online")==="online"?T0.isOnline():!0}var X2=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Kb(n){return n instanceof X2}function Y2(n){let t=!1,e=0,i=!1,s;const r=e5(),a=_=>{var A;i||(g(new X2(_)),(A=n.abort)==null||A.call(n))},c=()=>{t=!0},u=()=>{t=!1},d=()=>q2.isFocused()&&(n.networkMode==="always"||T0.isOnline())&&n.canRun(),f=()=>Z2(n.networkMode)&&n.canRun(),p=_=>{var A;i||(i=!0,(A=n.onSuccess)==null||A.call(n,_),s==null||s(),r.resolve(_))},g=_=>{var A;i||(i=!0,(A=n.onError)==null||A.call(n,_),s==null||s(),r.reject(_))},v=()=>new Promise(_=>{var A;s=w=>{(i||d())&&_(w)},(A=n.onPause)==null||A.call(n)}).then(()=>{var _;s=void 0,i||(_=n.onContinue)==null||_.call(n)}),x=()=>{if(i)return;let _;const A=e===0?n.initialPromise:void 0;try{_=A??n.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(p).catch(w=>{var D;if(i)return;const S=n.retry??(Nw?0:3),E=n.retryDelay??n5,M=typeof E=="function"?E(e,w):E,N=S===!0||typeof S=="number"&&e<S||typeof S=="function"&&S(e,w);if(t||!N){g(w);return}e++,(D=n.onFail)==null||D.call(n,e,w),X4(M).then(()=>d()?void 0:v()).then(()=>{t?g(w):x()})})};return{promise:r,cancel:a,continue:()=>(s==null||s(),r),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?x():v().then(x),r)}}var i5=n=>setTimeout(n,0);function s5(){let n=[],t=0,e=c=>{c()},i=c=>{c()},s=i5;const r=c=>{t?n.push(c):s(()=>{e(c)})},a=()=>{const c=n;n=[],c.length&&s(()=>{i(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||a()}return u},batchCalls:c=>(...u)=>{r(()=>{c(...u)})},schedule:r,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var oi=s5(),Fc,sk,K2=(sk=class{constructor(){P(this,Fc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),G4(this.gcTime)&&b(this,Fc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Nw?1/0:5*60*1e3))}clearGcTimeout(){l(this,Fc)&&(clearTimeout(l(this,Fc)),b(this,Fc,void 0))}},Fc=new WeakMap,sk),vd,Bc,ys,jc,Bn,og,zc,Ys,To,rk,r5=(rk=class extends K2{constructor(t){super();P(this,Ys);P(this,vd);P(this,Bc);P(this,ys);P(this,jc);P(this,Bn);P(this,og);P(this,zc);b(this,zc,!1),b(this,og,t.defaultOptions),this.setOptions(t.options),this.observers=[],b(this,jc,t.client),b(this,ys,l(this,jc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,b(this,vd,a5(this.options)),this.state=t.state??l(this,vd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=l(this,Bn))==null?void 0:t.promise}setOptions(t){this.options={...l(this,og),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,ys).remove(this)}setData(t,e){const i=Y4(this.state.data,t,this.options);return k(this,Ys,To).call(this,{data:i,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),i}setState(t,e){k(this,Ys,To).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var i,s;const e=(i=l(this,Bn))==null?void 0:i.promise;return(s=l(this,Bn))==null||s.cancel(t),e?e.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,vd))}isActive(){return this.observers.some(t=>Z4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>c1(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!q4(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=l(this,Bn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=l(this,Bn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),l(this,ys).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(l(this,Bn)&&(l(this,zc)?l(this,Bn).cancel({revert:!0}):l(this,Bn).cancelRetry()),this.scheduleGc()),l(this,ys).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,Ys,To).call(this,{type:"invalidate"})}fetch(t,e){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(l(this,Bn))return l(this,Bn).continueRetry(),l(this,Bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const i=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(b(this,zc,!0),i.signal)})},r=()=>{const g=G2(this.options,e),x=(()=>{const _={client:l(this,jc),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return b(this,zc,!1),this.options.persister?this.options.persister(g,x,this):g(x)},c=(()=>{const g={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:l(this,jc),state:this.state,fetchFn:r};return s(g),g})();(d=this.options.behavior)==null||d.onFetch(c,this),b(this,Bc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&k(this,Ys,To).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=g=>{var v,x,_,A;Kb(g)&&g.silent||k(this,Ys,To).call(this,{type:"error",error:g}),Kb(g)||((x=(v=l(this,ys).config).onError)==null||x.call(v,g,this),(A=(_=l(this,ys).config).onSettled)==null||A.call(_,this.state.data,g,this)),this.scheduleGc()};return b(this,Bn,Y2({initialPromise:e==null?void 0:e.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:g=>{var v,x,_,A;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(w){u(w);return}(x=(v=l(this,ys).config).onSuccess)==null||x.call(v,g,this),(A=(_=l(this,ys).config).onSettled)==null||A.call(_,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{k(this,Ys,To).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{k(this,Ys,To).call(this,{type:"pause"})},onContinue:()=>{k(this,Ys,To).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),l(this,Bn).start()}},vd=new WeakMap,Bc=new WeakMap,ys=new WeakMap,jc=new WeakMap,Bn=new WeakMap,og=new WeakMap,zc=new WeakMap,Ys=new WeakSet,To=function(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...o5(i.data,this.options),fetchMeta:t.meta??null};case"success":return b(this,Bc,void 0),{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Kb(s)&&s.revert&&l(this,Bc)?{...l(this,Bc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),oi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),l(this,ys).notify({query:this,type:"updated",action:t})})},rk);function o5(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z2(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function a5(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,i=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Br,ok,l5=(ok=class extends Rw{constructor(t={}){super();P(this,Br);this.config=t,b(this,Br,new Map)}build(t,e,i){const s=e.queryKey,r=e.queryHash??tE(s,e);let a=this.get(r);return a||(a=new r5({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){l(this,Br).has(t.queryHash)||(l(this,Br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=l(this,Br).get(t.queryHash);e&&(t.destroy(),e===t&&l(this,Br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){oi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return l(this,Br).get(t)}getAll(){return[...l(this,Br).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(i=>iT(e,i))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(i=>iT(t,i)):e}notify(t){oi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){oi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){oi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Br=new WeakMap,ok),jr,ti,Uc,zr,Ua,ak,c5=(ak=class extends K2{constructor(t){super();P(this,zr);P(this,jr);P(this,ti);P(this,Uc);this.mutationId=t.mutationId,b(this,ti,t.mutationCache),b(this,jr,[]),this.state=t.state||u5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){l(this,jr).includes(t)||(l(this,jr).push(t),this.clearGcTimeout(),l(this,ti).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){b(this,jr,l(this,jr).filter(e=>e!==t)),this.scheduleGc(),l(this,ti).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){l(this,jr).length||(this.state.status==="pending"?this.scheduleGc():l(this,ti).remove(this))}continue(){var t;return((t=l(this,Uc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var r,a,c,u,d,f,p,g,v,x,_,A,w,S,E,M,N,D,O,B;const e=()=>{k(this,zr,Ua).call(this,{type:"continue"})};b(this,Uc,Y2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,H)=>{k(this,zr,Ua).call(this,{type:"failed",failureCount:z,error:H})},onPause:()=>{k(this,zr,Ua).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,ti).canRun(this)}));const i=this.state.status==="pending",s=!l(this,Uc).canStart();try{if(i)e();else{k(this,zr,Ua).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(r=l(this,ti).config).onMutate)==null?void 0:a.call(r,t,this));const H=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));H!==this.state.context&&k(this,zr,Ua).call(this,{type:"pending",context:H,variables:t,isPaused:s})}const z=await l(this,Uc).start();return await((f=(d=l(this,ti).config).onSuccess)==null?void 0:f.call(d,z,t,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,z,t,this.state.context)),await((x=(v=l(this,ti).config).onSettled)==null?void 0:x.call(v,z,null,this.state.variables,this.state.context,this)),await((A=(_=this.options).onSettled)==null?void 0:A.call(_,z,null,t,this.state.context)),k(this,zr,Ua).call(this,{type:"success",data:z}),z}catch(z){try{throw await((S=(w=l(this,ti).config).onError)==null?void 0:S.call(w,z,t,this.state.context,this)),await((M=(E=this.options).onError)==null?void 0:M.call(E,z,t,this.state.context)),await((D=(N=l(this,ti).config).onSettled)==null?void 0:D.call(N,void 0,z,this.state.variables,this.state.context,this)),await((B=(O=this.options).onSettled)==null?void 0:B.call(O,void 0,z,t,this.state.context)),z}finally{k(this,zr,Ua).call(this,{type:"error",error:z})}}finally{l(this,ti).runNext(this)}}},jr=new WeakMap,ti=new WeakMap,Uc=new WeakMap,zr=new WeakSet,Ua=function(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),oi.batch(()=>{l(this,jr).forEach(i=>{i.onMutationUpdate(t)}),l(this,ti).notify({mutation:this,type:"updated",action:t})})},ak);function u5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fo,Ks,ag,lk,h5=(lk=class extends Rw{constructor(t={}){super();P(this,Fo);P(this,Ks);P(this,ag);this.config=t,b(this,Fo,new Set),b(this,Ks,new Map),b(this,ag,0)}build(t,e,i){const s=new c5({mutationCache:this,mutationId:++Ie(this,ag)._,options:t.defaultMutationOptions(e),state:i});return this.add(s),s}add(t){l(this,Fo).add(t);const e=Xy(t);if(typeof e=="string"){const i=l(this,Ks).get(e);i?i.push(t):l(this,Ks).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(l(this,Fo).delete(t)){const e=Xy(t);if(typeof e=="string"){const i=l(this,Ks).get(e);if(i)if(i.length>1){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}else i[0]===t&&l(this,Ks).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Xy(t);if(typeof e=="string"){const i=l(this,Ks).get(e),s=i==null?void 0:i.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){var i;const e=Xy(t);if(typeof e=="string"){const s=(i=l(this,Ks).get(e))==null?void 0:i.find(r=>r!==t&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){oi.batch(()=>{l(this,Fo).forEach(t=>{this.notify({type:"removed",mutation:t})}),l(this,Fo).clear(),l(this,Ks).clear()})}getAll(){return Array.from(l(this,Fo))}find(t){const e={exact:!0,...t};return this.getAll().find(i=>sT(e,i))}findAll(t={}){return this.getAll().filter(e=>sT(t,e))}notify(t){oi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return oi.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xs))))}},Fo=new WeakMap,Ks=new WeakMap,ag=new WeakMap,lk);function Xy(n){var t;return(t=n.options.scope)==null?void 0:t.id}function aT(n){return{onFetch:(t,e)=>{var f,p,g,v,x;const i=t.options,s=(g=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,r=((v=t.state.data)==null?void 0:v.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let _=!1;const A=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},w=G2(t.options,t.fetchOptions),S=async(E,M,N)=>{if(_)return Promise.reject();if(M==null&&E.pages.length)return Promise.resolve(E);const O=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:M,direction:N?"backward":"forward",meta:t.options.meta};return A(W),W})(),B=await w(O),{maxPages:z}=t.options,H=N?Q4:K4;return{pages:H(E.pages,B,z),pageParams:H(E.pageParams,M,z)}};if(s&&r.length){const E=s==="backward",M=E?d5:lT,N={pages:r,pageParams:a},D=M(i,N);c=await S(N,D,E)}else{const E=n??r.length;do{const M=u===0?a[0]??i.initialPageParam:lT(i,c);if(u>0&&M==null)break;c=await S(c,M),u++}while(u<E)}return c};t.options.persister?t.fetchFn=()=>{var _,A;return(A=(_=t.options).persister)==null?void 0:A.call(_,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=d}}}function lT(n,{pages:t,pageParams:e}){const i=t.length-1;return t.length>0?n.getNextPageParam(t[i],t,e[i],e):void 0}function d5(n,{pages:t,pageParams:e}){var i;return t.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,t[0],t,e[0],e):void 0}var De,Xa,Ya,yd,_d,Ka,wd,bd,ck,f5=(ck=class{constructor(n={}){P(this,De);P(this,Xa);P(this,Ya);P(this,yd);P(this,_d);P(this,Ka);P(this,wd);P(this,bd);b(this,De,n.queryCache||new l5),b(this,Xa,n.mutationCache||new h5),b(this,Ya,n.defaultOptions||{}),b(this,yd,new Map),b(this,_d,new Map),b(this,Ka,0)}mount(){Ie(this,Ka)._++,l(this,Ka)===1&&(b(this,wd,q2.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,De).onFocus())})),b(this,bd,T0.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,De).onOnline())})))}unmount(){var n,t;Ie(this,Ka)._--,l(this,Ka)===0&&((n=l(this,wd))==null||n.call(this),b(this,wd,void 0),(t=l(this,bd))==null||t.call(this),b(this,bd,void 0))}isFetching(n){return l(this,De).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,Xa).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=l(this,De).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=l(this,De).build(this,t),i=e.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(c1(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(n){return l(this,De).findAll(n).map(({queryKey:t,state:e})=>{const i=e.data;return[t,i]})}setQueryData(n,t,e){const i=this.defaultQueryOptions({queryKey:n}),s=l(this,De).get(i.queryHash),r=s==null?void 0:s.state.data,a=V4(t,r);if(a!==void 0)return l(this,De).build(this,i).setData(a,{...e,manual:!0})}setQueriesData(n,t,e){return oi.batch(()=>l(this,De).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=l(this,De).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=l(this,De);oi.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=l(this,De);return oi.batch(()=>(e.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},i=oi.batch(()=>l(this,De).findAll(n).map(s=>s.cancel(e)));return Promise.all(i).then(Xs).catch(Xs)}invalidateQueries(n,t={}){return oi.batch(()=>(l(this,De).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},i=oi.batch(()=>l(this,De).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let r=s.fetch(void 0,e);return e.throwOnError||(r=r.catch(Xs)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(Xs)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=l(this,De).build(this,t);return e.isStaleByTime(c1(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Xs).catch(Xs)}fetchInfiniteQuery(n){return n.behavior=aT(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Xs).catch(Xs)}ensureInfiniteQueryData(n){return n.behavior=aT(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return T0.isOnline()?l(this,Xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,De)}getMutationCache(){return l(this,Xa)}getDefaultOptions(){return l(this,Ya)}setDefaultOptions(n){b(this,Ya,n)}setQueryDefaults(n,t){l(this,yd).set(Zm(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...l(this,yd).values()],e={};return t.forEach(i=>{Xm(n,i.queryKey)&&Object.assign(e,i.defaultOptions)}),e}setMutationDefaults(n,t){l(this,_d).set(Zm(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...l(this,_d).values()],e={};return t.forEach(i=>{Xm(n,i.mutationKey)&&Object.assign(e,i.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...l(this,Ya).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=tE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===eE&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,Ya).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,De).clear(),l(this,Xa).clear()}},De=new WeakMap,Xa=new WeakMap,Ya=new WeakMap,yd=new WeakMap,_d=new WeakMap,Ka=new WeakMap,wd=new WeakMap,bd=new WeakMap,ck),p5=I.createContext(void 0),m5=({client:n,children:t})=>(I.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),T.jsx(p5.Provider,{value:n,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(){return Ym=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ym.apply(this,arguments)}var Zl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zl||(Zl={}));const cT="popstate";function g5(n){n===void 0&&(n={});function t(s,r){let{pathname:a="/",search:c="",hash:u=""}=dh(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),h1("",{pathname:a,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(s,r){let a=s.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof r=="string"?r:k0(r))}function i(s,r){nE(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return y5(t,e,i,n)}function Je(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function nE(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function v5(){return Math.random().toString(36).substr(2,8)}function uT(n,t){return{usr:n.state,key:n.key,idx:t}}function h1(n,t,e,i){return e===void 0&&(e=null),Ym({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?dh(t):t,{state:e,key:t&&t.key||i||v5()})}function k0(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function dh(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function y5(n,t,e,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,c=Zl.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(Ym({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){c=Zl.Pop;let A=f(),w=A==null?null:A-d;d=A,u&&u({action:c,location:_.location,delta:w})}function g(A,w){c=Zl.Push;let S=h1(_.location,A,w);e&&e(S,A),d=f()+1;let E=uT(S,d),M=_.createHref(S);try{a.pushState(E,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(M)}r&&u&&u({action:c,location:_.location,delta:1})}function v(A,w){c=Zl.Replace;let S=h1(_.location,A,w);e&&e(S,A),d=f();let E=uT(S,d),M=_.createHref(S);a.replaceState(E,"",M),r&&u&&u({action:c,location:_.location,delta:0})}function x(A){let w=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof A=="string"?A:k0(A);return S=S.replace(/ $/,"%20"),Je(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let _={get action(){return c},get location(){return n(s,a)},listen(A){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(cT,p),u=A,()=>{s.removeEventListener(cT,p),u=null}},createHref(A){return t(s,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:v,go(A){return a.go(A)}};return _}var hT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(hT||(hT={}));function _5(n,t,e){return e===void 0&&(e="/"),w5(n,t,e,!1)}function w5(n,t,e,i){let s=typeof t=="string"?dh(t):t,r=iE(s.pathname||"/",e);if(r==null)return null;let a=Q2(n);b5(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=R5(r);c=L5(a[u],d,i)}return c}function Q2(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let s=(r,a,c)=>{let u={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};u.relativePath.startsWith("/")&&(Je(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let d=ic([i,u.relativePath]),f=e.concat(u);r.children&&r.children.length>0&&(Je(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Q2(r.children,t,f,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:T5(d,r.index),routesMeta:f})};return n.forEach((r,a)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,a);else for(let u of J2(r.path))s(r,a,u)}),t}function J2(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=J2(i.join("/")),c=[];return c.push(...a.map(u=>u===""?r:[r,u].join("/"))),s&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function b5(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:k5(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const x5=/^:[\w-]+$/,S5=3,A5=2,E5=1,C5=10,P5=-2,dT=n=>n==="*";function T5(n,t){let e=n.split("/"),i=e.length;return e.some(dT)&&(i+=P5),t&&(i+=A5),e.filter(s=>!dT(s)).reduce((s,r)=>s+(x5.test(r)?S5:r===""?E5:C5),i)}function k5(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function L5(n,t,e){let{routesMeta:i}=n,s={},r="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,f=r==="/"?t:t.slice(r.length)||"/",p=fT({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&e&&!i[i.length-1].route.index&&(p=fT({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:ic([r,p.pathname]),pathnameBase:O5(ic([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=ic([r,p.pathnameBase]))}return a}function fT(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=M5(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,f,p)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let _=c[p]||"";a=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[p];return v&&!x?d[g]=void 0:d[g]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:a,pattern:n}}function M5(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),nE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function R5(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function iE(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function N5(n,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?dh(n):n;return{pathname:e?e.startsWith("/")?e:I5(e,t):t,search:F5(i),hash:B5(s)}}function I5(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Qb(n,t,e,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D5(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function tR(n,t){let e=D5(n);return t?e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function eR(n,t,e,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=dh(n):(s=Ym({},n),Je(!s.pathname||!s.pathname.includes("?"),Qb("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Qb("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Qb("#","search","hash",s)));let r=n===""||s.pathname==="",a=r?"/":s.pathname,c;if(a==null)c=e;else{let p=t.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?t[p]:"/"}let u=N5(s,c),d=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const ic=n=>n.join("/").replace(/\/\/+/g,"/"),O5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),F5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,B5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function j5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nR=["post","put","patch","delete"];new Set(nR);const z5=["get",...nR];new Set(z5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Km.apply(this,arguments)}const sE=I.createContext(null),U5=I.createContext(null),fh=I.createContext(null),Iw=I.createContext(null),ph=I.createContext({outlet:null,matches:[],isDataRoute:!1}),iR=I.createContext(null);function H5(n,t){let{relative:e}=t===void 0?{}:t;Xv()||Je(!1);let{basename:i,navigator:s}=I.useContext(fh),{hash:r,pathname:a,search:c}=rR(n,{relative:e}),u=a;return i!=="/"&&(u=a==="/"?i:ic([i,a])),s.createHref({pathname:u,search:c,hash:r})}function Xv(){return I.useContext(Iw)!=null}function mh(){return Xv()||Je(!1),I.useContext(Iw).location}function sR(n){I.useContext(fh).static||I.useLayoutEffect(n)}function $5(){let{isDataRoute:n}=I.useContext(ph);return n?n8():W5()}function W5(){Xv()||Je(!1);let n=I.useContext(sE),{basename:t,future:e,navigator:i}=I.useContext(fh),{matches:s}=I.useContext(ph),{pathname:r}=mh(),a=JSON.stringify(tR(s,e.v7_relativeSplatPath)),c=I.useRef(!1);return sR(()=>{c.current=!0}),I.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){i.go(d);return}let p=eR(d,JSON.parse(a),r,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ic([t,p.pathname])),(f.replace?i.replace:i.push)(p,f.state,f)},[t,i,a,r,n])}function rR(n,t){let{relative:e}=t===void 0?{}:t,{future:i}=I.useContext(fh),{matches:s}=I.useContext(ph),{pathname:r}=mh(),a=JSON.stringify(tR(s,i.v7_relativeSplatPath));return I.useMemo(()=>eR(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function V5(n,t){return G5(n,t)}function G5(n,t,e,i){Xv()||Je(!1);let{navigator:s}=I.useContext(fh),{matches:r}=I.useContext(ph),a=r[r.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=mh(),f;if(t){var p;let A=typeof t=="string"?dh(t):t;u==="/"||(p=A.pathname)!=null&&p.startsWith(u)||Je(!1),f=A}else f=d;let g=f.pathname||"/",v=g;if(u!=="/"){let A=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=_5(n,{pathname:v}),_=K5(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:ic([u,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:ic([u,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),r,e,i);return t&&_?I.createElement(Iw.Provider,{value:{location:Km({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zl.Pop}},_):_}function q5(){let n=e8(),t=j5(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),e?I.createElement("pre",{style:s},e):null,null)}const Z5=I.createElement(q5,null);class X5 extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(ph.Provider,{value:this.props.routeContext},I.createElement(iR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y5(n){let{routeContext:t,match:e,children:i}=n,s=I.useContext(sE);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ph.Provider,{value:t},i)}function K5(n,t,e,i){var s;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var r;if(!e)return null;if(e.errors)n=e.matches;else if((r=i)!=null&&r.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,c=(s=e)==null?void 0:s.errors;if(c!=null){let f=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||Je(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(e&&i&&i.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=e,x=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let v,x=!1,_=null,A=null;e&&(v=c&&p.route.id?c[p.route.id]:void 0,_=p.route.errorElement||Z5,u&&(d<0&&g===0?(x=!0,A=null):d===g&&(x=!0,A=p.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,g+1)),S=()=>{let E;return v?E=_:x?E=A:p.route.Component?E=I.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=f,I.createElement(Y5,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:e!=null},children:E})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?I.createElement(X5,{location:e.location,revalidation:e.revalidation,component:_,error:v,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var oR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(oR||{}),L0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(L0||{});function Q5(n){let t=I.useContext(sE);return t||Je(!1),t}function J5(n){let t=I.useContext(U5);return t||Je(!1),t}function t8(n){let t=I.useContext(ph);return t||Je(!1),t}function aR(n){let t=t8(),e=t.matches[t.matches.length-1];return e.route.id||Je(!1),e.route.id}function e8(){var n;let t=I.useContext(iR),e=J5(L0.UseRouteError),i=aR(L0.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}function n8(){let{router:n}=Q5(oR.UseNavigateStable),t=aR(L0.UseNavigateStable),e=I.useRef(!1);return sR(()=>{e.current=!0}),I.useCallback(function(s,r){r===void 0&&(r={}),e.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Km({fromRouteId:t},r)))},[n,t])}function i8(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Cc(n){Je(!1)}function s8(n){let{basename:t="/",children:e=null,location:i,navigationType:s=Zl.Pop,navigator:r,static:a=!1,future:c}=n;Xv()&&Je(!1);let u=t.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:u,navigator:r,static:a,future:Km({v7_relativeSplatPath:!1},c)}),[u,c,r,a]);typeof i=="string"&&(i=dh(i));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:x="default"}=i,_=I.useMemo(()=>{let A=iE(f,u);return A==null?null:{location:{pathname:A,search:p,hash:g,state:v,key:x},navigationType:s}},[u,f,p,g,v,x,s]);return _==null?null:I.createElement(fh.Provider,{value:d},I.createElement(Iw.Provider,{children:e,value:_}))}function r8(n){let{children:t,location:e}=n;return V5(d1(t),e)}new Promise(()=>{});function d1(n,t){t===void 0&&(t=[]);let e=[];return I.Children.forEach(n,(i,s)=>{if(!I.isValidElement(i))return;let r=[...t,s];if(i.type===I.Fragment){e.push.apply(e,d1(i.props.children,r));return}i.type!==Cc&&Je(!1),!i.props.index||!i.props.children||Je(!1);let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=d1(i.props.children,r)),e.push(a)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f1(){return f1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},f1.apply(this,arguments)}function o8(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function a8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l8(n,t){return n.button===0&&(!t||t==="_self")&&!a8(n)}const c8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u8="6";try{window.__reactRouterVersion=u8}catch{}const h8="startTransition",pT=xk[h8];function d8(n){let{basename:t,children:e,future:i,window:s}=n,r=I.useRef();r.current==null&&(r.current=g5({window:s,v5Compat:!0}));let a=r.current,[c,u]=I.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},f=I.useCallback(p=>{d&&pT?pT(()=>u(p)):u(p)},[u,d]);return I.useLayoutEffect(()=>a.listen(f),[a,f]),I.useEffect(()=>i8(i),[i]),I.createElement(s8,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,future:i})}const f8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dr=I.forwardRef(function(t,e){let{onClick:i,relative:s,reloadDocument:r,replace:a,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=t,g=o8(t,c8),{basename:v}=I.useContext(fh),x,_=!1;if(typeof d=="string"&&p8.test(d)&&(x=d,f8))try{let E=new URL(window.location.href),M=d.startsWith("//")?new URL(E.protocol+d):new URL(d),N=iE(M.pathname,v);M.origin===E.origin&&N!=null?d=N+M.search+M.hash:_=!0}catch{}let A=H5(d,{relative:s}),w=m8(d,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function S(E){i&&i(E),E.defaultPrevented||w(E)}return I.createElement("a",f1({},g,{href:x||A,onClick:_||r?i:S,ref:e,target:u}))});var mT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mT||(mT={}));var gT;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(gT||(gT={}));function m8(n,t){let{target:e,replace:i,state:s,preventScrollReset:r,relative:a,viewTransition:c}=t===void 0?{}:t,u=$5(),d=mh(),f=rR(n,{relative:a});return I.useCallback(p=>{if(l8(p,e)){p.preventDefault();let g=i!==void 0?i:k0(d)===k0(f);u(n,{replace:g,state:s,preventScrollReset:r,relative:a,viewTransition:c})}},[d,u,f,i,s,e,n,r,a,c])}const g8=()=>{const{pathname:n}=mh();return I.useEffect(()=>{window.scrollTo(0,0)},[n]),null},v8=HA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gold:"bg-gradient-to-r from-gold-dark via-gold to-gold-dark text-primary-foreground font-semibold hover:shadow-lg hover:shadow-gold/30 hover:scale-105","gold-outline":"border-2 border-gold text-gold bg-transparent hover:bg-gold/10 hover:shadow-lg hover:shadow-gold/20",burgundy:"bg-burgundy text-foreground hover:bg-burgundy/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-md px-8 text-base",xl:"h-14 rounded-md px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Rs=I.forwardRef(({className:n,variant:t,size:e,asChild:i=!1,...s},r)=>{const a=i?zB:"button";return T.jsx(a,{className:Zn(v8({variant:t,size:e,className:n})),ref:r,...s})});Rs.displayName="Button";const lR="/barkaas-website/assets/logo-navbar-EbU6CCxJ.png",vT=[{name:"Home",path:"/"},{name:"Menu",path:"/menu"},{name:"About Us",path:"/about"},{name:"Gallery",path:"/gallery"}],y8=()=>{const[n,t]=I.useState(!1),e=mh();return T.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"flex items-center justify-between h-20",children:[T.jsx(dr,{to:"/",className:"flex items-center gap-2",children:T.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold text-gradient-gold",children:T.jsx("img",{src:lR,alt:"Barkaas Logo",className:"h-24 w-24"})})}),T.jsx("div",{className:"hidden md:flex items-center gap-8",children:vT.map(i=>T.jsx(dr,{to:i.path,className:Zn("text-sm font-medium transition-colors duration-300 relative","after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-gold after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left",e.pathname===i.path?"text-gold after:scale-x-100":"text-foreground/80 hover:text-foreground"),children:i.name},i.path))}),T.jsx("div",{className:"hidden md:block",children:T.jsx(Rs,{variant:"gold",size:"sm",asChild:!0,children:T.jsx(dr,{to:"/about",children:"Know more"})})}),T.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>t(!n),"aria-label":"Toggle menu",children:n?T.jsx($A,{size:24}):T.jsx(zj,{size:24})})]}),n&&T.jsx("div",{className:"md:hidden py-4 border-t border-border animate-fade-in",children:T.jsxs("div",{className:"flex flex-col gap-4",children:[vT.map(i=>T.jsx(dr,{to:i.path,onClick:()=>t(!1),className:Zn("text-base font-medium py-2 transition-colors duration-300",e.pathname===i.path?"text-gold":"text-foreground/80"),children:i.name},i.path)),T.jsx(Rs,{variant:"gold",size:"sm",className:"mt-2",asChild:!0,children:T.jsx(dr,{to:"/about",onClick:()=>t(!1),children:"Know more"})})]})})]})})};function cR(n,t){const e=I.useRef(t);I.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const _8=1;function w8(n){return Object.freeze({__version:_8,map:n})}function b8(n,t){return Object.freeze({...n,...t})}const uR=I.createContext(null),hR=uR.Provider;function dR(){const n=I.useContext(uR);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function x8(n){function t(e,i){const{instance:s,context:r}=n(e).current;return I.useImperativeHandle(i,()=>s),e.children==null?null:st.createElement(hR,{value:r},e.children)}return I.forwardRef(t)}function S8(n){function t(e,i){const[s,r]=I.useState(!1),{instance:a}=n(e,r).current;I.useImperativeHandle(i,()=>a),I.useEffect(function(){s&&a.update()},[a,s,e.children]);const c=a._contentNode;return c?up.createPortal(e.children,c):null}return I.forwardRef(t)}function A8(n){function t(e,i){const{instance:s}=n(e).current;return I.useImperativeHandle(i,()=>s),null}return I.forwardRef(t)}function fR(n,t){const e=I.useRef();I.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function rE(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function E8(n,t){return function(i,s){const r=dR(),a=n(rE(i,r),r);return cR(r.map,i.attribution),fR(a.current,i.eventHandlers),t(a.current,r,i,s),a}}var p1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,t){(function(e,i){i(t)})(aO,function(e){var i="1.9.4";function s(o){var h,m,y,C;for(m=1,y=arguments.length;m<y;m++){C=arguments[m];for(h in C)o[h]=C[h]}return o}var r=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function a(o,h){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var y=m.call(arguments,2);return function(){return o.apply(h,y.length?y.concat(m.call(arguments)):arguments)}}var c=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function d(o,h,m){var y,C,R,F;return F=function(){y=!1,C&&(R.apply(m,C),C=!1)},R=function(){y?C=arguments:(o.apply(m,arguments),setTimeout(F,h),y=!0)},R}function f(o,h,m){var y=h[1],C=h[0],R=y-C;return o===y&&m?o:((o-C)%R+R)%R+C}function p(){return!1}function g(o,h){if(h===!1)return o;var m=Math.pow(10,h===void 0?6:h);return Math.round(o*m)/m}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function x(o){return v(o).split(/\s+/)}function _(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?r(o.options):{});for(var m in h)o.options[m]=h[m];return o.options}function A(o,h,m){var y=[];for(var C in o)y.push(encodeURIComponent(m?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!h||h.indexOf("?")===-1?"?":"&")+y.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function S(o,h){return o.replace(w,function(m,y){var C=h[y];if(C===void 0)throw new Error("No value provided for variable "+m);return typeof C=="function"&&(C=C(h)),C})}var E=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function M(o,h){for(var m=0;m<o.length;m++)if(o[m]===h)return m;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var O=0;function B(o){var h=+new Date,m=Math.max(0,16-(h-O));return O=h+m,window.setTimeout(o,m)}var z=window.requestAnimationFrame||D("RequestAnimationFrame")||B,H=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function W(o,h,m){if(m&&z===B)o.call(h);else return z.call(window,a(o,h))}function V(o){o&&H.call(window,o)}var J={__proto__:null,extend:s,create:r,bind:a,get lastId(){return c},stamp:u,throttle:d,wrapNum:f,falseFn:p,formatNum:g,trim:v,splitWords:x,setOptions:_,getParamString:A,template:S,isArray:E,indexOf:M,emptyImageUrl:N,requestFn:z,cancelFn:H,requestAnimFrame:W,cancelAnimFrame:V};function U(){}U.extend=function(o){var h=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=h.__super__=this.prototype,y=r(m);y.constructor=h,h.prototype=y;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(h[C]=this[C]);return o.statics&&s(h,o.statics),o.includes&&(et(o.includes),s.apply(null,[y].concat(o.includes))),s(y,o),delete y.statics,delete y.includes,y.options&&(y.options=m.options?r(m.options):{},s(y.options,o.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,F=y._initHooks.length;R<F;R++)y._initHooks[R].call(this)}},h},U.include=function(o){var h=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},U.mergeOptions=function(o){return s(this.prototype.options,o),this},U.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function et(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=E(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(o,h,m){if(typeof o=="object")for(var y in o)this._on(y,o[y],h);else{o=x(o);for(var C=0,R=o.length;C<R;C++)this._on(o[C],h,m)}return this},off:function(o,h,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var y in o)this._off(y,o[y],h);else{o=x(o);for(var C=arguments.length===1,R=0,F=o.length;R<F;R++)C?this._off(o[R]):this._off(o[R],h,m)}return this},_on:function(o,h,m,y){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,m)===!1){m===this&&(m=void 0);var C={fn:h,ctx:m};y&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,h,m){var y,C,R;if(this._events&&(y=this._events[o],!!y)){if(arguments.length===1){if(this._firingCount)for(C=0,R=y.length;C<R;C++)y[C].fn=p;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var F=this._listens(o,h,m);if(F!==!1){var $=y[F];this._firingCount&&($.fn=p,this._events[o]=y=y.slice()),y.splice(F,1)}}},fire:function(o,h,m){if(!this.listens(o,m))return this;var y=s({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var R=0,F=C.length;R<F;R++){var $=C[R],G=$.fn;$.once&&this.off(o,G,$.ctx),G.call($.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(o,h,m,y){typeof o!="string"&&console.warn('"string" type argument expected');var C=h;typeof h!="function"&&(y=!!h,C=void 0,m=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,C,m)!==!1)return!0;if(y){for(var F in this._eventParents)if(this._eventParents[F].listens(o,h,m,y))return!0}return!1},_listens:function(o,h,m){if(!this._events)return!1;var y=this._events[o]||[];if(!h)return!!y.length;m===this&&(m=void 0);for(var C=0,R=y.length;C<R;C++)if(y[C].fn===h&&y[C].ctx===m)return C;return!1},once:function(o,h,m){if(typeof o=="object")for(var y in o)this._on(y,o[y],h,!0);else{o=x(o);for(var C=0,R=o.length;C<R;C++)this._on(o[C],h,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var Y=U.extend(q);function j(o,h,m){this.x=m?Math.round(o):o,this.y=m?Math.round(h):h}var Z=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(o){return this.clone()._add(X(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(X(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new j(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new j(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(o){o=X(o);var h=o.x-this.x,m=o.y-this.y;return Math.sqrt(h*h+m*m)},equals:function(o){return o=X(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=X(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function X(o,h,m){return o instanceof j?o:E(o)?new j(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new j(o.x,o.y):new j(o,h,m)}function rt(o,h){if(o)for(var m=h?[o,h]:o,y=0,C=m.length;y<C;y++)this.extend(m[y])}rt.prototype={extend:function(o){var h,m;if(!o)return this;if(o instanceof j||typeof o[0]=="number"||"x"in o)h=m=X(o);else if(o=Q(o),h=o.min,m=o.max,!h||!m)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=m.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,m;return typeof o[0]=="number"||o instanceof j?o=X(o):o=Q(o),o instanceof rt?(h=o.min,m=o.max):h=m=o,h.x>=this.min.x&&m.x<=this.max.x&&h.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=Q(o);var h=this.min,m=this.max,y=o.min,C=o.max,R=C.x>=h.x&&y.x<=m.x,F=C.y>=h.y&&y.y<=m.y;return R&&F},overlaps:function(o){o=Q(o);var h=this.min,m=this.max,y=o.min,C=o.max,R=C.x>h.x&&y.x<m.x,F=C.y>h.y&&y.y<m.y;return R&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,m=this.max,y=Math.abs(h.x-m.x)*o,C=Math.abs(h.y-m.y)*o;return Q(X(h.x-y,h.y-C),X(m.x+y,m.y+C))},equals:function(o){return o?(o=Q(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Q(o,h){return!o||o instanceof rt?o:new rt(o,h)}function it(o,h){if(o)for(var m=h?[o,h]:o,y=0,C=m.length;y<C;y++)this.extend(m[y])}it.prototype={extend:function(o){var h=this._southWest,m=this._northEast,y,C;if(o instanceof ut)y=o,C=o;else if(o instanceof it){if(y=o._southWest,C=o._northEast,!y||!C)return this}else return o?this.extend(dt(o)||at(o)):this;return!h&&!m?(this._southWest=new ut(y.lat,y.lng),this._northEast=new ut(C.lat,C.lng)):(h.lat=Math.min(y.lat,h.lat),h.lng=Math.min(y.lng,h.lng),m.lat=Math.max(C.lat,m.lat),m.lng=Math.max(C.lng,m.lng)),this},pad:function(o){var h=this._southWest,m=this._northEast,y=Math.abs(h.lat-m.lat)*o,C=Math.abs(h.lng-m.lng)*o;return new it(new ut(h.lat-y,h.lng-C),new ut(m.lat+y,m.lng+C))},getCenter:function(){return new ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ut||"lat"in o?o=dt(o):o=at(o);var h=this._southWest,m=this._northEast,y,C;return o instanceof it?(y=o.getSouthWest(),C=o.getNorthEast()):y=C=o,y.lat>=h.lat&&C.lat<=m.lat&&y.lng>=h.lng&&C.lng<=m.lng},intersects:function(o){o=at(o);var h=this._southWest,m=this._northEast,y=o.getSouthWest(),C=o.getNorthEast(),R=C.lat>=h.lat&&y.lat<=m.lat,F=C.lng>=h.lng&&y.lng<=m.lng;return R&&F},overlaps:function(o){o=at(o);var h=this._southWest,m=this._northEast,y=o.getSouthWest(),C=o.getNorthEast(),R=C.lat>h.lat&&y.lat<m.lat,F=C.lng>h.lng&&y.lng<m.lng;return R&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=at(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function at(o,h){return o instanceof it?o:new it(o,h)}function ut(o,h,m){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,m!==void 0&&(this.alt=+m)}ut.prototype={equals:function(o,h){if(!o)return!1;o=dt(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return pe.distance(this,dt(o))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,m=h/Math.cos(Math.PI/180*this.lat);return at([this.lat-h,this.lng-m],[this.lat+h,this.lng+m])},clone:function(){return new ut(this.lat,this.lng,this.alt)}};function dt(o,h,m){return o instanceof ut?o:E(o)&&typeof o[0]!="object"?o.length===3?new ut(o[0],o[1],o[2]):o.length===2?new ut(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ut(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new ut(o,h,m)}var ct={latLngToPoint:function(o,h){var m=this.projection.project(o),y=this.scale(h);return this.transformation._transform(m,y)},pointToLatLng:function(o,h){var m=this.scale(h),y=this.transformation.untransform(o,m);return this.projection.unproject(y)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,m=this.scale(o),y=this.transformation.transform(h.min,m),C=this.transformation.transform(h.max,m);return new rt(y,C)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?f(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?f(o.lat,this.wrapLat,!0):o.lat,y=o.alt;return new ut(m,h,y)},wrapLatLngBounds:function(o){var h=o.getCenter(),m=this.wrapLatLng(h),y=h.lat-m.lat,C=h.lng-m.lng;if(y===0&&C===0)return o;var R=o.getSouthWest(),F=o.getNorthEast(),$=new ut(R.lat-y,R.lng-C),G=new ut(F.lat-y,F.lng-C);return new it($,G)}},pe=s({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var m=Math.PI/180,y=o.lat*m,C=h.lat*m,R=Math.sin((h.lat-o.lat)*m/2),F=Math.sin((h.lng-o.lng)*m/2),$=R*R+Math.cos(y)*Math.cos(C)*F*F,G=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*G}}),He=6378137,me={R:He,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,o.lat),-m),C=Math.sin(y*h);return new j(this.R*o.lng*h,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var h=180/Math.PI;return new ut((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=He*Math.PI;return new rt([-o,-o],[o,o])}()};function Et(o,h,m,y){if(E(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=m,this._d=y}Et.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new j((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Re(o,h,m,y){return new Et(o,h,m,y)}var Dt=s({},pe,{code:"EPSG:3857",projection:me,transformation:function(){var o=.5/(Math.PI*me.R);return Re(o,.5,-o,.5)}()}),zt=s({},Dt,{code:"EPSG:900913"});function Kt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ne(o,h){var m="",y,C,R,F,$,G;for(y=0,R=o.length;y<R;y++){for($=o[y],C=0,F=$.length;C<F;C++)G=$[C],m+=(C?"L":"M")+G.x+" "+G.y;m+=h?yt.svg?"z":"x":""}return m||"M0 0"}var le=document.documentElement.style,hs="ActiveXObject"in window,xr=hs&&!document.addEventListener,bo="msLaunchUri"in navigator&&!("documentMode"in document),zs=kr("webkit"),Sr=kr("android"),ds=kr("android 2")||kr("android 3"),vp=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),yp=Sr&&kr("Google")&&vp<537&&!("AudioNode"in window),cn=!!window.opera,Us=!bo&&kr("chrome"),Mi=kr("gecko")&&!zs&&!cn&&!hs,Ar=!Us&&kr("safari"),In=kr("phantom"),Ia="OTransition"in le,oy=navigator.platform.indexOf("Win")===0,yh=hs&&"transition"in le,Er="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ds,_p="MozPerspective"in le,Da=!window.L_DISABLE_3D&&(yh||Er||_p)&&!Ia&&!In,vc=typeof orientation<"u"||kr("mobile"),Ww=vc&&zs,ay=vc&&Er,wp=!window.PointerEvent&&window.MSPointerEvent,ly=!!(window.PointerEvent||wp),_h="ontouchstart"in window||!!window.TouchEvent,Cr=!window.L_NO_TOUCH&&(_h||ly),Vw=vc&&cn,bt=vc&&Mi,Gt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ce=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",p,h),window.removeEventListener("testPassiveEventSupport",p,h)}catch{}return o}(),Ri=function(){return!!document.createElement("canvas").getContext}(),Yn=!!(document.createElementNS&&Kt("svg").createSVGRect),Pr=!!Yn&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xo=!Yn&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Ni=navigator.platform.indexOf("Mac")===0,Tr=navigator.platform.indexOf("Linux")===0;function kr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var yt={ie:hs,ielt9:xr,edge:bo,webkit:zs,android:Sr,android23:ds,androidStock:yp,opera:cn,chrome:Us,gecko:Mi,safari:Ar,phantom:In,opera12:Ia,win:oy,ie3d:yh,webkit3d:Er,gecko3d:_p,any3d:Da,mobile:vc,mobileWebkit:Ww,mobileWebkit3d:ay,msPointer:wp,pointer:ly,touch:Cr,touchNative:_h,mobileOpera:Vw,mobileGecko:bt,retina:Gt,passiveEvents:ce,canvas:Ri,svg:Yn,vml:xo,inlineSvg:Pr,mac:Ni,linux:Tr},kE=yt.msPointer?"MSPointerDown":"pointerdown",LE=yt.msPointer?"MSPointerMove":"pointermove",ME=yt.msPointer?"MSPointerUp":"pointerup",RE=yt.msPointer?"MSPointerCancel":"pointercancel",Gw={touchstart:kE,touchmove:LE,touchend:ME,touchcancel:RE},NE={touchstart:sD,touchmove:cy,touchend:cy,touchcancel:cy},wh={},IE=!1;function JI(o,h,m){return h==="touchstart"&&iD(),NE[h]?(m=NE[h].bind(this,m),o.addEventListener(Gw[h],m,!1),m):(console.warn("wrong event specified:",h),p)}function tD(o,h,m){if(!Gw[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(Gw[h],m,!1)}function eD(o){wh[o.pointerId]=o}function nD(o){wh[o.pointerId]&&(wh[o.pointerId]=o)}function DE(o){delete wh[o.pointerId]}function iD(){IE||(document.addEventListener(kE,eD,!0),document.addEventListener(LE,nD,!0),document.addEventListener(ME,DE,!0),document.addEventListener(RE,DE,!0),IE=!0)}function cy(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var m in wh)h.touches.push(wh[m]);h.changedTouches=[h],o(h)}}function sD(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&bn(h),cy(o,h)}function rD(o){var h={},m,y;for(y in o)m=o[y],h[y]=m&&m.bind?m.bind(o):m;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var oD=200;function aD(o,h){o.addEventListener("dblclick",h);var m=0,y;function C(R){if(R.detail!==1){y=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var F=zE(R);if(!(F.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!F.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var $=Date.now();$-m<=oD?(y++,y===2&&h(rD(R))):y=1,m=$}}}return o.addEventListener("click",C),{dblclick:h,simDblclick:C}}function lD(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var qw=dy(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bp=dy(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),OE=bp==="webkitTransition"||bp==="OTransition"?bp+"End":"transitionend";function FE(o){return typeof o=="string"?document.getElementById(o):o}function xp(o,h){var m=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(o,null);m=y?y[h]:null}return m==="auto"?null:m}function Wt(o,h,m){var y=document.createElement(o);return y.className=h||"",m&&m.appendChild(y),y}function Ae(o){var h=o.parentNode;h&&h.removeChild(o)}function uy(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function bh(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function xh(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Zw(o,h){if(o.classList!==void 0)return o.classList.contains(h);var m=hy(o);return m.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(m)}function Rt(o,h){if(o.classList!==void 0)for(var m=x(h),y=0,C=m.length;y<C;y++)o.classList.add(m[y]);else if(!Zw(o,h)){var R=hy(o);Xw(o,(R?R+" ":"")+h)}}function $e(o,h){o.classList!==void 0?o.classList.remove(h):Xw(o,v((" "+hy(o)+" ").replace(" "+h+" "," ")))}function Xw(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function hy(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function fs(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&cD(o,h)}function cD(o,h){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(y)}catch{if(h===1)return}h=Math.round(h*100),m?(m.Enabled=h!==100,m.Opacity=h):o.style.filter+=" progid:"+y+"(opacity="+h+")"}function dy(o){for(var h=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in h)return o[m];return!1}function yc(o,h,m){var y=h||new j(0,0);o.style[qw]=(yt.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function Ze(o,h){o._leaflet_pos=h,yt.any3d?yc(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function _c(o){return o._leaflet_pos||new j(0,0)}var Sp,Ap,Yw;if("onselectstart"in document)Sp=function(){Ct(window,"selectstart",bn)},Ap=function(){ue(window,"selectstart",bn)};else{var Ep=dy(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sp=function(){if(Ep){var o=document.documentElement.style;Yw=o[Ep],o[Ep]="none"}},Ap=function(){Ep&&(document.documentElement.style[Ep]=Yw,Yw=void 0)}}function Kw(){Ct(window,"dragstart",bn)}function Qw(){ue(window,"dragstart",bn)}var fy,Jw;function tb(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(py(),fy=o,Jw=o.style.outlineStyle,o.style.outlineStyle="none",Ct(window,"keydown",py))}function py(){fy&&(fy.style.outlineStyle=Jw,fy=void 0,Jw=void 0,ue(window,"keydown",py))}function BE(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function eb(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var uD={__proto__:null,TRANSFORM:qw,TRANSITION:bp,TRANSITION_END:OE,get:FE,getStyle:xp,create:Wt,remove:Ae,empty:uy,toFront:bh,toBack:xh,hasClass:Zw,addClass:Rt,removeClass:$e,setClass:Xw,getClass:hy,setOpacity:fs,testProp:dy,setTransform:yc,setPosition:Ze,getPosition:_c,get disableTextSelection(){return Sp},get enableTextSelection(){return Ap},disableImageDrag:Kw,enableImageDrag:Qw,preventOutline:tb,restoreOutline:py,getSizedParentNode:BE,getScale:eb};function Ct(o,h,m,y){if(h&&typeof h=="object")for(var C in h)ib(o,C,h[C],m);else{h=x(h);for(var R=0,F=h.length;R<F;R++)ib(o,h[R],m,y)}return this}var Lr="_leaflet_events";function ue(o,h,m,y){if(arguments.length===1)jE(o),delete o[Lr];else if(h&&typeof h=="object")for(var C in h)sb(o,C,h[C],m);else if(h=x(h),arguments.length===2)jE(o,function($){return M(h,$)!==-1});else for(var R=0,F=h.length;R<F;R++)sb(o,h[R],m,y);return this}function jE(o,h){for(var m in o[Lr]){var y=m.split(/\d/)[0];(!h||h(y))&&sb(o,y,null,null,m)}}var nb={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ib(o,h,m,y){var C=h+u(m)+(y?"_"+u(y):"");if(o[Lr]&&o[Lr][C])return this;var R=function($){return m.call(y||o,$||window.event)},F=R;!yt.touchNative&&yt.pointer&&h.indexOf("touch")===0?R=JI(o,h,R):yt.touch&&h==="dblclick"?R=aD(o,R):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(nb[h]||h,R,yt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(R=function($){$=$||window.event,ob(o,$)&&F($)},o.addEventListener(nb[h],R,!1)):o.addEventListener(h,F,!1):o.attachEvent("on"+h,R),o[Lr]=o[Lr]||{},o[Lr][C]=R}function sb(o,h,m,y,C){C=C||h+u(m)+(y?"_"+u(y):"");var R=o[Lr]&&o[Lr][C];if(!R)return this;!yt.touchNative&&yt.pointer&&h.indexOf("touch")===0?tD(o,h,R):yt.touch&&h==="dblclick"?lD(o,R):"removeEventListener"in o?o.removeEventListener(nb[h]||h,R,!1):o.detachEvent("on"+h,R),o[Lr][C]=null}function wc(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function rb(o){return ib(o,"wheel",wc),this}function Cp(o){return Ct(o,"mousedown touchstart dblclick contextmenu",wc),o._leaflet_disable_click=!0,this}function bn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function bc(o){return bn(o),wc(o),this}function zE(o){if(o.composedPath)return o.composedPath();for(var h=[],m=o.target;m;)h.push(m),m=m.parentNode;return h}function UE(o,h){if(!h)return new j(o.clientX,o.clientY);var m=eb(h),y=m.boundingClientRect;return new j((o.clientX-y.left)/m.x-h.clientLeft,(o.clientY-y.top)/m.y-h.clientTop)}var hD=yt.linux&&yt.chrome?window.devicePixelRatio:yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function HE(o){return yt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/hD:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ob(o,h){var m=h.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var dD={__proto__:null,on:Ct,off:ue,stopPropagation:wc,disableScrollPropagation:rb,disableClickPropagation:Cp,preventDefault:bn,stop:bc,getPropagationPath:zE,getMousePosition:UE,getWheelDelta:HE,isExternalTarget:ob,addListener:Ct,removeListener:ue},$E=Y.extend({run:function(o,h,m,y){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=_c(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,m=this._duration*1e3;h<m?this._runFrame(this._easeOut(h/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var m=this._startPos.add(this._offset.multiplyBy(o));h&&m._round(),Ze(this._el,m),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),jt=Y.extend({options:{crs:Dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=_(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(dt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bp&&yt.any3d&&!yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,OE,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,m){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(dt(o),h,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=s({animate:m.animate},m.zoom),m.pan=s({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,m.zoom):this._tryAnimatedPan(o,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,m){var y=this.getZoomScale(h),C=this.getSize().divideBy(2),R=o instanceof j?o:this.latLngToContainerPoint(o),F=R.subtract(C).multiplyBy(1-1/y),$=this.containerPointToLatLng(C.add(F));return this.setView($,h,{zoom:m})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():at(o);var m=X(h.paddingTopLeft||h.padding||[0,0]),y=X(h.paddingBottomRight||h.padding||[0,0]),C=this.getBoundsZoom(o,!1,m.add(y));if(C=typeof h.maxZoom=="number"?Math.min(h.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var R=y.subtract(m).divideBy(2),F=this.project(o.getSouthWest(),C),$=this.project(o.getNorthEast(),C),G=this.unproject(F.add($).divideBy(2).add(R),C);return{center:G,zoom:C}},fitBounds:function(o,h){if(o=at(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,h);return this.setView(m.center,m.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=X(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $E,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,m){if(m=m||{},m.animate===!1||!yt.any3d)return this.setView(o,h,m);this._stop();var y=this.project(this.getCenter()),C=this.project(o),R=this.getSize(),F=this._zoom;o=dt(o),h=h===void 0?F:h;var $=Math.max(R.x,R.y),G=$*this.getZoomScale(F,h),K=C.distanceTo(y)||1,lt=1.42,wt=lt*lt;function Nt(Xe){var Cy=Xe?-1:1,tO=Xe?G:$,eO=G*G-$*$+Cy*wt*wt*K*K,nO=2*tO*wt*K,vb=eO/nO,SC=Math.sqrt(vb*vb+1)-vb,iO=SC<1e-9?-18:Math.log(SC);return iO}function Kn(Xe){return(Math.exp(Xe)-Math.exp(-Xe))/2}function un(Xe){return(Math.exp(Xe)+Math.exp(-Xe))/2}function ms(Xe){return Kn(Xe)/un(Xe)}var pi=Nt(0);function Th(Xe){return $*(un(pi)/un(pi+lt*Xe))}function YD(Xe){return $*(un(pi)*ms(pi+lt*Xe)-Kn(pi))/wt}function KD(Xe){return 1-Math.pow(1-Xe,1.5)}var QD=Date.now(),bC=(Nt(1)-pi)/lt,JD=m.duration?1e3*m.duration:1e3*bC*.8;function xC(){var Xe=(Date.now()-QD)/JD,Cy=KD(Xe)*bC;Xe<=1?(this._flyToFrame=W(xC,this),this._move(this.unproject(y.add(C.subtract(y).multiplyBy(YD(Cy)/K)),F),this.getScaleZoom($/Th(Cy),F),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),xC.call(this),this},flyToBounds:function(o,h){var m=this._getBoundsCenterZoom(o,h);return this.flyTo(m.center,m.zoom,h)},setMaxBounds:function(o){return o=at(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,at(o));return m.equals(y)||this.panTo(y,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var m=X(h.paddingTopLeft||h.padding||[0,0]),y=X(h.paddingBottomRight||h.padding||[0,0]),C=this.project(this.getCenter()),R=this.project(o),F=this.getPixelBounds(),$=Q([F.min.add(m),F.max.subtract(y)]),G=$.getSize();if(!$.contains(R)){this._enforcingBounds=!0;var K=R.subtract($.getCenter()),lt=$.extend(R).getSize().subtract(G);C.x+=K.x<0?-lt.x:lt.x,C.y+=K.y<0?-lt.y:lt.y,this.panTo(this.unproject(C),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=h.divideBy(2).round(),C=m.divideBy(2).round(),R=y.subtract(C);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=a(this._handleGeolocationResponse,this),m=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,m,o):navigator.geolocation.getCurrentPosition(h,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,m=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,m=o.coords.longitude,y=new ut(h,m),C=y.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var F=this.getBoundsZoom(C);this.setView(y,R.maxZoom?Math.min(F,R.maxZoom):F)}var $={latlng:y,bounds:C,timestamp:o.timestamp};for(var G in o.coords)typeof o.coords[G]=="number"&&($[G]=o.coords[G]);this.fire("locationfound",$)}},addHandler:function(o,h){if(!h)return this;var m=this[o]=new h(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ae(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),y=Wt("div",m,h||this._mapPane);return o&&(this._panes[o]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new it(h,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,m){o=at(o),m=X(m||[0,0]);var y=this.getZoom()||0,C=this.getMinZoom(),R=this.getMaxZoom(),F=o.getNorthWest(),$=o.getSouthEast(),G=this.getSize().subtract(m),K=Q(this.project($,y),this.project(F,y)).getSize(),lt=yt.any3d?this.options.zoomSnap:1,wt=G.x/K.x,Nt=G.y/K.y,Kn=h?Math.max(wt,Nt):Math.min(wt,Nt);return y=this.getScaleZoom(Kn,y),lt&&(y=Math.round(y/(lt/100))*(lt/100),y=h?Math.ceil(y/lt)*lt:Math.floor(y/lt)*lt),Math.max(C,Math.min(R,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var m=this._getTopLeftPoint(o,h);return new rt(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var m=this.options.crs;return h=h===void 0?this._zoom:h,m.scale(o)/m.scale(h)},getScaleZoom:function(o,h){var m=this.options.crs;h=h===void 0?this._zoom:h;var y=m.zoom(o*m.scale(h));return isNaN(y)?1/0:y},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(dt(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(X(o),h)},layerPointToLatLng:function(o){var h=X(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(dt(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(dt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(at(o))},distance:function(o,h){return this.options.crs.distance(dt(o),dt(h))},containerPointToLayerPoint:function(o){return X(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return X(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(X(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dt(o)))},mouseEventToContainerPoint:function(o){return UE(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=FE(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(h,"scroll",this._onScroll,this),this._containerId=u(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt.any3d,Rt(o,"leaflet-container"+(yt.touch?" leaflet-touch":"")+(yt.retina?" leaflet-retina":"")+(yt.ielt9?" leaflet-oldie":"")+(yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=xp(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ze(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(o.markerPane,"leaflet-zoom-hide"),Rt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,m){Ze(this._mapPane,new j(0,0));var y=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var C=this._zoom!==h;this._moveStart(C,m)._move(o,h)._moveEnd(C),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,m,y){h===void 0&&(h=this._zoom);var C=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),y?m&&m.pinch&&this.fire("zoom",m):((C||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ze(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var h=o?ue:Ct;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),yt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var m=[],y,C=h==="mouseout"||h==="mouseover",R=o.target||o.srcElement,F=!1;R;){if(y=this._targets[u(R)],y&&(h==="click"||h==="preclick")&&this._draggableMoved(y)){F=!0;break}if(y&&y.listens(h,!0)&&(C&&!ob(R,o)||(m.push(y),C))||R===this._container)break;R=R.parentNode}return!m.length&&!F&&!C&&this.listens(h,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var m=o.type;m==="mousedown"&&tb(h),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,m){if(o.type==="click"){var y=s({},o);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var C=this._findEventTargets(o,h);if(m){for(var R=[],F=0;F<m.length;F++)m[F].listens(h,!0)&&R.push(m[F]);C=R.concat(C)}if(C.length){h==="contextmenu"&&bn(o);var $=C[0],G={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var K=$.getLatLng&&(!$._radius||$._radius<=10);G.containerPoint=K?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(o),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=K?$.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(F=0;F<C.length;F++)if(C[F].fire(h,G,!0),G.originalEvent._stopped||C[F].options.bubblingMouseEvents===!1&&M(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return _c(this._mapPane)||new j(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var m=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var m=this.getSize()._divideBy(2);return this.project(o,h)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,m){var y=this._getNewPixelOrigin(m,h);return this.project(o,h)._subtract(y)},_latLngBoundsToNewLayerBounds:function(o,h,m){var y=this._getNewPixelOrigin(m,h);return Q([this.project(o.getSouthWest(),h)._subtract(y),this.project(o.getNorthWest(),h)._subtract(y),this.project(o.getSouthEast(),h)._subtract(y),this.project(o.getNorthEast(),h)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,m){if(!m)return o;var y=this.project(o,h),C=this.getSize().divideBy(2),R=new rt(y.subtract(C),y.add(C)),F=this._getBoundsOffset(R,m,h);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?o:this.unproject(y.add(F),h)},_limitOffset:function(o,h){if(!h)return o;var m=this.getPixelBounds(),y=new rt(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(y,h))},_getBoundsOffset:function(o,h,m){var y=Q(this.project(h.getNorthEast(),m),this.project(h.getSouthWest(),m)),C=y.min.subtract(o.min),R=y.max.subtract(o.max),F=this._rebound(C.x,-R.x),$=this._rebound(C.y,-R.y);return new j(F,$)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),m=this.getMaxZoom(),y=yt.any3d?this.options.zoomSnap:1;return y&&(o=Math.round(o/y)*y),Math.max(h,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var m=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,h),!0)},_createAnimProxy:function(){var o=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var m=qw,y=this._proxy.style[m];yc(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();yc(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(h),C=this._getCenterOffset(o)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(C)?!1:(W(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fD(o,h){return new jt(o,h)}var Hs=U.extend({options:{position:"topright"},initialize:function(o){_(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),m=this.getPosition(),y=o._controlCorners[m];return Rt(h,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(h,y.firstChild):y.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Pp=function(o){return new Hs(o)};jt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",m=this._controlContainer=Wt("div",h+"control-container",this._container);function y(C,R){var F=h+C+" "+h+R;o[C+R]=Wt("div",F,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ae(this._controlCorners[o]);Ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var WE=Hs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,m,y){return m<y?-1:y<m?1:0}},initialize:function(o,h,m){_(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in o)this._addLayer(o[y],y);for(y in h)this._addLayer(h[y],y,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Hs.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(u(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=Wt("div",o),m=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Cp(h),rb(h);var y=this._section=Wt("section",o+"-list");m&&(this._map.on("click",this.collapse,this),Ct(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Wt("a",o+"-toggle",h);C.href="#",C.title="Layers",C.setAttribute("role","button"),Ct(C,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){bn(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Wt("div",o+"-base",y),this._separator=Wt("div",o+"-separator",y),this._overlaysList=Wt("div",o+"-overlays",y),h.appendChild(y)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&u(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:m}),this.options.sortLayers&&this._layers.sort(a(function(y,C){return this.options.sortFunction(y.layer,C.layer,y.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;uy(this._baseLayersList),uy(this._overlaysList),this._layerControlInputs=[];var o,h,m,y,C=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),h=h||y.overlay,o=o||!y.overlay,C+=y.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(u(o.target)),m=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,h)},_createRadioElement:function(o,h){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(o){var h=document.createElement("label"),m=this._map.hasLayer(o.layer),y;o.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+u(this),m),this._layerControlInputs.push(y),y.layerId=u(o.layer),Ct(y,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var R=document.createElement("span");h.appendChild(R),R.appendChild(y),R.appendChild(C);var F=o.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,m,y=[],C=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)h=o[R],m=this._getLayer(h.layerId).layer,h.checked?y.push(m):h.checked||C.push(m);for(R=0;R<C.length;R++)this._map.hasLayer(C[R])&&this._map.removeLayer(C[R]);for(R=0;R<y.length;R++)this._map.hasLayer(y[R])||this._map.addLayer(y[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,m,y=this._map.getZoom(),C=o.length-1;C>=0;C--)h=o[C],m=this._getLayer(h.layerId).layer,h.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ct(o,"click",bn),this.expand();var h=this;setTimeout(function(){ue(o,"click",bn),h._preventClick=!1})}}),pD=function(o,h,m){return new WE(o,h,m)},ab=Hs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",m=Wt("div",h+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,h+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,h+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,m,y,C){var R=Wt("a",m,y);return R.innerHTML=o,R.href="#",R.title=h,R.setAttribute("role","button"),R.setAttribute("aria-label",h),Cp(R),Ct(R,"click",bc),Ct(R,"click",C,this),Ct(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";$e(this._zoomInButton,h),$e(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Rt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Rt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});jt.mergeOptions({zoomControl:!0}),jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ab,this.addControl(this.zoomControl))});var mD=function(o){return new ab(o)},VE=Hs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",m=Wt("div",h),y=this.options;return this._addScales(y,h+"-line",m),o.on(y.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,m){o.metric&&(this._mScale=Wt("div",h,m)),o.imperial&&(this._iScale=Wt("div",h,m))},_update:function(){var o=this._map,h=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),m=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,m,h/o)},_updateImperial:function(o){var h=o*3.2808399,m,y,C;h>5280?(m=h/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(C=this._getRoundNum(h),this._updateScale(this._iScale,C+" ft",C/h))},_updateScale:function(o,h,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),m=o/h;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,h*m}}),gD=function(o){return new VE(o)},vD='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',lb=Hs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(yt.inlineSvg?vD+" ":"")+"Leaflet</a>"},initialize:function(o){_(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),Cp(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});jt.mergeOptions({attributionControl:!0}),jt.addInitHook(function(){this.options.attributionControl&&new lb().addTo(this)});var yD=function(o){return new lb(o)};Hs.Layers=WE,Hs.Zoom=ab,Hs.Scale=VE,Hs.Attribution=lb,Pp.layers=pD,Pp.zoom=mD,Pp.scale=gD,Pp.attribution=yD;var Mr=U.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mr.addTo=function(o,h){return o.addHandler(h,this),this};var _D={Events:q},GE=yt.touch?"touchstart mousedown":"mousedown",Oa=Y.extend({options:{clickTolerance:3},initialize:function(o,h,m,y){_(this,y),this._element=o,this._dragStartTarget=h||o,this._preventOutline=m},enable:function(){this._enabled||(Ct(this._dragStartTarget,GE,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oa._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,GE,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Zw(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Oa._dragging===this&&this.finishDrag();return}if(!(Oa._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Oa._dragging=this,this._preventOutline&&tb(this._element),Kw(),Sp(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,m=BE(this._element);this._startPoint=new j(h.clientX,h.clientY),this._startPos=_c(this._element),this._parentScale=eb(m);var y=o.type==="mousedown";Ct(document,y?"mousemove":"touchmove",this._onMove,this),Ct(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,m=new j(h.clientX,h.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,bn(o),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ze(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Qw(),Ap();var h=this._moved&&this._moving;this._moving=!1,Oa._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function qE(o,h,m){var y,C=[1,4,2,8],R,F,$,G,K,lt,wt,Nt;for(R=0,lt=o.length;R<lt;R++)o[R]._code=xc(o[R],h);for($=0;$<4;$++){for(wt=C[$],y=[],R=0,lt=o.length,F=lt-1;R<lt;F=R++)G=o[R],K=o[F],G._code&wt?K._code&wt||(Nt=my(K,G,wt,h,m),Nt._code=xc(Nt,h),y.push(Nt)):(K._code&wt&&(Nt=my(K,G,wt,h,m),Nt._code=xc(Nt,h),y.push(Nt)),y.push(G));o=y}return o}function ZE(o,h){var m,y,C,R,F,$,G,K,lt;if(!o||o.length===0)throw new Error("latlngs not passed");ps(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var wt=dt([0,0]),Nt=at(o),Kn=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Kn<1700&&(wt=cb(o));var un=o.length,ms=[];for(m=0;m<un;m++){var pi=dt(o[m]);ms.push(h.project(dt([pi.lat-wt.lat,pi.lng-wt.lng])))}for($=G=K=0,m=0,y=un-1;m<un;y=m++)C=ms[m],R=ms[y],F=C.y*R.x-R.y*C.x,G+=(C.x+R.x)*F,K+=(C.y+R.y)*F,$+=F*3;$===0?lt=ms[0]:lt=[G/$,K/$];var Th=h.unproject(X(lt));return dt([Th.lat+wt.lat,Th.lng+wt.lng])}function cb(o){for(var h=0,m=0,y=0,C=0;C<o.length;C++){var R=dt(o[C]);h+=R.lat,m+=R.lng,y++}return dt([h/y,m/y])}var wD={__proto__:null,clipPolygon:qE,polygonCenter:ZE,centroid:cb};function XE(o,h){if(!h||!o.length)return o.slice();var m=h*h;return o=SD(o,m),o=xD(o,m),o}function YE(o,h,m){return Math.sqrt(Tp(o,h,m,!0))}function bD(o,h,m){return Tp(o,h,m)}function xD(o,h){var m=o.length,y=typeof Uint8Array<"u"?Uint8Array:Array,C=new y(m);C[0]=C[m-1]=1,ub(o,C,h,0,m-1);var R,F=[];for(R=0;R<m;R++)C[R]&&F.push(o[R]);return F}function ub(o,h,m,y,C){var R=0,F,$,G;for($=y+1;$<=C-1;$++)G=Tp(o[$],o[y],o[C],!0),G>R&&(F=$,R=G);R>m&&(h[F]=1,ub(o,h,m,y,F),ub(o,h,m,F,C))}function SD(o,h){for(var m=[o[0]],y=1,C=0,R=o.length;y<R;y++)AD(o[y],o[C])>h&&(m.push(o[y]),C=y);return C<R-1&&m.push(o[R-1]),m}var KE;function QE(o,h,m,y,C){var R=y?KE:xc(o,m),F=xc(h,m),$,G,K;for(KE=F;;){if(!(R|F))return[o,h];if(R&F)return!1;$=R||F,G=my(o,h,$,m,C),K=xc(G,m),$===R?(o=G,R=K):(h=G,F=K)}}function my(o,h,m,y,C){var R=h.x-o.x,F=h.y-o.y,$=y.min,G=y.max,K,lt;return m&8?(K=o.x+R*(G.y-o.y)/F,lt=G.y):m&4?(K=o.x+R*($.y-o.y)/F,lt=$.y):m&2?(K=G.x,lt=o.y+F*(G.x-o.x)/R):m&1&&(K=$.x,lt=o.y+F*($.x-o.x)/R),new j(K,lt,C)}function xc(o,h){var m=0;return o.x<h.min.x?m|=1:o.x>h.max.x&&(m|=2),o.y<h.min.y?m|=4:o.y>h.max.y&&(m|=8),m}function AD(o,h){var m=h.x-o.x,y=h.y-o.y;return m*m+y*y}function Tp(o,h,m,y){var C=h.x,R=h.y,F=m.x-C,$=m.y-R,G=F*F+$*$,K;return G>0&&(K=((o.x-C)*F+(o.y-R)*$)/G,K>1?(C=m.x,R=m.y):K>0&&(C+=F*K,R+=$*K)),F=o.x-C,$=o.y-R,y?F*F+$*$:new j(C,R)}function ps(o){return!E(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function JE(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ps(o)}function tC(o,h){var m,y,C,R,F,$,G,K;if(!o||o.length===0)throw new Error("latlngs not passed");ps(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var lt=dt([0,0]),wt=at(o),Nt=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Nt<1700&&(lt=cb(o));var Kn=o.length,un=[];for(m=0;m<Kn;m++){var ms=dt(o[m]);un.push(h.project(dt([ms.lat-lt.lat,ms.lng-lt.lng])))}for(m=0,y=0;m<Kn-1;m++)y+=un[m].distanceTo(un[m+1])/2;if(y===0)K=un[0];else for(m=0,R=0;m<Kn-1;m++)if(F=un[m],$=un[m+1],C=F.distanceTo($),R+=C,R>y){G=(R-y)/C,K=[$.x-G*($.x-F.x),$.y-G*($.y-F.y)];break}var pi=h.unproject(X(K));return dt([pi.lat+lt.lat,pi.lng+lt.lng])}var ED={__proto__:null,simplify:XE,pointToSegmentDistance:YE,closestPointOnSegment:bD,clipSegment:QE,_getEdgeIntersection:my,_getBitCode:xc,_sqClosestPointOnSegment:Tp,isFlat:ps,_flat:JE,polylineCenter:tC},hb={project:function(o){return new j(o.lng,o.lat)},unproject:function(o){return new ut(o.y,o.x)},bounds:new rt([-180,-90],[180,90])},db={R:6378137,R_MINOR:6356752314245179e-9,bounds:new rt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,m=this.R,y=o.lat*h,C=this.R_MINOR/m,R=Math.sqrt(1-C*C),F=R*Math.sin(y),$=Math.tan(Math.PI/4-y/2)/Math.pow((1-F)/(1+F),R/2);return y=-m*Math.log(Math.max($,1e-10)),new j(o.lng*h*m,y)},unproject:function(o){for(var h=180/Math.PI,m=this.R,y=this.R_MINOR/m,C=Math.sqrt(1-y*y),R=Math.exp(-o.y/m),F=Math.PI/2-2*Math.atan(R),$=0,G=.1,K;$<15&&Math.abs(G)>1e-7;$++)K=C*Math.sin(F),K=Math.pow((1-K)/(1+K),C/2),G=Math.PI/2-2*Math.atan(R*K)-F,F+=G;return new ut(F*h,o.x*h/m)}},CD={__proto__:null,LonLat:hb,Mercator:db,SphericalMercator:me},PD=s({},pe,{code:"EPSG:3395",projection:db,transformation:function(){var o=.5/(Math.PI*db.R);return Re(o,.5,-o,.5)}()}),eC=s({},pe,{code:"EPSG:4326",projection:hb,transformation:Re(1/180,1,-1/180,.5)}),TD=s({},ct,{projection:hb,transformation:Re(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var m=h.lng-o.lng,y=h.lat-o.lat;return Math.sqrt(m*m+y*y)},infinite:!0});ct.Earth=pe,ct.EPSG3395=PD,ct.EPSG3857=Dt,ct.EPSG900913=zt,ct.EPSG4326=eC,ct.Simple=TD;var $s=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var m=this.getEvents();h.on(m,this),this.once("remove",function(){h.off(m,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});jt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=u(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=u(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,h){for(var m in this._layers)o.call(h,this._layers[m]);return this},_addLayers:function(o){o=o?E(o)?o:[o]:[];for(var h=0,m=o.length;h<m;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=u(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var C=this._zoomBoundLayers[y].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),h=C.maxZoom===void 0?h:Math.max(h,C.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sh=$s.extend({initialize:function(o,h){_(this,h),this._layers={};var m,y;if(o)for(m=0,y=o.length;m<y;m++)this.addLayer(o[m])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[o]&&y[o].apply(y,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var m in this._layers)o.call(h,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),kD=function(o,h){return new Sh(o,h)},So=Sh.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Sh.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Sh.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new it;for(var h in this._layers){var m=this._layers[h];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),LD=function(o,h){return new So(o,h)},Ah=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){_(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(y,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(o,h){var m=this.options,y=m[h+"Size"];typeof y=="number"&&(y=[y,y]);var C=X(y),R=X(h==="shadow"&&m.shadowAnchor||m.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(m.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return yt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function MD(o){return new Ah(o)}var kp=Ah.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof kp.imagePath!="string"&&(kp.imagePath=this._detectIconPath()),(this.options.imagePath||kp.imagePath)+Ah.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(m,y,C){var R=y.exec(m);return R&&R[C]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Wt("div","leaflet-default-icon-path",document.body),h=xp(o,"background-image")||xp(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),nC=Mr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Oa(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,m=h._map,y=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,R=_c(h._icon),F=m.getPixelBounds(),$=m.getPixelOrigin(),G=Q(F.min._subtract($).add(C),F.max._subtract($).subtract(C));if(!G.contains(R)){var K=X((Math.max(G.max.x,R.x)-G.max.x)/(F.max.x-G.max.x)-(Math.min(G.min.x,R.x)-G.min.x)/(F.min.x-G.min.x),(Math.max(G.max.y,R.y)-G.max.y)/(F.max.y-G.max.y)-(Math.min(G.min.y,R.y)-G.min.y)/(F.min.y-G.min.y)).multiplyBy(y);m.panBy(K,{animate:!1}),this._draggable._newPos._add(K),this._draggable._startPos._add(K),Ze(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=W(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,m=h._shadow,y=_c(h._icon),C=h._map.layerPointToLatLng(y);m&&Ze(m,y),h._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),gy=$s.extend({options:{icon:new kp,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){_(this,h),this._latlng=dt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=dt(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),Rt(m,h),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(m,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),R=!1;C!==this._shadow&&(this._removeShadow(),R=!0),C&&(Rt(C,h),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),Ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ae(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ze(this._icon,o),this._shadow&&Ze(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nC)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nC(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&fs(this._icon,o),this._shadow&&fs(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,m=h.iconSize?X(h.iconSize):X(0,0),y=h.iconAnchor?X(h.iconAnchor):X(0,0);o.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function RD(o,h){return new gy(o,h)}var Fa=$s.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return _(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vy=Fa.extend({options:{fill:!0,radius:10},initialize:function(o,h){_(this,h),this._latlng=dt(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=dt(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return Fa.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,m=this._clickTolerance(),y=[o+m,h+m];this._pxBounds=new rt(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ND(o,h){return new vy(o,h)}var fb=vy.extend({initialize:function(o,h,m){if(typeof h=="number"&&(h=s({},m,{radius:h})),_(this,h),this._latlng=dt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new it(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Fa.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===pe.distance){var C=Math.PI/180,R=this._mRadius/pe.R/C,F=m.project([h+R,o]),$=m.project([h-R,o]),G=F.add($).divideBy(2),K=m.unproject(G).lat,lt=Math.acos((Math.cos(R*C)-Math.sin(h*C)*Math.sin(K*C))/(Math.cos(h*C)*Math.cos(K*C)))/C;(isNaN(lt)||lt===0)&&(lt=R/Math.cos(Math.PI/180*h)),this._point=G.subtract(m.getPixelOrigin()),this._radius=isNaN(lt)?0:G.x-m.project([K,o-lt]).x,this._radiusY=G.y-F.y}else{var wt=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(wt).x}this._updateBounds()}});function ID(o,h,m){return new fb(o,h,m)}var Ao=Fa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){_(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,m=null,y=Tp,C,R,F=0,$=this._parts.length;F<$;F++)for(var G=this._parts[F],K=1,lt=G.length;K<lt;K++){C=G[K-1],R=G[K];var wt=y(o,C,R,!0);wt<h&&(h=wt,m=y(o,C,R))}return m&&(m.distance=Math.sqrt(h)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tC(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=dt(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new it,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return ps(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],m=ps(o),y=0,C=o.length;y<C;y++)m?(h[y]=dt(o[y]),this._bounds.extend(h[y])):h[y]=this._convertLatLngs(o[y]);return h},_project:function(){var o=new rt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new j(o,o);this._rawPxBounds&&(this._pxBounds=new rt([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,m){var y=o[0]instanceof ut,C=o.length,R,F;if(y){for(F=[],R=0;R<C;R++)F[R]=this._map.latLngToLayerPoint(o[R]),m.extend(F[R]);h.push(F)}else for(R=0;R<C;R++)this._projectLatlngs(o[R],h,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,m,y,C,R,F,$,G;for(m=0,C=0,R=this._rings.length;m<R;m++)for(G=this._rings[m],y=0,F=G.length;y<F-1;y++)$=QE(G[y],G[y+1],o,y,!0),$&&(h[C]=h[C]||[],h[C].push($[0]),($[1]!==G[y+1]||y===F-2)&&(h[C].push($[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,m=0,y=o.length;m<y;m++)o[m]=XE(o[m],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var m,y,C,R,F,$,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,R=this._parts.length;m<R;m++)for($=this._parts[m],y=0,F=$.length,C=F-1;y<F;C=y++)if(!(!h&&y===0)&&YE(o,$[C],$[y])<=G)return!0;return!1}});function DD(o,h){return new Ao(o,h)}Ao._flat=JE;var Eh=Ao.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ZE(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Ao.prototype._convertLatLngs.call(this,o),m=h.length;return m>=2&&h[0]instanceof ut&&h[0].equals(h[m-1])&&h.pop(),h},_setLatLngs:function(o){Ao.prototype._setLatLngs.call(this,o),ps(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ps(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,m=new j(h,h);if(o=new rt(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,C=this._rings.length,R;y<C;y++)R=qE(this._rings[y],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,m,y,C,R,F,$,G,K;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,G=this._parts.length;R<G;R++)for(m=this._parts[R],F=0,K=m.length,$=K-1;F<K;$=F++)y=m[F],C=m[$],y.y>o.y!=C.y>o.y&&o.x<(C.x-y.x)*(o.y-y.y)/(C.y-y.y)+y.x&&(h=!h);return h||Ao.prototype._containsPoint.call(this,o,!0)}});function OD(o,h){return new Eh(o,h)}var Eo=So.extend({initialize:function(o,h){_(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=E(o)?o:o.features,m,y,C;if(h){for(m=0,y=h.length;m<y;m++)C=h[m],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var F=yy(o,R);return F?(F.feature=by(o),F.defaultOptions=F.options,this.resetStyle(F),R.onEachFeature&&R.onEachFeature(o,F),this.addLayer(F)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function yy(o,h){var m=o.type==="Feature"?o.geometry:o,y=m?m.coordinates:null,C=[],R=h&&h.pointToLayer,F=h&&h.coordsToLatLng||pb,$,G,K,lt;if(!y&&!m)return null;switch(m.type){case"Point":return $=F(y),iC(R,o,$,h);case"MultiPoint":for(K=0,lt=y.length;K<lt;K++)$=F(y[K]),C.push(iC(R,o,$,h));return new So(C);case"LineString":case"MultiLineString":return G=_y(y,m.type==="LineString"?0:1,F),new Ao(G,h);case"Polygon":case"MultiPolygon":return G=_y(y,m.type==="Polygon"?1:2,F),new Eh(G,h);case"GeometryCollection":for(K=0,lt=m.geometries.length;K<lt;K++){var wt=yy({geometry:m.geometries[K],type:"Feature",properties:o.properties},h);wt&&C.push(wt)}return new So(C);case"FeatureCollection":for(K=0,lt=m.features.length;K<lt;K++){var Nt=yy(m.features[K],h);Nt&&C.push(Nt)}return new So(C);default:throw new Error("Invalid GeoJSON object.")}}function iC(o,h,m,y){return o?o(h,m):new gy(m,y&&y.markersInheritOptions&&y)}function pb(o){return new ut(o[1],o[0],o[2])}function _y(o,h,m){for(var y=[],C=0,R=o.length,F;C<R;C++)F=h?_y(o[C],h-1,m):(m||pb)(o[C]),y.push(F);return y}function mb(o,h){return o=dt(o),o.alt!==void 0?[g(o.lng,h),g(o.lat,h),g(o.alt,h)]:[g(o.lng,h),g(o.lat,h)]}function wy(o,h,m,y){for(var C=[],R=0,F=o.length;R<F;R++)C.push(h?wy(o[R],ps(o[R])?0:h-1,m,y):mb(o[R],y));return!h&&m&&C.length>0&&C.push(C[0].slice()),C}function Ch(o,h){return o.feature?s({},o.feature,{geometry:h}):by(h)}function by(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var gb={toGeoJSON:function(o){return Ch(this,{type:"Point",coordinates:mb(this.getLatLng(),o)})}};gy.include(gb),fb.include(gb),vy.include(gb),Ao.include({toGeoJSON:function(o){var h=!ps(this._latlngs),m=wy(this._latlngs,h?1:0,!1,o);return Ch(this,{type:(h?"Multi":"")+"LineString",coordinates:m})}}),Eh.include({toGeoJSON:function(o){var h=!ps(this._latlngs),m=h&&!ps(this._latlngs[0]),y=wy(this._latlngs,m?2:h?1:0,!0,o);return h||(y=[y]),Ch(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),Sh.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(m){h.push(m.toGeoJSON(o).geometry.coordinates)}),Ch(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var m=h==="GeometryCollection",y=[];return this.eachLayer(function(C){if(C.toGeoJSON){var R=C.toGeoJSON(o);if(m)y.push(R.geometry);else{var F=by(R);F.type==="FeatureCollection"?y.push.apply(y,F.features):y.push(F)}}}),m?Ch(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function sC(o,h){return new Eo(o,h)}var FD=sC,xy=$s.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,m){this._url=o,this._bounds=at(h),_(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&bh(this._image),this},bringToBack:function(){return this._map&&xh(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=at(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:Wt("img");if(Rt(h,"leaflet-image-layer"),this._zoomAnimated&&Rt(h,"leaflet-zoom-animated"),this.options.className&&Rt(h,this.options.className),h.onselectstart=p,h.onmousemove=p,h.onload=a(this.fire,this,"load"),h.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;yc(this._image,m,h)},_reset:function(){var o=this._image,h=new rt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=h.getSize();Ze(o,h.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){fs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),BD=function(o,h,m){return new xy(o,h,m)},rC=xy.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:Wt("video");if(Rt(h,"leaflet-image-layer"),this._zoomAnimated&&Rt(h,"leaflet-zoom-animated"),this.options.className&&Rt(h,this.options.className),h.onselectstart=p,h.onmousemove=p,h.onloadeddata=a(this.fire,this,"load"),o){for(var m=h.getElementsByTagName("source"),y=[],C=0;C<m.length;C++)y.push(m[C].src);this._url=m.length>0?y:[h.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var F=Wt("source");F.src=this._url[R],h.appendChild(F)}}});function jD(o,h,m){return new rC(o,h,m)}var oC=xy.extend({_initImage:function(){var o=this._image=this._url;Rt(o,"leaflet-image-layer"),this._zoomAnimated&&Rt(o,"leaflet-zoom-animated"),this.options.className&&Rt(o,this.options.className),o.onselectstart=p,o.onmousemove=p}});function zD(o,h,m){return new oC(o,h,m)}var Rr=$s.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof ut||E(o))?(this._latlng=dt(o),_(this,h)):(_(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&fs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&fs(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(fs(this._container,0),this._removeTimeout=setTimeout(a(Ae,void 0,this._container),200)):Ae(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=dt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bh(this._container),this},bringToBack:function(){return this._map&&xh(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof So){h=null;var m=this._source._layers;for(var y in m)if(m[y]._map){h=m[y];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=X(this.options.offset),m=this._getAnchor();this._zoomAnimated?Ze(this._container,o.add(m)):h=h.add(o).add(m);var y=this._containerBottom=-h.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=y+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});jt.include({_initOverlay:function(o,h,m,y){var C=h;return C instanceof o||(C=new o(y).setContent(h)),m&&C.setLatLng(m),C}}),$s.include({_initOverlay:function(o,h,m,y){var C=m;return C instanceof o?(_(C,y),C._source=this):(C=h&&!y?h:new o(y,this),C.setContent(m)),C}});var Sy=Rr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Rr.prototype.openOn.call(this,o)},onAdd:function(o){Rr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fa||this._source.on("preclick",wc))},onRemove:function(o){Rr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fa||this._source.off("preclick",wc))},getEvents:function(){var o=Rr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=Wt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Wt("div",o+"-content-wrapper",h);if(this._contentNode=Wt("div",o+"-content",m),Cp(h),rb(this._contentNode),Ct(h,"contextmenu",wc),this._tipContainer=Wt("div",o+"-tip-container",h),this._tip=Wt("div",o+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Wt("a",o+"-close-button",h);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(y,"click",function(C){bn(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),h.width=m+1+"px",h.whiteSpace="",h.height="";var y=o.offsetHeight,C=this.options.maxHeight,R="leaflet-popup-scrolled";C&&y>C?(h.height=C+"px",Rt(o,R)):$e(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();Ze(this._container,h.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(xp(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+h,y=this._containerWidth,C=new j(this._containerLeft,-m-this._containerBottom);C._add(_c(this._container));var R=o.layerPointToContainerPoint(C),F=X(this.options.autoPanPadding),$=X(this.options.autoPanPaddingTopLeft||F),G=X(this.options.autoPanPaddingBottomRight||F),K=o.getSize(),lt=0,wt=0;R.x+y+G.x>K.x&&(lt=R.x+y-K.x+G.x),R.x-lt-$.x<0&&(lt=R.x-$.x),R.y+m+G.y>K.y&&(wt=R.y+m-K.y+G.y),R.y-wt-$.y<0&&(wt=R.y-$.y),(lt||wt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([lt,wt]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),UD=function(o,h){return new Sy(o,h)};jt.mergeOptions({closePopupOnClick:!0}),jt.include({openPopup:function(o,h,m){return this._initOverlay(Sy,o,h,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),$s.include({bindPopup:function(o,h){return this._popup=this._initOverlay(Sy,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof So||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){bc(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof Fa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ay=Rr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Rr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Rr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Rr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,m,y=this._map,C=this._container,R=y.latLngToContainerPoint(y.getCenter()),F=y.layerPointToContainerPoint(o),$=this.options.direction,G=C.offsetWidth,K=C.offsetHeight,lt=X(this.options.offset),wt=this._getAnchor();$==="top"?(h=G/2,m=K):$==="bottom"?(h=G/2,m=0):$==="center"?(h=G/2,m=K/2):$==="right"?(h=0,m=K/2):$==="left"?(h=G,m=K/2):F.x<R.x?($="right",h=0,m=K/2):($="left",h=G+(lt.x+wt.x)*2,m=K/2),o=o.subtract(X(h,m,!0)).add(lt).add(wt),$e(C,"leaflet-tooltip-right"),$e(C,"leaflet-tooltip-left"),$e(C,"leaflet-tooltip-top"),$e(C,"leaflet-tooltip-bottom"),Rt(C,"leaflet-tooltip-"+$),Ze(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&fs(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),HD=function(o,h){return new Ay(o,h)};jt.include({openTooltip:function(o,h,m){return this._initOverlay(Ay,o,h,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),$s.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ay,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[h](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof So||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Ct(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ct(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,m,y;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),y=this._map.containerPointToLayerPoint(m),h=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(h)}});var aC=Ah.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(uy(h),h.appendChild(m.html)):h.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=X(m.bgPos);h.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function $D(o){return new aC(o)}Ah.Default=kp;var Lp=$s.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){_(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ae(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bh(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xh(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof j?o:new j(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,m=-o(-1/0,1/0),y=0,C=h.length,R;y<C;y++)R=h[y].style.zIndex,h[y]!==this._container&&R&&(m=o(m,+R));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!yt.ielt9){fs(this._container,this.options.opacity);var o=+new Date,h=!1,m=!1;for(var y in this._tiles){var C=this._tiles[y];if(!(!C.current||!C.loaded)){var R=Math.min(1,(o-C.loaded)/200);fs(C.el,R),R<1?h=!0:(C.active?m=!0:this._onOpaqueTile(C),C.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),h&&(V(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=h-Math.abs(o-m),this._onUpdateLevel(m)):(Ae(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[o],C=this._map;return y||(y=this._levels[o]={},y.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=h,y.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),y.zoom=o,this._setZoomTransform(y,C.getCenter(),C.getZoom()),p(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var o,h,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var y=h.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ae(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,m,y){var C=Math.floor(o/2),R=Math.floor(h/2),F=m-1,$=new j(+C,+R);$.z=+F;var G=this._tileCoordsToKey($),K=this._tiles[G];return K&&K.active?(K.retain=!0,!0):(K&&K.loaded&&(K.retain=!0),F>y?this._retainParent(C,R,F,y):!1)},_retainChildren:function(o,h,m,y){for(var C=2*o;C<2*o+2;C++)for(var R=2*h;R<2*h+2;R++){var F=new j(C,R);F.z=m+1;var $=this._tileCoordsToKey(F),G=this._tiles[$];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);m+1<y&&this._retainChildren(C,R,m+1,y)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,m,y){var C=Math.round(h);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var R=this.options.updateWhenZooming&&C!==this._tileZoom;(!y||R)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,h)},_setZoomTransform:function(o,h,m){var y=this._map.getZoomScale(m,o.zoom),C=o.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(h,m)).round();yt.any3d?yc(o.el,C,y):Ze(o.el,C)},_resetGrid:function(){var o=this._map,h=o.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],y).x/m.x),Math.ceil(o.project([0,h.wrapLng[1]],y).x/m.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],y).y/m.x),Math.ceil(o.project([h.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,m=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),y=h.getZoomScale(m,this._tileZoom),C=h.project(o,this._tileZoom).floor(),R=h.getSize().divideBy(y*2);return new rt(C.subtract(R),C.add(R))},_update:function(o){var h=this._map;if(h){var m=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(y),R=C.getCenter(),F=[],$=this.options.keepBuffer,G=new rt(C.getBottomLeft().subtract([$,-$]),C.getTopRight().add([$,-$]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var K in this._tiles){var lt=this._tiles[K].coords;(lt.z!==this._tileZoom||!G.contains(new j(lt.x,lt.y)))&&(this._tiles[K].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var wt=C.min.y;wt<=C.max.y;wt++)for(var Nt=C.min.x;Nt<=C.max.x;Nt++){var Kn=new j(Nt,wt);if(Kn.z=this._tileZoom,!!this._isValidTile(Kn)){var un=this._tiles[this._tileCoordsToKey(Kn)];un?un.current=!0:F.push(Kn)}}if(F.sort(function(pi,Th){return pi.distanceTo(R)-Th.distanceTo(R)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ms=document.createDocumentFragment();for(Nt=0;Nt<F.length;Nt++)this._addTile(F[Nt],ms);this._level.el.appendChild(ms)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var m=this._globalTileRange;if(!h.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!h.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(o);return at(this.options.bounds).overlaps(y)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,m=this.getTileSize(),y=o.scaleBy(m),C=y.add(m),R=h.unproject(y,o.z),F=h.unproject(C,o.z);return[R,F]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),m=new it(h[0],h[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),m=new j(+h[0],+h[1]);return m.z=+h[2],m},_removeTile:function(o){var h=this._tiles[o];h&&(Ae(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Rt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=p,o.onmousemove=p,yt.ielt9&&this.options.opacity<1&&fs(o,this.options.opacity)},_addTile:function(o,h){var m=this._getTilePos(o),y=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&W(a(this._tileReady,this,o,null,C)),Ze(C,m),this._tiles[y]={el:C,coords:o,current:!0},h.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,h,m){h&&this.fire("tileerror",{error:h,tile:m,coords:o});var y=this._tileCoordsToKey(o);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(fs(m.el,0),V(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),h||(Rt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),yt.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new j(this._wrapX?f(o.x,this._wrapX):o.x,this._wrapY?f(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new rt(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function WD(o){return new Lp(o)}var Ph=Lp.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=_(this,h),h.detectRetina&&yt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var m=document.createElement("img");return Ct(m,"load",a(this._tileOnLoad,this,h,m)),Ct(m,"error",a(this._tileOnError,this,h,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var h={r:yt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=m),h["-y"]=m}return S(this._url,s(h,this.options))},_tileOnLoad:function(o,h){yt.ielt9?setTimeout(a(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,m){var y=this.options.errorTileUrl;y&&h.getAttribute("src")!==y&&(h.src=y),o(m,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(o=h-o),o+y},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=p,h.onerror=p,!h.complete)){h.src=N;var m=this._tiles[o].coords;Ae(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:m})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",N),Lp.prototype._removeTile.call(this,o)},_tileReady:function(o,h,m){if(!(!this._map||m&&m.getAttribute("src")===N))return Lp.prototype._tileReady.call(this,o,h,m)}});function lC(o,h){return new Ph(o,h)}var cC=Ph.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var m=s({},this.defaultWmsParams);for(var y in h)y in this.options||(m[y]=h[y]);h=_(this,h);var C=h.detectRetina&&yt.retina?2:1,R=this.getTileSize();m.width=R.x*C,m.height=R.y*C,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Ph.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),m=this._crs,y=Q(m.project(h[0]),m.project(h[1])),C=y.min,R=y.max,F=(this._wmsVersion>=1.3&&this._crs===eC?[C.y,C.x,R.y,R.x]:[C.x,C.y,R.x,R.y]).join(","),$=Ph.prototype.getTileUrl.call(this,o);return $+A(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(o,h){return s(this.wmsParams,o),h||this.redraw(),this}});function VD(o,h){return new cC(o,h)}Ph.WMS=cC,lC.wms=VD;var Co=$s.extend({options:{padding:.1},initialize:function(o){_(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var m=this._map.getZoomScale(h,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,h),R=y.multiplyBy(-m).add(C).subtract(this._map._getNewPixelOrigin(o,h));yt.any3d?yc(this._container,R,m):Ze(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),m=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new rt(m,m.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),uC=Co.extend({options:{tolerance:0},getEvents:function(){var o=Co.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Co.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ct(o,"mousemove",this._onMouseMove,this),Ct(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,Ae(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Co.prototype._update.call(this);var o=this._bounds,h=this._container,m=o.getSize(),y=yt.retina?2:1;Ze(h,o.min),h.width=y*m.x,h.height=y*m.y,h.style.width=m.x+"px",h.style.height=m.y+"px",yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Co.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,m=h.next,y=h.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),m=[],y,C;for(C=0;C<h.length;C++){if(y=Number(h[C]),isNaN(y))return;m.push(y)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new rt,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var m=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)o=y.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var m,y,C,R,F=o._parts,$=F.length,G=this._ctx;if($){for(G.beginPath(),m=0;m<$;m++){for(y=0,C=F[m].length;y<C;y++)R=F[m][y],G[y?"lineTo":"moveTo"](R.x,R.y);h&&G.closePath()}this._fillStroke(G,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,m=this._ctx,y=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||y)/y;C!==1&&(m.save(),m.scale(1,C)),m.beginPath(),m.arc(h.x,h.y/C,y,0,Math.PI*2,!1),C!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,h){var m=h.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),m,y,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&($e(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var m,y,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(h)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(o),y&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([y],o,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,m){this._map._fireDOMEvent(h,m||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var m=h.next,y=h.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var m=h.next,y=h.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function hC(o){return yt.canvas?new uC(o):null}var Mp=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),GD={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Co.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Mp("shape");Rt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Mp("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;Ae(h),o.removeInteractiveTarget(h),delete this._layers[u(o)]},_updateStyle:function(o){var h=o._stroke,m=o._fill,y=o.options,C=o._container;C.stroked=!!y.stroke,C.filled=!!y.fill,y.stroke?(h||(h=o._stroke=Mp("stroke")),C.appendChild(h),h.weight=y.weight+"px",h.color=y.color,h.opacity=y.opacity,y.dashArray?h.dashStyle=E(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=y.lineCap.replace("butt","flat"),h.joinstyle=y.lineJoin):h&&(C.removeChild(h),o._stroke=null),y.fill?(m||(m=o._fill=Mp("fill")),C.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(C.removeChild(m),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),m=Math.round(o._radius),y=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){bh(o._container)},_bringToBack:function(o){xh(o._container)}},Ey=yt.vml?Mp:Kt,Rp=Co.extend({_initContainer:function(){this._container=Ey("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ey("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ae(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Co.prototype._update.call(this);var o=this._bounds,h=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,m.setAttribute("width",h.x),m.setAttribute("height",h.y)),Ze(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Ey("path");o.options.className&&Rt(h,o.options.className),o.options.interactive&&Rt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ae(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,m=o.options;h&&(m.stroke?(h.setAttribute("stroke",m.color),h.setAttribute("stroke-opacity",m.opacity),h.setAttribute("stroke-width",m.weight),h.setAttribute("stroke-linecap",m.lineCap),h.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?h.setAttribute("stroke-dasharray",m.dashArray):h.removeAttribute("stroke-dasharray"),m.dashOffset?h.setAttribute("stroke-dashoffset",m.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),m.fill?(h.setAttribute("fill",m.fillColor||m.color),h.setAttribute("fill-opacity",m.fillOpacity),h.setAttribute("fill-rule",m.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,Ne(o._parts,h))},_updateCircle:function(o){var h=o._point,m=Math.max(Math.round(o._radius),1),y=Math.max(Math.round(o._radiusY),1)||m,C="a"+m+","+y+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(h.x-m)+","+h.y+C+m*2+",0 "+C+-m*2+",0 ";this._setPath(o,R)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){bh(o._path)},_bringToBack:function(o){xh(o._path)}});yt.vml&&Rp.include(GD);function dC(o){return yt.svg||yt.vml?new Rp(o):null}jt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&hC(o)||dC(o)}});var fC=Eh.extend({initialize:function(o,h){Eh.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=at(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function qD(o,h){return new fC(o,h)}Rp.create=Ey,Rp.pointsToPath=Ne,Eo.geometryToLayer=yy,Eo.coordsToLatLng=pb,Eo.coordsToLatLngs=_y,Eo.latLngToCoords=mb,Eo.latLngsToCoords=wy,Eo.getFeature=Ch,Eo.asFeature=by,jt.mergeOptions({boxZoom:!0});var pC=Mr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sp(),Kw(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ct(document,{contextmenu:bc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new rt(this._point,this._startPoint),m=h.getSize();Ze(this._box,h.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Ae(this._box),$e(this._container,"leaflet-crosshair")),Ap(),Qw(),ue(document,{contextmenu:bc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var h=new it(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jt.addInitHook("addHandler","boxZoom",pC),jt.mergeOptions({doubleClickZoom:!0});var mC=Mr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,m=h.getZoom(),y=h.options.zoomDelta,C=o.originalEvent.shiftKey?m-y:m+y;h.options.doubleClickZoom==="center"?h.setZoom(C):h.setZoomAround(o.containerPoint,C)}});jt.addInitHook("addHandler","doubleClickZoom",mC),jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gC=Mr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Oa(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=at(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,C=(y-h+m)%o+h-m,R=(y+h+m)%o-h-m,F=Math.abs(C+m)<Math.abs(R+m)?C:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(o){var h=this._map,m=h.options,y=!m.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),y)h.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,F=m.easeLinearity,$=C.multiplyBy(F/R),G=$.distanceTo([0,0]),K=Math.min(m.inertiaMaxSpeed,G),lt=$.multiplyBy(K/G),wt=K/(m.inertiaDeceleration*F),Nt=lt.multiplyBy(-wt/2).round();!Nt.x&&!Nt.y?h.fire("moveend"):(Nt=h._limitOffset(Nt,h.options.maxBounds),W(function(){h.panBy(Nt,{duration:wt,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});jt.addInitHook("addHandler","dragging",gC),jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vC=Mr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ct(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,m=o.scrollTop||h.scrollTop,y=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},m=this.keyCodes,y,C;for(y=0,C=m.left.length;y<C;y++)h[m.left[y]]=[-1*o,0];for(y=0,C=m.right.length;y<C;y++)h[m.right[y]]=[o,0];for(y=0,C=m.down.length;y<C;y++)h[m.down[y]]=[0,o];for(y=0,C=m.up.length;y<C;y++)h[m.up[y]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},m=this.keyCodes,y,C;for(y=0,C=m.zoomIn.length;y<C;y++)h[m.zoomIn[y]]=o;for(y=0,C=m.zoomOut.length;y<C;y++)h[m.zoomOut[y]]=-o},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,m=this._map,y;if(h in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[h],o.shiftKey&&(y=X(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(X(y),m.options.maxBounds)),m.options.worldCopyJump){var C=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(C)}else m.panBy(y)}else if(h in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;bc(o)}}});jt.addInitHook("addHandler","keyboard",vC),jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yC=Mr.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=HE(o),m=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),y),bc(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,R=m?Math.ceil(C/m)*m:C,F=o._limitZoom(h+(this._delta>0?R:-R))-h;this._delta=0,this._startTime=null,F&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+F):o.setZoomAround(this._lastMousePos,h+F))}});jt.addInitHook("addHandler","scrollWheelZoom",yC);var ZD=600;jt.mergeOptions({tapHold:yt.touchNative&&yt.safari&&yt.mobile,tapTolerance:15});var _C=Mr.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new j(h.clientX,h.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",bn),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),ZD),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ue(document,"touchend",bn),ue(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new j(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});m._simulated=!0,h.target.dispatchEvent(m)}});jt.addInitHook("addHandler","tapHold",_C),jt.mergeOptions({touchZoom:yt.touch,bounceAtZoomLimits:!0});var wC=Mr.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var m=h.mouseEventToContainerPoint(o.touches[0]),y=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),bn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,m=h.mouseEventToContainerPoint(o.touches[0]),y=h.mouseEventToContainerPoint(o.touches[1]),C=m.distanceTo(y)/this._startDist;if(this._zoom=h.getScaleZoom(C,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&C<1||this._zoom>h.getMaxZoom()&&C>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var R=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(C===1&&R.x===0&&R.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var F=a(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(F,this,!0),bn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jt.addInitHook("addHandler","touchZoom",wC),jt.BoxZoom=pC,jt.DoubleClickZoom=mC,jt.Drag=gC,jt.Keyboard=vC,jt.ScrollWheelZoom=yC,jt.TapHold=_C,jt.TouchZoom=wC,e.Bounds=rt,e.Browser=yt,e.CRS=ct,e.Canvas=uC,e.Circle=fb,e.CircleMarker=vy,e.Class=U,e.Control=Hs,e.DivIcon=aC,e.DivOverlay=Rr,e.DomEvent=dD,e.DomUtil=uD,e.Draggable=Oa,e.Evented=Y,e.FeatureGroup=So,e.GeoJSON=Eo,e.GridLayer=Lp,e.Handler=Mr,e.Icon=Ah,e.ImageOverlay=xy,e.LatLng=ut,e.LatLngBounds=it,e.Layer=$s,e.LayerGroup=Sh,e.LineUtil=ED,e.Map=jt,e.Marker=gy,e.Mixin=_D,e.Path=Fa,e.Point=j,e.PolyUtil=wD,e.Polygon=Eh,e.Polyline=Ao,e.Popup=Sy,e.PosAnimation=$E,e.Projection=CD,e.Rectangle=fC,e.Renderer=Co,e.SVG=Rp,e.SVGOverlay=oC,e.TileLayer=Ph,e.Tooltip=Ay,e.Transformation=Et,e.Util=J,e.VideoOverlay=rC,e.bind=a,e.bounds=Q,e.canvas=hC,e.circle=ID,e.circleMarker=ND,e.control=Pp,e.divIcon=$D,e.extend=s,e.featureGroup=LD,e.geoJSON=sC,e.geoJson=FD,e.gridLayer=WD,e.icon=MD,e.imageOverlay=BD,e.latLng=dt,e.latLngBounds=at,e.layerGroup=kD,e.map=fD,e.marker=RD,e.point=X,e.polygon=OD,e.polyline=DD,e.popup=UD,e.rectangle=qD,e.setOptions=_,e.stamp=u,e.svg=dC,e.svgOverlay=zD,e.tileLayer=lC,e.tooltip=HD,e.transformation=Re,e.version=i,e.videoOverlay=jD;var XD=window.L;e.noConflict=function(){return window.L=XD,this},window.L=e})})(p1,p1.exports);var Yv=p1.exports;function oE(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function aE(n,t){return t==null?function(i,s){const r=I.useRef();return r.current||(r.current=n(i,s)),r}:function(i,s){const r=I.useRef();r.current||(r.current=n(i,s));const a=I.useRef(i),{instance:c}=r.current;return I.useEffect(function(){a.current!==i&&(t(c,i,a.current),a.current=i)},[c,i,s]),r}}function C8(n,t){I.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var r;(r=t.layerContainer)==null||r.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function pR(n){return function(e){const i=dR(),s=n(rE(e,i),i);return cR(i.map,e.attribution),fR(s.current,e.eventHandlers),C8(s.current,i),s}}function P8(n,t){const e=aE(n,t),i=pR(e);return x8(i)}function T8(n,t){const e=aE(n),i=E8(e,t);return S8(i)}function k8(n,t){const e=aE(n,t),i=pR(e);return A8(i)}function L8(n,t,e){const{opacity:i,zIndex:s}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),s!=null&&s!==e.zIndex&&n.setZIndex(s)}function m1(){return m1=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},m1.apply(this,arguments)}function M8({bounds:n,boundsOptions:t,center:e,children:i,className:s,id:r,placeholder:a,style:c,whenReady:u,zoom:d,...f},p){const[g]=I.useState({className:s,id:r,style:c}),[v,x]=I.useState(null);I.useImperativeHandle(p,()=>(v==null?void 0:v.map)??null,[v]);const _=I.useCallback(w=>{if(w!==null&&v===null){const S=new Yv.Map(w,f);e!=null&&d!=null?S.setView(e,d):n!=null&&S.fitBounds(n,t),u!=null&&S.whenReady(u),x(w8(S))}},[]);I.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const A=v?st.createElement(hR,{value:v},i):a??null;return st.createElement("div",m1({},g,{ref:_}),A)}const R8=I.forwardRef(M8),N8=P8(function({position:t,...e},i){const s=new Yv.Marker(t,e);return oE(s,b8(i,{overlayContainer:s}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),I8=T8(function(t,e){const i=new Yv.Popup(t,e.overlayContainer);return oE(i,e)},function(t,e,{position:i},s){I.useEffect(function(){const{instance:a}=t;function c(d){d.popup===a&&(a.update(),s(!0))}function u(d){d.popup===a&&s(!1)}return e.map.on({popupopen:c,popupclose:u}),e.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(e.map)):e.overlayContainer.bindPopup(a),function(){var f;e.map.off({popupopen:c,popupclose:u}),(f=e.overlayContainer)==null||f.unbindPopup(),e.map.removeLayer(a)}},[t,e,s,i])}),D8=k8(function({url:t,...e},i){const s=new Yv.TileLayer(t,rE(e,i));return oE(s,i)},function(t,e,i){L8(t,e,i);const{url:s}=e;s!=null&&s!==i.url&&t.setUrl(s)}),O8=new Yv.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-gold.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[30,45],iconAnchor:[15,45],popupAnchor:[0,-40]}),F8=[{id:"marathahalli-blr",name:"Marathahalli",city:"Bengaluru",state:"Karnataka",lat:12.951244864093034,lng:77.69943776441791,gmap:"https://maps.app.goo.gl/Mmii2uviqT5N9xz26"},{id:"whitefield-blr",name:"Whitefield",city:"Bengaluru",state:"Karnataka",lat:12.97572728125544,lng:77.72684785334371,gmap:"https://maps.app.goo.gl/Dj89dc1L9fTETf5k6"},{id:"mullickbazar-kol",name:"Mullick Bazar",city:"Kolkata",state:"West Bengal",lat:22.54630463858092,lng:88.36251169661766,gmap:"https://maps.app.goo.gl/yWFtnKD3hYA5G7Vn8"},{id:"chinarpark-kol",name:"Chinar Park",city:"Kolkata",state:"West Bengal",lat:22.622345933347592,lng:88.4451553101118,gmap:"https://maps.app.goo.gl/S2pmsDS3giz5jrXM6"},{id:"maheshtala-kol",name:"Maheshtala",city:"Kolkata",state:"West Bengal",lat:22.54902551292249,lng:88.2804088101103,gmap:"https://maps.app.goo.gl/bt8uDZfHjj8SSRpi8"},{id:"aligarh-up",name:"Aligarh",city:"Aligarh",state:"Uttar Pradesh",lat:27.931463750337127,lng:78.09171186164401,gmap:"https://maps.app.goo.gl/AaJ6yZNM4LbHfTrp7"},{id:"hazratganj-up",name:"Hazratganj",city:"Lucknow",state:"Uttar Pradesh",lat:26.88328546271052,lng:80.97644018949754,gmap:"https://maps.app.goo.gl/Xk8ypqkZKXLR8hmN9"},{id:"aliganj-up",name:"Aliganj",city:"Lucknow",state:"Uttar Pradesh",lat:26.917576861335718,lng:80.92700171415677,gmap:"https://maps.app.goo.gl/8362Q1AEDYXaD98M8"},{id:"kanpur-up",name:"Kanpur",city:"Kanpur",state:"Uttar Pradesh",lat:26.529971510540644,lng:80.33099342810426,gmap:"https://maps.app.goo.gl/nibPyXmitVvEZwXS8"},{id:"gomtinagar-up",name:"Gomtinagar",city:"Lucknow",state:"Uttar Pradesh",lat:26.888184871362267,lng:80.99566626324116,gmap:"https://maps.app.goo.gl/jbZQ6zeAiPfJxrqLA"},{id:"patna-bih",name:"Patna",city:"Patna",state:"Bihar",lat:25.611045473061754,lng:85.13778713901065,gmap:"https://maps.app.goo.gl/s9DjoSC5MQKqJNEy9"},{id:"tirupati-ap",name:"Tirupati",city:"Tirupati",state:"Andhra Pradesh",lat:13.772110471321964,lng:79.38869497181894,gmap:"https://maps.app.goo.gl/xDRQSuTkr4hRybyG6"},{id:"moghalrajpuram-ap",name:"Moghalrajpuram",city:"Vijayawada",state:"Andhra Pradesh",lat:16.78157743605752,lng:80.66310900282521,gmap:"https://maps.app.goo.gl/1v1asTg4FGu3qEPTA"},{id:"chinnakakani-ap",name:"Chinnakakani",city:"Chinnakakani",state:"Andhra Pradesh",lat:16.686887873786343,lng:80.54225939643668,gmap:"https://maps.app.goo.gl/acr7ySzRuoQDEmg79"},{id:"visakhapatnam-ap",name:"Visakhapatnam",city:"Visakhapatnam",state:"Andhra Pradesh",lat:17.788617765871667,lng:83.20095073698425,gmap:"https://maps.app.goo.gl/23Td1kA9CxeUwVSg8"},{id:"nellore-ap",name:"Nellore",city:"Nellore",state:"Andhra Pradesh",lat:14.634790335724153,lng:80.10280628229658,gmap:"https://maps.app.goo.gl/FctjiNZuvmUt6Epr9"},{id:"bhimavaram-ap",name:"Bhimavaram",city:"Bhimavaram",state:"Andhra Pradesh",lat:16.750019477936203,lng:81.44313828042387,gmap:"https://maps.app.goo.gl/5vmdJwmEPrQ7BEkn7"},{id:"vijayawada-ap",name:"Vijayawada",city:"Vijayawada",state:"Andhra Pradesh",lat:16.72897793186955,lng:80.79494493706724,gmap:"https://maps.app.goo.gl/yDvBqFxiLu1c14gG6"},{id:"kavali-ap",name:"Kavali",city:"Kavali",state:"Andhra Pradesh",lat:15.1338203374795,lng:79.95998402020106,gmap:"https://maps.app.goo.gl/Uz5owpYrJ3vBTobc9"},{id:"kompally-hyd",name:"Kompally",city:"Hyderabad",state:"Telangana",lat:17.705676350324516,lng:78.53161177464759,gmap:"https://maps.app.goo.gl/JYB4ec1i7tK3vksK6"},{id:"kukatpally-hyd",name:"Kukatpally",city:"Hyderabad",state:"Telangana",lat:17.71614196556111,lng:78.41076216825905,gmap:"https://maps.app.goo.gl/3f3PtT8pxZSC5XT37"},{id:"srnagar-hyd",name:"SR Nagar",city:"Hyderabad",state:"Telangana",lat:17.663807789240074,lng:78.41076216825905,gmap:"https://maps.app.goo.gl/CnKcqBE4i6msbh4b7"},{id:"gachibowli-hyd",name:"Gachibowli",city:"Hyderabad",state:"Telangana",lat:17.65333912550355,lng:78.30089888972402,gmap:"https://maps.app.goo.gl/FU5GwUqUASLcSVYk8"}],B8=()=>T.jsx("footer",{className:"bg-card border-t border-border",children:T.jsxs("div",{className:"container mx-auto px-4 py-16",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[T.jsxs("div",{children:[T.jsx(dr,{to:"/",className:"flex items-center gap-2",children:T.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold text-gradient-gold",children:T.jsx("img",{src:lR,alt:"Barkaas Logo",className:"h-16 w-16"})})}),T.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Welcome to India's Largest Indo-Arabic Chain of Restaurants. Think Mandi, think Barkaas."})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-lg font-heading font-semibold text-gold mb-4",children:"Contact Us"}),T.jsxs("ul",{className:"space-y-3",children:[T.jsxs("li",{className:"flex items-center gap-3 text-muted-foreground",children:[T.jsx(i2,{size:18,className:"text-gold shrink-0"}),T.jsx("span",{children:"+91 84949 45678 | +91 83096 44799"})]}),T.jsxs("li",{className:"flex items-center gap-3 text-muted-foreground",children:[T.jsx(n2,{size:18,className:"text-gold shrink-0"}),T.jsx("span",{children:"info@barkaas.com"})]})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-lg font-heading font-semibold text-gold mb-4",children:"Opening Hours"}),T.jsx("ul",{className:"space-y-3 mb-6",children:T.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[T.jsx(e2,{size:18,className:"text-gold mt-1 shrink-0"}),T.jsxs("div",{children:[T.jsx("p",{children:"Mon-Thu: 12PM - 11PM"}),T.jsx("p",{children:"Fri-Sun: 12PM - 12AM"})]})]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("a",{href:"#",className:"text-muted-foreground hover:text-gold hover:scale-110 transition-all duration-300","aria-label":"Instagram",children:T.jsx(Bj,{size:22})}),T.jsx("a",{href:"#",className:"text-muted-foreground hover:text-gold hover:scale-110 transition-all duration-300","aria-label":"Facebook",children:T.jsx(Oj,{size:22})})]})]}),T.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl shadow-gold/20 border border-gold/20 hover:border-gold/50 transition-all duration-300",children:T.jsxs(R8,{center:[20.5937,78.9629],zoom:5,style:{height:"340px",width:"100%"},scrollWheelZoom:"center",zoomControl:!0,doubleClickZoom:!0,children:[T.jsx(D8,{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),F8.map(n=>T.jsx(N8,{position:[n.lat,n.lng],icon:O8,children:T.jsx(I8,{className:"!p-0 shadow-2xl min-w-[280px]",children:T.jsxs("div",{className:"p-5 space-y-3",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-3 h-3 bg-gold rounded-full"}),T.jsx("h3",{className:"font-heading font-bold text-xl text-burgundy",children:n.name})]}),T.jsxs("p",{className:"text-muted-foreground",children:[n.city,", ",n.state]}),T.jsx(Rs,{variant:"gold",size:"sm",asChild:!0,className:"w-full",children:T.jsxs("a",{href:n.gmap,target:"_blank",rel:"noopener noreferrer",children:[T.jsx(jj,{className:"mr-2 h-4 w-4"}),"Open in Google Maps"]})})]})})},n.id))]})})]}),T.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center text-sm",children:T.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," ","Designed & Developed by"," ",T.jsx("a",{href:"https://madtalesai.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gold hover:text-gold/80 transition-colors",children:"Madtales AI Pvt Ltd."})," ","All rights reserved."]})})]})}),Kv=({children:n})=>T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx(y8,{}),T.jsx("main",{className:"flex-1 pt-20",children:n}),T.jsx(B8,{})]}),mR="/barkaas-website/assets/RON3054-7iiXtpz8.jpg",j8=Object.freeze(Object.defineProperty({__proto__:null,default:mR},Symbol.toStringTag,{value:"Module"})),gR="/barkaas-website/assets/DSC1109-DO7IHTT7.jpg",z8=Object.freeze(Object.defineProperty({__proto__:null,default:gR},Symbol.toStringTag,{value:"Module"})),vR="/barkaas-website/assets/RON3068-CwKg5aDd.jpg",U8=Object.freeze(Object.defineProperty({__proto__:null,default:vR},Symbol.toStringTag,{value:"Module"})),yR="/barkaas-website/assets/RON3063-CxLiJYHl.jpg",H8=Object.freeze(Object.defineProperty({__proto__:null,default:yR},Symbol.toStringTag,{value:"Module"})),$8="/barkaas-website/assets/mainpage-1-C7o3JKTc.png",W8="/barkaas-website/assets/mainpage-2-C-_l7AVQ.png",V8="/barkaas-website/assets/mainpage-3-ZQdEfe-l.png",G8="/barkaas-website/assets/mainpage-4-ChkHu9nh.png",q8="/barkaas-website/assets/SMP_4117-BZ8EGCPG.jpg",Z8="/barkaas-website/assets/SMP_4249-BuvoWixN.jpg",X8="/barkaas-website/assets/mainpage-7-C_9ynfMr.png",Y8=[{title:"The Mandi Story",subtitle:"A Legacy",description:"At Barkaas, the heart of our kitchen beats to the aroma of mandi. Slow cooked, fire kissed, and deeply spiced, our mandi collection is one of the most extensive youll find; each variety rooted in tradition, perfected with care, and served as a true celebration of Indo-Arabian heritage.",image:$8},{title:"Beyond Mandi, A World of Flavours",subtitle:"A Tradition",description:"Our story doesnt end with mandi. Begin with irresistible starters and soul-warming shorbas, then explore smoky charcoal-grilled and tandoori delights crafted to perfection. From rich Indian gravies paired with freshly baked Indian breads to generous platters and aromatic kabsa, Barkaas brings together the best of Arabian and Indian cuisines under one roof. Our biryanis are a story of their own - fragrant basmati rice, rich masalas, and layers of flavor that unfold with every bite.",image:W8},{title:"Sweet Endings Worth Remembering",subtitle:"A Celebration",description:"Every great feast deserves a memorable finale. Indulge in our desserts, from crispy, molten kunafa to soft gulab jamun, royal shahi tukda, and comforting kaddu ki kheer. Each sweet is a perfect balance of richness and nostalgia.",image:V8},{title:"A Glass for Every Mood",subtitle:"A Refreshment",description:"Complete your experience with our wide range of drinks - fresh juices, vibrant mocktails, creamy faloodas, refreshing mojitos, classic lassi and buttermilk, indulgent milkshakes and thick shakes, exotic fruit blends, sundaes, sodas, ice blends, and Barkaas special mixes crafted to refresh and delight.",image:G8}],K8=[{quote:"This Indo-Arabic spot is a winner, with incredibly friendly and professional staff!  The ambiance is a must-see, with a cool Arabic vibe that transports you! You've got to try their variety of Mandi and plattersa true feast!  And the sweets? Simply the best way to end your meal!  It might be a bit pricey, but the experience is totally worth it. ",author:"Kiran Pattanashetty",role:"Whitefield, Bengaluru",rating:4},{quote:"They have the best Mandi with a wide variety of options. The dishes have an authentic touch of Arabic cuisine, and everything tastes really good. I especially love their Drums of Heaven it tastes absolutely amazing.",author:"Arzoo Shakeen",role:"Hazratganj, Uttar Pradesh",rating:5},{quote:"If youre in Gachibowli, you have to check out Barkaas Indo Arabic Restaurant! We had an incredible dinner last nightthe BBQ starters were seasoned to perfection and the Big Daddy Mandi was absolutely worth the hype. Hands down some of the best Mandi Ive ever had. Highly recommend.",author:"Sohail Mohammad",role:"Gachibowli, Hyderabad",rating:5}],Q8=[{name:"Big Daddy Mandi",description:"A grand platter of fragrant basmati rice slow-cooked with tender, generously seasoned meat, infused with traditional spices and finished with roasted nuts for a bold, celebratory feast.",image:q8},{name:"Murg Musallam Mandi",description:"Whole chicken marinated in aromatic spices, slow-roasted to juicy perfection and served atop long-grain basmati rice, delicately perfumed and garnished with roasted onions and spices.",image:Z8},{name:"Mutton Shoulder Mandi",description:"Succulent mutton shoulder cooked low and slow until melt-in-the-mouth tender, paired with richly spiced basmati rice and finished with a nutty garnish for a deeply comforting experience.",image:X8}],yT=[new URL(mR,import.meta.url).href,new URL(gR,import.meta.url).href,new URL(vR,import.meta.url).href,new URL(yR,import.meta.url).href],J8=()=>{const[n,t]=I.useState(0),[e,i]=I.useState([]),[s,r]=I.useState(!1);return I.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting&&r(!0)})},{threshold:.1}),c=document.querySelector(".testimonials-section");return c&&a.observe(c),()=>a.disconnect()},[]),I.useEffect(()=>{const a=new IntersectionObserver(u=>{u.forEach(d=>{const f=parseInt(d.target.getAttribute("data-story-block")||"0");d.isIntersecting&&!e.includes(f)&&i(p=>[...p,f])})},{threshold:.1,rootMargin:"-20% 0px 0px 0px"});return document.querySelectorAll("[data-story-block]").forEach(u=>a.observe(u)),()=>a.disconnect()},[e]),I.useEffect(()=>{const a=setInterval(()=>{t(c=>(c+1)%yT.length)},3e3);return()=>clearInterval(a)},[]),T.jsxs(Kv,{children:[T.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 overflow-hidden",children:yT.map((a,c)=>T.jsx("div",{className:`
                absolute inset-0 bg-cover bg-center transition-opacity duration-1000
                ${c===n?"opacity-100":"opacity-0"}
              `,style:{backgroundImage:`url(${a})`},children:T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/70 via-background/50 to-background"})},c))}),T.jsx("div",{className:"relative z-10 container mx-auto px-4 text-center",children:T.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.3em] uppercase mb-4",children:"Welcome"}),T.jsx("h1",{className:"text-3xl md:text-7xl lg:text-5xl font-heading font-bold text-gradient-gold mb-6",children:"Think Mandi, Think Barkaas."}),T.jsx("p",{className:"text-xl md:text-2xl text-foreground/80 mb-4 font-light",children:"India's Largest Indo-Arabic Chain of Restaurants"}),T.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-10 leading-relaxed",children:"A Journey Through Arabian Flavors"}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[T.jsx(Rs,{variant:"gold",size:"xl",asChild:!0,children:T.jsxs(dr,{to:"/about",children:["Learn more about us",T.jsx(Gy,{className:"ml-2",size:20})]})}),T.jsx(Rs,{variant:"gold-outline",size:"xl",asChild:!0,children:T.jsx(dr,{to:"/menu",children:"Explore Menu"})})]})]})}),T.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce",children:T.jsx("div",{className:"w-6 h-10 border-2 border-gold/50 rounded-full flex items-start justify-center p-2",children:T.jsx("div",{className:"w-1 h-2 bg-gold rounded-full"})})})]}),T.jsx("section",{className:"py-24 bg-pattern-arabesque",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"text-center mb-16",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Why Choose Us"}),T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"The Barkaas Story"})]}),T.jsx("div",{className:"space-y-8 md:space-y-12 max-w-5xl mx-auto",children:Y8.map((a,c)=>{const u=c%2===0;return T.jsxs("div",{className:`
                    flex flex-col items-center gap-6 md:gap-12
                    md:flex-row ${u?"":"md:flex-row-reverse"}
                    max-w-4xl mx-auto px-6
                    opacity-0 translate-y-8 animate-story-reveal-slow
                  `,style:{animationDelay:`${c*300}ms`},children:[T.jsxs("div",{className:"md:w-1/2 text-center md:text-left",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-3",children:a.subtitle}),T.jsx("h3",{className:"text-2xl md:text-3xl font-heading font-semibold text-foreground mb-4",children:a.title}),T.jsx("p",{className:"text-muted-foreground leading-relaxed text-lg max-w-md",children:a.description})]}),T.jsx("div",{className:"md:w-1/2 flex justify-center",children:T.jsx("div",{"data-story-block":c,className:`
                        relative w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96
                        rounded-full overflow-hidden
                        bg-background/50 backdrop-blur-sm
                        shadow-2xl shadow-gold/40
                        ${e.includes(c)?"animate-story-reveal-rotate":"opacity-0"}
                      `,children:T.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})})})]},a.title)})}),T.jsx("div",{className:"text-center mt-20 pt-4",children:T.jsx(Rs,{variant:"gold",size:"xl",asChild:!0,className:"group",children:T.jsxs(dr,{to:"/about",children:["Explore Our Legacy",T.jsx(Gy,{className:"ml-3 size-5 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),T.jsx("section",{className:"py-12 bg-secondary",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"text-center mb-16",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Our Specialties"}),T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Signature Dishes"})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:Q8.map((a,c)=>T.jsxs("div",{className:"relative pt-28",children:[T.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -top-1 w-52 h-52 rounded-full overflow-hidden shadow-xl z-10",children:T.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"})}),T.jsxs("div",{className:`\r
                    bg-background rounded-lg p-6 pt-28 text-center\r
                    shadow-[0_5px_20px_rgba(212,175,55,0.25)]\r
                    hover:shadow-[0_15px_40px_rgba(212,175,55,0.45)]\r
                    transition-shadow duration-300 hover:ring-1 hover:ring-[rgba(212,175,55,0.4)]\r
\r
                  `,children:[T.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:a.name}),T.jsx("p",{className:"text-muted-foreground text-sm",children:a.description})]})]},a.name))}),T.jsx("div",{className:"text-center mt-12",children:T.jsx(Rs,{variant:"gold-outline",size:"lg",asChild:!0,children:T.jsxs(dr,{to:"/menu",children:["View Full Menu",T.jsx(Gy,{className:"ml-2",size:18})]})})})]})}),T.jsxs("section",{className:"py-24 bg-gradient-to-b from-background to-secondary/50 relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-pattern-arabesque opacity-5"}),T.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[T.jsxs("div",{className:"text-center mb-16",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"What Our Guests Say"}),T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Guest Testimonials"})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:K8.map((a,c)=>T.jsxs("div",{className:`group relative bg-background/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl \r
                          border border-gold/20 hover:border-gold/40 hover:shadow-2xl hover:shadow-gold/30\r
                          transition-all duration-500 hover:-translate-y-2 animate-fade-in-up-slow`,style:{animationDelay:`${c*200}ms`},children:[T.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-12 h-12 bg-gold/10 rounded-2xl flex items-center justify-center border-2 border-gold/30 group-hover:bg-gold/20 transition-colors",children:T.jsx(Uj,{className:"text-gold w-6 h-6"})}),T.jsx("div",{className:"flex justify-center mb-4 -mt-4",children:[...Array(5)].map((u,d)=>T.jsx(Hj,{className:`w-5 h-5 ${d<a.rating?"text-gold fill-gold":"text-gold/30"}`},d))}),T.jsxs("blockquote",{className:"text-lg font-light italic text-foreground/90 leading-relaxed mb-6 text-center",children:['"',a.quote,'"']}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gold/20 to-gold/10 rounded-full mx-auto mb-3 flex items-center justify-center border-2 border-gold/30 group-hover:scale-110 transition-transform",children:T.jsx(s2,{className:"w-8 h-8 text-gold/70 group-hover:text-gold"})}),T.jsx("h4",{className:"font-heading font-semibold text-foreground",children:a.author}),T.jsx("p",{className:"text-gold/80 text-sm",children:a.role})]})]},a.author))})]})]}),T.jsxs("section",{className:"py-24 relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-burgundy/20"}),T.jsx("div",{className:"container mx-auto px-4 relative z-10",children:T.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[T.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold text-foreground mb-6",children:"Ready for an Unforgettable Dining Experience?"}),T.jsx("p",{className:"text-muted-foreground text-lg mb-10 leading-relaxed",children:"Join us for a culinary journey through the rich flavors of Arabia. Reserve your table today and create memories that last a lifetime."}),T.jsx(Rs,{variant:"gold",size:"xl",asChild:!0,children:T.jsxs(dr,{to:"/about",children:["Know more",T.jsx(Gy,{className:"ml-2",size:20})]})})]})})]})]})},si=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),g1=[.001,0,0,.001,0,0],Jb=1.35,Qi={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ho={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Qm="pdfjs_internal_editor_",xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ft={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},_R={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},xn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Tm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},We={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Mh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qv={ERRORS:0,WARNINGS:1,INFOS:5},sp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Yy={moveTo:0,lineTo:1,curveTo:2,closePath:3},wR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Dw=Qv.WARNINGS;function t6(n){Number.isInteger(n)&&(Dw=n)}function e6(){return Dw}function Ow(n){Dw>=Qv.INFOS&&console.info(`Info: ${n}`)}function St(n){Dw>=Qv.WARNINGS&&console.warn(`Warning: ${n}`)}function ae(n){throw new Error(n)}function Bt(n,t){n||ae(t)}function n6(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lE(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=a6(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return n6(i)?i:null}function cE(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&lE(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function kt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const gh=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class _T extends gh{constructor(t,e){super(t,"PasswordException"),this.code=e}}class tx extends gh{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class M0 extends gh{constructor(t){super(t,"InvalidPDFException")}}class Jm extends gh{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class i6 extends gh{constructor(t){super(t,"FormatError")}}class ka extends gh{constructor(t){super(t,"AbortException")}}function bR(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ae("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=n.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Jv(n){typeof n!="string"&&ae("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function s6(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function r6(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function o6(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return kt(this,"isLittleEndian",r6())}static get isEvalSupported(){return kt(this,"isEvalSupported",o6())}static get isOffscreenCanvasSupported(){return kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return kt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return kt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return kt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const ex=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var ba,b_,v1;class pt{static makeHexColor(t,e,i){return`#${ex[t]}${ex[e]}${ex[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const s=t[i],r=t[i+1];t[i]=s*e[0]+r*e[2]+e[4],t[i+1]=s*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],r=e[1],a=e[2],c=e[3],u=e[4],d=e[5];for(let f=0;f<6;f+=2){const p=t[i+f],g=t[i+f+1];t[i+f]=p*s+g*a+u,t[i+f+1]=p*r+g*c+d}}static applyInverseTransform(t,e){const i=t[0],s=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const s=e[0],r=e[1],a=e[2],c=e[3],u=e[4],d=e[5],f=t[0],p=t[1],g=t[2],v=t[3];let x=s*f+u,_=x,A=s*g+u,w=A,S=c*p+d,E=S,M=c*v+d,N=M;if(r!==0||a!==0){const D=r*f,O=r*g,B=a*p,z=a*v;x+=B,w+=B,A+=z,_+=z,S+=D,N+=D,M+=O,E+=O}i[0]=Math.min(i[0],x,A,_,w),i[1]=Math.min(i[1],S,M,E,N),i[2]=Math.max(i[2],x,A,_,w),i[3]=Math.max(i[3],S,M,E,N)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],r=t[2],a=t[3],c=i**2+s**2,u=i*r+s*a,d=r**2+a**2,f=(c+d)/2,p=Math.sqrt(f**2-(c*d-u**2));e[0]=Math.sqrt(f+p||1),e[1]=Math.sqrt(f-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[i,r,s,a]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,s),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,s)}static bezierBoundingBox(t,e,i,s,r,a,c,u,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,u),k(this,ba,v1).call(this,t,i,r,c,e,s,a,u,3*(-t+3*(i-r)+c),6*(t-2*i+r),3*(i-t),d),k(this,ba,v1).call(this,t,i,r,c,e,s,a,u,3*(-e+3*(s-a)+u),6*(e-2*s+a),3*(s-e),d)}}ba=new WeakSet,b_=function(t,e,i,s,r,a,c,u,d,f){if(d<=0||d>=1)return;const p=1-d,g=d*d,v=g*d,x=p*(p*(p*t+3*d*e)+3*g*i)+v*s,_=p*(p*(p*r+3*d*a)+3*g*c)+v*u;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],_),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],_)},v1=function(t,e,i,s,r,a,c,u,d,f,p,g){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&k(this,ba,b_).call(this,t,e,i,s,r,a,c,u,-p/f,g);return}const v=f**2-4*p*d;if(v<0)return;const x=Math.sqrt(v),_=2*d;k(this,ba,b_).call(this,t,e,i,s,r,a,c,u,(-f+x)/_,g),k(this,ba,b_).call(this,t,e,i,s,r,a,c,u,(-f-x)/_,g)},P(pt,ba);function a6(n){return decodeURIComponent(escape(n))}let nx=null,wT=null;function xR(n){return nx||(nx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wT=new Map([["","t"]])),n.replaceAll(nx,(t,e,i)=>e?e.normalize("NFKC"):wT.get(i))}function uE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),bR(n)}const hE="pdfjs_internal_id_";function l6(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...r]=e;if(!n(i)&&!Number.isInteger(i)||!t(s))return!1;const a=r.length;let c=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;c=!1;break;default:return!1}for(const u of r)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function Vn(n,t,e){return Math.min(Math.max(n,t),e)}function SR(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(bR(n))}function c6(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Jv(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class tg{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(r){var u;if(!r)return;let a=null;const c=r.name;if(c==="#text")a=r.value;else if(tg.shouldBuildText(c))(u=r==null?void 0:r.attributes)!=null&&u.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&e.push({str:a}),!!r.children)for(const d of r.children)s(d)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class dE{static setupStorage(t,e,i,s,r){const a=s.getValue(e,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?t.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const c of i.children)c.attributes.value===a.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:r}){const{attributes:a}=e,c=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[u,d]of Object.entries(a))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}c&&r.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,e,i)}static render(t){var p,g;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,r=t.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:i});const c=r!=="richText",u=t.div;if(u.append(a),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=v}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const v=document.createTextNode(s.value);a.append(v),c&&tg.shouldBuildText(s.name)&&d.push(v)}return{textDivs:d}}const f=[[s,-1,a]];for(;f.length>0;){const[v,x,_]=f.at(-1);if(x+1===v.children.length){f.pop();continue}const A=v.children[++f.at(-1)[1]];if(A===null)continue;const{name:w}=A;if(w==="#text"){const E=document.createTextNode(A.value);d.push(E),_.append(E);continue}const S=(p=A==null?void 0:A.attributes)!=null&&p.xmlns?document.createElementNS(A.attributes.xmlns,w):document.createElement(w);if(_.append(S),A.attributes&&this.setAttributes({html:S,element:A,storage:e,intent:r,linkService:i}),((g=A.children)==null?void 0:g.length)>0)f.push([A,-1,S]);else if(A.value){const E=document.createTextNode(A.value);c&&tg.shouldBuildText(w)&&d.push(E),S.append(E)}}for(const v of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const ko="http://www.w3.org/2000/svg",Lc=class Lc{};tt(Lc,"CSS",96),tt(Lc,"PDF",72),tt(Lc,"PDF_TO_CSS_UNITS",Lc.CSS/Lc.PDF);let La=Lc;async function mp(n,t="text"){if(Kp(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class ty{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:r=0,offsetY:a=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=a,i*=e;const u=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,p,g,v;switch(s%=360,s<0&&(s+=360),s){case 180:f=-1,p=0,g=0,v=1;break;case 90:f=0,p=1,g=1,v=0;break;case 270:f=0,p=-1,g=-1,v=0;break;case 0:f=1,p=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,v=-v);let x,_,A,w;f===0?(x=Math.abs(d-t[1])*i+r,_=Math.abs(u-t[0])*i+a,A=(t[3]-t[1])*i,w=(t[2]-t[0])*i):(x=Math.abs(u-t[0])*i+r,_=Math.abs(d-t[1])*i+a,A=(t[2]-t[0])*i,w=(t[3]-t[1])*i),this.transform=[f*i,p*i,g*i,v*i,x-f*i*u-g*i*d,_-p*i*u-v*i*d],this.width=A,this.height=w}get rawDims(){const t=this.viewBox;return kt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new ty({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return pt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];pt.applyTransform(e,this.transform);const i=[t[2],t[3]];return pt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return pt.applyInverseTransform(i,this.transform),i}}class Fw extends gh{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function ey(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Bw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function AR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function ER(n,t="document.pdf"){if(typeof n!="string")return t;if(ey(n))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const s=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},r=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(r.test(a))return s(a);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const d of c)if(r.test(d))return s(d);const u=Array.from(i.searchParams.keys()).reverse();for(const d of u)if(r.test(d))return s(d)}if(i.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(u)return s(u[0])}return t}class bT{constructor(){tt(this,"started",Object.create(null));tt(this,"times",[])}time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-s}ms
`);return t.join("")}}function Kp(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function ls(n){n.preventDefault()}function Te(n){n.preventDefault(),n.stopPropagation()}function u6(n){console.log("Deprecated API usage: "+n)}var lg;class eg{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;l(this,lg)||b(this,lg,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=l(this,lg).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=f,c+=p):d==="+"&&(a-=f,c-=p),new Date(Date.UTC(i,s,r,a,c,u))}}lg=new WeakMap,P(eg,lg);function CR(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new ty({viewBox:r,userUnit:1,scale:t,rotation:e})}function gp(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${n}"`),[0,0,0])}function h6(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,gp(i))}t.remove()}function Ce(n){const{a:t,b:e,c:i,d:s,e:r,f:a}=n.getTransform();return[t,e,i,s,r,a]}function Ir(n){const{a:t,b:e,c:i,d:s,e:r,f:a}=n.getTransform().invertSelf();return[t,e,i,s,r,a]}function uc(n,t,e=!1,i=!0){if(t instanceof ty){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=n,c=wn.isCSSRoundSupported,u=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${r}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(a.width=f,a.height=p):(a.width=p,a.height=f)}i&&n.setAttribute("data-main-rotation",t.rotation)}class wr{constructor(){const{pixelRatio:t}=wr;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,r=-1){let a=1/0,c=1/0,u=1/0;i=wr.capPixels(i,r),i>0&&(a=Math.sqrt(i/(t*e))),s!==-1&&(c=s/t,u=s/e);const d=Math.min(a,c,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const R0=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class d6{static get isDarkMode(){var t;return kt(this,"isDarkMode",!!((t=window==null?void 0:window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches))}}class PR{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),kt(this,"commentForegroundColor",gp(i))}}function TR(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const s=255*(1-i);return n=Math.round(n*i+s),t=Math.round(t*i+s),e=Math.round(e*i+s),[n,t,e]}function xT(n,t){const e=n[0]/255,i=n[1]/255,s=n[2]/255,r=Math.max(e,i,s),a=Math.min(e,i,s),c=(r+a)/2;if(r===a)t[0]=t[1]=0;else{const u=r-a;switch(t[1]=c<.5?u/(r+a):u/(2-r-a),r){case e:t[0]=((i-s)/u+(i<s?6:0))*60;break;case i:t[0]=((s-e)/u+2)*60;break;case s:t[0]=((e-i)/u+4)*60;break}}t[2]=c}function y1(n,t){const e=n[0],i=n[1],s=n[2],r=(1-Math.abs(2*s-1))*i,a=r*(1-Math.abs(e/60%2-1)),c=s-r/2;switch(Math.floor(e/60)){case 0:t[0]=r+c,t[1]=a+c,t[2]=c;break;case 1:t[0]=a+c,t[1]=r+c,t[2]=c;break;case 2:t[0]=c,t[1]=r+c,t[2]=a+c;break;case 3:t[0]=c,t[1]=a+c,t[2]=r+c;break;case 4:t[0]=a+c,t[1]=c,t[2]=r+c;break;case 5:case 6:t[0]=r+c,t[1]=c,t[2]=a+c;break}}function ST(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function AT(n,t,e){y1(n,e),e.map(ST);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];y1(t,e),e.map(ST);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>s?(i+.05)/(s+.05):(s+.05)/(i+.05)}const ET=new Map;function kR(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=ET.get(e);if(i)return i;const s=new Float32Array(9),r=s.subarray(0,3),a=s.subarray(3,6);xT(n,a);const c=s.subarray(6,9);xT(t,c);const u=c[2]<.5,d=u?12:4.5;if(a[2]=u?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),AT(a,c,r)<d){let f,p;u?(f=a[2],p=1):(f=0,p=a[2]);const g=.005;for(;p-f>g;){const v=a[2]=(f+p)/2;u===AT(a,c,r)<d?f=v:p=v}a[2]=u?p:f}return y1(a,r),i=pt.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),ET.set(e,i),i}function fE({html:n,dir:t,className:e},i){const s=document.createDocumentFragment();if(typeof n=="string"){const r=document.createElement("p");r.dir=t||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let c=0,u=a.length;c<u;++c){const d=a[c];r.append(document.createTextNode(d)),c<u-1&&r.append(document.createElement("br"))}s.append(r)}else dE.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",e),i.append(s)}var Qa,Ja,_s,ws,cg,tl,xd,Sd,ug,$0,LR,Mn,MR,RR,Rh,Qp;const Io=class Io{constructor(t){P(this,Mn);P(this,Qa,null);P(this,Ja,null);P(this,_s);P(this,ws,null);P(this,cg,null);P(this,tl,null);P(this,xd,null);P(this,Sd,null);b(this,_s,t),l(Io,ug)||b(Io,ug,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=b(this,Qa,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=l(this,_s)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",ls,{signal:e}),t.addEventListener("pointerdown",k(Io,$0,LR),{signal:e}));const i=b(this,ws,document.createElement("div"));i.className="buttons",t.append(i);const s=l(this,_s).toolbarPosition;if(s){const{style:r}=t,a=l(this,_s)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return l(this,Qa)}hide(){var t;l(this,Qa).classList.add("hidden"),(t=l(this,Ja))==null||t.hideDropdown()}show(){var t,e;l(this,Qa).classList.remove("hidden"),(t=l(this,cg))==null||t.shown(),(e=l(this,tl))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=l(this,_s),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",l(Io,ug)[t]),k(this,Mn,Rh).call(this,i)&&i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),l(this,ws).append(i)}async addAltText(t){const e=await t.render();k(this,Mn,Rh).call(this,e),l(this,ws).append(e,l(this,Mn,Qp)),b(this,cg,t)}addComment(t,e=null){if(l(this,tl))return;const i=t.renderForToolbar();if(!i)return;k(this,Mn,Rh).call(this,i);const s=b(this,xd,l(this,Mn,Qp));e?(l(this,ws).insertBefore(i,e),l(this,ws).insertBefore(s,e)):l(this,ws).append(i,s),b(this,tl,t),t.toolbar=this}addColorPicker(t){if(l(this,Ja))return;b(this,Ja,t);const e=t.renderButton();k(this,Mn,Rh).call(this,e),l(this,ws).append(e,l(this,Mn,Qp))}async addEditSignatureButton(t){const e=b(this,Sd,await t.renderEditButton(l(this,_s)));k(this,Mn,Rh).call(this,e),l(this,ws).append(e,l(this,Mn,Qp))}removeButton(t){var e,i;switch(t){case"comment":(e=l(this,tl))==null||e.removeToolbarCommentButton(),b(this,tl,null),(i=l(this,xd))==null||i.remove(),b(this,xd,null);break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const s=l(this,ws).querySelector(i);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){l(this,Sd)&&(l(this,Sd).title=t)}remove(){var t;l(this,Qa).remove(),(t=l(this,Ja))==null||t.destroy(),b(this,Ja,null)}};Qa=new WeakMap,Ja=new WeakMap,_s=new WeakMap,ws=new WeakMap,cg=new WeakMap,tl=new WeakMap,xd=new WeakMap,Sd=new WeakMap,ug=new WeakMap,$0=new WeakSet,LR=function(t){t.stopPropagation()},Mn=new WeakSet,MR=function(t){l(this,_s)._focusEventsAllowed=!1,Te(t)},RR=function(t){l(this,_s)._focusEventsAllowed=!0,Te(t)},Rh=function(t){const e=l(this,_s)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",k(this,Mn,MR).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",k(this,Mn,RR).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ls,{signal:e}),!0)},Qp=function(){const t=document.createElement("div");return t.className="divider",t},P(Io,$0),P(Io,ug,null);let _1=Io;var hg,Hc,Bo,Ma,NR,IR,w1;class f6{constructor(t){P(this,Ma);P(this,hg,null);P(this,Hc,null);P(this,Bo);b(this,Bo,t)}show(t,e,i){const[s,r]=k(this,Ma,IR).call(this,e,i),{style:a}=l(this,Hc)||b(this,Hc,k(this,Ma,NR).call(this));t.append(l(this,Hc)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,Hc).remove()}}hg=new WeakMap,Hc=new WeakMap,Bo=new WeakMap,Ma=new WeakSet,NR=function(){const t=b(this,Hc,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=l(this,Bo)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",ls,{signal:e});const i=b(this,hg,document.createElement("div"));return i.className="buttons",t.append(i),l(this,Bo).hasCommentManager()&&k(this,Ma,w1).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,Bo).commentSelection("floating_button")}),k(this,Ma,w1).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,Bo).highlightSelection("floating_button")}),t},IR=function(t,e){let i=0,s=0;for(const r of t){const a=r.y+r.height;if(a<i)continue;const c=r.x+(e?r.width:0);if(a>i){s=c,i=a;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,i]},w1=function(t,e,i,s){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const a=document.createElement("span");r.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const c=l(this,Bo)._signal;c instanceof AbortSignal&&!c.aborted&&(r.addEventListener("contextmenu",ls,{signal:c}),r.addEventListener("click",s,{signal:c})),l(this,hg).append(r)};function DR(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var W0;class p6{constructor(){P(this,W0,0)}get id(){return`${Qm}${Ie(this,W0)._++}`}}W0=new WeakMap;var Ad,dg,jn,Ed,x_;const AE=class AE{constructor(){P(this,Ed);P(this,Ad,uE());P(this,dg,0);P(this,jn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return kt(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:r}=t;return k(this,Ed,x_).call(this,`${e}_${i}_${s}_${r}`,t)}async getFromUrl(t){return k(this,Ed,x_).call(this,t,t)}async getFromBlob(t,e){const i=await e;return k(this,Ed,x_).call(this,t,i)}async getFromId(t){l(this,jn)||b(this,jn,new Map);const e=l(this,jn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){l(this,jn)||b(this,jn,new Map);let i=l(this,jn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${l(this,Ad)}_${Ie(this,dg)._++}`,refCounter:1,isSvg:!1},l(this,jn).set(t,i),l(this,jn).set(i.id,i),i}getSvgUrl(t){const e=l(this,jn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;l(this,jn)||b(this,jn,new Map);const e=l(this,jn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${l(this,Ad)}_`)}};Ad=new WeakMap,dg=new WeakMap,jn=new WeakMap,Ed=new WeakSet,x_=async function(t,e){l(this,jn)||b(this,jn,new Map);let i=l(this,jn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,Ad)}_${Ie(this,dg)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await mp(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const r=AE._isSVGFittingCanvas,a=new FileReader,c=new Image,u=new Promise((d,f)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,d()},a.onload=async()=>{const p=i.svgUrl=a.result;c.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=a.onerror=f});a.readAsDataURL(s),await u}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){St(s),i=null}return l(this,jn).set(t,i),i&&l(this,jn).set(i.id,i),i};let b1=AE;var Ve,el,fg,Ee;class m6{constructor(t=128){P(this,Ve,[]);P(this,el,!1);P(this,fg);P(this,Ee,-1);b(this,fg,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:c=!1}){if(s&&t(),l(this,el))return;const u={cmd:t,undo:e,post:i,type:r};if(l(this,Ee)===-1){l(this,Ve).length>0&&(l(this,Ve).length=0),b(this,Ee,0),l(this,Ve).push(u);return}if(a&&l(this,Ve)[l(this,Ee)].type===r){c&&(u.undo=l(this,Ve)[l(this,Ee)].undo),l(this,Ve)[l(this,Ee)]=u;return}const d=l(this,Ee)+1;d===l(this,fg)?l(this,Ve).splice(0,1):(b(this,Ee,d),d<l(this,Ve).length&&l(this,Ve).splice(d)),l(this,Ve).push(u)}undo(){if(l(this,Ee)===-1)return;b(this,el,!0);const{undo:t,post:e}=l(this,Ve)[l(this,Ee)];t(),e==null||e(),b(this,el,!1),b(this,Ee,l(this,Ee)-1)}redo(){if(l(this,Ee)<l(this,Ve).length-1){b(this,Ee,l(this,Ee)+1),b(this,el,!0);const{cmd:t,post:e}=l(this,Ve)[l(this,Ee)];t(),e==null||e(),b(this,el,!1)}}hasSomethingToUndo(){return l(this,Ee)!==-1}hasSomethingToRedo(){return l(this,Ee)<l(this,Ve).length-1}cleanType(t){if(l(this,Ee)!==-1){for(let e=l(this,Ee);e>=0;e--)if(l(this,Ve)[e].type!==t){l(this,Ve).splice(e+1,l(this,Ee)-e),b(this,Ee,e);return}l(this,Ve).length=0,b(this,Ee,-1)}}destroy(){b(this,Ve,null)}}Ve=new WeakMap,el=new WeakMap,fg=new WeakMap,Ee=new WeakMap;var V0,OR;class ny{constructor(t){P(this,V0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=wn.platform;for(const[i,s,r={}]of t)for(const a of i){const c=a.startsWith("mac+");e&&c?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!c&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(k(this,V0,OR).call(this,e));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:c=null}}=i;c&&!c(t,e)||(s.bind(t,...a,e)(),r||Te(e))}}V0=new WeakSet,OR=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const G0=class G0{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return h6(t),kt(this,"_colors",t)}convert(t){const e=gp(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((r,a)=>r===e[a]))return G0._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?pt.makeHexColor(...e):t}};tt(G0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let x1=G0;var Cd,Di,Pd,Oe,nn,Td,bs,kd,xs,zn,nl,il,Ld,sl,Ur,Ss,$c,pg,mg,Md,gg,Hr,rl,Rd,ol,$r,q0,al,Nd,vg,ll,Wc,Id,cl,yg,Ke,Zt,jo,ul,hl,_g,Dd,wg,dl,Wr,zo,bg,xg,As,ot,S_,S1,FR,BR,Jp,jR,zR,UR,A1,HR,E1,C1,$R,Qn,Lo,WR,VR,P1,GR,tm,T1;const Jh=class Jh{constructor(t,e,i,s,r,a,c,u,d,f,p,g,v,x,_,A){P(this,ot);P(this,Cd,new AbortController);P(this,Di,null);P(this,Pd,null);P(this,Oe,new Map);P(this,nn,new Map);P(this,Td,null);P(this,bs,null);P(this,kd,null);P(this,xs,new m6);P(this,zn,null);P(this,nl,null);P(this,il,null);P(this,Ld,0);P(this,sl,new Set);P(this,Ur,null);P(this,Ss,null);P(this,$c,new Set);tt(this,"_editorUndoBar",null);P(this,pg,!1);P(this,mg,!1);P(this,Md,!1);P(this,gg,null);P(this,Hr,null);P(this,rl,null);P(this,Rd,null);P(this,ol,!1);P(this,$r,null);P(this,q0,new p6);P(this,al,!1);P(this,Nd,!1);P(this,vg,!1);P(this,ll,null);P(this,Wc,null);P(this,Id,null);P(this,cl,null);P(this,yg,null);P(this,Ke,xt.NONE);P(this,Zt,new Set);P(this,jo,null);P(this,ul,null);P(this,hl,null);P(this,_g,null);P(this,Dd,null);P(this,wg,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});P(this,dl,[0,0]);P(this,Wr,null);P(this,zo,null);P(this,bg,null);P(this,xg,null);P(this,As,null);const w=this._signal=l(this,Cd).signal;b(this,zo,t),b(this,bg,e),b(this,xg,i),b(this,Td,s),b(this,zn,r),b(this,ul,a),b(this,Dd,u),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:w}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),c._on("setpreference",this.onSetPreference.bind(this),{signal:w}),c._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:w}),window.addEventListener("pointerdown",()=>{b(this,Nd,!0)},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{b(this,Nd,!1)},{capture:!0,signal:w}),k(this,ot,jR).call(this),k(this,ot,$R).call(this),k(this,ot,A1).call(this),b(this,bs,u.annotationStorage),b(this,gg,u.filterFactory),b(this,hl,d),b(this,Rd,f||null),b(this,pg,p),b(this,mg,g),b(this,Md,v),b(this,yg,x||null),this.viewParameters={realScale:La.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=A!==!1,r==null||r.setSidebarUiManager(this)}static get _keyboardManager(){const t=Jh.prototype,e=a=>l(a,zo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return kt(this,"_keyboardManager",new ny([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&l(a,zo).contains(c)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&l(a,zo).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,s,r,a,c,u,d;(t=l(this,As))==null||t.resolve(),b(this,As,null),(e=l(this,Cd))==null||e.abort(),b(this,Cd,null),this._signal=null;for(const f of l(this,nn).values())f.destroy();l(this,nn).clear(),l(this,Oe).clear(),l(this,$c).clear(),(i=l(this,cl))==null||i.clear(),b(this,Di,null),l(this,Zt).clear(),l(this,xs).destroy(),(s=l(this,Td))==null||s.destroy(),(r=l(this,zn))==null||r.destroy(),(a=l(this,ul))==null||a.destroy(),(c=l(this,$r))==null||c.hide(),b(this,$r,null),(u=l(this,Id))==null||u.destroy(),b(this,Id,null),b(this,Pd,null),l(this,Hr)&&(clearTimeout(l(this,Hr)),b(this,Hr,null)),l(this,Wr)&&(clearTimeout(l(this,Wr)),b(this,Wr,null)),(d=this._editorUndoBar)==null||d.destroy(),b(this,Dd,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return l(this,yg)}get useNewAltTextFlow(){return l(this,mg)}get useNewAltTextWhenAddingImage(){return l(this,Md)}get hcmFilter(){return kt(this,"hcmFilter",l(this,hl)?l(this,gg).addHCMFilter(l(this,hl).foreground,l(this,hl).background):"none")}get direction(){return kt(this,"direction",getComputedStyle(l(this,zo)).direction)}get _highlightColors(){return kt(this,"_highlightColors",l(this,Rd)?new Map(l(this,Rd).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return kt(this,"highlightColors",null);const e=new Map,i=!!l(this,hl);for(const[s,r]of t){const a=s.endsWith("_HCM");if(i&&a){e.set(s.replace("_HCM",""),r);continue}!i&&!a&&e.set(s,r)}return kt(this,"highlightColors",e)}get highlightColorNames(){return kt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,il,t)}setMainHighlightColorPicker(t){b(this,Id,t)}editAltText(t,e=!1){var i;(i=l(this,Td))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!l(this,zn)}editComment(t,e,i,s){var r;(r=l(this,zn))==null||r.showDialog(this,t,e,i,s)}selectComment(t,e){const i=l(this,nn).get(t),s=i==null?void 0:i.getEditorByUID(e);s==null||s.toggleComment(!0,!0)}updateComment(t){var e;(e=l(this,zn))==null||e.updateComment(t.getData())}updatePopupColor(t){var e;(e=l(this,zn))==null||e.updatePopupColor(t)}removeComment(t){var e;(e=l(this,zn))==null||e.removeComments([t.uid])}toggleComment(t,e,i=void 0){var s;(s=l(this,zn))==null||s.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var i;return t&&((i=l(this,zn))==null?void 0:i.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return((t=l(this,zn))==null?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(l(this,nn).has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),s=r=>{r.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await i}getSignature(t){var e;(e=l(this,ul))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return l(this,ul)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":b(this,Md,e);break}}onPageChanging({pageNumber:t}){b(this,Ld,t-1)}focusMainContainer(){l(this,zo).focus()}findParent(t,e){for(const i of l(this,nn).values()){const{x:s,y:r,width:a,height:c}=i.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+c)return i}return null}disableUserSelect(t=!1){l(this,bg).classList.toggle("noUserSelect",t)}addShouldRescale(t){l(this,$c).add(t)}removeShouldRescale(t){l(this,$c).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*La.PDF_TO_CSS_UNITS;for(const i of l(this,$c))i.onScaleChanging();(e=l(this,il))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:c}=i,u=i.toString(),f=k(this,ot,S_).call(this,i).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;i.empty();const g=k(this,ot,S1).call(this,f),v=l(this,Ke)===xt.NONE,x=()=>{const _=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:c,text:u});v&&this.showAllEditors("highlight",!0,!0),e&&(_==null||_.editComment())};if(v){this.switchToMode(xt.HIGHLIGHT,x);return}x()}commentSelection(t=""){this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!l(this,bs))return null;const e=`${Qm}${t}`,i=l(this,bs).getRawValue(e);return i&&l(this,bs).remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&l(this,bs)&&!l(this,bs).has(t.id)&&l(this,bs).setValue(t.id,t)}a11yAlert(t,e=null){const i=l(this,xg);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,ol)&&(b(this,ol,!1),k(this,ot,Jp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of l(this,Zt))if(e.div.contains(t)){b(this,Wc,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!l(this,Wc))return;const[t,e]=l(this,Wc);b(this,Wc,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){k(this,ot,A1).call(this),k(this,ot,E1).call(this)}removeEditListeners(){k(this,ot,HR).call(this),k(this,ot,C1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of l(this,Ss))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of l(this,Ss))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=l(this,Di))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of l(this,Zt)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of l(this,Ss))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){St(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const u of i){const d=await s.deserialize(u);if(!d)return;r.push(d)}const a=()=>{for(const u of r)k(this,ot,P1).call(this,u);k(this,ot,T1).call(this,r)},c=()=>{for(const u of r)u.remove()};this.addCommands({cmd:a,undo:c,mustExec:!0})}catch(r){St(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Ke)!==xt.NONE&&!this.isEditorHandlingKeyboard&&Jh._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,ol)&&(b(this,ol,!1),k(this,ot,Jp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(k(this,ot,zR).call(this),k(this,ot,E1).call(this),k(this,ot,Qn).call(this,{isEditing:l(this,Ke)!==xt.NONE,isEmpty:k(this,ot,tm).call(this),hasSomethingToUndo:l(this,xs).hasSomethingToUndo(),hasSomethingToRedo:l(this,xs).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,ot,UR).call(this),k(this,ot,C1).call(this),k(this,ot,Qn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!l(this,Ss)){b(this,Ss,t);for(const e of l(this,Ss))k(this,ot,Lo).call(this,e.defaultPropertiesToUpdate)}}getId(){return l(this,q0).id}get currentLayer(){return l(this,nn).get(l(this,Ld))}getLayer(t){return l(this,nn).get(t)}get currentPageIndex(){return l(this,Ld)}addLayer(t){l(this,nn).set(t.pageIndex,t),l(this,al)?t.enable():t.disable()}removeLayer(t){l(this,nn).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,s=!1,r=!1){var a,c,u,d,f,p;if(l(this,Ke)!==t&&!(l(this,As)&&(await l(this,As).promise,!l(this,As)))){if(b(this,As,Promise.withResolvers()),(a=l(this,il))==null||a.commitOrRemove(),l(this,Ke)===xt.POPUP&&((c=l(this,zn))==null||c.hideSidebar()),(u=l(this,zn))==null||u.destroyPopup(),b(this,Ke,t),t===xt.NONE){this.setEditingState(!1),k(this,ot,VR).call(this);for(const g of l(this,Oe).values())g.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),l(this,As).resolve();return}for(const g of l(this,Oe).values())g.addStandaloneCommentButton();t===xt.SIGNATURE&&await((f=l(this,ul))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await k(this,ot,WR).call(this),this.unselectAll();for(const g of l(this,nn).values())g.updateMode(t);if(t===xt.POPUP){l(this,Pd)||b(this,Pd,await l(this,Dd).getAnnotationsByType(new Set(l(this,Ss).map(x=>x._editorType))));const g=new Set,v=[];for(const x of l(this,Oe).values()){const{annotationElementId:_,hasComment:A,deleted:w}=x;_&&g.add(_),A&&!w&&v.push(x.getData())}for(const x of l(this,Pd)){const{id:_,popupRef:A,contentsObj:w}=x;A&&(w!=null&&w.str)&&!g.has(_)&&!l(this,sl).has(_)&&v.push(x)}(p=l(this,zn))==null||p.showSidebar(v)}if(!e){i&&this.addNewEditorFromKeyboard(),l(this,As).resolve();return}for(const g of l(this,Oe).values())g.uid===e?(this.setSelected(g),r?g.editComment():s?g.enterInEditMode():g.focus()):g.unselect();l(this,As).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==l(this,Ke)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(l(this,Ss)){switch(t){case Ft.CREATE:this.currentLayer.addNewEditor(e);return;case Ft.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,_g)||b(this,_g,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of l(this,Zt))i.updateParams(t,e);else for(const i of l(this,Ss))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const a of l(this,Oe).values())a.editorType===t&&a.show(e);(((r=l(this,_g))==null?void 0:r.get(Ft.HIGHLIGHT_SHOW_ALL))??!0)!==e&&k(this,ot,Lo).call(this,[[Ft.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(l(this,vg)!==t){b(this,vg,t);for(const e of l(this,nn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of l(this,Oe).values())e.pageIndex===t&&(yield e)}getEditor(t){return l(this,Oe).get(t)}addEditor(t){l(this,Oe).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(l(this,Hr)&&clearTimeout(l(this,Hr)),b(this,Hr,setTimeout(()=>{this.focusMainContainer(),b(this,Hr,null)},0))),l(this,Oe).delete(t.id),t.annotationElementId&&((e=l(this,cl))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!l(this,sl).has(t.annotationElementId))&&((i=l(this,bs))==null||i.remove(t.id))}addDeletedAnnotationElement(t){l(this,sl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return l(this,sl).has(t)}removeDeletedAnnotationElement(t){l(this,sl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){l(this,Di)!==t&&(b(this,Di,t),t&&k(this,ot,Lo).call(this,t.propertiesToUpdate))}updateUI(t){l(this,ot,GR)===t&&k(this,ot,Lo).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){k(this,ot,Lo).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(l(this,Zt).has(t)){l(this,Zt).delete(t),t.unselect(),k(this,ot,Qn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Zt).add(t),t.select(),k(this,ot,Lo).call(this,t.propertiesToUpdate),k(this,ot,Qn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=l(this,il))==null||e.commitOrRemove();for(const i of l(this,Zt))i!==t&&i.unselect();l(this,Zt).clear(),l(this,Zt).add(t),t.select(),k(this,ot,Lo).call(this,t.propertiesToUpdate),k(this,ot,Qn).call(this,{hasSelectedEditor:!0})}isSelected(t){return l(this,Zt).has(t)}get firstSelectedEditor(){return l(this,Zt).values().next().value}unselect(t){t.unselect(),l(this,Zt).delete(t),k(this,ot,Qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Zt).size!==0}get isEnterHandled(){return l(this,Zt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;l(this,xs).undo(),k(this,ot,Qn).call(this,{hasSomethingToUndo:l(this,xs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ot,tm).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){l(this,xs).redo(),k(this,ot,Qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,xs).hasSomethingToRedo(),isEmpty:k(this,ot,tm).call(this)})}addCommands(t){l(this,xs).add(t),k(this,ot,Qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ot,tm).call(this)})}cleanUndoStack(t){l(this,xs).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...l(this,Zt)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(s,e.length===1?e[0].editorType:e.length);for(const c of e)c.remove()},s=()=>{for(const a of e)k(this,ot,P1).call(this,a)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=l(this,Di))==null||t.commitOrRemove()}hasSomethingToControl(){return l(this,Di)||this.hasSelection}selectAll(){for(const t of l(this,Zt))t.commit();k(this,ot,T1).call(this,l(this,Oe).values())}unselectAll(){var t;if(!(l(this,Di)&&(l(this,Di).commitOrRemove(),l(this,Ke)!==xt.NONE))&&!((t=l(this,il))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of l(this,Zt))e.unselect();l(this,Zt).clear(),k(this,ot,Qn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;l(this,dl)[0]+=t,l(this,dl)[1]+=e;const[s,r]=l(this,dl),a=[...l(this,Zt)],c=1e3;l(this,Wr)&&clearTimeout(l(this,Wr)),b(this,Wr,setTimeout(()=>{b(this,Wr,null),l(this,dl)[0]=l(this,dl)[1]=0,this.addCommands({cmd:()=>{for(const u of a)l(this,Oe).has(u.id)&&(u.translateInPage(s,r),u.translationDone())},undo:()=>{for(const u of a)l(this,Oe).has(u.id)&&(u.translateInPage(-s,-r),u.translationDone())},mustExec:!1})},c));for(const u of a)u.translateInPage(t,e),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Ur,new Map);for(const t of l(this,Zt))l(this,Ur).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Ur))return!1;this.disableUserSelect(!1);const t=l(this,Ur);b(this,Ur,null);let e=!1;for(const[{x:s,y:r,pageIndex:a},c]of t)c.newX=s,c.newY=r,c.newPageIndex=a,e||(e=s!==c.savedX||r!==c.savedY||a!==c.savedPageIndex);if(!e)return!1;const i=(s,r,a,c)=>{if(l(this,Oe).has(s.id)){const u=l(this,nn).get(c);u?s._setParentAndPosition(u,r,a):(s.pageIndex=c,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:c}]of t)i(s,r,a,c)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:c}]of t)i(s,r,a,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(l(this,Ur))for(const i of l(this,Ur).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||l(this,Zt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return l(this,Di)===t}getActive(){return l(this,Di)}getMode(){return l(this,Ke)}isEditingMode(){return l(this,Ke)!==xt.NONE}get imageManager(){return kt(this,"imageManager",new b1)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:a}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,f,p,g)=>({x:(f-s)/a,y:1-(d+p-i)/r,width:g/a,height:p/r});break;case"180":c=(d,f,p,g)=>({x:1-(d+p-i)/r,y:1-(f+g-s)/a,width:p/r,height:g/a});break;case"270":c=(d,f,p,g)=>({x:1-(f+g-s)/a,y:(d-i)/r,width:g/a,height:p/r});break;default:c=(d,f,p,g)=>({x:(d-i)/r,y:(f-s)/a,width:p/r,height:g/a});break}const u=[];for(let d=0,f=e.rangeCount;d<f;d++){const p=e.getRangeAt(d);if(!p.collapsed)for(const{x:g,y:v,width:x,height:_}of p.getClientRects())x===0||_===0||u.push(c(g,v,x,_))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(l(this,kd)||b(this,kd,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=l(this,kd))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=l(this,kd))==null?void 0:s.get(t.data.id);if(!e)return;const i=l(this,bs).getRawValue(e);i&&(l(this,Ke)===xt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const s=(r=l(this,cl))==null?void 0:r.get(t);s&&(s.setCanvas(e,i),l(this,cl).delete(t))}addMissingCanvas(t,e){(l(this,cl)||b(this,cl,new Map)).set(t,e)}};Cd=new WeakMap,Di=new WeakMap,Pd=new WeakMap,Oe=new WeakMap,nn=new WeakMap,Td=new WeakMap,bs=new WeakMap,kd=new WeakMap,xs=new WeakMap,zn=new WeakMap,nl=new WeakMap,il=new WeakMap,Ld=new WeakMap,sl=new WeakMap,Ur=new WeakMap,Ss=new WeakMap,$c=new WeakMap,pg=new WeakMap,mg=new WeakMap,Md=new WeakMap,gg=new WeakMap,Hr=new WeakMap,rl=new WeakMap,Rd=new WeakMap,ol=new WeakMap,$r=new WeakMap,q0=new WeakMap,al=new WeakMap,Nd=new WeakMap,vg=new WeakMap,ll=new WeakMap,Wc=new WeakMap,Id=new WeakMap,cl=new WeakMap,yg=new WeakMap,Ke=new WeakMap,Zt=new WeakMap,jo=new WeakMap,ul=new WeakMap,hl=new WeakMap,_g=new WeakMap,Dd=new WeakMap,wg=new WeakMap,dl=new WeakMap,Wr=new WeakMap,zo=new WeakMap,bg=new WeakMap,xg=new WeakMap,As=new WeakMap,ot=new WeakSet,S_=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},S1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of l(this,nn).values())if(i.hasTextLayer(t))return i;return null},FR=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=k(this,ot,S_).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(l(this,$r)||b(this,$r,new f6(this)),l(this,$r).show(i,s,this.direction==="ltr"))},BR=function(){var r,a,c;const t=document.getSelection();if(!t||t.isCollapsed){l(this,jo)&&((r=l(this,$r))==null||r.hide(),b(this,jo,null),k(this,ot,Qn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===l(this,jo))return;const s=k(this,ot,S_).call(this,t).closest(".textLayer");if(!s){l(this,jo)&&((a=l(this,$r))==null||a.hide(),b(this,jo,null),k(this,ot,Qn).call(this,{hasSelectedText:!1}));return}if((c=l(this,$r))==null||c.hide(),b(this,jo,e),k(this,ot,Qn).call(this,{hasSelectedText:!0}),!(l(this,Ke)!==xt.HIGHLIGHT&&l(this,Ke)!==xt.NONE)&&(l(this,Ke)===xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,ol,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=l(this,Ke)===xt.HIGHLIGHT?k(this,ot,S1).call(this,s):null;if(u==null||u.toggleDrawing(),l(this,Nd)){const d=new AbortController,f=this.combinedSignal(d),p=g=>{g.type==="pointerup"&&g.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),g.type==="pointerup"&&k(this,ot,Jp).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}else u==null||u.toggleDrawing(!0),k(this,ot,Jp).call(this,"main_toolbar")}},Jp=function(t=""){l(this,Ke)===xt.HIGHLIGHT?this.highlightSelection(t):l(this,pg)&&k(this,ot,FR).call(this)},jR=function(){document.addEventListener("selectionchange",k(this,ot,BR).bind(this),{signal:this._signal})},zR=function(){if(l(this,rl))return;b(this,rl,new AbortController);const t=this.combinedSignal(l(this,rl));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},UR=function(){var t;(t=l(this,rl))==null||t.abort(),b(this,rl,null)},A1=function(){if(l(this,ll))return;b(this,ll,new AbortController);const t=this.combinedSignal(l(this,ll));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},HR=function(){var t;(t=l(this,ll))==null||t.abort(),b(this,ll,null)},E1=function(){if(l(this,nl))return;b(this,nl,new AbortController);const t=this.combinedSignal(l(this,nl));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},C1=function(){var t;(t=l(this,nl))==null||t.abort(),b(this,nl,null)},$R=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Qn=function(t){Object.entries(t).some(([i,s])=>l(this,wg)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,wg),t)}),l(this,Ke)===xt.HIGHLIGHT&&t.hasSelectedEditor===!1&&k(this,ot,Lo).call(this,[[Ft.HIGHLIGHT_FREE,!0]]))},Lo=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},WR=async function(){if(!l(this,al)){b(this,al,!0);const t=[];for(const e of l(this,nn).values())t.push(e.enable());await Promise.all(t);for(const e of l(this,Oe).values())e.enable()}},VR=function(){if(this.unselectAll(),l(this,al)){b(this,al,!1);for(const t of l(this,nn).values())t.disable();for(const t of l(this,Oe).values())t.disable()}},P1=function(t){const e=l(this,nn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},GR=function(){let t=null;for(t of l(this,Zt));return t},tm=function(){if(l(this,Oe).size===0)return!0;if(l(this,Oe).size===1)for(const t of l(this,Oe).values())return t.isEmpty();return!1},T1=function(t){for(const e of l(this,Zt))e.unselect();l(this,Zt).clear();for(const e of t)e.isEmpty()||(l(this,Zt).add(e),e.select());k(this,ot,Qn).call(this,{hasSelectedEditor:this.hasSelection})},tt(Jh,"TRANSLATE_SMALL",1),tt(Jh,"TRANSLATE_BIG",10);let hc=Jh;var hn,Vr,Qs,Od,Gr,Oi,Fd,qr,vi,Uo,Vc,Zr,fl,fr,em,A_;const Jn=class Jn{constructor(t){P(this,fr);P(this,hn,null);P(this,Vr,!1);P(this,Qs,null);P(this,Od,null);P(this,Gr,null);P(this,Oi,null);P(this,Fd,!1);P(this,qr,null);P(this,vi,null);P(this,Uo,null);P(this,Vc,null);P(this,Zr,!1);b(this,vi,t),b(this,Zr,t._uiManager.useNewAltTextFlow),l(Jn,fl)||b(Jn,fl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Jn._l10n??(Jn._l10n=t)}async render(){const t=b(this,Qs,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=b(this,Od,document.createElement("span"));t.append(e),l(this,Zr)?(t.classList.add("new"),t.setAttribute("data-l10n-id",l(Jn,fl).missing),e.setAttribute("data-l10n-id",l(Jn,fl)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=l(this,vi)._uiManager._signal;t.addEventListener("contextmenu",ls,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),l(this,vi)._uiManager.editAltText(l(this,vi)),l(this,Zr)&&l(this,vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,fr,em)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(b(this,Fd,!0),s(r))},{signal:i}),await k(this,fr,A_).call(this),t}finish(){l(this,Qs)&&(l(this,Qs).focus({focusVisible:l(this,Fd)}),b(this,Fd,!1))}isEmpty(){return l(this,Zr)?l(this,hn)===null:!l(this,hn)&&!l(this,Vr)}hasData(){return l(this,Zr)?l(this,hn)!==null||!!l(this,Uo):this.isEmpty()}get guessedText(){return l(this,Uo)}async setGuessedText(t){l(this,hn)===null&&(b(this,Uo,t),b(this,Vc,await Jn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),k(this,fr,A_).call(this))}toggleAltTextBadge(t=!1){var e;if(!l(this,Zr)||l(this,hn)){(e=l(this,qr))==null||e.remove(),b(this,qr,null);return}if(!l(this,qr)){const i=b(this,qr,document.createElement("div"));i.className="noAltTextBadge",l(this,vi).div.append(i)}l(this,qr).classList.toggle("hidden",!t)}serialize(t){let e=l(this,hn);return!t&&l(this,Uo)===e&&(e=l(this,Vc)),{altText:e,decorative:l(this,Vr),guessedText:l(this,Uo),textWithDisclaimer:l(this,Vc)}}get data(){return{altText:l(this,hn),decorative:l(this,Vr)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(b(this,Uo,i),b(this,Vc,s)),!(l(this,hn)===t&&l(this,Vr)===e)&&(r||(b(this,hn,t),b(this,Vr,e)),k(this,fr,A_).call(this))}toggle(t=!1){l(this,Qs)&&(!t&&l(this,Oi)&&(clearTimeout(l(this,Oi)),b(this,Oi,null)),l(this,Qs).disabled=!t)}shown(){l(this,vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,fr,em)}})}destroy(){var t,e;(t=l(this,Qs))==null||t.remove(),b(this,Qs,null),b(this,Od,null),b(this,Gr,null),(e=l(this,qr))==null||e.remove(),b(this,qr,null)}};hn=new WeakMap,Vr=new WeakMap,Qs=new WeakMap,Od=new WeakMap,Gr=new WeakMap,Oi=new WeakMap,Fd=new WeakMap,qr=new WeakMap,vi=new WeakMap,Uo=new WeakMap,Vc=new WeakMap,Zr=new WeakMap,fl=new WeakMap,fr=new WeakSet,em=function(){return l(this,hn)&&"added"||l(this,hn)===null&&this.guessedText&&"review"||"missing"},A_=async function(){var s,r,a;const t=l(this,Qs);if(!t)return;if(l(this,Zr)){if(t.classList.toggle("done",!!l(this,hn)),t.setAttribute("data-l10n-id",l(Jn,fl)[l(this,fr,em)]),(s=l(this,Od))==null||s.setAttribute("data-l10n-id",l(Jn,fl)[`${l(this,fr,em)}-label`]),!l(this,hn)){(r=l(this,Gr))==null||r.remove();return}}else{if(!l(this,hn)&&!l(this,Vr)){t.classList.remove("done"),(a=l(this,Gr))==null||a.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=l(this,Gr);if(!e){b(this,Gr,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${l(this,vi).id}`;const c=100,u=l(this,vi)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(l(this,Oi)),b(this,Oi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{b(this,Oi,setTimeout(()=>{b(this,Oi,null),l(this,Gr).classList.add("show"),l(this,vi)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:u}),t.addEventListener("mouseleave",()=>{var d;l(this,Oi)&&(clearTimeout(l(this,Oi)),b(this,Oi,null)),(d=l(this,Gr))==null||d.classList.remove("show")},{signal:u})}l(this,Vr)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=l(this,hn)),e.parentNode||t.append(e);const i=l(this,vi).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},P(Jn,fl,null),tt(Jn,"_l10n",null);let N0=Jn;var Sn,Es,Gc,he,Sg,qc,Js,Zc,Xc,Yc,Ag,k1;class Ky{constructor(t){P(this,Ag);P(this,Sn,null);P(this,Es,null);P(this,Gc,!1);P(this,he,null);P(this,Sg,null);P(this,qc,null);P(this,Js,null);P(this,Zc,null);P(this,Xc,!1);P(this,Yc,null);b(this,he,t)}renderForToolbar(){const t=b(this,Es,document.createElement("button"));return t.className="comment",k(this,Ag,k1).call(this,t,!1)}renderForStandalone(){const t=b(this,Sn,document.createElement("button"));t.className="annotationCommentButton";const e=l(this,he).commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(l(this,he)._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=l(this,he).commentButtonColor;s&&(i.backgroundColor=s)}return k(this,Ag,k1).call(this,t,!0)}focusButton(){setTimeout(()=>{var t;(t=l(this,Sn)??l(this,Es))==null||t.focus()},0)}onUpdatedColor(){if(!l(this,Sn))return;const t=l(this,he).commentButtonColor;t&&(l(this,Sn).style.backgroundColor=t),l(this,he)._uiManager.updatePopupColor(l(this,he))}get commentButtonWidth(){var t;return(((t=l(this,Sn))==null?void 0:t.getBoundingClientRect().width)??0)/l(this,he).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,Yc))return l(this,Yc);if(!l(this,Sn))return null;const{x:t,y:e,height:i}=l(this,Sn).getBoundingClientRect(),{x:s,y:r,width:a,height:c}=l(this,he).parent.boundingClientRect;return[(t-s)/a,(e+i-r)/c]}set commentPopupPositionInLayer(t){b(this,Yc,t)}hasDefaultPopupPosition(){return l(this,Yc)===null}removeStandaloneCommentButton(){var t;(t=l(this,Sn))==null||t.remove(),b(this,Sn,null)}removeToolbarCommentButton(){var t;(t=l(this,Es))==null||t.remove(),b(this,Es,null)}setCommentButtonStates({selected:t,hasPopup:e}){l(this,Sn)&&(l(this,Sn).classList.toggle("selected",t),l(this,Sn).ariaExpanded=e)}edit(t){const e=this.commentPopupPositionInLayer;let i,s;if(e)[i,s]=e;else{[i,s]=l(this,he).commentButtonPosition;const{width:f,height:p,x:g,y:v}=l(this,he);i=g+i*f,s=v+s*p}const r=l(this,he).parent.boundingClientRect,{x:a,y:c,width:u,height:d}=r;l(this,he)._uiManager.editComment(l(this,he),a+i*u,c+s*d,{...t,parentDimensions:r})}finish(){l(this,Es)&&(l(this,Es).focus({focusVisible:l(this,Gc)}),b(this,Gc,!1))}isDeleted(){return l(this,Xc)||l(this,Js)===""}isEmpty(){return l(this,Js)===null}hasBeenEdited(){return this.isDeleted()||l(this,Js)!==l(this,Sg)}serialize(){return this.data}get data(){return{text:l(this,Js),richText:l(this,qc),date:l(this,Zc),deleted:this.isDeleted()}}set data(t){if(t!==l(this,Js)&&b(this,qc,null),t===null){b(this,Js,""),b(this,Xc,!0);return}b(this,Js,t),b(this,Zc,new Date),b(this,Xc,!1)}setInitialText(t,e=null){b(this,Sg,t),this.data=t,b(this,Zc,null),b(this,qc,e)}shown(){}destroy(){var t,e;(t=l(this,Es))==null||t.remove(),b(this,Es,null),(e=l(this,Sn))==null||e.remove(),b(this,Sn,null),b(this,Js,""),b(this,qc,null),b(this,Zc,null),b(this,he,null),b(this,Gc,!1),b(this,Xc,!1)}}Sn=new WeakMap,Es=new WeakMap,Gc=new WeakMap,he=new WeakMap,Sg=new WeakMap,qc=new WeakMap,Js=new WeakMap,Zc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Ag=new WeakSet,k1=function(t,e){if(!l(this,he)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[l(this,he)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=l(this,he)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",ls,{signal:i}),e&&(t.addEventListener("focusin",r=>{l(this,he)._focusEventsAllowed=!1,Te(r)},{capture:!0,signal:i}),t.addEventListener("focusout",r=>{l(this,he)._focusEventsAllowed=!0,Te(r)},{capture:!0,signal:i})),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),t===l(this,Es)?this.edit():l(this,he).toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(b(this,Gc,!0),s(r))},{signal:i}),t.addEventListener("pointerenter",()=>{l(this,he).toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{l(this,he).toggleComment(!1,!1)},{signal:i}),t};var Bd,Kc,Eg,Cg,Pg,Tg,kg,Ho,Qc,$o,Jc,Wo,dc,qR,ZR,XR;const EE=class EE{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:a=null,signal:c}){P(this,dc);P(this,Bd);P(this,Kc,!1);P(this,Eg,null);P(this,Cg);P(this,Pg);P(this,Tg);P(this,kg);P(this,Ho,null);P(this,Qc);P(this,$o,null);P(this,Jc);P(this,Wo,null);b(this,Bd,t),b(this,Eg,i),b(this,Cg,e),b(this,Pg,s),b(this,Tg,r),b(this,kg,a),b(this,Jc,new AbortController),b(this,Qc,AbortSignal.any([c,l(this,Jc).signal])),t.addEventListener("touchstart",k(this,dc,qR).bind(this),{passive:!1,signal:l(this,Qc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/wr.pixelRatio}destroy(){var t,e;(t=l(this,Jc))==null||t.abort(),b(this,Jc,null),(e=l(this,Ho))==null||e.abort(),b(this,Ho,null)}};Bd=new WeakMap,Kc=new WeakMap,Eg=new WeakMap,Cg=new WeakMap,Pg=new WeakMap,Tg=new WeakMap,kg=new WeakMap,Ho=new WeakMap,Qc=new WeakMap,$o=new WeakMap,Jc=new WeakMap,Wo=new WeakMap,dc=new WeakSet,qR=function(t){var s,r,a;if((s=l(this,Cg))!=null&&s.call(this))return;if(t.touches.length===1){if(l(this,Ho))return;const c=b(this,Ho,new AbortController),u=AbortSignal.any([l(this,Qc),c.signal]),d=l(this,Bd),f={capture:!0,signal:u,passive:!1},p=g=>{var v;g.pointerType==="touch"&&((v=l(this,Ho))==null||v.abort(),b(this,Ho,null))};d.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(Te(g),p(g))},f),d.addEventListener("pointerup",p,f),d.addEventListener("pointercancel",p,f);return}if(!l(this,Wo)){b(this,Wo,new AbortController);const c=AbortSignal.any([l(this,Qc),l(this,Wo).signal]),u=l(this,Bd),d={signal:c,capture:!1,passive:!1};u.addEventListener("touchmove",k(this,dc,ZR).bind(this),d);const f=k(this,dc,XR).bind(this);u.addEventListener("touchend",f,d),u.addEventListener("touchcancel",f,d),d.capture=!0,u.addEventListener("pointerdown",Te,d),u.addEventListener("pointermove",Te,d),u.addEventListener("pointercancel",Te,d),u.addEventListener("pointerup",Te,d),(r=l(this,Pg))==null||r.call(this)}if(Te(t),t.touches.length!==2||(a=l(this,Eg))!=null&&a.call(this)){b(this,$o,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),b(this,$o,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},ZR=function(t){var M;if(!l(this,$o)||t.touches.length!==2)return;Te(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:r}=e,{screenX:a,screenY:c}=i,u=l(this,$o),{touch0X:d,touch0Y:f,touch1X:p,touch1Y:g}=u,v=p-d,x=g-f,_=a-s,A=c-r,w=Math.hypot(_,A)||1,S=Math.hypot(v,x)||1;if(!l(this,Kc)&&Math.abs(S-w)<=EE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=s,u.touch0Y=r,u.touch1X=a,u.touch1Y=c,!l(this,Kc)){b(this,Kc,!0);return}const E=[(s+a)/2,(r+c)/2];(M=l(this,Tg))==null||M.call(this,E,S,w)},XR=function(t){var e;t.touches.length>=2||(l(this,Wo)&&(l(this,Wo).abort(),b(this,Wo,null),(e=l(this,kg))==null||e.call(this)),l(this,$o)&&(Te(t),b(this,$o,null),b(this,Kc,!1)))};let ng=EE;var tu,tr,be,ie,Vo,jd,pl,Lg,An,eu,Go,Xr,ml,Mg,nu,Fi,Rg,iu,qo,Yr,zd,Ud,Cs,su,Ng,Z0,_t,L1,Ig,M1,E_,YR,KR,R1,C_,N1,QR,JR,tN,I1,eN,D1,nN,iN,sN,O1,nm;const At=class At{constructor(t){P(this,_t);P(this,tu,null);P(this,tr,null);P(this,be,null);P(this,ie,null);P(this,Vo,null);P(this,jd,!1);P(this,pl,null);P(this,Lg,"");P(this,An,null);P(this,eu,null);P(this,Go,null);P(this,Xr,null);P(this,ml,null);P(this,Mg,"");P(this,nu,!1);P(this,Fi,null);P(this,Rg,!1);P(this,iu,!1);P(this,qo,!1);P(this,Yr,null);P(this,zd,0);P(this,Ud,0);P(this,Cs,null);P(this,su,null);tt(this,"isSelected",!1);tt(this,"_isCopy",!1);tt(this,"_editToolbar",null);tt(this,"_initialOptions",Object.create(null));tt(this,"_initialData",null);tt(this,"_isVisible",!0);tt(this,"_uiManager",null);tt(this,"_focusEventsAllowed",!0);P(this,Ng,!1);P(this,Z0,At._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,a];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=At.prototype._resizeWithKeyboard,e=hc.TRANSLATE_SMALL,i=hc.TRANSLATE_BIG;return kt(this,"_resizerKeyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],At.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return kt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new g6({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(At._l10n??(At._l10n=t),At._l10nResizer||(At._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),At._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);At._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ae("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Ng)}set _isDraggable(t){var e;b(this,Ng,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Z0)}setParent(t){var e;t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(k(this,_t,nm).call(this),(e=l(this,Xr))==null||e.remove(),b(this,Xr,null)),this.parent=t}focusin(t){this._focusEventsAllowed&&(l(this,nu)?b(this,nu,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[r,a]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/r,this.y=(e+s)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){k(this,_t,L1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){l(this,Fi)||b(this,Fi,[this.x,this.y,this.width,this.height]),k(this,_t,L1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){l(this,Fi)||b(this,Fi,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:c}=this;const[u,d]=this.getBaseTranslation();a+=u,c+=d;const{style:f}=i;f.left=`${(100*a).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(a,c),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!l(this,Fi)&&(l(this,Fi)[0]!==this.x||l(this,Fi)[1]!==this.y)}get _hasBeenResized(){return!!l(this,Fi)&&(l(this,Fi)[2]!==this.width||l(this,Fi)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=At,s=i/t,r=i/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:r,y:a,width:c,height:u}=this;if(c*=i,u*=s,r*=i,a*=s,this._mustFixPosition)switch(t){case 0:r=Vn(r,0,i-c),a=Vn(a,0,s-u);break;case 90:r=Vn(r,0,i-u),a=Vn(a,c,s);break;case 180:r=Vn(r,c,i),a=Vn(a,u,s);break;case 270:r=Vn(r,u,i),a=Vn(a,0,s-c);break}this.x=r/=i,this.y=a/=s;const[d,f]=this.getBaseTranslation();r+=d,a+=f,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return k(i=At,Ig,M1).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return k(i=At,Ig,M1).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=l(this,be))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,iu))return this._editToolbar;this._editToolbar=new _1(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;(t=this._editToolbar)==null||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;(t=this._editToolbar)==null||t.removeButton("comment")}removeEditToolbar(){var t,e;(t=this._editToolbar)==null||t.remove(),this._editToolbar=null,(e=l(this,be))==null||e.destroy()}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,be)||(N0.initialize(At._l10n),b(this,be,new N0(this)),l(this,tu)&&(l(this,be).data=l(this,tu),b(this,tu,null))),l(this,be)}get altTextData(){var t;return(t=l(this,be))==null?void 0:t.data}set altTextData(t){l(this,be)&&(l(this,be).data=t)}get guessedAltText(){var t;return(t=l(this,be))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=l(this,be))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=l(this,be))==null?void 0:e.serialize(t)}hasAltText(){return!!l(this,be)&&!l(this,be).isEmpty()}hasAltTextData(){var t;return((t=l(this,be))==null?void 0:t.hasData())??!1}focusCommentButton(){var t;(t=l(this,ie))==null||t.focusButton()}addCommentButton(){return l(this,ie)||b(this,ie,new Ky(this))}addStandaloneCommentButton(){if(l(this,Vo)){this._uiManager.isEditingMode()&&l(this,Vo).classList.remove("hidden");return}this.hasComment&&(b(this,Vo,l(this,ie).renderForStandalone()),this.div.append(l(this,Vo)))}removeStandaloneCommentButton(){l(this,ie).removeStandaloneCommentButton(),b(this,Vo,null)}hideStandaloneCommentButton(){var t;(t=l(this,Vo))==null||t.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:s}}=l(this,ie);return{text:e,richText:t,date:i,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){l(this,ie)||b(this,ie,new Ky(this)),l(this,ie).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(l(this,ie)||b(this,ie,new Ky(this)),l(this,ie).setInitialText(t,i),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){var t;return(t=l(this,ie))==null?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return(t=l(this,ie))==null?void 0:t.isDeleted()}get hasComment(){return!!l(this,ie)&&!l(this,ie).isEmpty()&&!l(this,ie).isDeleted()}async editComment(t){l(this,ie)||b(this,ie,new Ky(this)),l(this,ie).edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){l(this,ie).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[r]=this.pageDimensions,[a]=this.pageTranslation,c=a+r+1,u=s-100,d=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,d,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){l(this,ie).data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=l(this,jd)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),k(this,_t,D1).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),DR(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,su)||b(this,su,new ng({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,_t,QR).bind(this),onPinching:k(this,_t,JR).bind(this),onPinchEnd:k(this,_t,tN).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),t}pointerdown(t){const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(b(this,nu,!0),this._isDraggable){k(this,_t,eN).call(this,t);return}k(this,_t,I1).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Yr)&&clearTimeout(l(this,Yr)),b(this,Yr,setTimeout(()=>{var t;b(this,Yr,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[c,u]=this.pageTranslation,d=t/s,f=e/s,p=this.x*r,g=this.y*a,v=this.width*r,x=this.height*a;switch(i){case 0:return[p+d+c,a-g-f-x+u,p+d+v+c,a-g-f+u];case 90:return[p+f+c,a-g+d+u,p+f+x+c,a-g+d+v+u];case 180:return[p-d-v+c,a-g+f+u,p-d+c,a-g+f+x+u];case 270:return[p-f-x+c,a-g-d-v+u,p-f+c,a-g-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,r,a]=t,c=r-i,u=a-s;switch(this.rotation){case 0:return[i,e-a,c,u];case 90:return[i,e-s,u,c];case 180:return[r,e-s,c,u];case 270:return[r,e-a,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&At._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;(t=l(this,ie))==null||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:s,deleted:r,richText:a},uid:c,pageIndex:u,creationDate:d,modificationDate:f}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:a,contentsObj:{str:t},creationDate:d,modificationDate:i||f,popupRef:!r,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),b(this,iu,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),b(this,iu,!1),!0):!1}isInEditMode(){return l(this,iu)}shouldGetKeyboardEvents(){return l(this,qo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return e<a&&s>0&&t<r&&i>0}rebuild(){k(this,_t,D1).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,b(s,tu,t.accessibilityData),s._isCopy=t.isCopy||!1;const[r,a]=s.pageDimensions,[c,u,d,f]=s.getRectInCurrentCoords(t.rect,a);return s.x=c/r,s.y=u/a,s.width=d/r,s.height=f/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=l(this,ml))==null||t.abort(),b(this,ml,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Yr)&&(clearTimeout(l(this,Yr)),b(this,Yr,null)),k(this,_t,nm).call(this),this.removeEditToolbar(),l(this,Cs)){for(const i of l(this,Cs).values())clearTimeout(i);b(this,Cs,null)}this.parent=null,(e=l(this,su))==null||e.destroy(),b(this,su,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,_t,YR).call(this),l(this,An).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,s,r,a]=this.getPDFRect();return[At._round(i+(r-i)*t),At._round(s+(a-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,ie).commentPopupPositionInLayer}set commentPopupPosition(t){l(this,ie).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return l(this,ie).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,ie).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){l(this,ie).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=l(this,An).children;if(!l(this,tr)){b(this,tr,Array.from(e));const a=k(this,_t,nN).bind(this),c=k(this,_t,iN).bind(this),u=this._uiManager._signal;for(const d of l(this,tr)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:u}),d.addEventListener("blur",c,{signal:u}),d.addEventListener("focus",k(this,_t,sN).bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",At._l10nResizer[f])}}const i=l(this,tr)[0];let s=0;for(const a of e){if(a===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,tr).length/4);if(r!==s){if(r<s)for(let c=0;c<s-r;c++)l(this,An).append(l(this,An).firstChild);else if(r>s)for(let c=0;c<r-s;c++)l(this,An).firstChild.before(l(this,An).lastChild);let a=0;for(const c of e){const d=l(this,tr)[a++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",At._l10nResizer[d])}}k(this,_t,O1).call(this,0),b(this,qo,!0),l(this,An).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){l(this,qo)&&k(this,_t,N1).call(this,l(this,Mg),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,_t,nm).call(this),this.div.focus()}select(){var t,e,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=l(this,be))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return(t=this.div)==null?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,i,s,r;this.isSelected&&(this.isSelected=!1,(t=l(this,An))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=l(this,be))==null||r.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,Rg)}set isEditing(t){b(this,Rg,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){l(this,Cs)||b(this,Cs,new Map);const{action:i}=t;let s=l(this,Cs).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),l(this,Cs).delete(i),l(this,Cs).size===0&&b(this,Cs,null)},At._telemetryTimeout),l(this,Cs).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),b(this,jd,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,jd,!0)}updateFakeAnnotationElement(t){if(!l(this,Xr)&&!this.deleted){b(this,Xr,t.addFakeAnnotation(this));return}if(this.deleted){l(this,Xr).remove(),b(this,Xr,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,Xr).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};tu=new WeakMap,tr=new WeakMap,be=new WeakMap,ie=new WeakMap,Vo=new WeakMap,jd=new WeakMap,pl=new WeakMap,Lg=new WeakMap,An=new WeakMap,eu=new WeakMap,Go=new WeakMap,Xr=new WeakMap,ml=new WeakMap,Mg=new WeakMap,nu=new WeakMap,Fi=new WeakMap,Rg=new WeakMap,iu=new WeakMap,qo=new WeakMap,Yr=new WeakMap,zd=new WeakMap,Ud=new WeakMap,Cs=new WeakMap,su=new WeakMap,Ng=new WeakMap,Z0=new WeakMap,_t=new WeakSet,L1=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Ig=new WeakSet,M1=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},E_=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},YR=function(){if(l(this,An))return;b(this,An,document.createElement("div")),l(this,An).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");l(this,An).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",k(this,_t,KR).bind(this,i),{signal:e}),s.addEventListener("contextmenu",ls,{signal:e}),s.tabIndex=-1}this.div.prepend(l(this,An))},KR=function(t,e){var f;e.preventDefault();const{isMac:i}=wn.platform;if(e.button!==0||e.ctrlKey&&i)return;(f=l(this,be))==null||f.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,b(this,eu,[e.screenX,e.screenY]);const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,_t,N1).bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Te,{passive:!1,signal:a}),window.addEventListener("contextmenu",ls,{signal:a}),b(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{var p;r.abort(),this.parent.togglePointerEvents(!0),(p=l(this,be))==null||p.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=u,k(this,_t,C_).call(this)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})},R1=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()},C_=function(){if(!l(this,Go))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=l(this,Go);b(this,Go,null);const r=this.x,a=this.y,c=this.width,u=this.height;r===t&&a===e&&c===i&&u===s||this.addCommands({cmd:k(this,_t,R1).bind(this,r,a,c,u),undo:k(this,_t,R1).bind(this,t,e,i,s),mustExec:!0})},N1=function(t,e){const[i,s]=this.parentDimensions,r=this.x,a=this.y,c=this.width,u=this.height,d=At.MIN_SIZE/i,f=At.MIN_SIZE/s,p=k(this,_t,E_).call(this,this.rotation),g=(q,Y)=>[p[0]*q+p[2]*Y,p[1]*q+p[3]*Y],v=k(this,_t,E_).call(this,360-this.rotation),x=(q,Y)=>[v[0]*q+v[2]*Y,v[1]*q+v[3]*Y];let _,A,w=!1,S=!1;switch(t){case"topLeft":w=!0,_=(q,Y)=>[0,0],A=(q,Y)=>[q,Y];break;case"topMiddle":_=(q,Y)=>[q/2,0],A=(q,Y)=>[q/2,Y];break;case"topRight":w=!0,_=(q,Y)=>[q,0],A=(q,Y)=>[0,Y];break;case"middleRight":S=!0,_=(q,Y)=>[q,Y/2],A=(q,Y)=>[0,Y/2];break;case"bottomRight":w=!0,_=(q,Y)=>[q,Y],A=(q,Y)=>[0,0];break;case"bottomMiddle":_=(q,Y)=>[q/2,Y],A=(q,Y)=>[q/2,0];break;case"bottomLeft":w=!0,_=(q,Y)=>[0,Y],A=(q,Y)=>[q,0];break;case"middleLeft":S=!0,_=(q,Y)=>[0,Y/2],A=(q,Y)=>[q,Y/2];break}const E=_(c,u),M=A(c,u);let N=g(...M);const D=At._round(r+N[0]),O=At._round(a+N[1]);let B=1,z=1,H,W;if(e.fromKeyboard)({deltaX:H,deltaY:W}=e);else{const{screenX:q,screenY:Y}=e,[j,Z]=l(this,eu);[H,W]=this.screenToPageTranslation(q-j,Y-Z),l(this,eu)[0]=q,l(this,eu)[1]=Y}if([H,W]=x(H/i,W/s),w){const q=Math.hypot(c,u);B=z=Math.max(Math.min(Math.hypot(M[0]-E[0]-H,M[1]-E[1]-W)/q,1/c,1/u),d/c,f/u)}else S?B=Vn(Math.abs(M[0]-E[0]-H),d,1)/c:z=Vn(Math.abs(M[1]-E[1]-W),f,1)/u;const V=At._round(c*B),J=At._round(u*z);N=g(...A(V,J));const U=D-N[0],et=O-N[1];l(this,Fi)||b(this,Fi,[this.x,this.y,this.width,this.height]),this.width=V,this.height=J,this.x=U,this.y=et,this.setDims(),this.fixAndSetPosition(),this._onResizing()},QR=function(){var t;b(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=l(this,be))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},JR=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const a=k(this,_t,E_).call(this,this.rotation),c=(D,O)=>[a[0]*D+a[2]*O,a[1]*D+a[3]*O],[u,d]=this.parentDimensions,f=this.x,p=this.y,g=this.width,v=this.height,x=At.MIN_SIZE/u,_=At.MIN_SIZE/d;r=Math.max(Math.min(r,1/g,1/v),x/g,_/v);const A=At._round(g*r),w=At._round(v*r);if(A===g&&w===v)return;l(this,Fi)||b(this,Fi,[f,p,g,v]);const S=c(g/2,v/2),E=At._round(f+S[0]),M=At._round(p+S[1]),N=c(A/2,w/2);this.x=E-N[0],this.y=M-N[1],this.width=A,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()},tN=function(){var t;(t=l(this,be))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),k(this,_t,C_).call(this)},I1=function(t){const{isMac:e}=wn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},eN=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:r},c=d=>{s.abort(),b(this,pl,null),b(this,nu,!1),this._uiManager.endDragSession()||k(this,_t,I1).call(this,d),i&&this._onStopDragging()};e&&(b(this,zd,t.clientX),b(this,Ud,t.clientY),b(this,pl,t.pointerId),b(this,Lg,t.pointerType),window.addEventListener("pointermove",d=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:g}=d;if(g!==l(this,pl)){Te(d);return}const[v,x]=this.screenToPageTranslation(f-l(this,zd),p-l(this,Ud));b(this,zd,f),b(this,Ud,p),this._uiManager.dragSelectedEditors(v,x)},a),window.addEventListener("touchmove",Te,a),window.addEventListener("pointerdown",d=>{d.pointerType===l(this,Lg)&&(l(this,su)||d.isPrimary)&&c(d),Te(d)},a));const u=d=>{if(!l(this,pl)||l(this,pl)===d.pointerId){c(d);return}Te(d)};window.addEventListener("pointerup",u,{signal:r}),window.addEventListener("blur",u,{signal:r})},D1=function(){if(l(this,ml)||!this.div)return;b(this,ml,new AbortController);const t=this._uiManager.combinedSignal(l(this,ml));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},nN=function(t){At._resizerKeyboardManager.exec(this,t)},iN=function(t){var e;l(this,qo)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==l(this,An)&&k(this,_t,nm).call(this)},sN=function(t){b(this,Mg,l(this,qo)?t:"")},O1=function(t){if(l(this,tr))for(const e of l(this,tr))e.tabIndex=t},nm=function(){b(this,qo,!1),k(this,_t,O1).call(this,-1),k(this,_t,C_).call(this)},P(At,Ig),tt(At,"_l10n",null),tt(At,"_l10nResizer",null),tt(At,"_borderLineWidth",-1),tt(At,"_colorManager",new x1),tt(At,"_zIndex",1),tt(At,"_telemetryTimeout",1e3);let fe=At;class g6 extends fe{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CT=3285377520,gs=4294901760,Dr=65535;class rN{constructor(t){this.h1=t?t&4294967295:CT,this.h2=t?t&4294967295:CT}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let _=0,A=t.length;_<A;_++){const w=t.charCodeAt(_);w<=255?e[i++]=w:(e[i++]=w>>>8,e[i++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,a=new Uint32Array(e.buffer,0,s);let c=0,u=0,d=this.h1,f=this.h2;const p=3432918353,g=461845907,v=p&Dr,x=g&Dr;for(let _=0;_<s;_++)_&1?(c=a[_],c=c*p&gs|c*v&Dr,c=c<<15|c>>>17,c=c*g&gs|c*x&Dr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(u=a[_],u=u*p&gs|u*v&Dr,u=u<<15|u>>>17,u=u*g&gs|u*x&Dr,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,r){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*p&gs|c*v&Dr,c=c<<15|c>>>17,c=c*g&gs|c*x&Dr,s&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&gs|t*36045&Dr,e=e*4283543511&gs|((e<<16|t>>>16)*2950163797&gs)>>>16,t^=e>>>1,t=t*444984403&gs|t*60499&Dr,e=e*3301882366&gs|((e<<16|t>>>16)*3120437893&gs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const F1=Object.freeze({map:null,hash:"",transfer:void 0});var ru,ou,Zo,En,X0,oN;class pE{constructor(){P(this,X0);P(this,ru,!1);P(this,ou,null);P(this,Zo,null);P(this,En,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=l(this,En).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return l(this,En).get(t)}remove(t){const e=l(this,En).get(t);if(e!==void 0&&(e instanceof fe&&l(this,Zo).delete(e.annotationElementId),l(this,En).delete(t),l(this,En).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of l(this,En).values())if(i instanceof fe)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=l(this,En).get(t);let s=!1;if(i!==void 0)for(const[r,a]of Object.entries(e))i[r]!==a&&(s=!0,i[r]=a);else s=!0,l(this,En).set(t,e);s&&k(this,X0,oN).call(this),e instanceof fe&&((l(this,Zo)||b(this,Zo,new Map)).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return l(this,En).has(t)}get size(){return l(this,En).size}resetModified(){l(this,ru)&&(b(this,ru,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new aN(this)}get serializable(){if(l(this,En).size===0)return F1;const t=new Map,e=new rN,i=[],s=Object.create(null);let r=!1;for(const[a,c]of l(this,En)){const u=c instanceof fe?c.serialize(!1,s):c;u&&(t.set(a,u),e.update(`${a}:${JSON.stringify(u)}`),r||(r=!!u.bitmap))}if(r)for(const a of t.values())a.bitmap&&i.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:F1}get editorStats(){let t=null;const e=new Map;let i=0,s=0;for(const r of l(this,En).values()){if(!(r instanceof fe)){r.popup&&(r.popup.deleted?s+=1:i+=1);continue}r.isCommentDeleted?s+=1:r.hasEditedComment&&(i+=1);const a=r.telemetryFinalData;if(!a)continue;const{type:c}=a;e.has(c)||e.set(c,Object.getPrototypeOf(r).constructor),t||(t=Object.create(null));const u=t[c]||(t[c]=new Map);for(const[d,f]of Object.entries(a)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const g=p.get(f)??0;p.set(f,g+1)}}if((s>0||i>0)&&(t||(t=Object.create(null)),t.comments={deleted:s,edited:i}),!t)return null;for(const[r,a]of e)t[r]=a.computeTelemetryFinalData(t[r]);return t}resetModifiedIds(){b(this,ou,null)}updateEditor(t,e){var s;const i=(s=l(this,Zo))==null?void 0:s.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){var e;return((e=l(this,Zo))==null?void 0:e.get(t))||null}get modifiedIds(){if(l(this,ou))return l(this,ou);const t=[];if(l(this,Zo))for(const e of l(this,Zo).values())e.serialize()&&t.push(e.annotationElementId);return b(this,ou,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return l(this,En).entries()}}ru=new WeakMap,ou=new WeakMap,Zo=new WeakMap,En=new WeakMap,X0=new WeakSet,oN=function(){l(this,ru)||(b(this,ru,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Dg;class aN extends pE{constructor(e){super();P(this,Dg);const{map:i,hash:s,transfer:r}=e.serializable,a=structuredClone(i,r?{transfer:r}:null);b(this,Dg,{map:a,hash:s,transfer:r})}get print(){ae("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Dg)}get modifiedIds(){return kt(this,"modifiedIds",{ids:new Set,hash:""})}}Dg=new WeakMap;var Hd;class v6{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){P(this,Hd,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,Hd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||l(this,Hd).has(t.loadedName))){if(Bt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:a}=t,c=new FontFace(s,r,a);this.addNativeFontFace(c);try{await c.load(),l(this,Hd).add(s),i==null||i(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ae("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw St(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return kt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return kt(this,"isSyncFontLoadingSupported",si||wn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Bt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return kt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(M,N){return M.charCodeAt(N)<<24|M.charCodeAt(N+1)<<16|M.charCodeAt(N+2)<<8|M.charCodeAt(N+3)&255}function s(M,N,D,O){const B=M.substring(0,N),z=M.substring(N+D);return B+O+z}let r,a;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let d=0;function f(M,N){if(++d>30){St("Load test font never loaded."),N();return}if(u.font="30px "+M,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(f.bind(null,M,N))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=s(g,976,p.length,p);const x=16,_=1482184792;let A=i(g,x);for(r=0,a=p.length-3;r<a;r+=4)A=A-_+i(p,r)|0;r<p.length&&(A=A-_+i(p+"XXX",r)|0),g=s(g,x,4,s6(A));const w=`url(data:font/opentype;base64,${btoa(g)});`,S=`@font-face {font-family:"${p}";src:${w}}`;this.insertRule(S);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const M of[t.loadedName,p]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=M,E.append(N)}this._document.body.append(E),f(p,()=>{E.remove(),e.complete()})}}Hd=new WeakMap;var Qt;class y6{constructor(t,e=null,i,s){P(this,Qt);this.compiledGlyphs=Object.create(null),b(this,Qt,t),this._inspectFont=e,i&&Object.assign(this,i),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${SR(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(a){St(`getPathGenerator - ignoring character: "${a}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}get black(){return l(this,Qt).black}get bold(){return l(this,Qt).bold}get disableFontFace(){return l(this,Qt).disableFontFace??!1}get fontExtraProperties(){return l(this,Qt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,Qt).isInvalidPDFjsFont}get isType3Font(){return l(this,Qt).isType3Font}get italic(){return l(this,Qt).italic}get missingFile(){return l(this,Qt).missingFile}get remeasure(){return l(this,Qt).remeasure}get vertical(){return l(this,Qt).vertical}get ascent(){return l(this,Qt).ascent}get defaultWidth(){return l(this,Qt).defaultWidth}get descent(){return l(this,Qt).descent}get bbox(){return l(this,Qt).bbox}get fontMatrix(){return l(this,Qt).fontMatrix}get fallbackName(){return l(this,Qt).fallbackName}get loadedName(){return l(this,Qt).loadedName}get mimetype(){return l(this,Qt).mimetype}get name(){return l(this,Qt).name}get data(){return l(this,Qt).data}clearData(){l(this,Qt).clearData()}get cssFontInfo(){return l(this,Qt).cssFontInfo}get systemFontInfo(){return l(this,Qt).systemFontInfo}get defaultVMetrics(){return l(this,Qt).defaultVMetrics}}Qt=new WeakMap;function _6(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(si)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function w6(n){if(si&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Jv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Qy(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const B1=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,b6=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",lN=l6.bind(null,B1,b6);var Xo,Y0;class x6{constructor(){P(this,Xo,new Map);P(this,Y0,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};l(this,Y0).then(()=>{for(const[s]of l(this,Xo))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);s=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}l(this,Xo).set(e,s)}removeEventListener(t,e){const i=l(this,Xo).get(e);i==null||i(),l(this,Xo).delete(e)}terminate(){for(const[,t]of l(this,Xo))t==null||t();l(this,Xo).clear()}}Xo=new WeakMap,Y0=new WeakMap;const Jy={DATA:1,ERROR:2},Ye={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function PT(){}function mi(n){if(n instanceof ka||n instanceof M0||n instanceof _T||n instanceof Jm||n instanceof tx)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||ae('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ka(n.message);case"InvalidPDFException":return new M0(n.message);case"PasswordException":return new _T(n.message,n.code);case"ResponseException":return new Jm(n.message,n.status,n.missing);case"UnknownErrorException":return new tx(n.message,n.details)}return new tx(n.message,n.toString())}var $d,Fs,cN,uN,hN,P_;class im{constructor(t,e,i){P(this,Fs);P(this,$d,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",k(this,Fs,cN).bind(this),{signal:l(this,$d).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,i,s){const r=this.streamId++,a=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:c,action:t,streamId:r,data:e,desiredSize:d.desiredSize},s),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,u.postMessage({sourceName:a,targetName:c,stream:Ye.PULL,streamId:r,desiredSize:d.desiredSize}),f.promise},cancel:d=>{Bt(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:a,targetName:c,stream:Ye.CANCEL,streamId:r,reason:mi(d)}),f.promise}},i)}destroy(){var t;(t=l(this,$d))==null||t.abort(),b(this,$d,null)}}$d=new WeakMap,Fs=new WeakSet,cN=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){k(this,Fs,hN).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Jy.DATA)s.resolve(t.data);else if(t.callback===Jy.ERROR)s.reject(mi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(a){r.postMessage({sourceName:i,targetName:s,callback:Jy.DATA,callbackId:t.callbackId,data:a})},function(a){r.postMessage({sourceName:i,targetName:s,callback:Jy.ERROR,callbackId:t.callbackId,reason:mi(a)})});return}if(t.streamId){k(this,Fs,uN).call(this,t);return}e(t.data)},uN=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,a=this,c=this.actionHandler[t.action],u={enqueue(d,f=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:Ye.ENQUEUE,streamId:e,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Ye.CLOSE,streamId:e}),delete a.streamSinks[e])},error(d){Bt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Ye.ERROR,streamId:e,reason:mi(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,Promise.try(c,t.data,u).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ye.START_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:Ye.START_COMPLETE,streamId:e,reason:mi(d)})})},hN=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,a=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Ye.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(mi(t.reason));break;case Ye.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(mi(t.reason));break;case Ye.PULL:if(!c){r.postMessage({sourceName:i,targetName:s,stream:Ye.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||PT).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ye.PULL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:Ye.PULL_COMPLETE,streamId:e,reason:mi(d)})});break;case Ye.ENQUEUE:if(Bt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case Ye.CLOSE:if(Bt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),k(this,Fs,P_).call(this,a,e);break;case Ye.ERROR:Bt(a,"error should have stream controller"),a.controller.error(mi(t.reason)),k(this,Fs,P_).call(this,a,e);break;case Ye.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(mi(t.reason)),k(this,Fs,P_).call(this,a,e);break;case Ye.CANCEL:if(!c)break;const u=mi(t.reason);Promise.try(c.onCancel||PT,u).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Ye.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:Ye.CANCEL_COMPLETE,streamId:e,reason:mi(d)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},P_=async function(t,e){var i,s,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Og;class dN{constructor({enableHWA:t=!1}){P(this,Og,!1);b(this,Og,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!l(this,Og)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ae("Abstract method `_createCanvas` called.")}}Og=new WeakMap;class S6 extends dN{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class fN{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class TT extends fN{async _fetch(t){const e=await mp(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Jv(e)}}class pN{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,r){return"none"}destroy(t=!1){}}var au,Wd,Yo,Ko,Un,lu,cu,ht,Fn,sm,Nh,T_,Ih,mN,j1,Dh,rm,om,z1,am;class A6 extends pN{constructor({docId:e,ownerDocument:i=globalThis.document}){super();P(this,ht);P(this,au);P(this,Wd);P(this,Yo);P(this,Ko);P(this,Un);P(this,lu);P(this,cu,0);b(this,Ko,e),b(this,Un,i)}addFilter(e){if(!e)return"none";let i=l(this,ht,Fn).get(e);if(i)return i;const[s,r,a]=k(this,ht,T_).call(this,e),c=e.length===1?s:`${s}${r}${a}`;if(i=l(this,ht,Fn).get(c),i)return l(this,ht,Fn).set(e,i),i;const u=`g_${l(this,Ko)}_transfer_map_${Ie(this,cu)._++}`,d=k(this,ht,Ih).call(this,u);l(this,ht,Fn).set(e,d),l(this,ht,Fn).set(c,d);const f=k(this,ht,Dh).call(this,u);return k(this,ht,om).call(this,s,r,a,f),d}addHCMFilter(e,i){var x;const s=`${e}-${i}`,r="base";let a=l(this,ht,sm).get(r);if((a==null?void 0:a.key)===s||(a?((x=a.filter)==null||x.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},l(this,ht,sm).set(r,a)),!e||!i))return a.url;const c=k(this,ht,am).call(this,e);e=pt.makeHexColor(...c);const u=k(this,ht,am).call(this,i);if(i=pt.makeHexColor(...u),l(this,ht,Nh).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return a.url;const d=new Array(256);for(let _=0;_<=255;_++){const A=_/255;d[_]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=d.join(","),p=`g_${l(this,Ko)}_hcm_filter`,g=a.filter=k(this,ht,Dh).call(this,p);k(this,ht,om).call(this,f,f,f,g),k(this,ht,j1).call(this,g);const v=(_,A)=>{const w=c[_]/255,S=u[_]/255,E=new Array(A+1);for(let M=0;M<=A;M++)E[M]=w+M/A*(S-w);return E.join(",")};return k(this,ht,om).call(this,v(0,5),v(1,5),v(2,5),g),a.url=k(this,ht,Ih).call(this,p),a.url}addAlphaFilter(e){let i=l(this,ht,Fn).get(e);if(i)return i;const[s]=k(this,ht,T_).call(this,[e]),r=`alpha_${s}`;if(i=l(this,ht,Fn).get(r),i)return l(this,ht,Fn).set(e,i),i;const a=`g_${l(this,Ko)}_alpha_map_${Ie(this,cu)._++}`,c=k(this,ht,Ih).call(this,a);l(this,ht,Fn).set(e,c),l(this,ht,Fn).set(r,c);const u=k(this,ht,Dh).call(this,a);return k(this,ht,z1).call(this,s,u),c}addLuminosityFilter(e){let i=l(this,ht,Fn).get(e||"luminosity");if(i)return i;let s,r;if(e?([s]=k(this,ht,T_).call(this,[e]),r=`luminosity_${s}`):r="luminosity",i=l(this,ht,Fn).get(r),i)return l(this,ht,Fn).set(e,i),i;const a=`g_${l(this,Ko)}_luminosity_map_${Ie(this,cu)._++}`,c=k(this,ht,Ih).call(this,a);l(this,ht,Fn).set(e,c),l(this,ht,Fn).set(r,c);const u=k(this,ht,Dh).call(this,a);return k(this,ht,mN).call(this,u),e&&k(this,ht,z1).call(this,s,u),c}addHighlightHCMFilter(e,i,s,r,a){var S;const c=`${i}-${s}-${r}-${a}`;let u=l(this,ht,sm).get(e);if((u==null?void 0:u.key)===c||(u?((S=u.filter)==null||S.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},l(this,ht,sm).set(e,u)),!i||!s))return u.url;const[d,f]=[i,s].map(k(this,ht,am).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,x]=[r,a].map(k(this,ht,am).bind(this));g<p&&([p,g,v,x]=[g,p,x,v]),l(this,ht,Nh).style.color="";const _=(E,M,N)=>{const D=new Array(256),O=(g-p)/N,B=E/255,z=(M-E)/(255*N);let H=0;for(let W=0;W<=N;W++){const V=Math.round(p+W*O),J=B+W*z;for(let U=H;U<=V;U++)D[U]=J;H=V+1}for(let W=H;W<256;W++)D[W]=D[H-1];return D.join(",")},A=`g_${l(this,Ko)}_hcm_${e}_filter`,w=u.filter=k(this,ht,Dh).call(this,A);return k(this,ht,j1).call(this,w),k(this,ht,om).call(this,_(v[0],x[0],5),_(v[1],x[1],5),_(v[2],x[2],5),w),u.url=k(this,ht,Ih).call(this,A),u.url}destroy(e=!1){var i,s,r,a;e&&((i=l(this,lu))!=null&&i.size)||((s=l(this,Yo))==null||s.parentNode.parentNode.remove(),b(this,Yo,null),(r=l(this,Wd))==null||r.clear(),b(this,Wd,null),(a=l(this,lu))==null||a.clear(),b(this,lu,null),b(this,cu,0))}}au=new WeakMap,Wd=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,Un=new WeakMap,lu=new WeakMap,cu=new WeakMap,ht=new WeakSet,Fn=function(){return l(this,Wd)||b(this,Wd,new Map)},sm=function(){return l(this,lu)||b(this,lu,new Map)},Nh=function(){if(!l(this,Yo)){const e=l(this,Un).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=l(this,Un).createElementNS(ko,"svg");s.setAttribute("width",0),s.setAttribute("height",0),b(this,Yo,l(this,Un).createElementNS(ko,"defs")),e.append(s),s.append(l(this,Yo)),l(this,Un).body.append(e)}return l(this,Yo)},T_=function(e){if(e.length===1){const d=e[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=d[g]/255;const p=f.join(",");return[p,p,p]}const[i,s,r]=e,a=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)a[d]=i[d]/255,c[d]=s[d]/255,u[d]=r[d]/255;return[a.join(","),c.join(","),u.join(",")]},Ih=function(e){if(l(this,au)===void 0){b(this,au,"");const i=l(this,Un).URL;i!==l(this,Un).baseURI&&(ey(i)?St('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,au,cE(i,"")))}return`url(${l(this,au)}#${e})`},mN=function(e){const i=l(this,Un).createElementNS(ko,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},j1=function(e){const i=l(this,Un).createElementNS(ko,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Dh=function(e){const i=l(this,Un).createElementNS(ko,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),l(this,ht,Nh).append(i),i},rm=function(e,i,s){const r=l(this,Un).createElementNS(ko,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},om=function(e,i,s,r){const a=l(this,Un).createElementNS(ko,"feComponentTransfer");r.append(a),k(this,ht,rm).call(this,a,"feFuncR",e),k(this,ht,rm).call(this,a,"feFuncG",i),k(this,ht,rm).call(this,a,"feFuncB",s)},z1=function(e,i){const s=l(this,Un).createElementNS(ko,"feComponentTransfer");i.append(s),k(this,ht,rm).call(this,s,"feFuncA",e)},am=function(e){return l(this,ht,Nh).style.color=e,gp(getComputedStyle(l(this,ht,Nh)).getPropertyValue("color"))};class gN{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class kT extends gN{async _fetch(t){const e=await mp(t,"arraybuffer");return new Uint8Array(e)}}class vN{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class LT extends vN{async _fetch(t){const e=await mp(t,"arraybuffer");return new Uint8Array(e)}}si&&St("Please use the `legacy` build in Node.js environments.");async function mE(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class E6 extends pN{}class C6 extends dN{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class P6 extends fN{async _fetch(t){return mE(t)}}class T6 extends gN{async _fetch(t){return mE(t)}}class k6 extends vN{async _fetch(t){return mE(t)}}const Lh="__forcedDependency",{floor:MT,ceil:RT}=Math;function t_(n,t,e,i,s,r){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],s),n[t*4+3]=Math.max(n[t*4+3],r)}const U1=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Vd,gl;class L6{constructor(t,e){P(this,Vd);P(this,gl);b(this,Vd,t),b(this,gl,e)}get length(){return l(this,Vd).length}isEmpty(t){return l(this,Vd)[t]===U1}minX(t){return l(this,gl)[t*4+0]/256}minY(t){return l(this,gl)[t*4+1]/256}maxX(t){return(l(this,gl)[t*4+2]+1)/256}maxY(t){return(l(this,gl)[t*4+3]+1)/256}}Vd=new WeakMap,gl=new WeakMap;const e_=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};var yi,_i,uu,er,hu,Qo,Xt,Jt,Jo,wi,Fg,Gd,du,fu,ta,Hn,Kr,Bg,H1;class M6{constructor(t,e,i=!1){P(this,Bg);P(this,yi,{__proto__:null});P(this,_i,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Lh]:[]});P(this,uu,new Map);P(this,er,[]);P(this,hu,[]);P(this,Qo,[[1,0,0,1,0,0]]);P(this,Xt,[-1/0,-1/0,1/0,1/0]);P(this,Jt,new Float64Array([1/0,1/0,-1/0,-1/0]));P(this,Jo,-1);P(this,wi,new Set);P(this,Fg,new Map);P(this,Gd,new Map);P(this,du);P(this,fu);P(this,ta);P(this,Hn);P(this,Kr);b(this,du,t.width),b(this,fu,t.height),k(this,Bg,H1).call(this,e),i&&b(this,Kr,new Map)}growOperationsCount(t){t>=l(this,Hn).length&&k(this,Bg,H1).call(this,t,l(this,Hn))}save(t){return b(this,yi,{__proto__:l(this,yi)}),b(this,_i,{__proto__:l(this,_i),transform:{__proto__:l(this,_i).transform},moveText:{__proto__:l(this,_i).moveText},sameLineText:{__proto__:l(this,_i).sameLineText},[Lh]:{__proto__:l(this,_i)[Lh]}}),b(this,Xt,{__proto__:l(this,Xt)}),l(this,er).push(t),this}restore(t){var s;const e=Object.getPrototypeOf(l(this,yi));if(e===null)return this;b(this,yi,e),b(this,_i,Object.getPrototypeOf(l(this,_i))),b(this,Xt,Object.getPrototypeOf(l(this,Xt)));const i=l(this,er).pop();return i!==void 0&&((s=e_(l(this,Kr),t))==null||s.dependencies.add(i),l(this,Hn)[t]=l(this,Hn)[i]),this}recordOpenMarker(t){return l(this,er).push(t),this}getOpenMarker(){return l(this,er).length===0?null:l(this,er).at(-1)}recordCloseMarker(t){var i;const e=l(this,er).pop();return e!==void 0&&((i=e_(l(this,Kr),t))==null||i.dependencies.add(e),l(this,Hn)[t]=l(this,Hn)[e]),this}beginMarkedContent(t){return l(this,hu).push(t),this}endMarkedContent(t){var i;const e=l(this,hu).pop();return e!==void 0&&((i=e_(l(this,Kr),t))==null||i.dependencies.add(e),l(this,Hn)[t]=l(this,Hn)[e]),this}pushBaseTransform(t){return l(this,Qo).push(pt.multiplyByDOMMatrix(l(this,Qo).at(-1),t.getTransform())),this}popBaseTransform(){return l(this,Qo).length>1&&l(this,Qo).pop(),this}recordSimpleData(t,e){return l(this,yi)[t]=e,this}recordIncrementalData(t,e){return l(this,_i)[t].push(e),this}resetIncrementalData(t,e){return l(this,_i)[t].length=0,this}recordNamedData(t,e){return l(this,uu).set(t,e),this}recordSimpleDataFromNamed(t,e,i){l(this,yi)[t]=l(this,uu).get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Lh,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in l(this,yi)&&this.recordFutureForcedDependency(e,l(this,yi)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of l(this,wi))this.recordFutureForcedDependency(Lh,t);return this}resetBBox(t){return l(this,Jo)!==t&&(b(this,Jo,t),l(this,Jt)[0]=1/0,l(this,Jt)[1]=1/0,l(this,Jt)[2]=-1/0,l(this,Jt)[3]=-1/0),this}recordClipBox(t,e,i,s,r,a){const c=pt.multiplyByDOMMatrix(l(this,Qo).at(-1),e.getTransform()),u=[1/0,1/0,-1/0,-1/0];pt.axialAlignedBoundingBox([i,r,s,a],c,u);const d=pt.intersect(l(this,Xt),u);return d?(l(this,Xt)[0]=d[0],l(this,Xt)[1]=d[1],l(this,Xt)[2]=d[2],l(this,Xt)[3]=d[3]):(l(this,Xt)[0]=l(this,Xt)[1]=1/0,l(this,Xt)[2]=l(this,Xt)[3]=-1/0),this}recordBBox(t,e,i,s,r,a){const c=l(this,Xt);if(c[0]===1/0)return this;const u=pt.multiplyByDOMMatrix(l(this,Qo).at(-1),e.getTransform());if(c[0]===-1/0)return pt.axialAlignedBoundingBox([i,r,s,a],u,l(this,Jt)),this;const d=[1/0,1/0,-1/0,-1/0];return pt.axialAlignedBoundingBox([i,r,s,a],u,d),l(this,Jt)[0]=Math.min(l(this,Jt)[0],Math.max(d[0],c[0])),l(this,Jt)[1]=Math.min(l(this,Jt)[1],Math.max(d[1],c[1])),l(this,Jt)[2]=Math.max(l(this,Jt)[2],Math.min(d[2],c[2])),l(this,Jt)[3]=Math.max(l(this,Jt)[3],Math.min(d[3],c[3])),this}recordCharacterBBox(t,e,i,s=1,r=0,a=0,c){const u=i.bbox;let d,f;if(u&&(d=u[2]!==u[0]&&u[3]!==u[1]&&l(this,Gd).get(i),d!==!1&&(f=[0,0,0,0],pt.axialAlignedBoundingBox(u,i.fontMatrix,f),(s!==1||r!==0||a!==0)&&pt.scaleMinMax([s,0,0,-s,r,a],f),d)))return this.recordBBox(t,e,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(t);const p=c();return u&&f&&d===void 0&&(d=f[0]<=r-p.actualBoundingBoxLeft&&f[2]>=r+p.actualBoundingBoxRight&&f[1]<=a-p.actualBoundingBoxAscent&&f[3]>=a+p.actualBoundingBoxDescent,l(this,Gd).set(i,d),d)?this.recordBBox(t,e,f[0],f[2],f[1],f[3]):this.recordBBox(t,e,r-p.actualBoundingBoxLeft,r+p.actualBoundingBoxRight,a-p.actualBoundingBoxAscent,a+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return l(this,Jt)[0]=Math.max(0,l(this,Xt)[0]),l(this,Jt)[1]=Math.max(0,l(this,Xt)[1]),l(this,Jt)[2]=Math.min(l(this,du),l(this,Xt)[2]),l(this,Jt)[3]=Math.min(l(this,fu),l(this,Xt)[3]),this}getSimpleIndex(t){return l(this,yi)[t]}recordDependencies(t,e){const i=l(this,wi),s=l(this,yi),r=l(this,_i);for(const a of e)a in l(this,yi)?i.add(s[a]):a in r&&r[a].forEach(i.add,i);return this}recordNamedDependency(t,e){return l(this,uu).has(e)&&l(this,wi).add(l(this,uu).get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Lh]),l(this,Kr)){const i=e_(l(this,Kr),t),{dependencies:s}=i;l(this,wi).forEach(s.add,s),l(this,er).forEach(s.add,s),l(this,hu).forEach(s.add,s),s.delete(t),i.isRenderingOperation=!0}if(l(this,Jo)===t){const i=MT(l(this,Jt)[0]*256/l(this,du)),s=MT(l(this,Jt)[1]*256/l(this,fu)),r=RT(l(this,Jt)[2]*256/l(this,du)),a=RT(l(this,Jt)[3]*256/l(this,fu));t_(l(this,ta),t,i,s,r,a);for(const c of l(this,wi))c!==t&&t_(l(this,ta),c,i,s,r,a);for(const c of l(this,er))c!==t&&t_(l(this,ta),c,i,s,r,a);for(const c of l(this,hu))c!==t&&t_(l(this,ta),c,i,s,r,a);e||(l(this,wi).clear(),b(this,Jo,-1))}return this}recordShowTextOperation(t,e=!1){const i=Array.from(l(this,wi));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of i)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return l(this,Jo)===t&&(b(this,Jo,-1),l(this,Xt)[0]=Math.max(l(this,Xt)[0],l(this,Jt)[0]),l(this,Xt)[1]=Math.max(l(this,Xt)[1],l(this,Jt)[1]),l(this,Xt)[2]=Math.min(l(this,Xt)[2],l(this,Jt)[2]),l(this,Xt)[3]=Math.min(l(this,Xt)[3],l(this,Jt)[3]),e||l(this,wi).clear()),this}_takePendingDependencies(){const t=l(this,wi);return b(this,wi,new Set),t}_extractOperation(t){const e=l(this,Fg).get(t);return l(this,Fg).delete(t),e}_pushPendingDependencies(t){for(const e of t)l(this,wi).add(e)}take(){return l(this,Gd).clear(),new L6(l(this,Hn),l(this,ta))}takeDebugMetadata(){return l(this,Kr)}}yi=new WeakMap,_i=new WeakMap,uu=new WeakMap,er=new WeakMap,hu=new WeakMap,Qo=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,Jo=new WeakMap,wi=new WeakMap,Fg=new WeakMap,Gd=new WeakMap,du=new WeakMap,fu=new WeakMap,ta=new WeakMap,Hn=new WeakMap,Kr=new WeakMap,Bg=new WeakSet,H1=function(t,e){const i=new ArrayBuffer(t*4);b(this,ta,new Uint8ClampedArray(i)),b(this,Hn,new Uint32Array(i)),e&&e.length>0?(l(this,Hn).set(e),l(this,Hn).fill(U1,e.length)):l(this,Hn).fill(U1)};var se,Fe,nr,qd,Zd;const CE=class CE{constructor(t,e,i){P(this,se);P(this,Fe);P(this,nr);P(this,qd,0);P(this,Zd,0);if(t instanceof CE&&l(t,nr)===!!i)return t;b(this,se,t),b(this,Fe,e),b(this,nr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(t){return Ie(this,Zd)._++,l(this,se).save(l(this,Fe)),this}restore(t){return l(this,Zd)>0&&(l(this,se).restore(l(this,Fe)),Ie(this,Zd)._--),this}recordOpenMarker(t){return Ie(this,qd)._++,this}getOpenMarker(){return l(this,qd)>0?l(this,Fe):l(this,se).getOpenMarker()}recordCloseMarker(t){return Ie(this,qd)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return l(this,se).pushBaseTransform(t),this}popBaseTransform(){return l(this,se).popBaseTransform(),this}recordSimpleData(t,e){return l(this,se).recordSimpleData(t,l(this,Fe)),this}recordIncrementalData(t,e){return l(this,se).recordIncrementalData(t,l(this,Fe)),this}resetIncrementalData(t,e){return l(this,se).resetIncrementalData(t,l(this,Fe)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return l(this,se).recordSimpleDataFromNamed(t,e,l(this,Fe)),this}recordFutureForcedDependency(t,e){return l(this,se).recordFutureForcedDependency(t,l(this,Fe)),this}inheritSimpleDataAsFutureForcedDependencies(t){return l(this,se).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,se).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return l(this,nr)||l(this,se).resetBBox(l(this,Fe)),this}recordClipBox(t,e,i,s,r,a){return l(this,nr)||l(this,se).recordClipBox(l(this,Fe),e,i,s,r,a),this}recordBBox(t,e,i,s,r,a){return l(this,nr)||l(this,se).recordBBox(l(this,Fe),e,i,s,r,a),this}recordCharacterBBox(t,e,i,s,r,a,c){return l(this,nr)||l(this,se).recordCharacterBBox(l(this,Fe),e,i,s,r,a,c),this}recordFullPageBBox(t){return l(this,nr)||l(this,se).recordFullPageBBox(l(this,Fe)),this}getSimpleIndex(t){return l(this,se).getSimpleIndex(t)}recordDependencies(t,e){return l(this,se).recordDependencies(l(this,Fe),e),this}recordNamedDependency(t,e){return l(this,se).recordNamedDependency(l(this,Fe),e),this}recordOperation(t){return l(this,se).recordOperation(l(this,Fe),!0),this}recordShowTextOperation(t){return l(this,se).recordShowTextOperation(l(this,Fe),!0),this}bboxToClipBoxDropOperation(t){return l(this,nr)||l(this,se).bboxToClipBoxDropOperation(l(this,Fe),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};se=new WeakMap,Fe=new WeakMap,nr=new WeakMap,qd=new WeakMap,Zd=new WeakMap;let I0=CE;const vs={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},kn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $1(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class gE{isModifyingCurrentTransform(){return!1}getPattern(){ae("Abstract method `getPattern` called.")}}class R6 extends gE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let r;if(s===kn.STROKE||s===kn.FILL){const a=e.current.getClippedPathBoundingBox(s,Ce(t))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-a[0],-a[1]),i=pt.transform(i,[1,0,0,1,a[0],a[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),$1(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(i);r.setTransform(p)}else $1(t,this._bbox),r=this._createGradient(t);return r}}function ix(n,t,e,i,s,r,a,c){const u=t.coords,d=t.colors,f=n.data,p=n.width*4;let g;u[e+1]>u[i+1]&&(g=e,e=i,i=g,g=r,r=a,a=g),u[i+1]>u[s+1]&&(g=i,i=s,s=g,g=a,a=c,c=g),u[e+1]>u[i+1]&&(g=e,e=i,i=g,g=r,r=a,a=g);const v=(u[e]+t.offsetX)*t.scaleX,x=(u[e+1]+t.offsetY)*t.scaleY,_=(u[i]+t.offsetX)*t.scaleX,A=(u[i+1]+t.offsetY)*t.scaleY,w=(u[s]+t.offsetX)*t.scaleX,S=(u[s+1]+t.offsetY)*t.scaleY;if(x>=S)return;const E=d[r],M=d[r+1],N=d[r+2],D=d[a],O=d[a+1],B=d[a+2],z=d[c],H=d[c+1],W=d[c+2],V=Math.round(x),J=Math.round(S);let U,et,q,Y,j,Z,X,rt;for(let Q=V;Q<=J;Q++){if(Q<A){const ct=Q<x?0:(x-Q)/(x-A);U=v-(v-_)*ct,et=E-(E-D)*ct,q=M-(M-O)*ct,Y=N-(N-B)*ct}else{let ct;Q>S?ct=1:A===S?ct=0:ct=(A-Q)/(A-S),U=_-(_-w)*ct,et=D-(D-z)*ct,q=O-(O-H)*ct,Y=B-(B-W)*ct}let it;Q<x?it=0:Q>S?it=1:it=(x-Q)/(x-S),j=v-(v-w)*it,Z=E-(E-z)*it,X=M-(M-H)*it,rt=N-(N-W)*it;const at=Math.round(Math.min(U,j)),ut=Math.round(Math.max(U,j));let dt=p*Q+at*4;for(let ct=at;ct<=ut;ct++)it=(U-ct)/(U-j),it<0?it=0:it>1&&(it=1),f[dt++]=et-(et-Z)*it|0,f[dt++]=q-(q-X)*it|0,f[dt++]=Y-(Y-rt)*it|0,f[dt++]=255}}function N6(n,t,e){const i=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(i.length/c)-1,d=c-1;for(r=0;r<u;r++){let f=r*c;for(let p=0;p<d;p++,f++)ix(n,e,i[f],i[f+1],i[f+c],s[f],s[f+1],s[f+c]),ix(n,e,i[f+c+1],i[f+1],i[f+c],s[f+c+1],s[f+1],s[f+c])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)ix(n,e,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class I6 extends gE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),v=d/p,x=f/g,_={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/v,scaleY:1/x},A=p+2*2,w=g+2*2,S=i.getCanvas("mesh",A,w),E=S.context,M=E.createImageData(p,g);if(e){const D=M.data;for(let O=0,B=D.length;O<B;O+=4)D[O]=e[0],D[O+1]=e[1],D[O+2]=e[2],D[O+3]=255}for(const D of this._figures)N6(M,D,_);return E.putImageData(M,2,2),{canvas:S.canvas,offsetX:c-2*v,offsetY:u-2*x,scaleX:v,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){$1(t,this._bbox);const r=new Float32Array(2);if(s===kn.SHADING)pt.singularValueDecompose2dScale(Ce(t),r);else if(this.matrix){pt.singularValueDecompose2dScale(this.matrix,r);const[c,u]=r;pt.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=c,r[1]*=u}else pt.singularValueDecompose2dScale(e.baseTransform,r);const a=this._createMeshCanvas(r,s===kn.SHADING?null:this._background,e.cachedCanvases);return s!==kn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class D6 extends gE{getPattern(){return"hotpink"}}function O6(n){switch(n[0]){case"RadialAxial":return new R6(n);case"Mesh":return new I6(n);case"Dummy":return new D6}throw new Error(`Unknown IR type: ${n[0]}`)}const NT={COLORED:1,UNCOLORED:2},K0=class K0{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t,e){var Z,X;const{bbox:i,operatorList:s,paintType:r,tilingType:a,color:c,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),Ow("TilingType: "+a);const p=i[0],g=i[1],v=i[2],x=i[3],_=v-p,A=x-g,w=new Float32Array(2);pt.singularValueDecompose2dScale(this.matrix,w);const[S,E]=w;pt.singularValueDecompose2dScale(this.baseTransform,w);const M=S*w[0],N=E*w[1];let D=_,O=A,B=!1,z=!1;const H=Math.ceil(d*M),W=Math.ceil(f*N),V=Math.ceil(_*M),J=Math.ceil(A*N);H>=V?D=d:B=!0,W>=J?O=f:z=!0;const U=this.getSizeAndScale(D,this.ctx.canvas.width,M),et=this.getSizeAndScale(O,this.ctx.canvas.height,N),q=t.cachedCanvases.getCanvas("pattern",U.size,et.size),Y=q.context,j=u.createCanvasGraphics(Y,e);if(j.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(j,r,c),Y.translate(-U.scale*p,-et.scale*g),j.transform(0,U.scale,0,0,et.scale,0,0),Y.save(),(Z=j.dependencyTracker)==null||Z.save(),this.clipBbox(j,p,g,v,x),j.baseTransform=Ce(j.ctx),j.executeOperatorList(s),j.endDrawing(),(X=j.dependencyTracker)==null||X.restore(),Y.restore(),B||z){const rt=q.canvas;B&&(D=d),z&&(O=f);const Q=this.getSizeAndScale(D,this.ctx.canvas.width,M),it=this.getSizeAndScale(O,this.ctx.canvas.height,N),at=Q.size,ut=it.size,dt=t.cachedCanvases.getCanvas("pattern-workaround",at,ut),ct=dt.context,pe=B?Math.floor(_/d):0,He=z?Math.floor(A/f):0;for(let me=0;me<=pe;me++)for(let Et=0;Et<=He;Et++)ct.drawImage(rt,at*me,ut*Et,at,ut,0,0,at,ut);return{canvas:dt.canvas,scaleX:Q.scale,scaleY:it.scale,offsetX:p,offsetY:g}}return{canvas:q.canvas,scaleX:U.scale,scaleY:et.scale,offsetX:p,offsetY:g}}getSizeAndScale(t,e,i){const s=Math.max(K0.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=s?r=s:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,s,r){const a=s-e,c=r-i;t.ctx.rect(e,i,a,c),pt.axialAlignedBoundingBox([e,i,s,r],Ce(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,r=t.current;switch(e){case NT.COLORED:const{fillStyle:a,strokeStyle:c}=this.ctx;s.fillStyle=r.fillColor=a,s.strokeStyle=r.strokeColor=c;break;case NT.UNCOLORED:s.fillStyle=s.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new i6(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s,r){let a=i;s!==kn.SHADING&&(a=pt.transform(a,e.baseTransform),this.matrix&&(a=pt.transform(a,this.matrix)));const c=this.createPatternCanvas(e,r);let u=new DOMMatrix(a);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(u),d}};tt(K0,"MAX_PATTERN_SIZE",3e3);let W1=K0;function F6({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const c=wn.isLittleEndian?4278190080:255,[u,d]=a?[r,c]:[c,r],f=i>>3,p=i&7,g=n.length;e=new Uint32Array(e.buffer);let v=0;for(let x=0;x<s;x++){for(const A=t+f;t<A;t++){const w=t<g?n[t]:255;e[v++]=w&128?d:u,e[v++]=w&64?d:u,e[v++]=w&32?d:u,e[v++]=w&16?d:u,e[v++]=w&8?d:u,e[v++]=w&4?d:u,e[v++]=w&2?d:u,e[v++]=w&1?d:u}if(p===0)continue;const _=t<g?n[t++]:255;for(let A=0;A<p;A++)e[v++]=_&1<<7-A?d:u}return{srcPos:t,destPos:v}}const IT=16,DT=100,B6=15,OT=10,Ei=16,sx=new DOMMatrix,ts=new Float32Array(2),Qh=new Float32Array([1/0,1/0,-1/0,-1/0]);function j6(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,r,a,c){t.transform(e,i,s,r,a,c),this.__originalTransform(e,i,s,r,a,c)},n.setTransform=function(e,i,s,r,a,c){t.setTransform(e,i,s,r,a,c),this.__originalSetTransform(e,i,s,r,a,c)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,r,a,c){t.bezierCurveTo(e,i,s,r,a,c),this.__originalBezierCurveTo(e,i,s,r,a,c)},n.rect=function(e,i,s,r){t.rect(e,i,s,r),this.__originalRect(e,i,s,r)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class z6{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function n_(n,t,e,i,s,r,a,c,u,d){const[f,p,g,v,x,_]=Ce(n);if(p===0&&g===0){const S=a*f+x,E=Math.round(S),M=c*v+_,N=Math.round(M),D=(a+u)*f+x,O=Math.abs(Math.round(D)-E)||1,B=(c+d)*v+_,z=Math.abs(Math.round(B)-N)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(v),E,N),n.drawImage(t,e,i,s,r,0,0,O,z),n.setTransform(f,p,g,v,x,_),[O,z]}if(f===0&&v===0){const S=c*g+x,E=Math.round(S),M=a*p+_,N=Math.round(M),D=(c+d)*g+x,O=Math.abs(Math.round(D)-E)||1,B=(a+u)*p+_,z=Math.abs(Math.round(B)-N)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,E,N),n.drawImage(t,e,i,s,r,0,0,z,O),n.setTransform(f,p,g,v,x,_),[z,O]}n.drawImage(t,e,i,s,r,a,c,u,d);const A=Math.hypot(f,p),w=Math.hypot(g,v);return[A*u,w*d]}class FT{constructor(t,e,i){tt(this,"alphaIsShape",!1);tt(this,"fontSize",0);tt(this,"fontSizeScale",1);tt(this,"textMatrix",null);tt(this,"textMatrixScale",1);tt(this,"fontMatrix",g1);tt(this,"leading",0);tt(this,"x",0);tt(this,"y",0);tt(this,"lineX",0);tt(this,"lineY",0);tt(this,"charSpacing",0);tt(this,"wordSpacing",0);tt(this,"textHScale",1);tt(this,"textRenderingMode",xn.FILL);tt(this,"textRise",0);tt(this,"fillColor","#000000");tt(this,"strokeColor","#000000");tt(this,"patternFill",!1);tt(this,"patternStroke",!1);tt(this,"fillAlpha",1);tt(this,"strokeAlpha",1);tt(this,"lineWidth",1);tt(this,"activeSMask",null);tt(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Qh.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=kn.FILL,e=null){const i=this.minMax.slice();if(t===kn.STROKE){e||ae("Stroke bounding box must include transform."),pt.singularValueDecompose2dScale(e,ts);const s=ts[0]*this.lineWidth/2,r=ts[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const t=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Qh,0)}getClippedPathBoundingBox(t=kn.FILL,e=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function BT(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%Ei,r=(e-s)/Ei,a=s===0?r:r+1,c=n.createImageData(i,Ei);let u=0,d;const f=t.data,p=c.data;let g,v,x,_;if(t.kind===Tm.GRAYSCALE_1BPP){const A=f.byteLength,w=new Uint32Array(p.buffer,0,p.byteLength>>2),S=w.length,E=i+7>>3,M=4294967295,N=wn.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(x=g<r?Ei:s,d=0,v=0;v<x;v++){const D=A-u;let O=0;const B=D>E?i:D*8-7,z=B&-8;let H=0,W=0;for(;O<z;O+=8)W=f[u++],w[d++]=W&128?M:N,w[d++]=W&64?M:N,w[d++]=W&32?M:N,w[d++]=W&16?M:N,w[d++]=W&8?M:N,w[d++]=W&4?M:N,w[d++]=W&2?M:N,w[d++]=W&1?M:N;for(;O<B;O++)H===0&&(W=f[u++],H=128),w[d++]=W&H?M:N,H>>=1}for(;d<S;)w[d++]=0;n.putImageData(c,0,g*Ei)}}else if(t.kind===Tm.RGBA_32BPP){for(v=0,_=i*Ei*4,g=0;g<r;g++)p.set(f.subarray(u,u+_)),u+=_,n.putImageData(c,0,v),v+=Ei;g<a&&(_=i*s*4,p.set(f.subarray(u,u+_)),n.putImageData(c,0,v))}else if(t.kind===Tm.RGB_24BPP)for(x=Ei,_=i*x,g=0;g<a;g++){for(g>=r&&(x=s,_=i*x),d=0,v=_;v--;)p[d++]=f[u++],p[d++]=f[u++],p[d++]=f[u++],p[d++]=255;n.putImageData(c,0,g*Ei)}else throw new Error(`bad image kind: ${t.kind}`)}function jT(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%Ei,r=(e-s)/Ei,a=s===0?r:r+1,c=n.createImageData(i,Ei);let u=0;const d=t.data,f=c.data;for(let p=0;p<a;p++){const g=p<r?Ei:s;({srcPos:u}=F6({src:d,srcPos:u,dest:f,width:i,height:g,nonBlackColor:0})),n.putImageData(c,0,p*Ei)}}function $p(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function i_(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function zT(n,t){if(t)return!0;pt.singularValueDecompose2dScale(n,ts);const e=Math.fround(wr.pixelRatio*La.PDF_TO_CSS_UNITS);return ts[0]<=e&&ts[1]<=e}const U6=["butt","round","square"],H6=["miter","round","bevel"],$6={},UT={};var br,V1,G1,q1;const PE=class PE{constructor(t,e,i,s,r,{optionalContentConfig:a,markedContentStack:c=null},u,d,f){P(this,br);this.ctx=t,this.current=new FT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=a,this.cachedCanvases=new z6(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(t,e,i=null){var s;return typeof e=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=c,i){const u=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Ce(this.compositeCtx))}this.ctx.save(),i_(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ce(this.ctx)}executeOperatorList(t,e,i,s,r){var w;const a=t.argsArray,c=t.fnArray;let u=e||0;const d=a.length;if(d===u)return u;const f=d-u>OT&&typeof i=="function",p=f?Date.now()+B6:0;let g=0;const v=this.commonObjs,x=this.objs;let _,A;for(;;){if(s!==void 0&&u===s.nextBreakPoint)return s.breakIt(u,i),u;if(!r||r(u))if(_=c[u],A=a[u]??null,_!==sp.dependency)A===null?this[_](u):this[_](u,...A);else for(const S of A){(w=this.dependencyTracker)==null||w.recordNamedData(S,u);const E=S.startsWith("g_")?v:x;if(!E.has(S))return E.get(S,i),u}if(u++,u===d)return u;if(f&&++g>OT){if(Date.now()>p)return i(),u;g=0}}}endDrawing(){k(this,br,V1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),k(this,br,G1).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),c=i,u=s,d="prescale1",f,p;for(;r>2&&c>1||a>2&&u>1;){let g=c,v=u;r>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),r/=c/g),a>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/v),f=this.cachedCanvases.getCanvas(d,g,v),p=f.context,p.clearRect(0,0,g,v),p.drawImage(t,0,0,c,u,0,0,g,v),t=f.canvas,c=g,u=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t,e){var H,W;const i=this.ctx,{width:s,height:r}=e,a=this.current.fillColor,c=this.current.patternFill,u=Ce(i);let d,f,p,g;if((e.bitmap||e.data)&&e.count>1){const V=e.bitmap||e.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),a]),d=this._cachedBitmapsMap.get(V),d||(d=new Map,this._cachedBitmapsMap.set(V,d));const J=d.get(f);if(J&&!c){const U=Math.round(Math.min(u[0],u[2])+u[4]),et=Math.round(Math.min(u[1],u[3])+u[5]);return(H=this.dependencyTracker)==null||H.recordDependencies(t,vs.transformAndFill),{canvas:J,offsetX:U,offsetY:et}}p=J}p||(g=this.cachedCanvases.getCanvas("maskCanvas",s,r),jT(g.context,e));let v=pt.transform(u,[1/s,0,0,-1/r,0,0]);v=pt.transform(v,[1,0,0,1,0,-r]);const x=Qh.slice();pt.axialAlignedBoundingBox([0,0,s,r],v,x);const[_,A,w,S]=x,E=Math.round(w-_)||1,M=Math.round(S-A)||1,N=this.cachedCanvases.getCanvas("fillCanvas",E,M),D=N.context,O=_,B=A;D.translate(-O,-B),D.transform(...v),p||(p=this._scaleImage(g.canvas,Ir(D)),p=p.img,d&&c&&d.set(f,p)),D.imageSmoothingEnabled=zT(Ce(D),e.interpolate),n_(D,p,0,0,p.width,p.height,0,0,s,r),D.globalCompositeOperation="source-in";const z=pt.transform(Ir(D),[1,0,0,1,-O,-B]);return D.fillStyle=c?a.getPattern(i,this,z,kn.FILL,t):a,D.fillRect(0,0,s,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,N.canvas)),(W=this.dependencyTracker)==null||W.recordDependencies(t,vs.transformAndFill),{canvas:N.canvas,offsetX:Math.round(O),offsetY:Math.round(B)}}setLineWidth(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",t),this.ctx.lineCap=U6[e]}setLineJoin(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",t),this.ctx.lineJoin=H6[e]}setMiterLimit(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var i,s,r,a,c;for(const[u,d]of e)switch(u){case"LW":this.setLineWidth(t,d);break;case"LC":this.setLineCap(t,d);break;case"LJ":this.setLineJoin(t,d);break;case"ML":this.setMiterLimit(t,d);break;case"D":this.setDash(t,d[0],d[1]);break;case"RI":this.setRenderingIntent(t,d);break;case"FL":this.setFlatness(t,d);break;case"Font":this.setFont(t,d[0],d[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=d;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(r=this.dependencyTracker)==null||r.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=d;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",t),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(c=this.dependencyTracker)==null||c.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,i);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),$p(this.suspendedCtx,a),j6(a,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const r=s[0],a=s[1],c=s[2]-r,u=s[3]-a;c===0||u===0||(this.genericComposeSMask(e.context,i,c,u,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,r,a,c,u,d,f,p){let g=t.canvas,v=u-f,x=d-p;if(a)if(v<0||x<0||v+i>g.width||x+s>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",i,s),w=A.context;w.drawImage(g,-v,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=a,w.fillRect(0,0,i,s),w.globalCompositeOperation="source-over",g=A.canvas,v=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(v,x,i,s),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(v,x,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const _=new Path2D;_.rect(u,d,i,s),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(g,v,x,i,s,u,d,i,s),e.restore()}save(t){var i;this.inSMaskMode&&$p(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(i=this.dependencyTracker)==null||i.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&$p(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,r,a,c){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",t),this.ctx.transform(e,i,s,r,a,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,s){let[r]=i;if(!s){r||(r=i[0]=new Path2D),this[e](t,r);return}if(this.dependencyTracker!==null){const a=e===sp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-a,s[2]+a,s[1]-a,s[3]+a).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const a=i[0]=new Path2D;for(let c=0,u=r.length;c<u;)switch(r[c++]){case Yy.moveTo:a.moveTo(r[c++],r[c++]);break;case Yy.lineTo:a.lineTo(r[c++],r[c++]);break;case Yy.curveTo:a.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case Yy.closePath:a.closePath();break;default:St(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=a}pt.axialAlignedBoundingBox(s,Ce(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){var a;const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const c=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,Ir(s),kn.STROKE,t),c){const u=new Path2D;u.addPath(e,s.getTransform().invertSelf().multiplySelf(c)),e=u}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);(a=this.dependencyTracker)==null||a.recordDependencies(t,vs.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(kn.STROKE,Ce(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){var d,f,p;const s=this.ctx,r=this.current.fillColor,a=this.current.patternFill;let c=!1;if(a){const g=r.isModifyingCurrentTransform()?s.getTransform():null;if((d=this.dependencyTracker)==null||d.save(t),s.save(),s.fillStyle=r.getPattern(s,this,Ir(s),kn.FILL,t),g){const v=new Path2D;v.addPath(e,s.getTransform().invertSelf().multiplySelf(g)),e=v}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),(f=this.dependencyTracker)==null||f.recordDependencies(t,vs.fill),c&&(s.restore(),(p=this.dependencyTracker)==null||p.restore(t)),i&&this.consumePath(t,e,u)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var i;this.ctx.fill(e),(i=this.dependencyTracker)==null||i.recordDependencies(t,vs.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=$6}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=UT}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,r=i.getTransform().invertSelf();for(const{transform:a,x:c,y:u,fontSize:d,path:f}of e)f&&s.addPath(f,new DOMMatrix(a).preMultiplySelf(r).translate(c,u).scale(d,-d));i.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){var p,g;(p=this.dependencyTracker)==null||p.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||g1,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&St("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const a=s.loadedName||"sans-serif",c=((g=s.systemFontInfo)==null?void 0:g.css)||`"${a}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let f=i;i<IT?f=IT:i>DT&&(f=DT),this.current.fontSizeScale=i/f,this.ctx.font=`${d} ${u} ${f}px ${c}`}setTextRenderingMode(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,i,s,r,a){var w,S,E,M;const c=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&xn.FILL_STROKE_MASK,v=!!(f&xn.ADD_TO_PATH_FLAG),x=u.patternFill&&!d.missingFile,_=u.patternStroke&&!d.missingFile;let A;if((d.disableFontFace||v||x||_)&&!d.missingFile&&(A=d.getPathGenerator(this.commonObjs,e)),A&&(d.disableFontFace||x||_)){c.save(),c.translate(i,s),c.scale(p,-p),(w=this.dependencyTracker)==null||w.recordCharacterBBox(t,c,d);let N;if(g===xn.FILL||g===xn.FILL_STROKE)if(r){N=c.getTransform(),c.setTransform(...r);const D=k(this,br,q1).call(this,A,N,r);c.fill(D)}else c.fill(A);if(g===xn.STROKE||g===xn.FILL_STROKE)if(a){N||(N=c.getTransform()),c.setTransform(...a);const{a:D,b:O,c:B,d:z}=N,H=pt.inverseTransform(a),W=pt.transform([D,O,B,z,0,0],H);pt.singularValueDecompose2dScale(W,ts),c.lineWidth*=Math.max(ts[0],ts[1])/p,c.stroke(k(this,br,q1).call(this,A,N,a))}else c.lineWidth/=p,c.stroke(A);c.restore()}else(g===xn.FILL||g===xn.FILL_STROKE)&&(c.fillText(e,i,s),(S=this.dependencyTracker)==null||S.recordCharacterBBox(t,c,d,p,i,s,()=>c.measureText(e))),(g===xn.STROKE||g===xn.FILL_STROKE)&&(this.dependencyTracker&&((E=this.dependencyTracker)==null||E.recordCharacterBBox(t,c,d,p,i,s,()=>c.measureText(e)).recordDependencies(t,vs.stroke)),c.strokeText(e,i,s));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ce(c),x:i,y:s,fontSize:p,path:A}),(M=this.dependencyTracker)==null||M.recordCharacterBBox(t,c,d,p,i,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return kt(this,"isFontSubpixelAAEnabled",i)}showText(t,e){var B,z,H,W;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,vs.showText).resetBBox(t),this.current.textRenderingMode&xn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,s=i.font;if(s.isType3Font){this.showType3Text(t,e),(B=this.dependencyTracker)==null||B.recordShowTextOperation(t);return}const r=i.fontSize;if(r===0){(z=this.dependencyTracker)==null||z.recordOperation(t);return}const a=this.ctx,c=i.fontSizeScale,u=i.charSpacing,d=i.wordSpacing,f=i.fontDirection,p=i.textHScale*f,g=e.length,v=s.vertical,x=v?1:-1,_=s.defaultVMetrics,A=r*i.fontMatrix[0],w=i.textRenderingMode===xn.FILL&&!s.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),f>0?a.scale(p,-1):a.scale(p,1);let S,E;if(i.patternFill){a.save();const V=i.fillColor.getPattern(a,this,Ir(a),kn.FILL,t);S=Ce(a),a.restore(),a.fillStyle=V}if(i.patternStroke){a.save();const V=i.strokeColor.getPattern(a,this,Ir(a),kn.STROKE,t);E=Ce(a),a.restore(),a.strokeStyle=V}let M=i.lineWidth;const N=i.textMatrixScale;if(N===0||M===0){const V=i.textRenderingMode&xn.FILL_STROKE_MASK;(V===xn.STROKE||V===xn.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=N;if(c!==1&&(a.scale(c,c),M/=c),a.lineWidth=M,s.isInvalidPDFjsFont){const V=[];let J=0;for(const et of e)V.push(et.unicode),J+=et.width;const U=V.join("");if(a.fillText(U,0,0),this.dependencyTracker!==null){const et=a.measureText(U);this.dependencyTracker.recordBBox(t,this.ctx,-et.actualBoundingBoxLeft,et.actualBoundingBoxRight,-et.actualBoundingBoxAscent,et.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=J*A*p,a.restore(),this.compose();return}let D=0,O;for(O=0;O<g;++O){const V=e[O];if(typeof V=="number"){D+=x*V*r/1e3;continue}let J=!1;const U=(V.isSpace?d:0)+u,et=V.fontChar,q=V.accent;let Y,j,Z=V.width;if(v){const Q=V.vmetric||_,it=-(V.vmetric?Q[1]:Z*.5)*A,at=Q[2]*A;Z=Q?-Q[0]:Z,Y=it/c,j=(D+at)/c}else Y=D/c,j=0;let X;if(s.remeasure&&Z>0){X=a.measureText(et);const Q=X.width*1e3/r*c;if(Z<Q&&this.isFontSubpixelAAEnabled){const it=Z/Q;J=!0,a.save(),a.scale(it,1),Y/=it}else Z!==Q&&(Y+=(Z-Q)/2e3*r/c)}if(this.contentVisible&&(V.isInFont||s.missingFile)){if(w&&!q)a.fillText(et,Y,j),(H=this.dependencyTracker)==null||H.recordCharacterBBox(t,a,X?{bbox:null}:s,r/c,Y,j,()=>X??a.measureText(et));else if(this.paintChar(t,et,Y,j,S,E),q){const Q=Y+r*q.offset.x/c,it=j-r*q.offset.y/c;this.paintChar(t,q.fontChar,Q,it,S,E)}}const rt=v?Z*A-U*f:Z*A+U*f;D+=rt,J&&a.restore()}v?i.y-=D:i.x+=D*p,a.restore(),this.compose(),(W=this.dependencyTracker)==null||W.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,s=this.current,r=s.font,a=s.fontSize,c=s.fontDirection,u=r.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,p=s.textHScale*c,g=s.fontMatrix||g1,v=e.length,x=s.textRenderingMode===xn.INVISIBLE;let _,A,w,S;if(x||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),s.textMatrix&&i.transform(...s.textMatrix),i.translate(s.x,s.y+s.textRise),i.scale(p,c);const E=this.dependencyTracker;for(this.dependencyTracker=E?new I0(E,t):null,_=0;_<v;++_){if(A=e[_],typeof A=="number"){S=u*A*a/1e3,this.ctx.translate(S,0),s.x+=S*p;continue}const M=(A.isSpace?f:0)+d,N=r.charProcOperatorList[A.operatorListId];N?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...g),this.executeOperatorList(N),this.restore()):St(`Type3 character "${A.operatorListId}" is not available.`);const D=[A.width,0];pt.applyTransform(D,g),w=D[0]*a+M,i.translate(w,0),s.x+=w*p}i.restore(),E&&(this.dependencyTracker=E)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,s,r,a,c){var d;const u=new Path2D;u.rect(s,r,a-s,c-r),this.ctx.clip(u),(d=this.dependencyTracker)==null||d.recordBBox(t,this.ctx,s,a,r,c).recordClipBox(t,this.ctx,s,a,r,c),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const s=this.baseTransform||Ce(this.ctx),r={createCanvasGraphics:(a,c)=>new PE(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new I0(this.dependencyTracker,c,!0):null)};i=new W1(e,this.ctx,r,s)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=O6(this.getObject(t,e)),this.cachedPatterns.set(e,s)),i&&(s.matrix=i),s}shadingFill(t,e){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const s=this._getPattern(t,e);i.fillStyle=s.getPattern(i,this,Ir(i),kn.SHADING,t);const r=Ir(i);if(r){const{width:c,height:u}=i.canvas,d=Qh.slice();pt.axialAlignedBoundingBox([0,0,c,u],r,d);const[f,p,g,v]=d;this.ctx.fillRect(f,p,g-f,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,vs.transform).recordDependencies(t,vs.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){ae("Should not call beginInlineImage")}beginImageData(){ae("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){var s;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Ce(this.ctx),i)){pt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,a,c,u]=i,d=new Path2D;d.rect(r,a,c-r,u-a),this.ctx.clip(d),(s=this.dependencyTracker)==null||s.recordClipBox(t,this.ctx,r,c,a,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var E;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Ow("TODO: Support non-isolated groups."),e.knockout&&St("Knockout groups not supported.");const s=Ce(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Qh.slice();pt.axialAlignedBoundingBox(e.bbox,Ce(i),r);const a=[0,0,i.canvas.width,i.canvas.height];r=pt.intersect(r,a)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),f=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,d,f),v=g.context;v.translate(-c,-u),v.transform(...s);let x=new Path2D;const[_,A,w,S]=e.bbox;if(x.rect(_,A,w-_,S-A),e.matrix){const M=new Path2D;M.addPath(x,new DOMMatrix(e.matrix)),x=M}v.clip(x),e.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:c,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,u),i.save()),$p(i,v),this.ctx=v,(E=this.dependencyTracker)==null||E.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var r;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(r=this.dependencyTracker)==null||r.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Ce(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const c=Qh.slice();pt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,c),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(t,e,i,s,r,a){if(k(this,br,V1).call(this),i_(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],u=i[3]-i[1];if(a&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=u,pt.singularValueDecompose2dScale(Ce(this.ctx),ts);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ts[0],0,0,-ts[1],0,u*ts[1]),i_(this.ctx)}else{i_(this.ctx),this.endPath(t);const d=new Path2D;d.rect(i[0],i[1],c,u),this.ctx.clip(d)}}this.current=new FT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),k(this,br,G1).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var c;if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const s=this.ctx,r=this._createMaskCanvas(t,e),a=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,r.offsetX,r.offsetY),(c=this.dependencyTracker)==null||c.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+a.width,r.offsetY,r.offsetY+a.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,s=0,r=0,a,c){var p,g,v;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const u=this.ctx;u.save();const d=Ce(u);u.transform(i,s,r,a,0,0);const f=this._createMaskCanvas(t,e);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),(p=this.dependencyTracker)==null||p.resetBBox(t);for(let x=0,_=c.length;x<_;x+=2){const A=pt.transform(d,[i,s,r,a,c[x],c[x+1]]);u.drawImage(f.canvas,A[4],A[5]),(g=this.dependencyTracker)==null||g.recordBBox(t,this.ctx,A[4],A[4]+f.canvas.width,A[5],A[5]+f.canvas.height)}u.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var a,c,u;if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(t).recordDependencies(t,vs.transformAndFill);for(const d of e){const{data:f,width:p,height:g,transform:v}=d,x=this.cachedCanvases.getCanvas("maskCanvas",p,g),_=x.context;_.save();const A=this.getObject(t,f,d);jT(_,A),_.globalCompositeOperation="source-in",_.fillStyle=r?s.getPattern(_,this,Ir(i),kn.FILL,t):s,_.fillRect(0,0,p,g),_.restore(),i.save(),i.transform(...v),i.scale(1,-1),n_(i,x.canvas,0,0,p,g,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(t,i,0,p,0,g),i.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,s,r){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a){St("Dependent image isn't ready yet");return}const c=a.width,u=a.height,d=[];for(let f=0,p=r.length;f<p;f+=2)d.push({transform:[i,0,0,s,r[f],r[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(t,a,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t,e){var d;if(!this.contentVisible)return;const i=e.width,s=e.height,r=this.ctx;this.save(t);const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none"),r.scale(1/i,-1/s);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,s).context;BT(p,e),c=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(c,Ir(r));r.imageSmoothingEnabled=zT(Ce(r),e.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(t).recordBBox(t,r,0,i,-s,0).recordDependencies(t,vs.imageXObject).recordOperation(t),n_(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,i,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){var a,c,u;if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const d=e.width,f=e.height,g=this.cachedCanvases.getCanvas("inlineImage",d,f).context;BT(g,e),r=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(t);for(const d of i)s.save(),s.transform(...d.transform),s.scale(1,-1),n_(s,r,d.x,d.y,d.w,d.h,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(t,s,0,1,-1,0),s.restore();(u=this.dependencyTracker)==null||u.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,vs.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){var a,c;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const r=this.ctx;this.pendingClip?(s||(this.pendingClip===UT?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(c=this.dependencyTracker)==null||c.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ce(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:r}=this.ctx.getTransform();let a,c;if(i===0&&s===0){const u=Math.abs(e),d=Math.abs(r);if(u===d)if(t===0)a=c=1/u;else{const f=u*t;a=c=f<1?1/f:1}else if(t===0)a=1/u,c=1/d;else{const f=u*t,p=d*t;a=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(e*r-i*s),d=Math.hypot(e,i),f=Math.hypot(s,r);if(t===0)a=f/u,c=d/u;else{const p=t*u;a=f>p?f/p:1,c=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[r,a]=this.getScaleForStroking();if(r===a){i.lineWidth=(s||1)*r,i.stroke(t);return}const c=i.getLineDash();e&&i.save(),i.scale(r,a),sx.a=1/r,sx.d=1/a;const u=new Path2D;if(u.addPath(t,sx),c.length>0){const d=Math.max(r,a);i.setLineDash(c.map(f=>f/d)),i.lineDashOffset/=d}i.lineWidth=s||1,i.stroke(u),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};br=new WeakSet,V1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},G1=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},q1=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let hd=PE;for(const n in sp)hd.prototype[n]!==void 0&&(hd.prototype[sp[n]]=hd.prototype[n]);var Xd,Yd,jg,Kd,k_;const td=class td{constructor(t){P(this,Kd);P(this,Xd);P(this,Yd);P(this,jg);b(this,Xd,t),b(this,Yd,new DataView(l(this,Xd))),b(this,jg,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const d of td.strings){const f=e.encode(t[d]);i[d]=f,s+=4+f.length}const r=new ArrayBuffer(s),a=new Uint8Array(r),c=new DataView(r);let u=0;for(const d of td.strings){const f=i[d],p=f.length;c.setUint32(u,p),a.set(f,u+4),u+=4+p}return Bt(u===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}get fontFamily(){return k(this,Kd,k_).call(this,0)}get fontWeight(){return k(this,Kd,k_).call(this,1)}get italicAngle(){return k(this,Kd,k_).call(this,2)}};Xd=new WeakMap,Yd=new WeakMap,jg=new WeakMap,Kd=new WeakSet,k_=function(t){Bt(t<td.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=l(this,Yd).getUint32(e)+4;const i=l(this,Yd).getUint32(e);return l(this,jg).decode(new Uint8Array(l(this,Xd),e+4,i))},tt(td,"strings",["fontFamily","fontWeight","italicAngle"]);let D0=td;var vl,Qr,pu,mu,lm;const ed=class ed{constructor(t){P(this,mu);P(this,vl);P(this,Qr);P(this,pu);b(this,vl,t),b(this,Qr,new DataView(l(this,vl))),b(this,pu,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const g of ed.strings){const v=e.encode(t[g]);i[g]=v,s+=4+v.length}s+=4;let r,a,c=1+s;t.style&&(r=e.encode(t.style.style),a=e.encode(t.style.weight),c+=4+r.length+4+a.length);const u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,t.guessFallback?1:0),f.setUint32(p,0),p+=4,s=0;for(const g of ed.strings){const v=i[g],x=v.length;s+=4+x,f.setUint32(p,x),d.set(v,p+4),p+=4+x}return f.setUint32(p-s-4,s),t.style&&(f.setUint32(p,r.length),d.set(r,p+4),p+=4+r.length,f.setUint32(p,a.length),d.set(a,p+4),p+=4+a.length),Bt(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}get guessFallback(){return l(this,Qr).getUint8(0)!==0}get css(){return k(this,mu,lm).call(this,0)}get loadedName(){return k(this,mu,lm).call(this,1)}get baseFontName(){return k(this,mu,lm).call(this,2)}get src(){return k(this,mu,lm).call(this,3)}get style(){let t=1;t+=4+l(this,Qr).getUint32(t);const e=l(this,Qr).getUint32(t),i=l(this,pu).decode(new Uint8Array(l(this,vl),t+4,e));t+=4+e;const s=l(this,Qr).getUint32(t),r=l(this,pu).decode(new Uint8Array(l(this,vl),t+4,s));return{style:i,weight:r}}};vl=new WeakMap,Qr=new WeakMap,pu=new WeakMap,mu=new WeakSet,lm=function(t){Bt(t<ed.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=l(this,Qr).getUint32(e)+4;const i=l(this,Qr).getUint32(e);return l(this,pu).decode(new Uint8Array(l(this,vl),e+4,i))},tt(ed,"strings",["css","loadedName","baseFontName","src"]);let O0=ed;var Qd,Jd,tf,ef,Bi,Jr,zg,te,ze,Gs,L_,cm;const Pt=class Pt{constructor({data:t,extra:e}){P(this,ze);P(this,Jr);P(this,zg);P(this,te);b(this,Jr,t),b(this,zg,new TextDecoder),b(this,te,new DataView(l(this,Jr))),e&&Object.assign(this,e)}get black(){return k(this,ze,Gs).call(this,0)}get bold(){return k(this,ze,Gs).call(this,1)}get disableFontFace(){return k(this,ze,Gs).call(this,2)}get fontExtraProperties(){return k(this,ze,Gs).call(this,3)}get isInvalidPDFjsFont(){return k(this,ze,Gs).call(this,4)}get isType3Font(){return k(this,ze,Gs).call(this,5)}get italic(){return k(this,ze,Gs).call(this,6)}get missingFile(){return k(this,ze,Gs).call(this,7)}get remeasure(){return k(this,ze,Gs).call(this,8)}get vertical(){return k(this,ze,Gs).call(this,9)}get ascent(){return k(this,ze,L_).call(this,0)}get defaultWidth(){return k(this,ze,L_).call(this,1)}get descent(){return k(this,ze,L_).call(this,2)}get bbox(){let t=l(Pt,Jd);if(l(this,te).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<4;s++)i.push(l(this,te).getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=l(Pt,tf);if(l(this,te).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<6;s++)i.push(l(this,te).getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=l(Pt,ef);if(l(this,te).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<3;s++)i.push(l(this,te).getInt16(t,!0)),t+=2;return i}get fallbackName(){return k(this,ze,cm).call(this,0)}get loadedName(){return k(this,ze,cm).call(this,1)}get mimetype(){return k(this,ze,cm).call(this,2)}get name(){return k(this,ze,cm).call(this,3)}get data(){let t=l(Pt,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);t+=4+i;const s=l(this,te).getUint32(t);t+=4+s;const r=l(this,te).getUint32(t);if(r!==0)return new Uint8Array(l(this,Jr),t+4,r)}clearData(){let t=l(Pt,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);t+=4+i;const s=l(this,te).getUint32(t);t+=4+s;const r=l(this,te).getUint32(t);new Uint8Array(l(this,Jr),t+4,r).fill(0),l(this,te).setUint32(t,0)}get cssFontInfo(){let t=l(Pt,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);t+=4+i;const s=l(this,te).getUint32(t);if(s===0)return null;const r=new Uint8Array(s);return r.set(new Uint8Array(l(this,Jr),t+4,s)),new D0(r.buffer)}get systemFontInfo(){let t=l(Pt,Bi);const e=l(this,te).getUint32(t);t+=4+e;const i=l(this,te).getUint32(t);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(l(this,Jr),t+4,i)),new O0(s.buffer)}static write(t){const e=t.systemFontInfo?O0.write(t.systemFontInfo):null,i=t.cssFontInfo?D0.write(t.cssFontInfo):null,s=new TextEncoder,r={};let a=0;for(const _ of Pt.strings)r[_]=s.encode(t[_]),a+=4+r[_].length;const c=l(Pt,Bi)+4+a+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;const g=Pt.bools.length;let v=0,x=0;for(let _=0;_<g;_++){const A=t[Pt.bools[_]];v|=(A===void 0?0:A?2:1)<<x,x+=2,(x===8||_===g-1)&&(f.setUint8(p++,v),v=0,x=0)}Bt(p===l(Pt,Qd),"FontInfo.write: Boolean properties offset mismatch");for(const _ of Pt.numbers)f.setFloat64(p,t[_]),p+=8;if(Bt(p===l(Pt,Jd),"FontInfo.write: Number properties offset mismatch"),t.bbox){f.setUint8(p++,4);for(const _ of t.bbox)f.setInt16(p,_,!0),p+=2}else f.setUint8(p++,0),p+=2*4;if(Bt(p===l(Pt,tf),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){f.setUint8(p++,6);for(const _ of t.fontMatrix)f.setFloat64(p,_,!0),p+=8}else f.setUint8(p++,0),p+=8*6;if(Bt(p===l(Pt,ef),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){f.setUint8(p++,1);for(const _ of t.defaultVMetrics)f.setInt16(p,_,!0),p+=2}else f.setUint8(p++,0),p+=3*2;Bt(p===l(Pt,Bi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(l(Pt,Bi),0),p+=4;for(const _ of Pt.strings){const A=r[_],w=A.length;f.setUint32(p,w),d.set(A,p+4),p+=4+w}if(f.setUint32(l(Pt,Bi),p-l(Pt,Bi)-4),!e)f.setUint32(p,0),p+=4;else{const _=e.byteLength;f.setUint32(p,_),Bt(p+4+_<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),p+4),p+=4+_}if(!i)f.setUint32(p,0),p+=4;else{const _=i.byteLength;f.setUint32(p,_),Bt(p+4+_<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(i),p+4),p+=4+_}return t.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,t.data.length),d.set(t.data,p+4),p+=4+t.data.length),Bt(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}};Qd=new WeakMap,Jd=new WeakMap,tf=new WeakMap,ef=new WeakMap,Bi=new WeakMap,Jr=new WeakMap,zg=new WeakMap,te=new WeakMap,ze=new WeakSet,Gs=function(t){Bt(t<Pt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,s=l(this,te).getUint8(e)>>i&3;return s===0?void 0:s===2},L_=function(t){return Bt(t<Pt.numbers.length,"Invalid number index"),l(this,te).getFloat64(l(Pt,Qd)+t*8)},cm=function(t){Bt(t<Pt.strings.length,"Invalid string index");let e=l(Pt,Bi)+4;for(let r=0;r<t;r++)e+=l(this,te).getUint32(e)+4;const i=l(this,te).getUint32(e),s=new Uint8Array(i);return s.set(new Uint8Array(l(this,Jr),e+4,i)),l(this,zg).decode(s)},tt(Pt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),tt(Pt,"numbers",["ascent","defaultWidth","descent"]),tt(Pt,"strings",["fallbackName","loadedName","mimetype","name"]),P(Pt,Qd,Math.ceil(Pt.bools.length*2/8)),P(Pt,Jd,l(Pt,Qd)+Pt.numbers.length*8),P(Pt,tf,l(Pt,Jd)+1+2*4),P(Pt,ef,l(Pt,tf)+1+8*6),P(Pt,Bi,l(Pt,ef)+1+2*3);let Z1=Pt;var Ug,Hg;class Ns{static get workerPort(){return l(this,Ug)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");b(this,Ug,t)}static get workerSrc(){return l(this,Hg)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");b(this,Hg,t)}}Ug=new WeakMap,Hg=new WeakMap,P(Ns,Ug,null),P(Ns,Hg,"");var nf,$g;class W6{constructor({parsedData:t,rawData:e}){P(this,nf);P(this,$g);b(this,nf,t),b(this,$g,e)}getRaw(){return l(this,$g)}get(t){return l(this,nf).get(t)??null}[Symbol.iterator](){return l(this,nf).entries()}}nf=new WeakMap,$g=new WeakMap;const Oh=Symbol("INTERNAL");var Wg,Vg,Gg,sf;class V6{constructor(t,{name:e,intent:i,usage:s,rbGroups:r}){P(this,Wg,!1);P(this,Vg,!1);P(this,Gg,!1);P(this,sf,!0);b(this,Wg,!!(t&Qi.DISPLAY)),b(this,Vg,!!(t&Qi.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(l(this,Gg))return l(this,sf);if(!l(this,sf))return!1;const{print:t,view:e}=this.usage;return l(this,Wg)?(e==null?void 0:e.viewState)!=="OFF":l(this,Vg)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==Oh&&ae("Internal method `_setVisible` called."),b(this,Gg,i),b(this,sf,e)}}Wg=new WeakMap,Vg=new WeakMap,Gg=new WeakMap,sf=new WeakMap;var yl,ee,rf,of,qg,X1;class G6{constructor(t,e=Qi.DISPLAY){P(this,qg);P(this,yl,null);P(this,ee,new Map);P(this,rf,null);P(this,of,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,b(this,of,t.order);for(const i of t.groups)l(this,ee).set(i.id,new V6(e,i));if(t.baseState==="OFF")for(const i of l(this,ee).values())i._setVisible(Oh,!1);for(const i of t.on)l(this,ee).get(i)._setVisible(Oh,!0);for(const i of t.off)l(this,ee).get(i)._setVisible(Oh,!1);b(this,rf,this.getHash())}}isVisible(t){if(l(this,ee).size===0)return!0;if(!t)return Ow("Optional content group not defined."),!0;if(t.type==="OCG")return l(this,ee).has(t.id)?l(this,ee).get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return k(this,qg,X1).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(l(this,ee).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(!l(this,ee).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(!l(this,ee).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!l(this,ee).has(e))return St(`Optional content group not found: ${e}`),!0;if(l(this,ee).get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const s=l(this,ee).get(t);if(!s){St(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const a of s.rbGroups)for(const c of a)c!==t&&((r=l(this,ee).get(c))==null||r._setVisible(Oh,!1,!0));s._setVisible(Oh,!!e,!0),b(this,yl,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=l(this,ee).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!r.visible,e);break}}b(this,yl,null)}get hasInitialVisibility(){return l(this,rf)===null||this.getHash()===l(this,rf)}getOrder(){return l(this,ee).size?l(this,of)?l(this,of).slice():[...l(this,ee).keys()]:null}getGroup(t){return l(this,ee).get(t)||null}getHash(){if(l(this,yl)!==null)return l(this,yl);const t=new rN;for(const[e,i]of l(this,ee))t.update(`${e}:${i.visible}`);return b(this,yl,t.hexdigest())}[Symbol.iterator](){return l(this,ee).entries()}}yl=new WeakMap,ee=new WeakMap,rf=new WeakMap,of=new WeakMap,qg=new WeakSet,X1=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const r=t[s];let a;if(Array.isArray(r))a=k(this,qg,X1).call(this,r);else if(l(this,ee).has(r))a=l(this,ee).get(r).visible;else return St(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class q6{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Bt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=c,(r==null?void 0:r.length)>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});Bt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Z6(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new X6(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class Z6{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=Bw(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class X6{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Y6(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let f=c(e);return f=unescape(f),f=u(f),f=d(f),r(f)}if(e=a(n),e){const f=d(e);return r(f)}if(e=i("filename","i").exec(n),e){e=e[1];let f=c(e);return f=d(f),r(f)}function i(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(f,{fatal:!0}),v=Jv(p);p=g.decode(v),t=!1}catch{}}return p}function r(f){return t&&/[\x80-\xff]/.test(f)&&(f=s("utf-8",f),t&&(f=s("iso-8859-1",f))),f}function a(f){const p=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(f))!==null;){let[,_,A,w]=g;if(_=parseInt(_,10),_ in p){if(_===0)break;continue}p[_]=[A,w]}const x=[];for(let _=0;_<p.length&&_ in p;++_){let[A,w]=p[_];w=c(w),A&&(w=unescape(w),_===0&&(w=u(w))),x.push(w)}return x.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let g=0;g<p.length;++g){const v=p[g].indexOf('"');v!==-1&&(p[g]=p[g].slice(0,v),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const g=f.slice(0,p),x=f.slice(p+1).replace(/^[^']*'/,"");return s(g,x)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,v,x){if(v==="q"||v==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,A){return String.fromCharCode(parseInt(A,16))}),s(g,x);try{x=atob(x)}catch{}return s(g,x)})}return""}function yN(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function jw(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function _N({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function wN(n){const t=n.get("Content-Disposition");if(t){let e=Y6(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Bw(e))return e}return null}function iy(n,t){return new Jm(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function bN(n){return n===200||n===206}function xN(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function SN(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(St(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class K6{constructor(t){tt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=yN(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Q6(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new J6(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class Q6{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,xN(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=jw(r.url),!bN(r.status))throw iy(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:c,suggestedLength:u}=_N({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=wN(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ka("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:SN(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class J6{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const a=s.url;fetch(a,xN(r,this._withCredentials,this._abortController)).then(c=>{const u=jw(c.url);if(u!==t._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`);if(!bN(c.status))throw iy(c.status,a);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:SN(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const rx=200,ox=206;function tU(n){const t=n.response;return typeof t!="string"?t:Jv(t).buffer}class eU{constructor({url:t,httpHeaders:e,withCredentials:i}){tt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=yN(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,a]of this.headers)e.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=ox):s.expectedStatus=rx,e.responseType="arraybuffer",Bt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||rx;if(!(r===rx&&i.expectedStatus===ox)&&r!==i.expectedStatus){i.onError(s.status);return}const c=tU(s);if(r===ox){const u=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);d?i.onDone({begin:parseInt(d[1],10),chunk:c}):(St('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class nU{constructor(t){this._source=t,this._manager=new eU(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iU(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new sU(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class iU{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=jw(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...d]=c.split(": ");return[u,d.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=_N({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=wN(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=iy(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sU{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=jw((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=iy(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rU=/^[a-z][a-z0-9\-+.]+:/i;function oU(n){if(rU.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class aU{constructor(t){this.source=t,this.url=oU(t.url),Bt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lU(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new cU(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class lU{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=iy(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ka("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cU{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Wp=Symbol("INITIAL_DATA");var ji,Zg,Y1;class AN{constructor(){P(this,Zg);P(this,ji,Object.create(null))}get(t,e=null){if(e){const s=k(this,Zg,Y1).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=l(this,ji)[t];if(!i||i.data===Wp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=l(this,ji)[t];return!!e&&e.data!==Wp}delete(t){const e=l(this,ji)[t];return!e||e.data===Wp?!1:(delete l(this,ji)[t],!0)}resolve(t,e=null){const i=k(this,Zg,Y1).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in l(this,ji)){const{data:i}=l(this,ji)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}b(this,ji,Object.create(null))}*[Symbol.iterator](){for(const t in l(this,ji)){const{data:e}=l(this,ji)[t];e!==Wp&&(yield[t,e])}}}ji=new WeakMap,Zg=new WeakSet,Y1=function(t){var e;return(e=l(this,ji))[t]||(e[t]={...Promise.withResolvers(),data:Wp})};const uU=1e5,HT=30;var uk,_l,bi,Xg,Yg,gu,ea,Kg,Qg,vu,af,lf,wl,cf,Jg,uf,yu,tv,ev,je,hf,_u,nv,bl,df,Ra,EN,CN,K1,os,M_,Q1,PN,TN;let ig=(je=class{constructor({textContentSource:t,container:e,viewport:i}){P(this,Ra);P(this,_l,Promise.withResolvers());P(this,bi,null);P(this,Xg,!1);P(this,Yg,!!((uk=globalThis.FontInspector)!=null&&uk.enabled));P(this,gu,null);P(this,ea,null);P(this,Kg,0);P(this,Qg,0);P(this,vu,null);P(this,af,null);P(this,lf,0);P(this,wl,0);P(this,cf,Object.create(null));P(this,Jg,[]);P(this,uf,null);P(this,yu,[]);P(this,tv,new WeakMap);P(this,ev,null);var u;if(t instanceof ReadableStream)b(this,uf,t);else if(typeof t=="object")b(this,uf,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,bi,b(this,af,e)),b(this,wl,i.scale*wr.pixelRatio),b(this,lf,i.rotation),b(this,ea,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:c}=i.rawDims;b(this,ev,[1,0,0,-1,-a,c+r]),b(this,Qg,s),b(this,Kg,r),k(u=je,os,PN).call(u),uc(e,i),l(this,_l).promise.finally(()=>{l(je,df).delete(this),b(this,ea,null),b(this,cf,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=wn.platform;return kt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{l(this,vu).read().then(({value:e,done:i})=>{if(i){l(this,_l).resolve();return}l(this,gu)??b(this,gu,e.lang),Object.assign(l(this,cf),e.styles),k(this,Ra,EN).call(this,e.items),t()},l(this,_l).reject)};return b(this,vu,l(this,uf).getReader()),l(je,df).add(this),t(),l(this,_l).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*wr.pixelRatio,s=t.rotation;if(s!==l(this,lf)&&(e==null||e(),b(this,lf,s),uc(l(this,af),{rotation:s})),i!==l(this,wl)){e==null||e(),b(this,wl,i);const a={div:null,properties:null,ctx:k(r=je,os,M_).call(r,l(this,gu))};for(const c of l(this,yu))a.properties=l(this,tv).get(c),a.div=c,k(this,Ra,K1).call(this,a)}}cancel(){var e;const t=new ka("TextLayer task cancelled.");(e=l(this,vu))==null||e.cancel(t).catch(()=>{}),b(this,vu,null),l(this,_l).reject(t)}get textDivs(){return l(this,yu)}get textContentItemsStr(){return l(this,Jg)}static cleanup(){if(!(l(this,df).size>0)){l(this,hf).clear();for(const{canvas:t}of l(this,_u).values())t.remove();l(this,_u).clear()}}},_l=new WeakMap,bi=new WeakMap,Xg=new WeakMap,Yg=new WeakMap,gu=new WeakMap,ea=new WeakMap,Kg=new WeakMap,Qg=new WeakMap,vu=new WeakMap,af=new WeakMap,lf=new WeakMap,wl=new WeakMap,cf=new WeakMap,Jg=new WeakMap,uf=new WeakMap,yu=new WeakMap,tv=new WeakMap,ev=new WeakMap,hf=new WeakMap,_u=new WeakMap,nv=new WeakMap,bl=new WeakMap,df=new WeakMap,Ra=new WeakSet,EN=function(t){var s,r;if(l(this,Xg))return;(r=l(this,ea)).ctx??(r.ctx=k(s=je,os,M_).call(s,l(this,gu)));const e=l(this,yu),i=l(this,Jg);for(const a of t){if(e.length>uU){St("Ignoring additional textDivs for performance reasons."),b(this,Xg,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const c=l(this,bi);b(this,bi,document.createElement("span")),l(this,bi).classList.add("markedContent"),a.id&&l(this,bi).setAttribute("id",`${a.id}`),c.append(l(this,bi))}else a.type==="endMarkedContent"&&b(this,bi,l(this,bi).parentNode);continue}i.push(a.str),k(this,Ra,CN).call(this,a)}},CN=function(t){var _;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};l(this,yu).push(e);const s=pt.transform(l(this,ev),t.transform);let r=Math.atan2(s[1],s[0]);const a=l(this,cf)[t.fontName];a.vertical&&(r+=Math.PI/2);let c=l(this,Yg)&&a.fontSubstitution||a.fontFamily;c=je.fontFamilyMap.get(c)||c;const u=Math.hypot(s[2],s[3]),d=u*k(_=je,os,TN).call(_,c,a,l(this,gu));let f,p;r===0?(f=s[4],p=s[5]-d):(f=s[4]+d*Math.sin(r),p=s[5]-d*Math.cos(r));const g="calc(var(--total-scale-factor) *",v=e.style;l(this,bi)===l(this,af)?(v.left=`${(100*f/l(this,Qg)).toFixed(2)}%`,v.top=`${(100*p/l(this,Kg)).toFixed(2)}%`):(v.left=`${g}${f.toFixed(2)}px)`,v.top=`${g}${p.toFixed(2)}px)`),v.fontSize=`${g}${(l(je,bl)*u).toFixed(2)}px)`,v.fontFamily=c,i.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,l(this,Yg)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);A!==w&&Math.max(A,w)/Math.min(A,w)>1.5&&(x=!0)}if(x&&(i.canvasWidth=a.vertical?t.height:t.width),l(this,tv).set(e,i),l(this,ea).div=e,l(this,ea).properties=i,k(this,Ra,K1).call(this,l(this,ea)),i.hasText&&l(this,bi).append(e),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),l(this,bi).append(A)}},K1=function(t){var c;const{div:e,properties:i,ctx:s}=t,{style:r}=e;let a="";if(l(je,bl)>1&&(a=`scale(${1/l(je,bl)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=r,{canvasWidth:d,fontSize:f}=i;k(c=je,os,Q1).call(c,s,f*l(this,wl),u);const{width:p}=s.measureText(e.textContent);p>0&&(a=`scaleX(${d*l(this,wl)/p}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(r.transform=a)},os=new WeakSet,M_=function(t=null){let e=l(this,_u).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,_u).set(t,e),l(this,nv).set(e,{size:0,family:""})}return e},Q1=function(t,e,i){const s=l(this,nv).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},PN=function(){if(l(this,bl)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),b(this,bl,t.getBoundingClientRect().height),t.remove()},TN=function(t,e,i){const s=l(this,hf).get(t);if(s)return s;const r=k(this,os,M_).call(this,i);r.canvas.width=r.canvas.height=HT,k(this,os,Q1).call(this,r,HT,t);const a=r.measureText(""),c=a.fontBoundingBoxAscent,u=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let d=.8;return c?d=c/(c+u):(wn.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),l(this,hf).set(t,d),d},P(je,os),P(je,hf,new Map),P(je,_u,new Map),P(je,nv,new WeakMap),P(je,bl,null),P(je,df,new Set),je);const hU=100;function vE(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new J1,{docId:e}=t,i=n.url?_6(n.url):null,s=n.data?w6(n.data):null,r=n.httpHeaders||null,a=n.withCredentials===!0,c=n.password??null,u=n.range instanceof yE?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof rp?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!ey(n.docBaseUrl)?n.docBaseUrl:null,v=Qy(n.cMapUrl),x=n.cMapPacked!==!1,_=n.CMapReaderFactory||(si?P6:TT),A=Qy(n.iccUrl),w=Qy(n.standardFontDataUrl),S=n.StandardFontDataFactory||(si?T6:kT),E=Qy(n.wasmUrl),M=n.WasmFactory||(si?k6:LT),N=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,O=n.isEvalSupported!==!1,B=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!si,z=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!si&&(wn.platform.isFirefox||!globalThis.chrome),H=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,W=typeof n.disableFontFace=="boolean"?n.disableFontFace:si,V=n.fontExtraProperties===!0,J=n.enableXfa===!0,U=n.ownerDocument||globalThis.document,et=n.disableRange===!0,q=n.disableStream===!0,Y=n.disableAutoFetch===!0,j=n.pdfBug===!0,Z=n.CanvasFactory||(si?C6:S6),X=n.FilterFactory||(si?E6:A6),rt=n.enableHWA===!0,Q=n.useWasm!==!1,it=u?u.length:n.length??NaN,at=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!si&&!W,ut=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(_===TT&&S===kT&&M===LT&&v&&w&&E&&Kp(v,document.baseURI)&&Kp(w,document.baseURI)&&Kp(E,document.baseURI)),dt=null;t6(p);const ct={canvasFactory:new Z({ownerDocument:U,enableHWA:rt}),filterFactory:new X({docId:e,ownerDocument:U}),cMapReaderFactory:ut?null:new _({baseUrl:v,isCompressed:x}),standardFontDataFactory:ut?null:new S({baseUrl:w}),wasmFactory:ut?null:new M({baseUrl:E})};f||(f=rp.create({verbosity:p,port:Ns.workerPort}),t._worker=f);const pe={docId:e,apiVersion:"5.4.296",data:s,password:c,disableAutoFetch:Y,rangeChunkSize:d,length:it,docBaseUrl:g,enableXfa:J,evaluatorOptions:{maxImageSize:D,disableFontFace:W,ignoreErrors:N,isEvalSupported:O,isOffscreenCanvasSupported:B,isImageDecoderSupported:z,canvasMaxAreaInBytes:H,fontExtraProperties:V,useSystemFonts:at,useWasm:Q,useWorkerFetch:ut,cMapUrl:v,iccUrl:A,standardFontDataUrl:w,wasmUrl:E}},He={ownerDocument:U,pdfBug:j,styleElement:dt,loadingParams:{disableAutoFetch:Y,enableXfa:J}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const me=f.messageHandler.sendWithPromise("GetDocRequest",pe,s?[s.buffer]:null);let Et;if(u)Et=new q6(u,{disableRange:et,disableStream:q});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Re=Kp(i)?K6:si?aU:nU;Et=new Re({url:i,length:it,httpHeaders:r,withCredentials:a,rangeChunkSize:d,disableRange:et,disableStream:q})}return me.then(Re=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Dt=new im(e,Re,f.port),zt=new pU(Dt,t,Et,He,ct,rt);t._transport=zt,Dt.send("Ready",null)})}).catch(t._capability.reject),t}var Q0;const J0=class J0{constructor(){tt(this,"_capability",Promise.withResolvers());tt(this,"_transport",null);tt(this,"_worker",null);tt(this,"docId",`d${Ie(J0,Q0)._++}`);tt(this,"destroyed",!1);tt(this,"onPassword",null);tt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Q0=new WeakMap,P(J0,Q0,0);let J1=J0;var wu,iv,sv,rv,ov,hk;let yE=(hk=class{constructor(t,e,i=!1,s=null){P(this,wu,Promise.withResolvers());P(this,iv,[]);P(this,sv,[]);P(this,rv,[]);P(this,ov,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){l(this,ov).push(t)}addProgressListener(t){l(this,rv).push(t)}addProgressiveReadListener(t){l(this,sv).push(t)}addProgressiveDoneListener(t){l(this,iv).push(t)}onDataRange(t,e){for(const i of l(this,ov))i(t,e)}onDataProgress(t,e){l(this,wu).promise.then(()=>{for(const i of l(this,rv))i(t,e)})}onDataProgressiveRead(t){l(this,wu).promise.then(()=>{for(const e of l(this,sv))e(t)})}onDataProgressiveDone(){l(this,wu).promise.then(()=>{for(const t of l(this,iv))t()})}transportReady(){l(this,wu).resolve()}requestDataRange(t,e){ae("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},wu=new WeakMap,iv=new WeakMap,sv=new WeakMap,rv=new WeakMap,ov=new WeakMap,hk);class dU{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return kt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var na,bu,um;class fU{constructor(t,e,i,s=!1){P(this,bu);P(this,na,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new bT:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new AN,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new ty({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return kt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:s="display",annotationMode:r=ho.ENABLE,transform:a=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:x=null}){var z,H,W;(z=this._stats)==null||z.time("Overall");const _=this._transport.getRenderingIntent(s,r,p,g),{renderingIntent:A,cacheKey:w}=_;b(this,na,!1),u||(u=this._transport.getOptionalContentConfig(A));let S=this._intentStates.get(w);S||(S=Object.create(null),this._intentStates.set(w,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const E=!!(A&Qi.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(_));const M=!!(this._pdfBug&&((W=globalThis.StepperManager)!=null&&W.enabled)),N=!this.recordedBBoxes&&(v||M),D=V=>{var J,U;if(S.renderTasks.delete(O),N){const et=(J=O.gfx)==null?void 0:J.dependencyTracker.take();et&&(O.stepper&&O.stepper.setOperatorBBoxes(et,O.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=et))}E&&b(this,na,!0),k(this,bu,um).call(this),V?(O.capability.reject(V),this._abortOperatorList({intentState:S,reason:V instanceof Error?V:new Error(V)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(U=globalThis.Stats)!=null&&U.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new tS({callback:D,params:{canvas:e,canvasContext:t,dependencyTracker:N?new M6(e,S.operatorList.length,M):null,viewport:i,transform:a,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:x});(S.renderTasks||(S.renderTasks=new Set)).add(O);const B=O.task;return Promise.all([S.displayReadyCapability.promise,u]).then(([V,J])=>{var U;if(this.destroyed){D();return}if((U=this._stats)==null||U.time("Rendering"),!(J.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:V,optionalContentConfig:J}),O.operatorListChanged()}).catch(D),B}getOperatorList({intent:t="display",annotationMode:e=ho.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var d;function r(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const a=this._transport.getRenderingIntent(t,e,i,s,!0);let c=this._intentStates.get(a.cacheKey);c||(c=Object.create(null),this._intentStates.set(a.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(a)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>tg.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function r(){a.read().then(function({value:u,done:d}){if(d){i(c);return}c.lang??(c.lang=u.lang),Object.assign(c.styles,u.styles),c.items.push(...u.items),r()},s)}const a=e.getReader(),c={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),b(this,na,!1),Promise.all(t)}cleanup(t=!1){b(this,na,!0);const e=k(this,bu,um).call(this);return t&&e&&this._stats&&(this._stats=new bT),e}_startRenderPage(t,e){var s,r;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&k(this,bu,um).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:a}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:s},a).getReader(),d=this._intentStates.get(e);d.streamReader=u;const f=()=>{u.read().then(({value:p,done:g})=>{if(g){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),f())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const g of d.renderTasks)g.operatorListChanged();k(this,bu,um).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Fw){let s=hU;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new ka(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}na=new WeakMap,bu=new WeakSet,um=function(){if(!l(this,na)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,na,!1),!0};var xl,ir,ia,xu,tw,Su,Au,ai,R_,kN,LN,hm,ff,N_;const we=class we{constructor({name:t=null,port:e=null,verbosity:i=e6()}={}){P(this,ai);P(this,xl,Promise.withResolvers());P(this,ir,null);P(this,ia,null);P(this,xu,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(l(we,Au).has(e))throw new Error("Cannot use more than one PDFWorker per port.");l(we,Au).set(e,this),k(this,ai,kN).call(this,e)}else k(this,ai,LN).call(this)}get promise(){return l(this,xl).promise}get port(){return l(this,ia)}get messageHandler(){return l(this,ir)}destroy(){var t,e;this.destroyed=!0,(t=l(this,xu))==null||t.terminate(),b(this,xu,null),l(we,Au).delete(l(this,ia)),b(this,ia,null),(e=l(this,ir))==null||e.destroy(),b(this,ir,null)}static create(t){const e=l(this,Au).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new we(t)}static get workerSrc(){if(Ns.workerSrc)return Ns.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return kt(this,"_setupFakeWorkerGlobal",(async()=>l(this,ff,N_)?l(this,ff,N_):(await import(this.workerSrc)).WorkerMessageHandler)())}};xl=new WeakMap,ir=new WeakMap,ia=new WeakMap,xu=new WeakMap,tw=new WeakMap,Su=new WeakMap,Au=new WeakMap,ai=new WeakSet,R_=function(){l(this,xl).resolve(),l(this,ir).send("configure",{verbosity:this.verbosity})},kN=function(t){b(this,ia,t),b(this,ir,new im("main","worker",t)),l(this,ir).on("ready",()=>{}),k(this,ai,R_).call(this)},LN=function(){if(l(we,Su)||l(we,ff,N_)){k(this,ai,hm).call(this);return}let{workerSrc:t}=we;try{we._isSameOrigin(window.location,t)||(t=we._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new im("main","worker",e),s=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?l(this,xl).reject(new Error("Worker was destroyed")):k(this,ai,hm).call(this)},r=new AbortController;e.addEventListener("error",()=>{l(this,xu)||s()},{signal:r.signal}),i.on("test",c=>{if(r.abort(),this.destroyed||!c){s();return}b(this,ir,i),b(this,ia,e),b(this,xu,e),k(this,ai,R_).call(this)}),i.on("ready",c=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{k(this,ai,hm).call(this)}});const a=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};a();return}catch{Ow("The worker has been disabled.")}k(this,ai,hm).call(this)},hm=function(){l(we,Su)||(St("Setting up fake worker."),b(we,Su,!0)),we._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){l(this,xl).reject(new Error("Worker was destroyed"));return}const e=new x6;b(this,ia,e);const i=`fake${Ie(we,tw)._++}`,s=new im(i+"_worker",i,e);t.setup(s,e),b(this,ir,new im(i,i+"_worker",e)),k(this,ai,R_).call(this)}).catch(t=>{l(this,xl).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},ff=new WeakSet,N_=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},P(we,ff),P(we,tw,0),P(we,Su,!1),P(we,Au,new WeakMap),si&&(b(we,Su,!0),Ns.workerSrc||(Ns.workerSrc="./pdf.worker.mjs")),we._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},we._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},we.fromPort=t=>{if(u6("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return we.create(t)};let rp=we;var sa,to,pf,mf,ra,Eu,dm;class pU{constructor(t,e,i,s,r,a){P(this,Eu);P(this,sa,new Map);P(this,to,new Map);P(this,pf,new Map);P(this,mf,new Map);P(this,ra,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new AN,this.fontLoader=new v6({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return kt(this,"annotationStorage",new pE)}getRenderingIntent(t,e=ho.ENABLE,i=null,s=!1,r=!1){let a=Qi.DISPLAY,c=F1;switch(t){case"any":a=Qi.ANY;break;case"display":break;case"print":a=Qi.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const u=a&Qi.PRINT&&i instanceof aN?i:this.annotationStorage;switch(e){case ho.DISABLE:a+=Qi.ANNOTATIONS_DISABLE;break;case ho.ENABLE:break;case ho.ENABLE_FORMS:a+=Qi.ANNOTATIONS_FORMS;break;case ho.ENABLE_STORAGE:a+=Qi.ANNOTATIONS_STORAGE,c=u.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(a+=Qi.IS_EDITING),r&&(a+=Qi.OPLIST);const{ids:d,hash:f}=u.modifiedIds,p=[a,c.hash,f];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=l(this,ra))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of l(this,to).values())t.push(s._destroy());l(this,to).clear(),l(this,pf).clear(),l(this,mf).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,sa).clear(),this.filterFactory.destroy(),ig.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ka("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{Bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}Bt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async i=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:a}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:a}}),t.on("GetRangeReader",(i,s)=>{Bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:c}){if(c){s.close();return}Bt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new dU(i,this))}),t.on("DocException",i=>{e._capability.reject(mi(i))}),t.on("PasswordRequest",i=>{b(this,ra,Promise.withResolvers());try{if(!e.onPassword)throw mi(i);const s=r=>{r instanceof Error?l(this,ra).reject(r):l(this,ra).resolve({password:r})};e.onPassword(s,i.code)}catch(s){l(this,ra).reject(s)}return l(this,ra).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;l(this,to).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const p=r.error;St(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const c=new Z1(r),u=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new y6(c,u,r.extra,r.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=r;Bt(f,"The imageRef must be defined.");for(const p of l(this,to).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,r,a])=>{var u;if(this.destroyed)return;const c=l(this,to).get(s);if(!c.objs.has(i)){if(c._intentStates.size===0){(u=a==null?void 0:a.bitmap)==null||u.close();return}switch(r){case"Image":case"Pattern":c.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=l(this,pf).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,mf).set(r.refStr,t);const a=new fU(e,r,this,this._params.pdfBug);return l(this,to).set(e,a),a});return l(this,pf).set(e,s),s}getPageIndex(t){return B1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return k(this,Eu,dm).call(this,"GetFieldObjects")}hasJSActions(){return k(this,Eu,dm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return k(this,Eu,dm).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return k(this,Eu,dm).call(this,"GetOptionalContentConfig").then(e=>new G6(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=l(this,sa).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new W6(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return l(this,sa).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of l(this,to).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),l(this,sa).clear(),this.filterFactory.destroy(!0),ig.cleanup()}}cachedPageNumber(t){if(!B1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return l(this,mf).get(e)??null}}sa=new WeakMap,to=new WeakMap,pf=new WeakMap,mf=new WeakMap,ra=new WeakMap,Eu=new WeakSet,dm=function(t,e=null){const i=l(this,sa).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return l(this,sa).set(t,s),s};var Sl;class mU{constructor(t){P(this,Sl,null);tt(this,"onContinue",null);tt(this,"onError",null);b(this,Sl,t)}get promise(){return l(this,Sl).capability.promise}cancel(t=0){l(this,Sl).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=l(this,Sl).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=l(this,Sl);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Sl=new WeakMap;var Al,Cu;const Mc=class Mc{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:c,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:x=null}){P(this,Al,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new mU(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,d;if(this.cancelled)return;if(this._canvas){if(l(Mc,Cu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Mc,Cu).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:r,dependencyTracker:a}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new hd(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),l(this,Al)&&(window.cancelAnimationFrame(l(this,Al)),b(this,Al,null)),l(Mc,Cu).delete(this._canvas),t||(t=new Fw(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(s=this.task).onError)==null||r.call(s,t)}operatorListChanged(){var t,e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.gfx.dependencyTracker)==null||t.growOperationsCount(this.operatorList.fnArray.length),(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Al,window.requestAnimationFrame(()=>{b(this,Al,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Mc,Cu).delete(this._canvas),this.callback())))}};Al=new WeakMap,Cu=new WeakMap,P(Mc,Cu,new WeakSet);let tS=Mc;const MN="5.4.296",RN="f56dc8601";var zi,Pu,gf,sn,av,vf,oa,lv,El,sr,cv,ne,eS,nS,iS,Pc,NN,Ha;const gi=class gi{constructor({editor:t=null,uiManager:e=null}){P(this,ne);P(this,zi,null);P(this,Pu,null);P(this,gf);P(this,sn,null);P(this,av,!1);P(this,vf,!1);P(this,oa,null);P(this,lv);P(this,El,null);P(this,sr,null);var i,s;t?(b(this,vf,!1),b(this,oa,t)):b(this,vf,!0),b(this,sr,(t==null?void 0:t._uiManager)||e),b(this,lv,l(this,sr)._eventBus),b(this,gf,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((s=l(this,sr))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),l(gi,cv)||b(gi,cv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return kt(this,"_keyboardManager",new ny([[["Escape","mac+Escape"],gi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],gi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],gi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],gi.prototype._moveToPrevious],[["Home","mac+Home"],gi.prototype._moveToBeginning],[["End","mac+End"],gi.prototype._moveToEnd]]))}renderButton(){const t=b(this,zi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",l(this,oa)&&(t.ariaControls=`${l(this,oa).id}_colorpicker_dropdown`);const e=l(this,sr)._signal;t.addEventListener("click",k(this,ne,Pc).bind(this),{signal:e}),t.addEventListener("keydown",k(this,ne,iS).bind(this),{signal:e});const i=b(this,Pu,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=l(this,gf),t.append(i),t}renderMainDropdown(){const t=b(this,sn,k(this,ne,eS).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===l(this,zi)){k(this,ne,Pc).call(this,t);return}const e=t.target.getAttribute("data-color");e&&k(this,ne,nS).call(this,e,t)}_moveToNext(t){var e,i;if(!l(this,ne,Ha)){k(this,ne,Pc).call(this,t);return}if(t.target===l(this,zi)){(e=l(this,sn).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=l(this,sn))==null?void 0:e.firstChild)||t.target===l(this,zi)){l(this,ne,Ha)&&this._hideDropdownFromKeyboard();return}l(this,ne,Ha)||k(this,ne,Pc).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!l(this,ne,Ha)){k(this,ne,Pc).call(this,t);return}(e=l(this,sn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!l(this,ne,Ha)){k(this,ne,Pc).call(this,t);return}(e=l(this,sn).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=l(this,sn))==null||t.classList.add("hidden"),l(this,zi).ariaExpanded="false",(e=l(this,El))==null||e.abort(),b(this,El,null)}_hideDropdownFromKeyboard(){var t;if(!l(this,vf)){if(!l(this,ne,Ha)){(t=l(this,oa))==null||t.unselect();return}this.hideDropdown(),l(this,zi).focus({preventScroll:!0,focusVisible:l(this,av)})}}updateColor(t){if(l(this,Pu)&&(l(this,Pu).style.backgroundColor=t),!l(this,sn))return;const e=l(this,sr).highlightColors.values();for(const i of l(this,sn).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=l(this,zi))==null||t.remove(),b(this,zi,null),b(this,Pu,null),(e=l(this,sn))==null||e.remove(),b(this,sn,null)}};zi=new WeakMap,Pu=new WeakMap,gf=new WeakMap,sn=new WeakMap,av=new WeakMap,vf=new WeakMap,oa=new WeakMap,lv=new WeakMap,El=new WeakMap,sr=new WeakMap,cv=new WeakMap,ne=new WeakSet,eS=function(){const t=document.createElement("div"),e=l(this,sr)._signal;t.addEventListener("contextmenu",ls,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,oa)&&(t.id=`${l(this,oa).id}_colorpicker_dropdown`);for(const[i,s]of l(this,sr).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",l(gi,cv)[i]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.ariaSelected=s===l(this,gf),r.addEventListener("click",k(this,ne,nS).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",k(this,ne,iS).bind(this),{signal:e}),t},nS=function(t,e){e.stopPropagation(),l(this,lv).dispatch("switchannotationeditorparams",{source:this,type:Ft.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},iS=function(t){gi._keyboardManager.exec(this,t)},Pc=function(t){if(l(this,ne,Ha)){this.hideDropdown();return}if(b(this,av,t.detail===0),l(this,El)||(b(this,El,new AbortController),window.addEventListener("pointerdown",k(this,ne,NN).bind(this),{signal:l(this,sr).combinedSignal(l(this,El))})),l(this,zi).ariaExpanded="true",l(this,sn)){l(this,sn).classList.remove("hidden");return}const e=b(this,sn,k(this,ne,eS).call(this));l(this,zi).append(e)},NN=function(t){var e;(e=l(this,sn))!=null&&e.contains(t.target)||this.hideDropdown()},Ha=function(){return l(this,sn)&&!l(this,sn).classList.contains("hidden")},P(gi,cv,null);let sg=gi;var eo,uv,yf,hv;const Rc=class Rc{constructor(t){P(this,eo,null);P(this,uv,null);P(this,yf,null);b(this,uv,t),b(this,yf,t._uiManager),l(Rc,hv)||b(Rc,hv,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,eo))return l(this,eo);const{editorType:t,colorType:e,colorValue:i}=l(this,uv),s=b(this,eo,document.createElement("input"));return s.type="color",s.value=i||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",l(Rc,hv)[t]),s.addEventListener("input",()=>{l(this,yf).updateParams(e,s.value)},{signal:l(this,yf)._signal}),s}update(t){l(this,eo)&&(l(this,eo).value=t)}destroy(){var t;(t=l(this,eo))==null||t.remove(),b(this,eo,null)}hideDropdown(){}};eo=new WeakMap,uv=new WeakMap,yf=new WeakMap,hv=new WeakMap,P(Rc,hv,null);let F0=Rc;function $T(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Vp(n){return Math.max(0,Math.min(255,255*n))}class WT{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Vp(t),[t,t,t]}static G_HTML([t]){const e=$T(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Vp)}static RGB_HTML(t){return`#${t.map($T).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[Vp(1-Math.min(1,t+s)),Vp(1-Math.min(1,i+s)),Vp(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,r=1-e,a=1-i,c=Math.min(s,r,a);return["CMYK",s,r,a,c]}}class gU{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ae("Abstract method `_createSVG` called.")}}class rg extends gU{_createSVG(t){return document.createElementNS(ko,t)}}const vU=9,lh=new WeakSet,yU=new Date().getTimezoneOffset()*60*1e3;class VT{static create(t){switch(t.data.annotationType){case We.LINK:return new _E(t);case We.TEXT:return new wU(t);case We.WIDGET:switch(t.data.fieldType){case"Tx":return new bU(t);case"Btn":return t.data.radioButton?new ON(t):t.data.checkBox?new SU(t):new AU(t);case"Ch":return new EU(t);case"Sig":return new xU(t)}return new vh(t);case We.POPUP:return new rS(t);case We.FREETEXT:return new UN(t);case We.LINE:return new PU(t);case We.SQUARE:return new TU(t);case We.CIRCLE:return new kU(t);case We.POLYLINE:return new HN(t);case We.CARET:return new MU(t);case We.INK:return new wE(t);case We.POLYGON:return new LU(t);case We.HIGHLIGHT:return new $N(t);case We.UNDERLINE:return new RU(t);case We.SQUIGGLY:return new NU(t);case We.STRIKEOUT:return new IU(t);case We.STAMP:return new WN(t);case We.FILEATTACHMENT:return new DU(t);default:return new Le(t)}}}var Tu,_f,Ps,dv,sS;const TE=class TE{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){P(this,dv);P(this,Tu,null);P(this,_f,!1);P(this,Ps,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return TE._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:t}=this,e=(i=this.annotationStorage)==null?void 0:i.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var c;const t=(c=this.annotationStorage)==null?void 0:c.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:s}=this.data;let r=-1/0,a=-1/0;if((e==null?void 0:e.length)>=8){for(let u=0;u<e.length;u+=8)e[u+1]>a?(a=e[u+1],r=e[u+2]):e[u+1]===a&&(r=Math.max(r,e[u+2]));return[r,a]}if((i==null?void 0:i.length)>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>a?(a=u[d+1],r=u[d]):u[d+1]===a&&(r=Math.max(r,u[d]));if(r!==1/0)return[r,a]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/i,t[1]=100*(t[1]-a)/s,t}get commentText(){var e,i,s;const{data:t}=this;return((i=(e=this.annotationStorage.getRawValue(`${Qm}${t.id}`))==null?void 0:e.popup)==null?void 0:i.contents)||((s=t.contentsObj)==null?void 0:s.str)||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Qm}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;(e=((t=l(this,Ps))==null?void 0:t.popup)||this.popup)==null||e.remove(),b(this,Ps,this.popup=null)}updateEdited(t){var r;if(!this.container)return;t.rect&&(l(this,Tu)||b(this,Tu,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&k(this,dv,sS).call(this,e);let s=((r=l(this,Ps))==null?void 0:r.popup)||this.popup;!s&&(i!=null&&i.text)&&(this._createPopup(i),s=l(this,Ps).popup),s&&(s.updateEdited(t),i!=null&&i.deleted&&(s.remove(),b(this,Ps,null),this.popup=null))}resetEdited(){var t;l(this,Tu)&&(k(this,dv,sS).call(this,l(this,Tu).rect),(t=l(this,Ps))==null||t.popup.resetEdited(),b(this,Tu,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof vh)&&!(this instanceof _E)&&(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof rS){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,r),r}const{width:c,height:u}=this;if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(_>0||A>0){const S=`calc(${_}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;a.borderRadius=S}else if(this instanceof ON){const S=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;a.borderRadius=S}switch(e.borderStyle.style){case Mh.SOLID:a.borderStyle="solid";break;case Mh.DASHED:a.borderStyle="dashed";break;case Mh.BEVELED:St("Unimplemented border style: beveled");break;case Mh.INSET:St("Unimplemented border style: inset");break;case Mh.UNDERLINE:a.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(b(this,_f,!0),a.borderColor=pt.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const d=pt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:p,pageX:g,pageY:v}=s.rawDims;a.left=`${100*(d[0]-g)/f}%`,a.top=`${100*(d[1]-v)/p}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(a.width=`${100*c/f}%`,a.height=`${100*u/p}%`):this.setRotation(x,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:a}=this;t%180!==0&&([r,a]=[a,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*a/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const r=s.detail[e],a=r[0],c=r.slice(1);s.target.style[i]=WT[`${a}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:WT[`${a}_rgb`](c)})};return kt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||i[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,r]of Object.entries(e)){const a=i[s];if(a){const c={detail:{[s]:r},target:t};a(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,r]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,A,w,S]=t.subarray(2,6);if(s===_&&r===A&&e===w&&i===S)return}const{style:a}=this.container;let c;if(l(this,_f)){const{borderColor:_,borderWidth:A}=a;a.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const u=s-e,d=r-i,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=f.createElement("defs");p.append(g);const v=f.createElement("clipPath"),x=`clippath_${this.data.id}`;v.setAttribute("id",x),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let _=2,A=t.length;_<A;_+=8){const w=t[_],S=t[_+1],E=t[_+2],M=t[_+3],N=f.createElement("rect"),D=(E-e)/u,O=(r-S)/d,B=(w-E)/u,z=(S-M)/d;N.setAttribute("x",D),N.setAttribute("y",O),N.setAttribute("width",B),N.setAttribute("height",z),v.append(N),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${O}" width="${B}" height="${z}"/>`)}l(this,_f)&&(c.push("</g></svg>')"),a.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(t=null){const{data:e}=this;let i,s;t?(i={str:t.text},s=t.date):(i=e.contentsObj,s=e.modificationDate);const r=b(this,Ps,new rS({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(l(this,Ps)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,Ps)}render(){ae("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:c}of s){if(r===-1||a===e)continue;const u=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!lh.has(d)){St(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:u,domElement:d})}return i}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&lh.has(s)&&i.push({id:a,exportValue:r,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Tu=new WeakMap,_f=new WeakMap,Ps=new WeakMap,dv=new WeakSet,sS=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:c,pageY:u}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-c)/r}%`,e.top=`${100*(a-t[3]+u)/a}%`,s===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/a}%`):this.setRotation(s)};let Le=TE;class _U extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var ns,Tc,IN,DN;class _E extends Le{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});P(this,ns);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),r=!0):e.attachment?(k(this,ns,IN).call(this,s,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(k(this,ns,DN).call(this,s,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,i,s=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&k(this,ns,Tc).call(this),s&&(e.title=s)}_bindNamedAction(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),s&&(e.title=s),k(this,ns,Tc).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const a=s.get(r);a&&(e[a]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),k(this,ns,Tc).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),k(this,ns,Tc).call(this),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var p;s==null||s();const{fields:r,refs:a,include:c}=i,u=[];if(r.length!==0||a.length!==0){const g=new Set(a);for(const v of r){const x=this._fieldObjects[v]||[];for(const{id:_}of x)g.add(_)}for(const v of Object.values(this._fieldObjects))for(const x of v)g.has(x.id)===c&&u.push(x)}else for(const g of Object.values(this._fieldObjects))u.push(...g);const d=this.annotationStorage,f=[];for(const g of u){const{id:v}=g;switch(f.push(v),g.type){case"text":{const _=g.defaultValue||"";d.setValue(v,{value:_});break}case"checkbox":case"radiobutton":{const _=g.defaultValue===g.exportValues;d.setValue(v,{value:_});break}case"combobox":case"listbox":{const _=g.defaultValue||"";d.setValue(v,{value:_});break}default:continue}const x=document.querySelector(`[data-element-id="${v}"]`);if(x){if(!lh.has(x)){St(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}ns=new WeakSet,Tc=function(){this.container.setAttribute("data-internal-link","")},IN=function(e,i,s="",r=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:s&&(e.title=s),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,r),!1},k(this,ns,Tc).call(this)},DN=function(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),s&&(e.title=s),k(this,ns,Tc).call(this)};class wU extends Le{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class vh extends Le{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return wn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,r){i.includes("mouse")?t.addEventListener(i,a=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(i,a=>{var c;if(i==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,e,i,s){var r,a,c;for(const[u,d]of i)(d==="Action"||(r=this.data.actions)!=null&&r[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,u,d,s),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||vU,r=t.style;let a;const c=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(Jb*s))||1,p=d/f;a=Math.min(s,u(p/Jb))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);a=Math.min(s,u(d/Jb))}r.fontSize=`calc(${a}px * var(--total-scale-factor))`,r.color=pt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class bU extends vh{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=i),r.setValue(a.id,{[s]:i})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let c=a.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&c.length>u&&(c=c.slice(0,u));let d=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??c,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",d??c),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),lh.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:p,datetimeType:g,timeStep:v}=this.data,x=!!g&&this.enableScripting;p&&(i.title=p),this._setRequired(i,this.data.required),u&&(i.maxLength=u),i.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),f.formattedValue=null}),i.addEventListener("resetform",A=>{const w=this.data.defaultFieldValue??"";i.value=f.userValue=w,f.formattedValue=null});let _=A=>{const{formattedValue:w}=f;w!=null&&(A.target.value=w),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",w=>{var E;if(f.focused)return;const{target:S}=w;if(x&&(S.type=g,v&&(S.step=v)),f.userValue){const M=f.userValue;if(x)if(g==="time"){const N=new Date(M),D=[N.getHours(),N.getMinutes(),N.getSeconds()];S.value=D.map(O=>O.toString().padStart(2,"0")).join(":")}else S.value=new Date(M-yU).toISOString().split(g==="date"?"T":".",1)[0];else S.value=M}f.lastCommittedValue=S.value,f.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(f.focused=!0)}),i.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const S={value(E){f.userValue=E.detail.value??"",x||t.setValue(e,{value:f.userValue.toString()}),E.target.value=f.userValue},formattedValue(E){const{formattedValue:M}=E.detail;f.formattedValue=M,M!=null&&E.target!==document.activeElement&&(E.target.value=M);const N={formattedValue:M};x&&(N.value=M),t.setValue(e,N)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var O;const{charLimit:M}=E.detail,{target:N}=E;if(M===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",M);let D=f.userValue;!D||D.length<=M||(D=D.slice(0,M),N.value=f.userValue=D,t.setValue(e,{value:D}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(S,w)}),i.addEventListener("keydown",w=>{var M;f.commitKey=1;let S=-1;if(w.key==="Escape"?S=0:w.key==="Enter"&&!this.data.multiLine?S=2:w.key==="Tab"&&(f.commitKey=3),S===-1)return;const{value:E}=w.target;f.lastCommittedValue!==E&&(f.lastCommittedValue=E,f.userValue=E,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:S,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const A=_;_=null,i.addEventListener("blur",w=>{var M,N;if(!f.focused||!w.relatedTarget)return;(M=this.data.actions)!=null&&M.Blur||(f.focused=!1);const{target:S}=w;let{value:E}=S;if(x){if(E&&g==="time"){const D=E.split(":").map(O=>parseInt(O,10));E=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),S.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();S.type="text"}f.userValue=E,f.lastCommittedValue!==E&&((N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:f.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),A(w)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",w=>{var z;f.lastCommittedValue=null;const{data:S,target:E}=w,{value:M,selectionStart:N,selectionEnd:D}=E;let O=N,B=D;switch(w.inputType){case"deleteWordBackward":{const H=M.substring(0,N).match(/\w*[^\w]*$/);H&&(O-=H[0].length);break}case"deleteWordForward":{const H=M.substring(N).match(/^[^\w]*\w*/);H&&(B+=H[0].length);break}case"deleteContentBackward":N===D&&(O-=1);break;case"deleteContentForward":N===D&&(B+=1);break}w.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:S||"",willCommit:!1,selStart:O,selEnd:B}})}),this._setEventListeners(i,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(_&&i.addEventListener("blur",_),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/u;i.classList.add("comb"),i.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class xU extends vh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class SU extends vh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return lh.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const d of this._getElementsByName(c,i)){const f=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:u})}),r.addEventListener("resetform",a=>{const c=e.defaultFieldValue||"Off";a.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ON extends vh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,i))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(lh.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const d of this._getElementsByName(c,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:u})}),r.addEventListener("resetform",a=>{const c=e.defaultFieldValue;a.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",c=>{const u={value:d=>{const f=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=f&&p.id===i;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class AU extends _E{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class EU extends vh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");lh.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const g of s.options)g.selected=g.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,i.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),r=!1),s.append(p)}let a=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),s.prepend(f),a=()=>{f.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const c=f=>{const p=f?"value":"textContent",{options:g,multiple:v}=s;return v?Array.prototype.filter.call(g,x=>x.selected).map(x=>x[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=c(!1);const d=f=>{const p=f.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",f=>{const p={value(g){a==null||a();const v=g.detail.value,x=new Set(Array.isArray(v)?v:[v]);for(const _ of s.options)_.selected=x.has(_.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(g){s.multiple=!0},remove(g){const v=s.options,x=g.detail.remove;v[x].selected=!1,s.remove(x),v.length>0&&Array.prototype.findIndex.call(v,A=>A.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:c(!0),items:d(g)}),u=c(!1)},clear(g){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(g){const{index:v,displayValue:x,exportValue:_}=g.detail.insert,A=s.children[v],w=document.createElement("option");w.textContent=x,w.value=_,A?A.before(w):s.append(w),t.setValue(e,{value:c(!0),items:d(g)}),u=c(!1)},items(g){const{items:v}=g.detail;for(;s.length!==0;)s.remove(0);for(const x of v){const{displayValue:_,exportValue:A}=x,w=document.createElement("option");w.textContent=_,w.value=A,s.append(w)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(g)}),u=c(!1)},indices(g){const v=new Set(g.detail.indices);for(const x of g.target.options)x.selected=v.has(x.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,f)}),s.addEventListener("input",f=>{var v;const p=c(!0),g=c(!1);t.setValue(e,{value:p}),f.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):s.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var fv,oS;class rS extends Le{constructor(e){const{data:i,elements:s,parent:r}=e,a=!!r._commentManager;super(e,{isRenderable:!a&&Le._hasPopupData(i)});P(this,fv);if(this.elements=s,a&&Le._hasPopupData(i)){const c=this.popup=k(this,fv,oS).call(this);for(const u of s)u.popup=c}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const i=this.popup=k(this,fv,oS).call(this),s=[];for(const r of this.elements)r.popup=i,r.container.ariaHasPopup="dialog",s.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(r=>`${hE}${r}`).join(",")),this.container}}fv=new WeakSet,oS=function(){return new CU({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ui,Cl,ew,nw,wf,bf,Be,no,Pl,ku,xf,Sf,io,Hi,aa,la,dn,ca,Tl,pv,ua,Af,Lu,kl,$n,Ll,Mt,I_,aS,lS,cS,D_,uS,FN,BN,jN,zN,O_,F_,hS;class CU{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:c,parent:u,rect:d,parentRect:f,open:p,commentManager:g=null}){P(this,Mt);P(this,Ui,null);P(this,Cl,k(this,Mt,jN).bind(this));P(this,ew,k(this,Mt,hS).bind(this));P(this,nw,k(this,Mt,F_).bind(this));P(this,wf,k(this,Mt,O_).bind(this));P(this,bf,null);P(this,Be,null);P(this,no,null);P(this,Pl,null);P(this,ku,null);P(this,xf,null);P(this,Sf,null);P(this,io,!1);P(this,Hi,null);P(this,aa,null);P(this,la,null);P(this,dn,null);P(this,ca,null);P(this,Tl,null);P(this,pv,null);P(this,ua,null);P(this,Af,null);P(this,Lu,null);P(this,kl,!1);P(this,$n,null);P(this,Ll,null);b(this,Be,t),b(this,Af,s),b(this,no,a),b(this,ua,c),b(this,xf,u),b(this,bf,e),b(this,pv,d),b(this,Sf,f),b(this,ku,i),b(this,Ui,g),b(this,$n,i[0]),b(this,Pl,eg.toDateObject(r)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g?this.renderCommentButton():(k(this,Mt,I_).call(this),l(this,Be).hidden=!0,p&&k(this,Mt,O_).call(this))}renderCommentButton(){if(l(this,dn)||(l(this,ca)||k(this,Mt,aS).call(this),!l(this,ca)))return;const{signal:t}=b(this,aa,new AbortController),e=!!l(this,$n).extraPopupElement,i=()=>{l(this,Ui).toggleCommentPopup(this,!0,void 0,!e)},s=()=>{l(this,Ui).toggleCommentPopup(this,!1,!0,!e)},r=()=>{l(this,Ui).toggleCommentPopup(this,!1,!1)};if(e){b(this,dn,l(this,$n).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",l(this,Cl),{signal:t}),a.addEventListener("click",i,{signal:t}),a.addEventListener("pointerenter",s,{signal:t}),a.addEventListener("pointerleave",r,{signal:t}),a.classList.add("popupTriggerArea")}else{const a=b(this,dn,document.createElement("button"));a.className="annotationCommentButton";const c=l(this,$n).container;a.style.zIndex=c.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),k(this,Mt,cS).call(this),k(this,Mt,lS).call(this),a.addEventListener("keydown",l(this,Cl),{signal:t}),a.addEventListener("click",i,{signal:t}),a.addEventListener("pointerenter",s,{signal:t}),a.addEventListener("pointerleave",r,{signal:t}),c.after(a)}}get commentButtonColor(){const{color:t,opacity:e}=l(this,$n).commentData;return t?l(this,xf)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;(t=l(this,dn))==null||t.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}=l(this,$n).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}}get elementBeforePopup(){return l(this,dn)}get comment(){return l(this,Ll)||b(this,Ll,l(this,$n).commentText),l(this,Ll)}set comment(t){t!==this.comment&&(l(this,$n).commentText=b(this,Ll,t))}get parentBoundingClientRect(){return l(this,$n).layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){l(this,dn)&&(l(this,dn).classList.toggle("selected",t),l(this,dn).ariaExpanded=e)}setSelectedCommentButton(t){l(this,dn).classList.toggle("selected",t)}get commentPopupPosition(){if(l(this,Tl))return l(this,Tl);const{x:t,y:e,height:i}=l(this,dn).getBoundingClientRect(),{x:s,y:r,width:a,height:c}=l(this,$n).layer.getBoundingClientRect();return[(t-s)/a,(e+i-r)/c]}set commentPopupPosition(t){b(this,Tl,t)}hasDefaultPopupPosition(){return l(this,Tl)===null}get commentButtonPosition(){return l(this,ca)}get commentButtonWidth(){return l(this,dn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=l(this,Tl)||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:r,y:a,width:c,height:u}=s;l(this,Ui).showDialog(null,this,r+e*c,a+i*u,{...t,parentDimensions:s})}render(){var i,s;if(l(this,Hi))return;const t=b(this,Hi,document.createElement("div"));if(t.className="popup",l(this,bf)){const r=t.style.outlineColor=pt.makeHexColor(...l(this,bf));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",(i=l(this,Af))!=null&&i.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=l(this,Af)}if(t.append(e),l(this,Pl)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Pl).valueOf()})),r.dateTime=l(this,Pl).toISOString(),e.append(r)}fE({html:l(this,Mt,D_)||l(this,no).str,dir:(s=l(this,no))==null?void 0:s.dir,className:"popupContent"},t),l(this,Be).append(t)}updateEdited({rect:t,popup:e,deleted:i}){var s;if(l(this,Ui)){i?(this.remove(),b(this,Ll,null)):e&&(e.deleted?this.remove():(k(this,Mt,cS).call(this),b(this,Ll,e.text))),t&&(b(this,ca,null),k(this,Mt,aS).call(this),k(this,Mt,lS).call(this));return}if(i||e!=null&&e.deleted){this.remove();return}k(this,Mt,I_).call(this),l(this,Lu)||b(this,Lu,{contentsObj:l(this,no),richText:l(this,ua)}),t&&b(this,la,null),e&&e.text&&(b(this,ua,k(this,Mt,BN).call(this,e.text)),b(this,Pl,eg.toDateObject(e.date)),b(this,no,null)),(s=l(this,Hi))==null||s.remove(),b(this,Hi,null)}resetEdited(){var t;l(this,Lu)&&({contentsObj:Ie(this,no)._,richText:Ie(this,ua)._}=l(this,Lu),b(this,Lu,null),(t=l(this,Hi))==null||t.remove(),b(this,Hi,null),b(this,la,null))}remove(){var t,e,i;if((t=l(this,aa))==null||t.abort(),b(this,aa,null),(e=l(this,Hi))==null||e.remove(),b(this,Hi,null),b(this,kl,!1),b(this,io,!1),(i=l(this,dn))==null||i.remove(),b(this,dn,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){b(this,kl,this.isVisible),l(this,kl)&&(l(this,Be).hidden=!0)}maybeShow(){l(this,Ui)||(k(this,Mt,I_).call(this),l(this,kl)&&(l(this,Hi)||k(this,Mt,F_).call(this),b(this,kl,!1),l(this,Be).hidden=!1))}get isVisible(){return l(this,Ui)?!1:l(this,Be).hidden===!1}}Ui=new WeakMap,Cl=new WeakMap,ew=new WeakMap,nw=new WeakMap,wf=new WeakMap,bf=new WeakMap,Be=new WeakMap,no=new WeakMap,Pl=new WeakMap,ku=new WeakMap,xf=new WeakMap,Sf=new WeakMap,io=new WeakMap,Hi=new WeakMap,aa=new WeakMap,la=new WeakMap,dn=new WeakMap,ca=new WeakMap,Tl=new WeakMap,pv=new WeakMap,ua=new WeakMap,Af=new WeakMap,Lu=new WeakMap,kl=new WeakMap,$n=new WeakMap,Ll=new WeakMap,Mt=new WeakSet,I_=function(){var e;if(l(this,aa))return;b(this,aa,new AbortController);const{signal:t}=l(this,aa);for(const i of this.trigger)i.addEventListener("click",l(this,wf),{signal:t}),i.addEventListener("pointerenter",l(this,nw),{signal:t}),i.addEventListener("pointerleave",l(this,ew),{signal:t}),i.classList.add("popupTriggerArea");for(const i of l(this,ku))(e=i.container)==null||e.addEventListener("keydown",l(this,Cl),{signal:t})},aS=function(){const t=l(this,ku).find(e=>e.hasCommentButton);t&&b(this,ca,t._normalizePoint(t.commentButtonPosition))},lS=function(){if(l(this,$n).extraPopupElement&&!l(this,$n).editor)return;this.renderCommentButton();const[t,e]=l(this,ca),{style:i}=l(this,dn);i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`},cS=function(){l(this,$n).extraPopupElement||(this.renderCommentButton(),l(this,dn).style.backgroundColor=this.commentButtonColor||"")},D_=function(){const t=l(this,ua),e=l(this,no);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&l(this,ua).html||null},uS=function(){var t,e,i;return((i=(e=(t=l(this,Mt,D_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},FN=function(){var t,e,i;return((i=(e=(t=l(this,Mt,D_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},BN=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:l(this,Mt,FN),fontSize:l(this,Mt,uS)?`calc(${l(this,Mt,uS)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return i},jN=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&l(this,io))&&k(this,Mt,O_).call(this)},zN=function(){if(l(this,la)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:r}}}=l(this,xf);let a=!!l(this,Sf),c=a?l(this,Sf):l(this,pv);for(const x of l(this,ku))if(!c||pt.intersect(x.data.rect,c)!==null){c=x.data.rect,a=!0;break}const u=pt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=a?c[2]-c[0]+5:0,p=u[0]+f,g=u[1];b(this,la,[100*(p-s)/e,100*(g-r)/i]);const{style:v}=l(this,Be);v.left=`${l(this,la)[0]}%`,v.top=`${l(this,la)[1]}%`},O_=function(){if(l(this,Ui)){l(this,Ui).toggleCommentPopup(this,!1);return}b(this,io,!l(this,io)),l(this,io)?(k(this,Mt,F_).call(this),l(this,Be).addEventListener("click",l(this,wf)),l(this,Be).addEventListener("keydown",l(this,Cl))):(k(this,Mt,hS).call(this),l(this,Be).removeEventListener("click",l(this,wf)),l(this,Be).removeEventListener("keydown",l(this,Cl)))},F_=function(){l(this,Hi)||this.render(),this.isVisible?l(this,io)&&l(this,Be).classList.add("focused"):(k(this,Mt,zN).call(this),l(this,Be).hidden=!1,l(this,Be).style.zIndex=parseInt(l(this,Be).style.zIndex)+1e3)},hS=function(){l(this,Be).classList.remove("focused"),!(l(this,io)||!this.isVisible)&&(l(this,Be).hidden=!0,l(this,Be).style.zIndex=parseInt(l(this,Be).style.zIndex)-1e3)};class UN extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mv;class PU extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,mv,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=b(this,mv,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,mv)}addHighlightArea(){this.container.classList.add("highlightArea")}}mv=new WeakMap;var gv;class TU extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,gv,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=e.borderStyle.width,c=b(this,gv,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",a/2),c.setAttribute("y",a/2),c.setAttribute("width",i-a),c.setAttribute("height",s-a),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,gv)}addHighlightArea(){this.container.classList.add("highlightArea")}}gv=new WeakMap;var vv;class kU extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,vv,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=e.borderStyle.width,c=b(this,vv,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",i/2),c.setAttribute("cy",s/2),c.setAttribute("rx",i/2-a/2),c.setAttribute("ry",s/2-a/2),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,vv)}addHighlightArea(){this.container.classList.add("highlightArea")}}vv=new WeakMap;var yv;class HN extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,yv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:r},width:a,height:c}=this;if(!i)return this.container;const u=this.svgFactory.create(a,c,!0);let d=[];for(let p=0,g=i.length;p<g;p+=2){const v=i[p]-e[0],x=e[3]-i[p+1];d.push(`${v},${x}`)}d=d.join(" ");const f=b(this,yv,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,yv)}addHighlightArea(){this.container.classList.add("highlightArea")}}yv=new WeakMap;class LU extends HN{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class MU extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _v,Mu,wv,dS;class wE extends Le{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,wv);P(this,_v,null);P(this,Mu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?xt.HIGHLIGHT:xt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:r,popupRef:a}}=this,{transform:c,width:u,height:d}=k(this,wv,dS).call(this,i,e),f=this.svgFactory.create(u,d,!0),p=b(this,_v,this.svgFactory.createElement("svg:g"));f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let g=0,v=s.length;g<v;g++){const x=this.svgFactory.createElement(this.svgElementName);l(this,Mu).push(x),x.setAttribute("points",s[g].join(",")),p.append(x)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:r}=e,a=l(this,_v);if(i>=0&&a.setAttribute("stroke-width",i||1),s)for(let c=0,u=l(this,Mu).length;c<u;c++)l(this,Mu)[c].setAttribute("points",s[c].join(","));if(r){const{transform:c,width:u,height:d}=k(this,wv,dS).call(this,this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),a.setAttribute("transform",c)}}getElementsToTriggerPopup(){return l(this,Mu)}addHighlightArea(){this.container.classList.add("highlightArea")}}_v=new WeakMap,Mu=new WeakMap,wv=new WeakSet,dS=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class $N extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=xt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class RU extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class NU extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class IU extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class WN extends Le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var bv,xv,fS;class DU extends Le{constructor(e){var s;super(e,{isRenderable:!0});P(this,xv);P(this,bv,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",k(this,xv,fS).bind(this)),b(this,bv,s);const{isMac:r}=wn.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&k(this,xv,fS).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return l(this,bv)}addHighlightArea(){this.container.classList.add("highlightArea")}}bv=new WeakMap,xv=new WeakSet,fS=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Ef,Ru,Cf,Ml,Sv,Nu,fc,pS,mS,Pf;let bE=(Pf=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:c,commentManager:u,linkService:d,annotationStorage:f}){P(this,fc);P(this,Ef,null);P(this,Ru,null);P(this,Cf,null);P(this,Ml,new Map);P(this,Sv,null);P(this,Nu,null);this.div=t,b(this,Ef,e),b(this,Ru,i),b(this,Sv,c||null),b(this,Nu,d||null),b(this,Cf,f||new pE),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=u||null}hasEditableAnnotations(){return l(this,Ml).size>0}async render(t){var a,c,u;const{annotations:e}=t,i=this.div;uc(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:l(this,Nu),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new rg,annotationStorage:l(this,Cf),enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===We.POPUP;if(f){const v=s.get(d.id);if(!v)continue;r.elements=v}else if(d.rect[2]===d.rect[0]||d.rect[3]===d.rect[1])continue;r.data=d;const p=VT.create(r);if(!p.isRenderable)continue;if(!f&&d.popupRef){const v=s.get(d.popupRef);v?v.push(p):s.set(d.popupRef,[p])}const g=p.render();d.hidden&&(g.style.visibility="hidden"),await k(this,fc,pS).call(this,g,d.id,r.elements),(c=(a=p.extraPopupElement)==null?void 0:a.popup)==null||c.renderCommentButton(),p._isEditable&&(l(this,Ml).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}k(this,fc,mS).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:l(this,Nu),svgFactory:new rg,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=Pf._defaultBorderStyle),e.data=i;const s=VT.create(e);if(!s.isRenderable)continue;const r=s.render();await k(this,fc,pS).call(this,r,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,uc(e,{rotation:t.rotation}),k(this,fc,mS).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Ml).values())}getEditableAnnotation(t){return l(this,Ml).get(t)}addFakeAnnotation(t){var c;const{div:e}=this,{id:i,rotation:s}=t,r=new _U({data:{id:i,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:l(this,Nu),annotationStorage:l(this,Cf)}),a=r.render();return e.append(a),(c=l(this,Ef))==null||c.moveElementInDOM(e,a,a,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return kt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Mh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Ef=new WeakMap,Ru=new WeakMap,Cf=new WeakMap,Ml=new WeakMap,Sv=new WeakMap,Nu=new WeakMap,fc=new WeakSet,pS=async function(t,e,i){var c,u;const s=t.firstChild||t,r=s.id=`${hE}${e}`,a=await((c=l(this,Sv))==null?void 0:c.getAriaAttributes(r));if(a)for(const[d,f]of a)s.setAttribute(d,f);i?i.at(-1).container.after(t):(this.div.append(t),(u=l(this,Ef))==null||u.moveElementInDOM(this.div,t,s,!1))},mS=function(){var e;if(!l(this,Ru))return;const t=this.div;for(const[i,s]of l(this,Ru)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):r.append(s);const c=l(this,Ml).get(i);c&&(c._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,s),c._hasNoCanvas=!1):c.canvas=s)}l(this,Ru).clear()},Pf);const s_=/\r\n?|\n/g;var $i,Av,Iu,Wi,tn,VN,GN,qN,B_,xa,j_,z_,ZN,vS,XN;const ye=class ye extends fe{constructor(e){super({...e,name:"freeTextEditor"});P(this,tn);P(this,$i,"");P(this,Av,`${this.id}-editor`);P(this,Iu,null);P(this,Wi);tt(this,"_colorPicker",null);this.color=e.color||ye._defaultColor||fe._defaultLineColor,b(this,Wi,e.fontSize||ye._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=ye.prototype,i=a=>a.isEmpty(),s=hc.TRANSLATE_SMALL,r=hc.TRANSLATE_BIG;return kt(this,"_keyboardManager",new ny([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){fe.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case Ft.FREETEXT_SIZE:ye._defaultFontSize=i;break;case Ft.FREETEXT_COLOR:ye._defaultColor=i;break}}updateParams(e,i){switch(e){case Ft.FREETEXT_SIZE:k(this,tn,VN).call(this,i);break;case Ft.FREETEXT_COLOR:k(this,tn,GN).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ft.FREETEXT_SIZE,ye._defaultFontSize],[Ft.FREETEXT_COLOR,ye._defaultColor||fe._defaultLineColor]]}get propertiesToUpdate(){return[[Ft.FREETEXT_SIZE,l(this,Wi)],[Ft.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new F0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-ye._internalPadding*e,-(ye._internalPadding+l(this,Wi))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,Iu,new AbortController);const e=this._uiManager.combinedSignal(l(this,Iu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Av)),this._isDraggable=!0,(e=l(this,Iu))==null||e.abort(),b(this,Iu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=l(this,$i),i=b(this,$i,k(this,tn,qN).call(this).trimEnd());if(e===i)return;const s=r=>{if(b(this,$i,r),!r){this.remove();return}k(this,tn,z_).call(this),this._uiManager.rebuild(this),k(this,tn,B_).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),k(this,tn,B_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ye._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Av)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${l(this,Wi)}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[g,v]=this.pageTranslation;let x,_;switch(this.rotation){case 0:x=e+(c[0]-g)/f,_=i+this.height-(c[1]-v)/p;break;case 90:x=e+(c[0]-g)/f,_=i-(c[1]-v)/p,[u,d]=[d,-u];break;case 180:x=e-this.width+(c[0]-g)/f,_=i-(c[1]-v)/p,[u,d]=[-u,-d];break;case 270:x=e+(c[0]-g-this.height*p)/f,_=i+(c[1]-v-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(x*r,_*a,u,d)}else this._moveAfterPaste(e,i);k(this,tn,z_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var x,_,A;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=k(x=ye,xa,vS).call(x,i.getData("text")||"").replaceAll(s_,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const c=a.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const w=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(s_,"")),w!==this.editorDiv){let S=f;for(const E of this.editorDiv.childNodes){if(E===w){S=p;continue}S.push(k(_=ye,xa,j_).call(_,E))}}f.push(u.nodeValue.slice(0,d).replaceAll(s_,""))}else if(u===this.editorDiv){let w=f,S=0;for(const E of this.editorDiv.childNodes)S++===d&&(w=p),w.push(k(A=ye,xa,j_).call(A,E))}b(this,$i,`${f.join(`
`)}${r}${p.join(`
`)}`),k(this,tn,z_).call(this);const g=new Range;let v=Math.sumPrecise(f.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const S=w.nodeValue.length;if(v<=S){g.setStart(w,v),g.setEnd(w,v);break}v-=S}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=ye._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,i,s){var c;let r=null;if(e instanceof UN){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:f,rotation:p,id:g,popupRef:v,richText:x,contentsObj:_,creationDate:A,modificationDate:w},textContent:S,textPosition:E,parent:{page:{pageNumber:M}}}=e;if(!S||S.length===0)return null;r=e={annotationType:xt.FREETEXT,color:Array.from(d),fontSize:u,value:S.join(`
`),position:E,pageIndex:M-1,rect:f.slice(0),rotation:p,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(_==null?void 0:_.str)||null,richText:x,creationDate:A,modificationDate:w}}const a=await super.deserialize(e,i,s);return b(a,Wi,e.fontSize),a.color=pt.makeHexColor(...e.color),b(a,$i,k(c=ye,xa,vS).call(c,e.value)),a._initialData=r,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=fe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:i,fontSize:l(this,Wi),value:k(this,tn,ZN).call(this)});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!k(this,tn,XN).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(!i)return null;const{style:s}=i;s.fontSize=`calc(${l(this,Wi)}px * var(--total-scale-factor))`,s.color=this.color,i.replaceChildren();for(const r of l(this,$i).split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),i.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,$i)}}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};$i=new WeakMap,Av=new WeakMap,Iu=new WeakMap,Wi=new WeakMap,tn=new WeakSet,VN=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-l(this,Wi))*this.parentScale),b(this,Wi,r),k(this,tn,B_).call(this)},s=l(this,Wi);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},GN=function(e){const i=r=>{this.color=r,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qN=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(k(s=ye,xa,j_).call(s,r)),i=r);return e.join(`
`)},B_=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,c=a.style.display,u=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=c,a.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},xa=new WeakSet,j_=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(s_,"")},z_=function(){if(this.editorDiv.replaceChildren(),!!l(this,$i))for(const e of l(this,$i).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},ZN=function(){return l(this,$i).replaceAll(""," ")},vS=function(e){return e.replaceAll(" ","")},XN=function(e){const{value:i,fontSize:s,color:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((c,u)=>c!==r[u])||e.pageIndex!==a},P(ye,xa),tt(ye,"_freeTextDefaultContent",""),tt(ye,"_internalPadding",0),tt(ye,"_defaultColor",null),tt(ye,"_defaultFontSize",10),tt(ye,"_type","freetext"),tt(ye,"_editorType",xt.FREETEXT);let gS=ye;class ft{toSVGPath(){ae("Abstract method `toSVGPath` must be implemented.")}get box(){ae("Abstract getter `box` must be implemented.")}serialize(t,e){ae("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,r,a){a||(a=new Float32Array(t.length));for(let c=0,u=t.length;c<u;c+=2)a[c]=e+t[c]*s,a[c+1]=i+t[c+1]*r;return a}static _rescaleAndSwap(t,e,i,s,r,a){a||(a=new Float32Array(t.length));for(let c=0,u=t.length;c<u;c+=2)a[c]=e+t[c+1]*s,a[c+1]=i+t[c]*r;return a}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let r=0,a=t.length;r<a;r+=2)s[r]=e+t[r],s[r+1]=i+t[r+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,r){switch(r){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,r,a){return[(t+5*i)/6,(e+5*s)/6,(5*i+r)/6,(5*s+a)/6,(i+r)/2,(s+a)/2]}}tt(ft,"PRECISION",1e-4);var Vi,rr,Tf,kf,so,It,Du,Ou,Ev,Cv,Lf,Mf,Rl,Pv,iw,sw,ln,fm,YN,KN,QN,JN,tI,eI;const Do=class Do{constructor({x:t,y:e},i,s,r,a,c=0){P(this,ln);P(this,Vi);P(this,rr,[]);P(this,Tf);P(this,kf);P(this,so,[]);P(this,It,new Float32Array(18));P(this,Du);P(this,Ou);P(this,Ev);P(this,Cv);P(this,Lf);P(this,Mf);P(this,Rl,[]);b(this,Vi,i),b(this,Mf,r*s),b(this,kf,a),l(this,It).set([NaN,NaN,NaN,NaN,t,e],6),b(this,Tf,c),b(this,Cv,l(Do,Pv)*s),b(this,Ev,l(Do,sw)*s),b(this,Lf,s),l(this,Rl).push(t,e)}isEmpty(){return isNaN(l(this,It)[8])}add({x:t,y:e}){var z;b(this,Du,t),b(this,Ou,e);const[i,s,r,a]=l(this,Vi);let[c,u,d,f]=l(this,It).subarray(8,12);const p=t-d,g=e-f,v=Math.hypot(p,g);if(v<l(this,Ev))return!1;const x=v-l(this,Cv),_=x/v,A=_*p,w=_*g;let S=c,E=u;c=d,u=f,d+=A,f+=w,(z=l(this,Rl))==null||z.push(t,e);const M=-w/x,N=A/x,D=M*l(this,Mf),O=N*l(this,Mf);return l(this,It).set(l(this,It).subarray(2,8),0),l(this,It).set([d+D,f+O],4),l(this,It).set(l(this,It).subarray(14,18),12),l(this,It).set([d-D,f-O],16),isNaN(l(this,It)[6])?(l(this,so).length===0&&(l(this,It).set([c+D,u+O],2),l(this,so).push(NaN,NaN,NaN,NaN,(c+D-i)/r,(u+O-s)/a),l(this,It).set([c-D,u-O],14),l(this,rr).push(NaN,NaN,NaN,NaN,(c-D-i)/r,(u-O-s)/a)),l(this,It).set([S,E,c,u,d,f],6),!this.isEmpty()):(l(this,It).set([S,E,c,u,d,f],6),Math.abs(Math.atan2(E-u,S-c)-Math.atan2(w,A))<Math.PI/2?([c,u,d,f]=l(this,It).subarray(2,6),l(this,so).push(NaN,NaN,NaN,NaN,((c+d)/2-i)/r,((u+f)/2-s)/a),[c,u,S,E]=l(this,It).subarray(14,18),l(this,rr).push(NaN,NaN,NaN,NaN,((S+c)/2-i)/r,((E+u)/2-s)/a),!0):([S,E,c,u,d,f]=l(this,It).subarray(0,6),l(this,so).push(((S+5*c)/6-i)/r,((E+5*u)/6-s)/a,((5*c+d)/6-i)/r,((5*u+f)/6-s)/a,((c+d)/2-i)/r,((u+f)/2-s)/a),[d,f,c,u,S,E]=l(this,It).subarray(12,18),l(this,rr).push(((S+5*c)/6-i)/r,((E+5*u)/6-s)/a,((5*c+d)/6-i)/r,((5*u+f)/6-s)/a,((c+d)/2-i)/r,((u+f)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=l(this,so),e=l(this,rr);if(isNaN(l(this,It)[6])&&!this.isEmpty())return k(this,ln,YN).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);k(this,ln,QN).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return k(this,ln,KN).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,r,a){return new nI(t,e,i,s,r,a)}getOutlines(){var p;const t=l(this,so),e=l(this,rr),i=l(this,It),[s,r,a,c]=l(this,Vi),u=new Float32Array((((p=l(this,Rl))==null?void 0:p.length)??0)+2);for(let g=0,v=u.length-2;g<v;g+=2)u[g]=(l(this,Rl)[g]-s)/a,u[g+1]=(l(this,Rl)[g+1]-r)/c;if(u[u.length-2]=(l(this,Du)-s)/a,u[u.length-1]=(l(this,Ou)-r)/c,isNaN(i[6])&&!this.isEmpty())return k(this,ln,JN).call(this,u);const d=new Float32Array(l(this,so).length+24+l(this,rr).length);let f=t.length;for(let g=0;g<f;g+=2){if(isNaN(t[g])){d[g]=d[g+1]=NaN;continue}d[g]=t[g],d[g+1]=t[g+1]}f=k(this,ln,eI).call(this,d,f);for(let g=e.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(e[g+v])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[g+v],d[f+1]=e[g+v+1],f+=2}return k(this,ln,tI).call(this,d,f),this.newFreeDrawOutline(d,u,l(this,Vi),l(this,Lf),l(this,Tf),l(this,kf))}};Vi=new WeakMap,rr=new WeakMap,Tf=new WeakMap,kf=new WeakMap,so=new WeakMap,It=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Ev=new WeakMap,Cv=new WeakMap,Lf=new WeakMap,Mf=new WeakMap,Rl=new WeakMap,Pv=new WeakMap,iw=new WeakMap,sw=new WeakMap,ln=new WeakSet,fm=function(){const t=l(this,It).subarray(4,6),e=l(this,It).subarray(16,18),[i,s,r,a]=l(this,Vi);return[(l(this,Du)+(t[0]-e[0])/2-i)/r,(l(this,Ou)+(t[1]-e[1])/2-s)/a,(l(this,Du)+(e[0]-t[0])/2-i)/r,(l(this,Ou)+(e[1]-t[1])/2-s)/a]},YN=function(){const[t,e,i,s]=l(this,Vi),[r,a,c,u]=k(this,ln,fm).call(this);return`M${(l(this,It)[2]-t)/i} ${(l(this,It)[3]-e)/s} L${(l(this,It)[4]-t)/i} ${(l(this,It)[5]-e)/s} L${r} ${a} L${c} ${u} L${(l(this,It)[16]-t)/i} ${(l(this,It)[17]-e)/s} L${(l(this,It)[14]-t)/i} ${(l(this,It)[15]-e)/s} Z`},KN=function(t){const e=l(this,rr);t.push(`L${e[4]} ${e[5]} Z`)},QN=function(t){const[e,i,s,r]=l(this,Vi),a=l(this,It).subarray(4,6),c=l(this,It).subarray(16,18),[u,d,f,p]=k(this,ln,fm).call(this);t.push(`L${(a[0]-e)/s} ${(a[1]-i)/r} L${u} ${d} L${f} ${p} L${(c[0]-e)/s} ${(c[1]-i)/r}`)},JN=function(t){const e=l(this,It),[i,s,r,a]=l(this,Vi),[c,u,d,f]=k(this,ln,fm).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-s)/a,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-s)/a,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-s)/a,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-s)/a],0),this.newFreeDrawOutline(p,t,l(this,Vi),l(this,Lf),l(this,Tf),l(this,kf))},tI=function(t,e){const i=l(this,rr);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},eI=function(t,e){const i=l(this,It).subarray(4,6),s=l(this,It).subarray(16,18),[r,a,c,u]=l(this,Vi),[d,f,p,g]=k(this,ln,fm).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/c,(i[1]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-r)/c,(s[1]-a)/u],e),e+=24},P(Do,Pv,8),P(Do,iw,2),P(Do,sw,l(Do,Pv)+l(Do,iw));let B0=Do;var Rf,Fu,ha,Tv,Gi,kv,Ge,rw,iI;class nI extends ft{constructor(e,i,s,r,a,c){super();P(this,rw);P(this,Rf);P(this,Fu,new Float32Array(4));P(this,ha);P(this,Tv);P(this,Gi);P(this,kv);P(this,Ge);b(this,Ge,e),b(this,Gi,i),b(this,Rf,s),b(this,kv,r),b(this,ha,a),b(this,Tv,c),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],k(this,rw,iI).call(this,c);const[u,d,f,p]=l(this,Fu);for(let g=0,v=e.length;g<v;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-d)/p;for(let g=0,v=i.length;g<v;g+=2)i[g]=(i[g]-u)/f,i[g+1]=(i[g+1]-d)/p}toSVGPath(){const e=[`M${l(this,Ge)[4]} ${l(this,Ge)[5]}`];for(let i=6,s=l(this,Ge).length;i<s;i+=6){if(isNaN(l(this,Ge)[i])){e.push(`L${l(this,Ge)[i+4]} ${l(this,Ge)[i+5]}`);continue}e.push(`C${l(this,Ge)[i]} ${l(this,Ge)[i+1]} ${l(this,Ge)[i+2]} ${l(this,Ge)[i+3]} ${l(this,Ge)[i+4]} ${l(this,Ge)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,r],a){const c=s-e,u=r-i;let d,f;switch(a){case 0:d=ft._rescale(l(this,Ge),e,r,c,-u),f=ft._rescale(l(this,Gi),e,r,c,-u);break;case 90:d=ft._rescaleAndSwap(l(this,Ge),e,i,c,u),f=ft._rescaleAndSwap(l(this,Gi),e,i,c,u);break;case 180:d=ft._rescale(l(this,Ge),s,i,-c,u),f=ft._rescale(l(this,Gi),s,i,-c,u);break;case 270:d=ft._rescaleAndSwap(l(this,Ge),s,r,-c,-u),f=ft._rescaleAndSwap(l(this,Gi),s,r,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return l(this,Fu)}newOutliner(e,i,s,r,a,c=0){return new B0(e,i,s,r,a,c)}getNewOutline(e,i){const[s,r,a,c]=l(this,Fu),[u,d,f,p]=l(this,Rf),g=a*f,v=c*p,x=s*f+u,_=r*p+d,A=this.newOutliner({x:l(this,Gi)[0]*g+x,y:l(this,Gi)[1]*v+_},l(this,Rf),l(this,kv),e,l(this,Tv),i??l(this,ha));for(let w=2;w<l(this,Gi).length;w+=2)A.add({x:l(this,Gi)[w]*g+x,y:l(this,Gi)[w+1]*v+_});return A.getOutlines()}}Rf=new WeakMap,Fu=new WeakMap,ha=new WeakMap,Tv=new WeakMap,Gi=new WeakMap,kv=new WeakMap,Ge=new WeakMap,rw=new WeakSet,iI=function(e){const i=l(this,Ge);let s=i[4],r=i[5];const a=[s,r,s,r];let c=s,u=r,d=s,f=r;const p=e?Math.max:Math.min,g=new Float32Array(4);for(let x=6,_=i.length;x<_;x+=6){const A=i[x+4],w=i[x+5];isNaN(i[x])?(pt.pointBoundingBox(A,w,a),u>w?(c=A,u=w):u===w&&(c=p(c,A)),f<w?(d=A,f=w):f===w&&(d=p(d,A))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,pt.bezierBoundingBox(s,r,...i.slice(x,x+6),g),pt.rectBoundingBox(g[0],g[1],g[2],g[3],a),u>g[1]?(c=g[0],u=g[1]):u===g[1]&&(c=p(c,g[0])),f<g[3]?(d=g[2],f=g[3]):f===g[3]&&(d=p(d,g[2]))),s=A,r=w}const v=l(this,Fu);v[0]=a[0]-l(this,ha),v[1]=a[1]-l(this,ha),v[2]=a[2]-a[0]+2*l(this,ha),v[3]=a[3]-a[1]+2*l(this,ha),this.firstPoint=[c,u],this.lastPoint=[d,f]};var Lv,Mv,Rv,Nl,or,ci,sI,U_,rI,oI,_S;class yS{constructor(t,e=0,i=0,s=!0){P(this,ci);P(this,Lv);P(this,Mv);P(this,Rv);P(this,Nl,[]);P(this,or,[]);const r=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:A,y:w,width:S,height:E}of t){const M=Math.floor((A-e)/c)*c,N=Math.ceil((A+S+e)/c)*c,D=Math.floor((w-e)/c)*c,O=Math.ceil((w+E+e)/c)*c,B=[M,D,O,!0],z=[N,D,O,!1];l(this,Nl).push(B,z),pt.rectBoundingBox(M,D,N,O,r)}const u=r[2]-r[0]+2*i,d=r[3]-r[1]+2*i,f=r[0]-i,p=r[1]-i;let g=s?-1/0:1/0,v=1/0;const x=l(this,Nl).at(s?-1:-2),_=[x[0],x[2]];for(const A of l(this,Nl)){const[w,S,E,M]=A;!M&&s?S<v?(v=S,g=w):S===v&&(g=Math.max(g,w)):M&&!s&&(S<v?(v=S,g=w):S===v&&(g=Math.min(g,w))),A[0]=(w-f)/u,A[1]=(S-p)/d,A[2]=(E-p)/d}b(this,Lv,new Float32Array([f,p,u,d])),b(this,Mv,[g,v]),b(this,Rv,_)}getOutlines(){l(this,Nl).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of l(this,Nl))e[3]?(t.push(...k(this,ci,_S).call(this,e)),k(this,ci,rI).call(this,e)):(k(this,ci,oI).call(this,e),t.push(...k(this,ci,_S).call(this,e)));return k(this,ci,sI).call(this,t)}}Lv=new WeakMap,Mv=new WeakMap,Rv=new WeakMap,Nl=new WeakMap,or=new WeakMap,ci=new WeakSet,sI=function(t){const e=[],i=new Set;for(const a of t){const[c,u,d]=a;e.push([c,u,a],[c,d,a])}e.sort((a,c)=>a[1]-c[1]||a[0]-c[0]);for(let a=0,c=e.length;a<c;a+=2){const u=e[a][2],d=e[a+1][2];u.push(d),d.push(u),i.add(u),i.add(d)}const s=[];let r;for(;i.size>0;){const a=i.values().next().value;let[c,u,d,f,p]=a;i.delete(a);let g=c,v=u;for(r=[c,d],s.push(r);;){let x;if(i.has(f))x=f;else if(i.has(p))x=p;else break;i.delete(x),[c,u,d,f,p]=x,g!==c&&(r.push(g,v,c,v===u?u:d),g=c),v=v===u?d:u}r.push(g,v)}return new OU(s,l(this,Lv),l(this,Mv),l(this,Rv))},U_=function(t){const e=l(this,or);let i=0,s=e.length-1;for(;i<=s;){const r=i+s>>1,a=e[r][0];if(a===t)return r;a<t?i=r+1:s=r-1}return s+1},rI=function([,t,e]){const i=k(this,ci,U_).call(this,t);l(this,or).splice(i,0,[t,e])},oI=function([,t,e]){const i=k(this,ci,U_).call(this,t);for(let s=i;s<l(this,or).length;s++){const[r,a]=l(this,or)[s];if(r!==t)break;if(r===t&&a===e){l(this,or).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,a]=l(this,or)[s];if(r!==t)break;if(r===t&&a===e){l(this,or).splice(s,1);return}}},_S=function(t){const[e,i,s]=t,r=[[e,i,s]],a=k(this,ci,U_).call(this,s);for(let c=0;c<a;c++){const[u,d]=l(this,or)[c];for(let f=0,p=r.length;f<p;f++){const[,g,v]=r[f];if(!(d<=g||v<=u)){if(g>=u){if(v>d)r[f][1]=d;else{if(p===1)return[];r.splice(f,1),f--,p--}continue}r[f][2]=u,v>d&&r.push([e,d,v])}}}return r};var Nv,Nf;class OU extends ft{constructor(e,i,s,r){super();P(this,Nv);P(this,Nf);b(this,Nf,e),b(this,Nv,i),this.firstPoint=s,this.lastPoint=r}toSVGPath(){const e=[];for(const i of l(this,Nf)){let[s,r]=i;e.push(`M${s} ${r}`);for(let a=2;a<i.length;a+=2){const c=i[a],u=i[a+1];c===s?(e.push(`V${u}`),r=u):u===r&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,i,s,r],a){const c=[],u=s-e,d=r-i;for(const f of l(this,Nf)){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=e+f[g]*u,p[g+1]=r-f[g+1]*d;c.push(p)}return c}get box(){return l(this,Nv)}get classNamesForOutlining(){return["highlightOutline"]}}Nv=new WeakMap,Nf=new WeakMap;class wS extends B0{newFreeDrawOutline(t,e,i,s,r,a){return new FU(t,e,i,s,r,a)}}class FU extends nI{newOutliner(t,e,i,s,r,a=0){return new wS(t,e,i,s,r,a)}}var If,Iv,da,Bu,Dv,xi,Ov,Fv,ju,qi,Zi,Cn,Df,Of,Wn,Ff,Ts,Bv,Lt,bS,H_,aI,lI,cI,xS,kc,Is,Fh,uI,$_,W_,hI,dI,fI,pI,mI;const Vt=class Vt extends fe{constructor(e){super({...e,name:"highlightEditor"});P(this,Lt);P(this,If,null);P(this,Iv,0);P(this,da);P(this,Bu,null);P(this,Dv,null);P(this,xi,null);P(this,Ov,null);P(this,Fv,0);P(this,ju,null);P(this,qi,null);P(this,Zi,null);P(this,Cn,!1);P(this,Df,null);P(this,Of,null);P(this,Wn,null);P(this,Ff,"");P(this,Ts);P(this,Bv,"");this.color=e.color||Vt._defaultColor,b(this,Ts,e.thickness||Vt._defaultThickness),this.opacity=e.opacity||Vt._defaultOpacity,b(this,da,e.boxes||null),b(this,Bv,e.methodOfCreation||""),b(this,Ff,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(b(this,Cn,!0),k(this,Lt,H_).call(this,e),k(this,Lt,kc).call(this)):l(this,da)&&(b(this,If,e.anchorNode),b(this,Iv,e.anchorOffset),b(this,Ov,e.focusNode),b(this,Fv,e.focusOffset),k(this,Lt,bS).call(this),k(this,Lt,kc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=Vt.prototype;return kt(this,"_keyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Cn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,Ts),methodOfCreation:l(this,Bv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;fe.initialize(e,i),Vt._defaultColor||(Vt._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case Ft.HIGHLIGHT_COLOR:Vt._defaultColor=i;break;case Ft.HIGHLIGHT_THICKNESS:Vt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return l(this,Of)}get commentButtonPosition(){return l(this,Df)}updateParams(e,i){switch(e){case Ft.HIGHLIGHT_COLOR:k(this,Lt,aI).call(this,i);break;case Ft.HIGHLIGHT_THICKNESS:k(this,Lt,lI).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,Vt._defaultColor],[Ft.HIGHLIGHT_THICKNESS,Vt._defaultThickness]]}get propertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,this.color||Vt._defaultColor],[Ft.HIGHLIGHT_THICKNESS,l(this,Ts)||Vt._defaultThickness],[Ft.HIGHLIGHT_FREE,l(this,Cn)]]}onUpdatedColor(){var e,i;(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Zi),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=l(this,Dv))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",b(this,Dv,new sg({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,Lt,W_).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,k(this,Lt,W_).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){k(this,Lt,xS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Lt,kc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?k(this,Lt,xS).call(this):e&&(k(this,Lt,kc).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,a,c;const{drawLayer:i}=this.parent;let s;l(this,Cn)?(e=(e-this.rotation+360)%360,s=k(r=Vt,Is,Fh).call(r,l(this,qi).box,e)):s=k(a=Vt,Is,Fh).call(a,[this.x,this.y,this.width,this.height],e),i.updateProperties(l(this,Zi),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(l(this,Wn),{bbox:k(c=Vt,Is,Fh).call(c,l(this,xi).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();l(this,Ff)&&(e.setAttribute("aria-label",l(this,Ff)),e.setAttribute("role","mark")),l(this,Cn)?e.classList.add("free"):this.div.addEventListener("keydown",k(this,Lt,uI).bind(this),{signal:this._uiManager._signal});const i=b(this,ju,document.createElement("div"));return e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,Bu),this.setDims(this.width,this.height),DR(this,l(this,ju),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:k(this,Lt,$_).call(this,!0);break;case 1:case 3:k(this,Lt,$_).call(this,!1);break}}select(){var e;super.select(),l(this,Wn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),l(this,Wn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,Wn),{rootClass:{selected:!1}}),l(this,Cn)||k(this,Lt,$_).call(this,!1))}get _mustFixPosition(){return!l(this,Cn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(l(this,Zi),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(l(this,Wn),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:r,y:a}){const{x:c,y:u,width:d,height:f}=s.getBoundingClientRect(),p=new AbortController,g=e.combinedSignal(p),v=x=>{p.abort(),k(this,Is,pI).call(this,e,x)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Te,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",ls,{signal:g}),s.addEventListener("pointermove",k(this,Is,fI).bind(this,e),{signal:g}),this._freeHighlight=new wS({x:r,y:a},[c,u,d,f],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var _,A,w,S;let r=null;if(e instanceof $N){const{data:{quadPoints:E,rect:M,rotation:N,id:D,color:O,opacity:B,popupRef:z,richText:H,contentsObj:W,creationDate:V,modificationDate:J},parent:{page:{pageNumber:U}}}=e;r=e={annotationType:xt.HIGHLIGHT,color:Array.from(O),opacity:B,quadPoints:E,boxes:null,pageIndex:U-1,rect:M.slice(0),rotation:N,annotationElementId:D,id:D,deleted:!1,popupRef:z,richText:H,comment:(W==null?void 0:W.str)||null,creationDate:V,modificationDate:J}}else if(e instanceof wE){const{data:{inkLists:E,rect:M,rotation:N,id:D,color:O,borderStyle:{rawWidth:B},popupRef:z,richText:H,contentsObj:W,creationDate:V,modificationDate:J},parent:{page:{pageNumber:U}}}=e;r=e={annotationType:xt.HIGHLIGHT,color:Array.from(O),thickness:B,inkLists:E,boxes:null,pageIndex:U-1,rect:M.slice(0),rotation:N,annotationElementId:D,id:D,deleted:!1,popupRef:z,richText:H,comment:(W==null?void 0:W.str)||null,creationDate:V,modificationDate:J}}const{color:a,quadPoints:c,inkLists:u,opacity:d}=e,f=await super.deserialize(e,i,s);f.color=pt.makeHexColor(...a),f.opacity=d||1,u&&b(f,Ts,e.thickness),f._initialData=r,e.comment&&f.setCommentData(e);const[p,g]=f.pageDimensions,[v,x]=f.pageTranslation;if(c){const E=b(f,da,[]);for(let M=0;M<c.length;M+=8)E.push({x:(c[M]-v)/p,y:1-(c[M+1]-x)/g,width:(c[M+2]-c[M])/p,height:(c[M+1]-c[M+5])/g});k(_=f,Lt,bS).call(_),k(A=f,Lt,kc).call(A),f.rotate(f.rotation)}else if(u){b(f,Cn,!0);const E=u[0],M={x:E[0]-v,y:g-(E[1]-x)},N=new wS(M,[0,0,p,g],1,l(f,Ts)/2,!0,.001);for(let B=0,z=E.length;B<z;B+=2)M.x=E[B]-v,M.y=g-(E[B+1]-x),N.add(M);const{id:D,clipPathId:O}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:N.toSVGPath()}},!0,!0);k(w=f,Lt,H_).call(w,{highlightOutlines:N.getOutlines(),highlightId:D,clipPathId:O}),k(S=f,Lt,kc).call(S),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=fe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:i,opacity:this.opacity,thickness:l(this,Ts),quadPoints:k(this,Lt,hI).call(this),outlines:k(this,Lt,dI).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!k(this,Lt,mI).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};If=new WeakMap,Iv=new WeakMap,da=new WeakMap,Bu=new WeakMap,Dv=new WeakMap,xi=new WeakMap,Ov=new WeakMap,Fv=new WeakMap,ju=new WeakMap,qi=new WeakMap,Zi=new WeakMap,Cn=new WeakMap,Df=new WeakMap,Of=new WeakMap,Wn=new WeakMap,Ff=new WeakMap,Ts=new WeakMap,Bv=new WeakMap,Lt=new WeakSet,bS=function(){const e=new yS(l(this,da),.001);b(this,qi,e.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,qi).box;const i=new yS(l(this,da),.0025,.001,this._uiManager.direction==="ltr");b(this,xi,i.getOutlines());const{firstPoint:s}=l(this,qi);b(this,Df,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:r}=l(this,xi);b(this,Of,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},H_=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var g,v;if(b(this,qi,e),b(this,xi,e.getNewOutline(l(this,Ts)/2+1.5,.0025)),i>=0)b(this,Zi,i),b(this,Bu,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),b(this,Wn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,xi).box,path:{d:l(this,xi).toSVGPath()}},!0));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,Zi),{bbox:k(g=Vt,Is,Fh).call(g,l(this,qi).box,(x-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Wn),{bbox:k(v=Vt,Is,Fh).call(v,l(this,xi).box,x),path:{d:l(this,xi).toSVGPath()}})}const[a,c,u,d]=e.box;switch(this.rotation){case 0:this.x=a,this.y=c,this.width=u,this.height=d;break;case 90:{const[x,_]=this.parentDimensions;this.x=c,this.y=1-a,this.width=u*_/x,this.height=d*x/_;break}case 180:this.x=1-a,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[x,_]=this.parentDimensions;this.x=1-c,this.y=a,this.width=u*_/x,this.height=d*x/_;break}}const{firstPoint:f}=e;b(this,Df,[(f[0]-a)/u,(f[1]-c)/d]);const{lastPoint:p}=l(this,xi);b(this,Of,[(p[0]-a)/u,(p[1]-c)/d])},aI=function(e){const i=(a,c)=>{this.color=a,this.opacity=c,this.onUpdatedColor()},s=this.color,r=this.opacity;this.addCommands({cmd:i.bind(this,e,Vt._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},lI=function(e){const i=l(this,Ts),s=r=>{b(this,Ts,r),k(this,Lt,cI).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},cI=function(e){l(this,Cn)&&(k(this,Lt,H_).call(this,{highlightOutlines:l(this,qi).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},xS=function(){l(this,Zi)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Zi)),b(this,Zi,null),this.parent.drawLayer.remove(l(this,Wn)),b(this,Wn,null))},kc=function(e=this.parent){l(this,Zi)===null&&({id:Ie(this,Zi)._,clipPathId:Ie(this,Bu)._}=e.drawLayer.draw({bbox:l(this,qi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,Cn)},path:{d:l(this,qi).toSVGPath()}},!1,!0),b(this,Wn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,Cn)},bbox:l(this,xi).box,path:{d:l(this,xi).toSVGPath()}},l(this,Cn))),l(this,ju)&&(l(this,ju).style.clipPath=l(this,Bu)))},Is=new WeakSet,Fh=function([e,i,s,r],a){switch(a){case 90:return[1-i-r,e,r,s];case 180:return[1-e-s,1-i-r,s,r];case 270:return[i,1-e-s,r,s]}return[e,i,s,r]},uI=function(e){Vt._keyboardManager.exec(this,e)},$_=function(e){if(!l(this,If))return;const i=window.getSelection();e?i.setPosition(l(this,If),l(this,Iv)):i.setPosition(l(this,Ov),l(this,Fv))},W_=function(){return l(this,Cn)?this.rotation:0},hI=function(){if(l(this,Cn))return null;const[e,i]=this.pageDimensions,[s,r]=this.pageTranslation,a=l(this,da),c=new Float32Array(a.length*8);let u=0;for(const{x:d,y:f,width:p,height:g}of a){const v=d*e+s,x=(1-f)*i+r;c[u]=c[u+4]=v,c[u+1]=c[u+3]=x,c[u+2]=c[u+6]=v+p*e,c[u+5]=c[u+7]=x-g*i,u+=8}return c},dI=function(e){return l(this,qi).serialize(e,k(this,Lt,W_).call(this))},fI=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},pI=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},mI=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((s,r)=>s!==i[r])},P(Vt,Is),tt(Vt,"_defaultColor",null),tt(Vt,"_defaultOpacity",1),tt(Vt,"_defaultThickness",12),tt(Vt,"_type","highlight"),tt(Vt,"_editorType",xt.HIGHLIGHT),tt(Vt,"_freeHighlightId",-1),tt(Vt,"_freeHighlight",null),tt(Vt,"_freeHighlightClipId","");let j0=Vt;var zu;class gI{constructor(){P(this,zu,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){l(this,zu)[t]=e}toSVGProperties(){const t=l(this,zu);return b(this,zu,Object.create(null)),{root:t}}reset(){b(this,zu,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){ae("Not implemented")}}zu=new WeakMap;var Xi,Bf,fn,Uu,Hu,Il,Dl,Ol,$u,Ht,SS,AS,ES,pm,vI,V_,mm,Bh;const gt=class gt extends fe{constructor(e){super(e);P(this,Ht);P(this,Xi,null);P(this,Bf);tt(this,"_colorPicker",null);tt(this,"_drawId",null);b(this,Bf,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(k(this,Ht,SS).call(this,e),k(this,Ht,pm).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[r,a]of Object.entries(i))s.has(r)?Object.assign(e[r],a):e[r]=a;return e}static getDefaultDrawingOptions(e){ae("Not implemented")}static get typesMap(){ae("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(l(gt,fn).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)e.push([s,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)e.push([s,i[r]]);return e}_updateProperty(e,i,s){const r=this._drawingOptions,a=r[i],c=u=>{var f;r.updateProperty(i,u);const d=l(this,Xi).updateProperty(i,u);d&&k(this,Ht,mm).call(this,d),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(l(this,Xi).getPathResizingSVGProperties(k(this,Ht,V_).call(this)),{bbox:k(this,Ht,Bh).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(l(this,Xi).getPathResizedSVGProperties(k(this,Ht,V_).call(this)),{bbox:k(this,Ht,Bh).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:k(this,Ht,Bh).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(l(this,Xi).getPathTranslatedSVGProperties(k(this,Ht,V_).call(this),this.parentDimensions),{bbox:k(this,Ht,Bh).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,Bf)&&(b(this,Bf,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){k(this,Ht,ES).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Ht,pm).call(this),k(this,Ht,mm).call(this,l(this,Xi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),k(this,Ht,ES).call(this)):e&&(this._uiManager.addShouldRescale(this),k(this,Ht,pm).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties({bbox:k(this,Ht,Bh).call(this)},l(this,Xi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,Ht,mm).call(this,l(this,Xi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");return s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,r,a){ae("Not implemented")}static startDrawing(e,i,s,r){var A;const{target:a,offsetX:c,offsetY:u,pointerId:d,pointerType:f}=r;if(l(gt,Dl)&&l(gt,Dl)!==f)return;const{viewport:{rotation:p}}=e,{width:g,height:v}=a.getBoundingClientRect(),x=b(gt,Uu,new AbortController),_=e.combinedSignal(x);if(l(gt,Il)||b(gt,Il,d),l(gt,Dl)??b(gt,Dl,f),window.addEventListener("pointerup",w=>{var S;l(gt,Il)===w.pointerId?this._endDraw(w):(S=l(gt,Ol))==null||S.delete(w.pointerId)},{signal:_}),window.addEventListener("pointercancel",w=>{var S;l(gt,Il)===w.pointerId?this._currentParent.endDrawingSession():(S=l(gt,Ol))==null||S.delete(w.pointerId)},{signal:_}),window.addEventListener("pointerdown",w=>{l(gt,Dl)===w.pointerType&&((l(gt,Ol)||b(gt,Ol,new Set)).add(w.pointerId),l(gt,fn).isCancellable()&&(l(gt,fn).removeLastElement(),l(gt,fn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:_}),window.addEventListener("contextmenu",ls,{signal:_}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:_}),a.addEventListener("touchmove",w=>{w.timeStamp===l(gt,$u)&&Te(w)},{signal:_}),e.toggleDrawing(),(A=i._editorUndoBar)==null||A.hide(),l(gt,fn)){e.drawLayer.updateProperties(this._currentDrawId,l(gt,fn).startNew(c,u,g,v,p));return}i.updateUIForDefaultProperties(this),b(gt,fn,this.createDrawerInstance(c,u,g,v,p)),b(gt,Hu,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(l(gt,Hu).toSVGProperties(),l(gt,fn).defaultSVGProperties),!0,!1)}static _drawMove(e){var a;if(b(gt,$u,-1),!l(gt,fn))return;const{offsetX:i,offsetY:s,pointerId:r}=e;if(l(gt,Il)===r){if(((a=l(gt,Ol))==null?void 0:a.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(gt,fn).add(i,s)),b(gt,$u,e.timeStamp),Te(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,b(gt,fn,null),b(gt,Hu,null),b(gt,Dl,null),b(gt,$u,NaN)),l(gt,Uu)&&(l(gt,Uu).abort(),b(gt,Uu,null),b(gt,Il,NaN),b(gt,Ol,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,l(gt,fn).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=l(gt,fn),r=this._currentDrawId,a=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:Ft.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Ft.DRAW_STEP),!l(gt,fn).isEmpty()){const{pageDimensions:[s,r],scale:a}=i,c=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(gt,fn).getOutlines(s*a,r*a,a,this._INNER_MARGIN),drawingOptions:l(gt,Hu),mustBeCommitted:!e});return this._cleanup(!0),c}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,r,a,c){ae("Not implemented")}static async deserialize(e,i,s){var p,g;const{rawDims:{pageWidth:r,pageHeight:a,pageX:c,pageY:u}}=i.viewport,d=this.deserializeDraw(c,u,r,a,this._INNER_MARGIN,e),f=await super.deserialize(e,i,s);return f.createDrawingOptions(e),k(p=f,Ht,SS).call(p,{drawOutlines:d}),k(g=f,Ht,pm).call(g),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[i,s]=this.pageTranslation,[r,a]=this.pageDimensions;return l(this,Xi).serialize([i,s,r,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Xi=new WeakMap,Bf=new WeakMap,fn=new WeakMap,Uu=new WeakMap,Hu=new WeakMap,Il=new WeakMap,Dl=new WeakMap,Ol=new WeakMap,$u=new WeakMap,Ht=new WeakSet,SS=function({drawOutlines:e,drawId:i,drawingOptions:s}){b(this,Xi,e),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=k(this,Ht,AS).call(this,e,this.parent),k(this,Ht,mm).call(this,e.box)},AS=function(e,i){const{id:s}=i.drawLayer.draw(gt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},ES=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},pm=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,Ht,AS).call(this,l(this,Xi),e)}},vI=function([e,i,s,r]){const{parentDimensions:[a,c],rotation:u}=this;switch(u){case 90:return[i,1-e,s*(c/a),r*(a/c)];case 180:return[1-e,1-i,s,r];case 270:return[1-i,e,s*(c/a),r*(a/c)];default:return[e,i,s,r]}},V_=function(){const{x:e,y:i,width:s,height:r,parentDimensions:[a,c],rotation:u}=this;switch(u){case 90:return[1-i,e,s*(a/c),r*(c/a)];case 180:return[1-e,1-i,s,r];case 270:return[i,1-e,s*(a/c),r*(c/a)];default:return[e,i,s,r]}},mm=function(e){[this.x,this.y,this.width,this.height]=k(this,Ht,vI).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Bh=function(){const{x:e,y:i,width:s,height:r,rotation:a,parentRotation:c,parentDimensions:[u,d]}=this;switch((a*4+c)/90){case 1:return[1-i-r,e,r,s];case 2:return[1-e-s,1-i-r,s,r];case 3:return[i,1-e-s,r,s];case 4:return[e,i-s*(u/d),r*(d/u),s*(u/d)];case 5:return[1-i,e,s*(u/d),r*(d/u)];case 6:return[1-e-r*(d/u),1-i,r*(d/u),s*(u/d)];case 7:return[i-s*(u/d),1-e-r*(d/u),s*(u/d),r*(d/u)];case 8:return[e-s,i-r,s,r];case 9:return[1-i,e-s,r,s];case 10:return[1-e,1-i,s,r];case 11:return[i-r,1-e,r,s];case 12:return[e-r*(d/u),i,r*(d/u),s*(u/d)];case 13:return[1-i-s*(u/d),e-r*(d/u),s*(u/d),r*(d/u)];case 14:return[1-e,1-i-s*(u/d),r*(d/u),s*(u/d)];case 15:return[i,1-e,s*(u/d),r*(d/u)];default:return[e,i,s,r]}},tt(gt,"_currentDrawId",-1),tt(gt,"_currentParent",null),P(gt,fn,null),P(gt,Uu,null),P(gt,Hu,null),P(gt,Il,NaN),P(gt,Dl,null),P(gt,Ol,null),P(gt,$u,NaN),tt(gt,"_INNER_MARGIN",3);let z0=gt;var ro,pn,mn,Wu,jf,ei,Pn,ks,Vu,Gu,qu,zf,G_;class BU{constructor(t,e,i,s,r,a){P(this,zf);P(this,ro,new Float64Array(6));P(this,pn);P(this,mn);P(this,Wu);P(this,jf);P(this,ei);P(this,Pn,"");P(this,ks,0);P(this,Vu,new sy);P(this,Gu);P(this,qu);b(this,Gu,i),b(this,qu,s),b(this,Wu,r),b(this,jf,a),[t,e]=k(this,zf,G_).call(this,t,e);const c=b(this,pn,[NaN,NaN,NaN,NaN,t,e]);b(this,ei,[t,e]),b(this,mn,[{line:c,points:l(this,ei)}]),l(this,ro).set(c,0)}updateProperty(t,e){t==="stroke-width"&&b(this,jf,e)}isEmpty(){return!l(this,mn)||l(this,mn).length===0}isCancellable(){return l(this,ei).length<=10}add(t,e){[t,e]=k(this,zf,G_).call(this,t,e);const[i,s,r,a]=l(this,ro).subarray(2,6),c=t-r,u=e-a;return Math.hypot(l(this,Gu)*c,l(this,qu)*u)<=2?null:(l(this,ei).push(t,e),isNaN(i)?(l(this,ro).set([r,a,t,e],2),l(this,pn).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(l(this,ro)[0])&&l(this,pn).splice(6,6),l(this,ro).set([i,s,r,a,t,e],0),l(this,pn).push(...ft.createBezierPoints(i,s,r,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(l(this,ei).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,r){b(this,Gu,i),b(this,qu,s),b(this,Wu,r),[t,e]=k(this,zf,G_).call(this,t,e);const a=b(this,pn,[NaN,NaN,NaN,NaN,t,e]);b(this,ei,[t,e]);const c=l(this,mn).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),l(this,mn).push({line:a,points:l(this,ei)}),l(this,ro).set(a,0),b(this,ks,0),this.toSVGPath(),null}getLastElement(){return l(this,mn).at(-1)}setLastElement(t){return l(this,mn)?(l(this,mn).push(t),b(this,pn,t.line),b(this,ei,t.points),b(this,ks,0),{path:{d:this.toSVGPath()}}):l(this,Vu).setLastElement(t)}removeLastElement(){if(!l(this,mn))return l(this,Vu).removeLastElement();l(this,mn).pop(),b(this,Pn,"");for(let t=0,e=l(this,mn).length;t<e;t++){const{line:i,points:s}=l(this,mn)[t];b(this,pn,i),b(this,ei,s),b(this,ks,0),this.toSVGPath()}return{path:{d:l(this,Pn)}}}toSVGPath(){const t=ft.svgRound(l(this,pn)[4]),e=ft.svgRound(l(this,pn)[5]);if(l(this,ei).length===2)return b(this,Pn,`${l(this,Pn)} M ${t} ${e} Z`),l(this,Pn);if(l(this,ei).length<=6){const s=l(this,Pn).lastIndexOf("M");b(this,Pn,`${l(this,Pn).slice(0,s)} M ${t} ${e}`),b(this,ks,6)}if(l(this,ei).length===4){const s=ft.svgRound(l(this,pn)[10]),r=ft.svgRound(l(this,pn)[11]);return b(this,Pn,`${l(this,Pn)} L ${s} ${r}`),b(this,ks,12),l(this,Pn)}const i=[];l(this,ks)===0&&(i.push(`M ${t} ${e}`),b(this,ks,6));for(let s=l(this,ks),r=l(this,pn).length;s<r;s+=6){const[a,c,u,d,f,p]=l(this,pn).slice(s,s+6).map(ft.svgRound);i.push(`C${a} ${c} ${u} ${d} ${f} ${p}`)}return b(this,Pn,l(this,Pn)+i.join(" ")),b(this,ks,l(this,pn).length),l(this,Pn)}getOutlines(t,e,i,s){const r=l(this,mn).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),l(this,Vu).build(l(this,mn),t,e,i,l(this,Wu),l(this,jf),s),b(this,ro,null),b(this,pn,null),b(this,mn,null),b(this,Pn,null),l(this,Vu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ro=new WeakMap,pn=new WeakMap,mn=new WeakMap,Wu=new WeakMap,jf=new WeakMap,ei=new WeakMap,Pn=new WeakMap,ks=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,qu=new WeakMap,zf=new WeakSet,G_=function(t,e){return ft._normalizePoint(t,e,l(this,Gu),l(this,qu),l(this,Wu))};var ni,jv,zv,Yi,oo,ao,Uf,Hf,Zu,Ln,Mo,yI,_I,wI;class sy extends ft{constructor(){super(...arguments);P(this,Ln);P(this,ni);P(this,jv,0);P(this,zv);P(this,Yi);P(this,oo);P(this,ao);P(this,Uf);P(this,Hf);P(this,Zu)}build(e,i,s,r,a,c,u){b(this,oo,i),b(this,ao,s),b(this,Uf,r),b(this,Hf,a),b(this,Zu,c),b(this,zv,u??0),b(this,Yi,e),k(this,Ln,_I).call(this)}get thickness(){return l(this,Zu)}setLastElement(e){return l(this,Yi).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Yi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of l(this,Yi)){if(e.push(`M${ft.svgRound(i[4])} ${ft.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${ft.svgRound(i[10])} ${ft.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[a,c,u,d,f,p]=i.subarray(s,s+6).map(ft.svgRound);e.push(`C${a} ${c} ${u} ${d} ${f} ${p}`)}}return e.join("")}serialize([e,i,s,r],a){const c=[],u=[],[d,f,p,g]=k(this,Ln,yI).call(this);let v,x,_,A,w,S,E,M,N;switch(l(this,Hf)){case 0:N=ft._rescale,v=e,x=i+r,_=s,A=-r,w=e+d*s,S=i+(1-f-g)*r,E=e+(d+p)*s,M=i+(1-f)*r;break;case 90:N=ft._rescaleAndSwap,v=e,x=i,_=s,A=r,w=e+f*s,S=i+d*r,E=e+(f+g)*s,M=i+(d+p)*r;break;case 180:N=ft._rescale,v=e+s,x=i,_=-s,A=r,w=e+(1-d-p)*s,S=i+f*r,E=e+(1-d)*s,M=i+(f+g)*r;break;case 270:N=ft._rescaleAndSwap,v=e+s,x=i+r,_=-s,A=-r,w=e+(1-f-g)*s,S=i+(1-d-p)*r,E=e+(1-f)*s,M=i+(1-d)*r;break}for(const{line:D,points:O}of l(this,Yi))c.push(N(D,v,x,_,A,a?new Array(D.length):null)),u.push(N(O,v,x,_,A,a?new Array(O.length):null));return{lines:c,points:u,rect:[w,S,E,M]}}static deserialize(e,i,s,r,a,{paths:{lines:c,points:u},rotation:d,thickness:f}){const p=[];let g,v,x,_,A;switch(d){case 0:A=ft._rescale,g=-e/s,v=i/r+1,x=1/s,_=-1/r;break;case 90:A=ft._rescaleAndSwap,g=-i/r,v=-e/s,x=1/r,_=1/s;break;case 180:A=ft._rescale,g=e/s+1,v=-i/r,x=-1/s,_=1/r;break;case 270:A=ft._rescaleAndSwap,g=i/r+1,v=e/s+1,x=-1/r,_=-1/s;break}if(!c){c=[];for(const S of u){const E=S.length;if(E===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(E===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const M=new Float32Array(3*(E-2));c.push(M);let[N,D,O,B]=S.subarray(0,4);M.set([NaN,NaN,NaN,NaN,N,D],0);for(let z=4;z<E;z+=2){const H=S[z],W=S[z+1];M.set(ft.createBezierPoints(N,D,O,B,H,W),(z-2)*3),[N,D,O,B]=[O,B,H,W]}}}for(let S=0,E=c.length;S<E;S++)p.push({line:A(c[S].map(M=>M??NaN),g,v,x,_),points:A(u[S].map(M=>M??NaN),g,v,x,_)});const w=new this.prototype.constructor;return w.build(p,s,r,1,d,f,a),w}get box(){return l(this,ni)}updateProperty(e,i){return e==="stroke-width"?k(this,Ln,wI).call(this,i):null}updateParentDimensions([e,i],s){const[r,a]=k(this,Ln,Mo).call(this);b(this,oo,e),b(this,ao,i),b(this,Uf,s);const[c,u]=k(this,Ln,Mo).call(this),d=c-r,f=u-a,p=l(this,ni);return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(e){return b(this,jv,e),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,ni).map(ft.svgRound).join(" ")}get defaultProperties(){const[e,i]=l(this,ni);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=l(this,ni);let s=0,r=0,a=0,c=0,u=0,d=0;switch(l(this,jv)){case 90:r=i/e,a=-e/i,u=e;break;case 180:s=-1,c=-1,u=e,d=i;break;case 270:r=-i/e,a=e/i,d=i;break;default:return""}return`matrix(${s} ${r} ${a} ${c} ${ft.svgRound(u)} ${ft.svgRound(d)})`}getPathResizingSVGProperties([e,i,s,r]){const[a,c]=k(this,Ln,Mo).call(this),[u,d,f,p]=l(this,ni);if(Math.abs(f-a)<=ft.PRECISION||Math.abs(p-c)<=ft.PRECISION){const A=e+s/2-(u+f/2),w=i+r/2-(d+p/2);return{path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:`${this.rotationTransform} translate(${A} ${w})`}}}const g=(s-2*a)/(f-2*a),v=(r-2*c)/(p-2*c),x=f/s,_=p/r;return{path:{"transform-origin":`${ft.svgRound(u)} ${ft.svgRound(d)}`,transform:`${this.rotationTransform} scale(${x} ${_}) translate(${ft.svgRound(a)} ${ft.svgRound(c)}) scale(${g} ${v}) translate(${ft.svgRound(-a)} ${ft.svgRound(-c)})`}}}getPathResizedSVGProperties([e,i,s,r]){const[a,c]=k(this,Ln,Mo).call(this),u=l(this,ni),[d,f,p,g]=u;if(u[0]=e,u[1]=i,u[2]=s,u[3]=r,Math.abs(p-a)<=ft.PRECISION||Math.abs(g-c)<=ft.PRECISION){const w=e+s/2-(d+p/2),S=i+r/2-(f+g/2);for(const{line:E,points:M}of l(this,Yi))ft._translate(E,w,S,E),ft._translate(M,w,S,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(s-2*a)/(p-2*a),x=(r-2*c)/(g-2*c),_=-v*(d+a)+e+a,A=-x*(f+c)+i+c;if(v!==1||x!==1||_!==0||A!==0)for(const{line:w,points:S}of l(this,Yi))ft._rescale(w,_,A,v,x,w),ft._rescale(S,_,A,v,x,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[r,a]=s,c=l(this,ni),u=e-c[0],d=i-c[1];if(l(this,oo)===r&&l(this,ao)===a)for(const{line:f,points:p}of l(this,Yi))ft._translate(f,u,d,f),ft._translate(p,u,d,p);else{const f=l(this,oo)/r,p=l(this,ao)/a;b(this,oo,r),b(this,ao,a);for(const{line:g,points:v}of l(this,Yi))ft._rescale(g,u,d,f,p,g),ft._rescale(v,u,d,f,p,v);c[2]*=f,c[3]*=p}return c[0]=e,c[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(e)} ${ft.svgRound(i)}`}}}get defaultSVGProperties(){const e=l(this,ni);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ft.svgRound(e[0])} ${ft.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}ni=new WeakMap,jv=new WeakMap,zv=new WeakMap,Yi=new WeakMap,oo=new WeakMap,ao=new WeakMap,Uf=new WeakMap,Hf=new WeakMap,Zu=new WeakMap,Ln=new WeakSet,Mo=function(e=l(this,Zu)){const i=l(this,zv)+e/2*l(this,Uf);return l(this,Hf)%180===0?[i/l(this,oo),i/l(this,ao)]:[i/l(this,ao),i/l(this,oo)]},yI=function(){const[e,i,s,r]=l(this,ni),[a,c]=k(this,Ln,Mo).call(this,0);return[e+a,i+c,s-2*a,r-2*c]},_I=function(){const e=b(this,ni,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of l(this,Yi)){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)pt.pointBoundingBox(r[u],r[u+1],e);continue}let a=r[4],c=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,g,v,x,_]=r.subarray(u,u+6);pt.bezierBoundingBox(a,c,f,p,g,v,x,_,e),a=x,c=_}}const[i,s]=k(this,Ln,Mo).call(this);e[0]=Vn(e[0]-i,0,1),e[1]=Vn(e[1]-s,0,1),e[2]=Vn(e[2]+i,0,1),e[3]=Vn(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},wI=function(e){const[i,s]=k(this,Ln,Mo).call(this);b(this,Zu,e);const[r,a]=k(this,Ln,Mo).call(this),[c,u]=[r-i,a-s],d=l(this,ni);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d};class zw extends gI{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:fe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new zw(this._viewParameters);return t.updateAll(this),t}}var ow,bI;const nd=class nd extends z0{constructor(e){super({...e,name:"inkEditor"});P(this,ow);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){fe.initialize(e,i),this._defaultDrawingOptions=new zw(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return kt(this,"typesMap",new Map([[Ft.INK_THICKNESS,"stroke-width"],[Ft.INK_COLOR,"stroke"],[Ft.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,r,a){return new BU(e,i,s,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,r,a,c){return sy.deserialize(e,i,s,r,a,c)}static async deserialize(e,i,s){let r=null;if(e instanceof wE){const{data:{inkLists:c,rect:u,rotation:d,id:f,color:p,opacity:g,borderStyle:{rawWidth:v},popupRef:x,richText:_,contentsObj:A,creationDate:w,modificationDate:S},parent:{page:{pageNumber:E}}}=e;r=e={annotationType:xt.INK,color:Array.from(p),thickness:v,opacity:g,paths:{points:c},boxes:null,pageIndex:E-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:x,richText:_,comment:(A==null?void 0:A.str)||null,creationDate:w,modificationDate:S}}const a=await super.deserialize(e,i,s);return a._initialData=r,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new F0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=nd.getDefaultDrawingOptions({stroke:pt.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":a,"stroke-width":c}}=this,u=Object.assign(super.serialize(e),{color:fe._colorManager.convert(r),opacity:a,thickness:c,paths:{lines:i,points:s}});return this.addComment(u),e?(u.isCopy=!0,u):this.annotationElementId&&!k(this,ow,bI).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};ow=new WeakSet,bI=function(e){const{color:i,thickness:s,opacity:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((c,u)=>c!==i[u])||e.thickness!==s||e.opacity!==r||e.pageIndex!==a},tt(nd,"_type","ink"),tt(nd,"_editorType",xt.INK),tt(nd,"_defaultDrawingOptions",null);let CS=nd;class PS extends sy{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const r_=8,Gp=3;var Xu,qt,TS,ar,xI,SI,kS,q_,AI,EI,CI,LS,MS,PI;class fo{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},r,a,c,u){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const p=200,g=f.font=`${i} ${s} ${p}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:x,actualBoundingBoxAscent:_,actualBoundingBoxDescent:A,fontBoundingBoxAscent:w,fontBoundingBoxDescent:S,width:E}=f.measureText(t),M=1.5,N=Math.ceil(Math.max(Math.abs(v)+Math.abs(x)||0,E)*M),D=Math.ceil(Math.max(Math.abs(_)+Math.abs(A)||p,Math.abs(w)+Math.abs(S)||p)*M);d=new OffscreenCanvas(N,D),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,N,D),f.fillStyle="black",f.fillText(t,N*(M-1)/2,D*(3-M)/2);const O=k(this,qt,LS).call(this,f.getImageData(0,0,N,D).data),B=k(this,qt,CI).call(this,O),z=k(this,qt,MS).call(this,B),H=k(this,qt,kS).call(this,O,N,D,z);return this.processDrawnLines({lines:{curves:H,width:N,height:D},pageWidth:r,pageHeight:a,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,r){const[a,c,u]=k(this,qt,PI).call(this,t),[d,f]=k(this,qt,EI).call(this,a,c,u,Math.hypot(c,u)*l(this,Xu).sigmaSFactor,l(this,Xu).sigmaR,l(this,Xu).kernelSize),p=k(this,qt,MS).call(this,f),g=k(this,qt,kS).call(this,d,c,u,p);return this.processDrawnLines({lines:{curves:g,width:c,height:u},pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:a,areContours:c}){s%180!==0&&([e,i]=[i,e]);const{curves:u,width:d,height:f}=t,p=t.thickness??0,g=[],v=Math.min(e/d,i/f),x=v/e,_=v/i,A=[];for(const{points:S}of u){const E=a?k(this,qt,AI).call(this,S):S;if(!E)continue;A.push(E);const M=E.length,N=new Float32Array(M),D=new Float32Array(3*(M===2?2:M-2));if(g.push({line:D,points:N}),M===2){N[0]=E[0]*x,N[1]=E[1]*_,D.set([NaN,NaN,NaN,NaN,N[0],N[1]],0);continue}let[O,B,z,H]=E;O*=x,B*=_,z*=x,H*=_,N.set([O,B,z,H],0),D.set([NaN,NaN,NaN,NaN,O,B],0);for(let W=4;W<M;W+=2){const V=N[W]=E[W]*x,J=N[W+1]=E[W+1]*_;D.set(ft.createBezierPoints(O,B,z,H,V,J),(W-2)*3),[O,B,z,H]=[z,H,V,J]}}if(g.length===0)return null;const w=c?new PS:new sy;return w.build(g,e,i,1,s,c?0:p,r),{outline:w,newCurves:A,areContours:c,thickness:p,width:d,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:r}){let a=1/0,c=-1/0,u=0;for(const E of t){u+=E.length;for(let M=2,N=E.length;M<N;M++){const D=E[M]-E[M-2];a=Math.min(a,D),c=Math.max(c,D)}}let d;a>=-128&&c<=127?d=Int8Array:a>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const f=t.length,p=r_+Gp*f,g=new Uint32Array(p);let v=0;g[v++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*d.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=s,g[v++]=r,g[v++]=e?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=f,g[v++]=d.BYTES_PER_ELEMENT;for(const E of t)g[v++]=E.length-2,g[v++]=E[0],g[v++]=E[1];const x=new CompressionStream("deflate-raw"),_=x.writable.getWriter();await _.ready,_.write(g);const A=d.prototype.constructor;for(const E of t){const M=new A(E.length-2);for(let N=2,D=E.length;N<D;N++)M[N-2]=E[N]-E[N-2];_.write(M)}_.close();const w=await new Response(x.readable).arrayBuffer(),S=new Uint8Array(w);return SR(S)}static async decompressSignature(t){try{const e=c6(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let a=null,c=0;for await(const E of i)a||(a=new Uint8Array(new Uint32Array(E.buffer,0,4)[0])),a.set(E,c),c+=E.length;const u=new Uint32Array(a.buffer,0,a.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=u[2],p=u[3],g=u[4]===0,v=u[5],x=u[6],_=u[7],A=[],w=(r_+Gp*x)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(_){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(a.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(a.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(a.buffer,w);break}c=0;for(let E=0;E<x;E++){const M=u[Gp*E+r_],N=new Float32Array(M+2);A.push(N);for(let D=0;D<Gp-1;D++)N[D]=u[Gp*E+r_+D+1];for(let D=0;D<M;D++)N[D+2]=N[D]+S[c++]}return{areContours:g,thickness:v,outlines:A,width:f,height:p}}catch(e){return St(`decompressSignature: ${e}`),null}}}Xu=new WeakMap,qt=new WeakSet,TS=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},ar=new WeakMap,xI=function(t,e,i,s,r,a,c){const u=k(this,qt,TS).call(this,i,s,r,a);for(let d=0;d<8;d++){const f=(-d+u-c+16)%8,p=l(this,ar)[2*f],g=l(this,ar)[2*f+1];if(t[(i+p)*e+(s+g)]!==0)return f}return-1},SI=function(t,e,i,s,r,a,c){const u=k(this,qt,TS).call(this,i,s,r,a);for(let d=0;d<8;d++){const f=(d+u+c+16)%8,p=l(this,ar)[2*f],g=l(this,ar)[2*f+1];if(t[(i+p)*e+(s+g)]!==0)return f}return-1},kS=function(t,e,i,s){const r=t.length,a=new Int32Array(r);for(let f=0;f<r;f++)a[f]=t[f]<=s?1:0;for(let f=1;f<i-1;f++)a[f*e]=a[f*e+e-1]=0;for(let f=0;f<e;f++)a[f]=a[e*i-1-f]=0;let c=1,u;const d=[];for(let f=1;f<i-1;f++){u=1;for(let p=1;p<e-1;p++){const g=f*e+p,v=a[g];if(v===0)continue;let x=f,_=p;if(v===1&&a[g-1]===0)c+=1,_-=1;else if(v>=1&&a[g+1]===0)c+=1,_+=1,v>1&&(u=v);else{v!==1&&(u=Math.abs(v));continue}const A=[p,f],w=_===p+1,S={isHole:w,points:A,id:c,parent:0};d.push(S);let E;for(const W of d)if(W.id===u){E=W;break}E?E.isHole?S.parent=w?E.parent:u:S.parent=w?u:E.parent:S.parent=w?u:0;const M=k(this,qt,xI).call(this,a,e,f,p,x,_,0);if(M===-1){a[g]=-c,a[g]!==1&&(u=Math.abs(a[g]));continue}let N=l(this,ar)[2*M],D=l(this,ar)[2*M+1];const O=f+N,B=p+D;x=O,_=B;let z=f,H=p;for(;;){const W=k(this,qt,SI).call(this,a,e,z,H,x,_,1);N=l(this,ar)[2*W],D=l(this,ar)[2*W+1];const V=z+N,J=H+D;A.push(J,V);const U=z*e+H;if(a[U+1]===0?a[U]=-c:a[U]===1&&(a[U]=c),V===f&&J===p&&z===O&&H===B){a[g]!==1&&(u=Math.abs(a[g]));break}else x=z,_=H,z=V,H=J}}}return d},q_=function(t,e,i,s){if(i-e<=4){for(let O=e;O<i-2;O+=2)s.push(t[O],t[O+1]);return}const r=t[e],a=t[e+1],c=t[i-4]-r,u=t[i-3]-a,d=Math.hypot(c,u),f=c/d,p=u/d,g=f*a-p*r,v=u/c,x=1/d,_=Math.atan(v),A=Math.cos(_),w=Math.sin(_),S=x*(Math.abs(A)+Math.abs(w)),E=x*(1-S+S**2),M=Math.max(Math.atan(Math.abs(w+A)*E),Math.atan(Math.abs(w-A)*E));let N=0,D=e;for(let O=e+2;O<i-2;O+=2){const B=Math.abs(g-f*t[O+1]+p*t[O]);B>N&&(D=O,N=B)}N>(d*M)**2?(k(this,qt,q_).call(this,t,e,D+2,s),k(this,qt,q_).call(this,t,D,i,s)):s.push(r,a)},AI=function(t){const e=[],i=t.length;return k(this,qt,q_).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},EI=function(t,e,i,s,r,a){const c=new Float32Array(a**2),u=-2*s**2,d=a>>1;for(let _=0;_<a;_++){const A=(_-d)**2;for(let w=0;w<a;w++)c[_*a+w]=Math.exp((A+(w-d)**2)/u)}const f=new Float32Array(256),p=-2*r**2;for(let _=0;_<256;_++)f[_]=Math.exp(_**2/p);const g=t.length,v=new Uint8Array(g),x=new Uint32Array(256);for(let _=0;_<i;_++)for(let A=0;A<e;A++){const w=_*e+A,S=t[w];let E=0,M=0;for(let D=0;D<a;D++){const O=_+D-d;if(!(O<0||O>=i))for(let B=0;B<a;B++){const z=A+B-d;if(z<0||z>=e)continue;const H=t[O*e+z],W=c[D*a+B]*f[Math.abs(H-S)];E+=H*W,M+=W}}const N=v[w]=Math.round(E/M);x[N]++}return[v,x]},CI=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},LS=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,r=1/0;for(let c=0,u=i.length;c<u;c++){const d=i[c]=t[c<<2];s=Math.max(s,d),r=Math.min(r,d)}const a=255/(s-r);for(let c=0,u=i.length;c<u;c++)i[c]=(i[c]-r)*a;return i},MS=function(t){let e,i=-1/0,s=-1/0;const r=t.findIndex(u=>u!==0);let a=r,c=r;for(e=r;e<256;e++){const u=t[e];u>i&&(e-a>s&&(s=e-a,c=e-1),i=u,a=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e},PI=function(t){const e=t,{width:i,height:s}=t,{maxDim:r}=l(this,Xu);let a=i,c=s;if(i>r||s>r){let g=i,v=s,x=Math.log2(Math.max(i,s)/r);const _=Math.floor(x);x=x===_?_-1:_;for(let w=0;w<x;w++){a=Math.ceil(g/2),c=Math.ceil(v/2);const S=new OffscreenCanvas(a,c);S.getContext("2d").drawImage(t,0,0,g,v,0,0,a,c),g=a,v=c,t!==e&&t.close(),t=S.transferToImageBitmap()}const A=Math.min(r/a,r/c);a=Math.round(a*A),c=Math.round(c*A)}const d=new OffscreenCanvas(a,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,c),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,a,c);const f=d.getImageData(0,0,a,c).data;return[k(this,qt,LS).call(this,f),a,c]},P(fo,qt),P(fo,Xu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),P(fo,ar,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class xE extends gI{constructor(){super(),super.updateProperties({fill:fe._defaultLineColor,"stroke-width":0})}clone(){const t=new xE;return t.updateAll(this),t}}class SE extends zw{constructor(t){super(t),super.updateProperties({stroke:fe._defaultLineColor,"stroke-width":1})}clone(){const t=new SE(this._viewParameters);return t.updateAll(this),t}}var Fl,lo,Bl,Yu;const Ii=class Ii extends z0{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});P(this,Fl,!1);P(this,lo,null);P(this,Bl,null);P(this,Yu,null);this._willKeepAspectRatio=!0,b(this,Bl,e.signatureData||null),b(this,lo,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){fe.initialize(e,i),this._defaultDrawingOptions=new xE,this._defaultDrawnSignatureOptions=new SE(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return kt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,lo)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(l(this,Bl)){const{lines:r,mustSmooth:a,areContours:c,description:u,uuid:d,heightInPage:f}=l(this,Bl),{rawDims:{pageWidth:p,pageHeight:g},rotation:v}=this.parent.viewport,x=fo.processDrawnLines({lines:r,pageWidth:p,pageHeight:g,rotation:v,innerMargin:Ii._INNER_MARGIN,mustSmooth:a,areContours:c});this.addSignature(x,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,lo)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){b(this,Yu,e),this.addEditToolbar()}getUuid(){return l(this,Yu)}get description(){return l(this,lo)}set description(e){b(this,lo,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:r,height:a}=l(this,Bl),c=Math.max(r,a),u=fo.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:s,width:r,height:a},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,s,r){const{x:a,y:c}=this,{outline:u}=b(this,Bl,e);b(this,Fl,u instanceof PS),this.description=s;let d;l(this,Fl)?d=Ii.getDefaultDrawingOptions():(d=Ii._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=a,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return fo.process(e,i,s,r,Ii._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:a}=this.parent.viewport;return fo.extractContoursFromText(e,i,s,r,a,Ii._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return fo.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:r,innerMargin:Ii._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Ii.getDefaultDrawingOptions():(this._drawingOptions=Ii._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:l(this,Fl),color:[0,0,0],thickness:l(this,Fl)?0:r});return this.addComment(a),e?(a.paths={lines:i,points:s},a.uuid=l(this,Yu),a.isCopy=!0):a.lines=i,l(this,lo)&&(a.accessibilityData={type:"Figure",alt:l(this,lo)}),a}static deserializeDraw(e,i,s,r,a,c){return c.areContours?PS.deserialize(e,i,s,r,a,c):sy.deserialize(e,i,s,r,a,c)}static async deserialize(e,i,s){var a;const r=await super.deserialize(e,i,s);return b(r,Fl,e.areContours),r.description=((a=e.accessibilityData)==null?void 0:a.alt)||"",b(r,Yu,e.uuid),r}};Fl=new WeakMap,lo=new WeakMap,Bl=new WeakMap,Yu=new WeakMap,tt(Ii,"_type","signature"),tt(Ii,"_editorType",xt.SIGNATURE),tt(Ii,"_defaultDrawingOptions",null);let RS=Ii;var xe,gn,jl,fa,zl,$f,pa,Ku,co,Ki,Wf,$t,gm,vm,Z_,X_,Y_,IS,K_,TI;class NS extends fe{constructor(e){super({...e,name:"stampEditor"});P(this,$t);P(this,xe,null);P(this,gn,null);P(this,jl,null);P(this,fa,null);P(this,zl,null);P(this,$f,"");P(this,pa,null);P(this,Ku,!1);P(this,co,null);P(this,Ki,!1);P(this,Wf,!1);b(this,fa,e.bitmapUrl),b(this,zl,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){fe.initialize(e,i)}static isHandlingMimeForPasting(e){return R0.includes(e)}static paste(e,i){i.pasteEditor({mode:xt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:c}=e||this.copyCanvas(null,null,!0).imageData,u=await s.guess({name:"altText",request:{data:r,width:a,height:c,channels:r.length/(a*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e;l(this,gn)&&(b(this,xe,null),this._uiManager.imageManager.deleteId(l(this,gn)),(e=l(this,pa))==null||e.remove(),b(this,pa,null),l(this,co)&&(clearTimeout(l(this,co)),b(this,co,null))),super.remove()}rebuild(){if(!this.parent){l(this,gn)&&k(this,$t,Z_).call(this);return}super.rebuild(),this.div!==null&&(l(this,gn)&&l(this,pa)===null&&k(this,$t,Z_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(l(this,jl)||l(this,xe)||l(this,fa)||l(this,zl)||l(this,gn)||l(this,Ku))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,Ku)||(l(this,xe)?k(this,$t,X_).call(this):k(this,$t,Z_).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(b(this,gn,s),r&&b(this,xe,r),b(this,Ku,!1),k(this,$t,X_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,co)!==null&&clearTimeout(l(this,co)),b(this,co,setTimeout(()=>{b(this,co,null),k(this,$t,IS).call(this)},200))}copyCanvas(e,i,s=!1){e||(e=224);const{width:r,height:a}=l(this,xe),c=new wr;let u=l(this,xe),d=r,f=a,p=null;if(i){if(r>i||a>i){const O=Math.min(i/r,i/a);d=Math.floor(r*O),f=Math.floor(a*O)}p=document.createElement("canvas");const v=p.width=Math.ceil(d*c.sx),x=p.height=Math.ceil(f*c.sy);l(this,Ki)||(u=k(this,$t,Y_).call(this,v,x));const _=p.getContext("2d");_.filter=this._uiManager.hcmFilter;let A="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":d6.isDarkMode&&(A="#8f8f9d",w="#42414d");const S=15,E=S*c.sx,M=S*c.sy,N=new OffscreenCanvas(E*2,M*2),D=N.getContext("2d");D.fillStyle=A,D.fillRect(0,0,E*2,M*2),D.fillStyle=w,D.fillRect(0,0,E,M),D.fillRect(E,M,E,M),_.fillStyle=_.createPattern(N,"repeat"),_.fillRect(0,0,v,x),_.drawImage(u,0,0,u.width,u.height,0,0,v,x)}let g=null;if(s){let v,x;if(c.symmetric&&u.width<e&&u.height<e)v=u.width,x=u.height;else if(u=l(this,xe),r>e||a>e){const w=Math.min(e/r,e/a);v=Math.floor(r*w),x=Math.floor(a*w),l(this,Ki)||(u=k(this,$t,Y_).call(this,v,x))}const A=new OffscreenCanvas(v,x).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,v,x),g={width:v,height:x,data:A.getImageData(0,0,v,x).data}}return{canvas:p,width:d,height:f,imageData:g}}static async deserialize(e,i,s){var A;let r=null,a=!1;if(e instanceof WN){const{data:{rect:w,rotation:S,id:E,structParent:M,popupRef:N,richText:D,contentsObj:O,creationDate:B,modificationDate:z},container:H,parent:{page:{pageNumber:W}},canvas:V}=e;let J,U;V?(delete e.canvas,{id:J,bitmap:U}=s.imageManager.getFromCanvas(H.id,V),V.remove()):(a=!0,e._hasNoCanvas=!0);const et=((A=await i._structTree.getAriaAttributes(`${hE}${E}`))==null?void 0:A.get("aria-label"))||"";r=e={annotationType:xt.STAMP,bitmapId:J,bitmap:U,pageIndex:W-1,rect:w.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:et},isSvg:!1,structParent:M,popupRef:N,richText:D,comment:(O==null?void 0:O.str)||null,creationDate:B,modificationDate:z}}const c=await super.deserialize(e,i,s),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:v}=e;a?(s.addMissingCanvas(e.id,c),b(c,Ku,!0)):p&&s.imageManager.isValidId(p)?(b(c,gn,p),d&&b(c,xe,d)):b(c,fa,f),b(c,Ki,g);const[x,_]=c.pageDimensions;return c.width=(u[2]-u[0])/x,c.height=(u[3]-u[1])/_,v&&(c.altTextData=v),c._initialData=r,e.comment&&c.setCommentData(e),b(c,Wf,!!r),c}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:l(this,gn),isSvg:l(this,Ki)});if(this.addComment(s),e)return s.bitmapUrl=k(this,$t,K_).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const u=k(this,$t,TI).call(this,s);return u.isSame?null:(u.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(i===null)return s;i.stamps||(i.stamps=new Map);const c=l(this,Ki)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(l(this,gn)))i.stamps.set(l(this,gn),{area:c,serialized:s}),s.bitmap=k(this,$t,K_).call(this,!1);else if(l(this,Ki)){const u=i.stamps.get(l(this,gn));c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=k(this,$t,K_).call(this,!1))}return s}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}xe=new WeakMap,gn=new WeakMap,jl=new WeakMap,fa=new WeakMap,zl=new WeakMap,$f=new WeakMap,pa=new WeakMap,Ku=new WeakMap,co=new WeakMap,Ki=new WeakMap,Wf=new WeakMap,$t=new WeakSet,gm=function(e,i=!1){if(!e){this.remove();return}b(this,xe,e.bitmap),i||(b(this,gn,e.id),b(this,Ki,e.isSvg)),e.file&&b(this,$f,e.file.name),k(this,$t,X_).call(this)},vm=function(){if(b(this,jl,null),this._uiManager.enableWaiting(!1),!!l(this,pa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,xe)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,xe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Z_=function(){if(l(this,gn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,gn)).then(s=>k(this,$t,gm).call(this,s,!0)).finally(()=>k(this,$t,vm).call(this));return}if(l(this,fa)){const s=l(this,fa);b(this,fa,null),this._uiManager.enableWaiting(!0),b(this,jl,this._uiManager.imageManager.getFromUrl(s).then(r=>k(this,$t,gm).call(this,r)).finally(()=>k(this,$t,vm).call(this)));return}if(l(this,zl)){const s=l(this,zl);b(this,zl,null),this._uiManager.enableWaiting(!0),b(this,jl,this._uiManager.imageManager.getFromFile(s).then(r=>k(this,$t,gm).call(this,r)).finally(()=>k(this,$t,vm).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=R0.join(",");const i=this._uiManager._signal;b(this,jl,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,$t,gm).call(this,r)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>k(this,$t,vm).call(this))),e.click()},X_=function(){var d;const{div:e}=this;let{width:i,height:s}=l(this,xe);const[r,a]=this.pageDimensions,c=.75;if(this.width)i=this.width*r,s=this.height*a;else if(i>c*r||s>c*a){const f=Math.min(c*r/i,c*a/s);i*=f,s*=f}this._uiManager.enableWaiting(!1);const u=b(this,pa,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=i/r,this.height=s/a,this.setDims(),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),k(this,$t,IS).call(this),l(this,Wf)||(this.parent.addUndoableEditor(this),b(this,Wf,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,$f)&&this.div.setAttribute("aria-description",l(this,$f)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Y_=function(e,i){const{width:s,height:r}=l(this,xe);let a=s,c=r,u=l(this,xe);for(;a>2*e||c>2*i;){const d=a,f=c;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(a,c);p.getContext("2d").drawImage(u,0,0,d,f,0,0,a,c),u=p.transferToImageBitmap()}return u},IS=function(){const[e,i]=this.parentDimensions,{width:s,height:r}=this,a=new wr,c=Math.ceil(s*e*a.sx),u=Math.ceil(r*i*a.sy),d=l(this,pa);if(!d||d.width===c&&d.height===u)return;d.width=c,d.height=u;const f=l(this,Ki)?l(this,xe):k(this,$t,Y_).call(this,c,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)},K_=function(e){if(e){if(l(this,Ki)){const r=this._uiManager.imageManager.getSvgUrl(l(this,gn));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=l(this,xe),i.getContext("2d").drawImage(l(this,xe),0,0),i.toDataURL()}if(l(this,Ki)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*La.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*La.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,a);return c.getContext("2d").drawImage(l(this,xe),0,0,l(this,xe).width,l(this,xe).height,0,0,r,a),c.transferToImageBitmap()}return structuredClone(l(this,xe))},TI=function(e){var c;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=e.pageIndex===i,a=(((c=e.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}},tt(NS,"_type","stamp"),tt(NS,"_editorType",xt.STAMP);var Qu,Vf,Ul,Hl,ma,Si,$l,Gf,qf,lr,ga,vn,va,Wl,Zf,vt,Vl,oe,DS,kI,Or,OS,FS,Q_;const qs=class qs{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:c,textLayer:u,viewport:d,l10n:f}){P(this,oe);P(this,Qu);P(this,Vf,!1);P(this,Ul,null);P(this,Hl,null);P(this,ma,null);P(this,Si,new Map);P(this,$l,!1);P(this,Gf,!1);P(this,qf,!1);P(this,lr,null);P(this,ga,null);P(this,vn,null);P(this,va,null);P(this,Wl,null);P(this,Zf,-1);P(this,vt);const p=[...l(qs,Vl).values()];if(!qs._initialized){qs._initialized=!0;for(const g of p)g.initialize(f,t)}t.registerEditorTypes(p),b(this,vt,t),this.pageIndex=e,this.div=i,b(this,Qu,r),b(this,Ul,a),this.viewport=d,b(this,vn,u),this.drawLayer=c,this._structTree=s,l(this,vt).addLayer(this)}get isEmpty(){return l(this,Si).size===0}get isInvisible(){return this.isEmpty&&l(this,vt).getMode()===xt.NONE}updateToolbar(t){l(this,vt).updateToolbar(t)}updateMode(t=l(this,vt).getMode()){switch(k(this,oe,Q_).call(this),t){case xt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case xt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===xt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of l(qs,Vl).values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=l(this,vn))==null?void 0:e.div)}setEditingState(t){l(this,vt).setEditingState(t)}addCommands(t){l(this,vt).addCommands(t)}cleanUndoStack(t){l(this,vt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=l(this,Ul))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;b(this,qf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=l(this,Wl))==null||i.abort(),b(this,Wl,null);const t=new Set;for(const s of l(this,oe,DS))s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,vt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));const e=l(this,Ul);if(e)for(const s of e.getEditableAnnotations()){if(s.hide(),l(this,vt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}b(this,qf,!1),l(this,vt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(b(this,Gf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,vn)&&!l(this,Wl)){b(this,Wl,new AbortController);const s=l(this,vt).combinedSignal(l(this,Wl));l(this,vn).div.addEventListener("pointerdown",r=>{const{clientX:c,clientY:u,timeStamp:d}=r,f=l(this,Zf);if(d-f>500){b(this,Zf,d);return}b(this,Zf,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(c,u);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const x=new RegExp(`^${Qm}[0-9]+$`);for(const A of g)if(x.test(A.id)){v=A.id;break}if(!v)return;const _=l(this,Si).get(v);(_==null?void 0:_.annotationElementId)===null&&(r.stopPropagation(),r.preventDefault(),_.dblclick(r))},{signal:s,capture:!0})}const t=l(this,Ul);if(t){const s=new Map,r=new Map;for(const c of l(this,oe,DS)){if(c.disableEditing(),!c.annotationElementId){c.updateFakeAnnotationElement(t);continue}if(c.serialize()!==null){s.set(c.annotationElementId,c);continue}else r.set(c.annotationElementId,c);(i=this.getEditableAnnotation(c.annotationElementId))==null||i.show(),c.remove()}const a=t.getEditableAnnotations();for(const c of a){const{id:u}=c.data;if(l(this,vt).isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=s.get(u),d&&(l(this,vt).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}k(this,oe,Q_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const s of l(qs,Vl).values())e.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Gf,!1)}getEditableAnnotation(t){var e;return((e=l(this,Ul))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){l(this,vt).getActive()!==t&&l(this,vt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=l(this,vn))!=null&&t.div&&!l(this,va)){b(this,va,new AbortController);const e=l(this,vt).combinedSignal(l(this,va));l(this,vn).div.addEventListener("pointerdown",k(this,oe,kI).bind(this),{signal:e}),l(this,vn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=l(this,vn))!=null&&t.div&&l(this,va)&&(l(this,va).abort(),b(this,va,null),l(this,vn).div.classList.remove("highlighting"))}enableClick(){if(l(this,Hl))return;b(this,Hl,new AbortController);const t=l(this,vt).combinedSignal(l(this,Hl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=l(this,Hl))==null||t.abort(),b(this,Hl,null)}attach(t){l(this,Si).set(t.id,t);const{annotationElementId:e}=t;e&&l(this,vt).isDeletedAnnotationElement(e)&&l(this,vt).removeDeletedAnnotationElement(t)}detach(t){var e;l(this,Si).delete(t.id),(e=l(this,Qu))==null||e.removePointerInTextLayer(t.contentDiv),!l(this,Gf)&&t.annotationElementId&&l(this,vt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),l(this,vt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(l(this,vt).addDeletedAnnotationElement(t.annotationElementId),fe.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),l(this,vt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!l(this,qf)),l(this,vt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!l(this,ma)&&(t._focusEventsAllowed=!1,b(this,ma,setTimeout(()=>{b(this,ma,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:l(this,vt)._signal}),e.focus())},0))),t._structTreeParentId=(i=l(this,Qu))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of l(this,Si).values())if(e.uid===t)return e;return null}getNextId(){return l(this,vt).getId()}combinedSignal(t){return l(this,vt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=l(this,oe,Or))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await l(this,vt).updateMode(t.mode);const{offsetX:i,offsetY:s}=k(this,oe,FS).call(this),r=this.getNextId(),a=k(this,oe,OS).call(this,{parent:this,id:r,x:i,y:s,uiManager:l(this,vt),isCentered:!0,...e});a&&this.add(a)}async deserialize(t){var e;return await((e=l(qs,Vl).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,l(this,vt)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),r=k(this,oe,OS).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:l(this,vt),isCentered:e,...i});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(t={}){this.createAndAddNewEditor(k(this,oe,FS).call(this),!0,t)}setSelected(t){l(this,vt).setSelected(t)}toggleSelected(t){l(this,vt).toggleSelected(t)}unselect(t){l(this,vt).unselect(t)}pointerup(t){var s;const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!l(this,$l)||(b(this,$l,!1),(s=l(this,oe,Or))!=null&&s.isDrawer&&l(this,oe,Or).supportMultipleDrawings))return;if(!l(this,Vf)){b(this,Vf,!0);return}const i=l(this,vt).getMode();if(i===xt.STAMP||i===xt.SIGNATURE){l(this,vt).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(l(this,vt).getMode()===xt.HIGHLIGHT&&this.enableTextSelection(),l(this,$l)){b(this,$l,!1);return}const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(b(this,$l,!0),(s=l(this,oe,Or))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=l(this,vt).getActive();b(this,Vf,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),l(this,lr)){l(this,oe,Or).startDrawing(this,l(this,vt),!1,t);return}l(this,vt).setCurrentDrawingSession(this),b(this,lr,new AbortController);const e=l(this,vt).combinedSignal(l(this,lr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(b(this,ga,null),this.commitOrRemove())},{signal:e}),l(this,oe,Or).startDrawing(this,l(this,vt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&b(this,ga,e);return}l(this,ga)&&setTimeout(()=>{var e;(e=l(this,ga))==null||e.focus(),b(this,ga,null)},0)}endDrawingSession(t=!1){return l(this,lr)?(l(this,vt).setCurrentDrawingSession(null),l(this,lr).abort(),b(this,lr,null),b(this,ga,null),l(this,oe,Or).endDrawing(t)):null}findNewParent(t,e,i){const s=l(this,vt).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return l(this,lr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,lr)&&l(this,oe,Or).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=l(this,vt).getActive())==null?void 0:t.parent)===this&&(l(this,vt).commitOrRemove(),l(this,vt).setActiveEditor(null)),l(this,ma)&&(clearTimeout(l(this,ma)),b(this,ma,null));for(const i of l(this,Si).values())(e=l(this,Qu))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,l(this,Si).clear(),l(this,vt).removeLayer(this)}render({viewport:t}){this.viewport=t,uc(this.div,t);for(const e of l(this,vt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){l(this,vt).commitOrRemove(),k(this,oe,Q_).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,uc(this.div,{rotation:i}),e!==i)for(const s of l(this,Si).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return l(this,vt).viewParameters.realScale}};Qu=new WeakMap,Vf=new WeakMap,Ul=new WeakMap,Hl=new WeakMap,ma=new WeakMap,Si=new WeakMap,$l=new WeakMap,Gf=new WeakMap,qf=new WeakMap,lr=new WeakMap,ga=new WeakMap,vn=new WeakMap,va=new WeakMap,Wl=new WeakMap,Zf=new WeakMap,vt=new WeakMap,Vl=new WeakMap,oe=new WeakSet,DS=function(){return l(this,Si).size!==0?l(this,Si).values():l(this,vt).getEditors(this.pageIndex)},kI=function(t){l(this,vt).unselectAll();const{target:e}=t;if(e===l(this,vn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&l(this,vn).div.contains(e)){const{isMac:i}=wn.platform;if(t.button!==0||t.ctrlKey&&i)return;l(this,vt).showAllEditors("highlight",!0,!0),l(this,vn).div.classList.add("free"),this.toggleDrawing(),j0.startHighlighting(this,l(this,vt).direction==="ltr",{target:l(this,vn).div,x:t.x,y:t.y}),l(this,vn).div.addEventListener("pointerup",()=>{l(this,vn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,vt)._signal}),t.preventDefault()}},Or=function(){return l(qs,Vl).get(l(this,vt).getMode())},OS=function(t){const e=l(this,oe,Or);return e?new e.prototype.constructor(t):null},FS=function(){const{x:t,y:e,width:i,height:s}=this.boundingClientRect,r=Math.max(0,t),a=Math.max(0,e),c=Math.min(window.innerWidth,t+i),u=Math.min(window.innerHeight,e+s),d=(r+c)/2-t,f=(a+u)/2-e,[p,g]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:p,offsetY:g}},Q_=function(){for(const t of l(this,Si).values())t.isEmpty()&&t.remove()},tt(qs,"_initialized",!1),P(qs,Vl,new Map([gS,CS,NS,j0,RS].map(t=>[t._editorType,t])));let U0=qs;var cr,ii,Ju,Uv,aw,LI,_o,BS,MI,jS;const en=class en{constructor({pageIndex:t}){P(this,_o);P(this,cr,null);P(this,ii,new Map);P(this,Ju,new Map);this.pageIndex=t}setParent(t){if(!l(this,cr)){b(this,cr,t);return}if(l(this,cr)!==t){if(l(this,ii).size>0)for(const e of l(this,ii).values())e.remove(),t.append(e);b(this,cr,t)}}static get _svgFactory(){return kt(this,"_svgFactory",new rg)}draw(t,e=!1,i=!1){const s=Ie(en,Uv)._++,r=k(this,_o,BS).call(this),a=en._svgFactory.createElement("defs");r.append(a);const c=en._svgFactory.createElement("path");a.append(c);const u=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),e&&l(this,Ju).set(s,c);const d=i?k(this,_o,MI).call(this,a,u):null,f=en._svgFactory.createElement("use");return r.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(r,t),l(this,ii).set(s,r),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const i=Ie(en,Uv)._++,s=k(this,_o,BS).call(this),r=en._svgFactory.createElement("defs");s.append(r);const a=en._svgFactory.createElement("path");r.append(a);const c=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke");let u;if(e){const p=en._svgFactory.createElement("mask");r.append(p),u=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const g=en._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=en._svgFactory.createElement("use");p.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=en._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${c}`),u&&d.setAttribute("mask",`url(#${u})`);const f=d.cloneNode();return s.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(s,t),l(this,ii).set(i,s),i}finalizeDraw(t,e){l(this,Ju).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var u;if(!e)return;const{root:i,bbox:s,rootClass:r,path:a}=e,c=typeof t=="number"?l(this,ii).get(t):t;if(c){if(i&&k(this,_o,jS).call(this,c,i),s&&k(u=en,aw,LI).call(u,c,s),r){const{classList:d}=c;for(const[f,p]of Object.entries(r))d.toggle(f,p)}if(a){const f=c.firstChild.firstChild;k(this,_o,jS).call(this,f,a)}}}updateParent(t,e){if(e===this)return;const i=l(this,ii).get(t);i&&(l(e,cr).append(i),l(this,ii).delete(t),l(e,ii).set(t,i))}remove(t){l(this,Ju).delete(t),l(this,cr)!==null&&(l(this,ii).get(t).remove(),l(this,ii).delete(t))}destroy(){b(this,cr,null);for(const t of l(this,ii).values())t.remove();l(this,ii).clear(),l(this,Ju).clear()}};cr=new WeakMap,ii=new WeakMap,Ju=new WeakMap,Uv=new WeakMap,aw=new WeakSet,LI=function(t,[e,i,s,r]){const{style:a}=t;a.top=`${100*i}%`,a.left=`${100*e}%`,a.width=`${100*s}%`,a.height=`${100*r}%`},_o=new WeakSet,BS=function(){const t=en._svgFactory.create(1,1,!0);return l(this,cr).append(t),t.setAttribute("aria-hidden",!0),t},MI=function(t,e){const i=en._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=en._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},jS=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},P(en,aw),P(en,Uv,0);let H0=en;globalThis._pdfjsTestingUtils={HighlightOutliner:yS};globalThis.pdfjsLib={AbortException:ka,AnnotationEditorLayer:U0,AnnotationEditorParamsType:Ft,AnnotationEditorType:xt,AnnotationEditorUIManager:hc,AnnotationLayer:bE,AnnotationMode:ho,AnnotationType:We,applyOpacity:TR,build:RN,ColorPicker:sg,createValidAbsoluteUrl:lE,CSSConstants:PR,DOMSVGFactory:rg,DrawLayer:H0,FeatureTest:wn,fetchData:mp,findContrastColor:kR,getDocument:vE,getFilenameFromUrl:AR,getPdfFilenameFromUrl:ER,getRGB:gp,getUuid:uE,getXfaPageViewport:CR,GlobalWorkerOptions:Ns,ImageKind:Tm,InvalidPDFException:M0,isDataScheme:ey,isPdfFile:Bw,isValidExplicitDest:lN,MathClamp:Vn,noContextMenu:ls,normalizeUnicode:xR,OPS:sp,OutputScale:wr,PasswordResponses:wR,PDFDataRangeTransport:yE,PDFDateString:eg,PDFWorker:rp,PermissionFlag:_R,PixelsPerInch:La,RenderingCancelledException:Fw,renderRichText:fE,ResponseException:Jm,setLayerDimensions:uc,shadow:kt,SignatureExtractor:fo,stopEvent:Te,SupportedImageMimeTypes:R0,TextLayer:ig,TouchManager:ng,updateUrlHash:cE,Util:pt,VerbosityLevel:Qv,version:MN,XfaLayer:dE};const jU=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ka,AnnotationEditorLayer:U0,AnnotationEditorParamsType:Ft,AnnotationEditorType:xt,AnnotationEditorUIManager:hc,AnnotationLayer:bE,AnnotationMode:ho,AnnotationType:We,CSSConstants:PR,ColorPicker:sg,DOMSVGFactory:rg,DrawLayer:H0,FeatureTest:wn,GlobalWorkerOptions:Ns,ImageKind:Tm,InvalidPDFException:M0,MathClamp:Vn,OPS:sp,OutputScale:wr,PDFDataRangeTransport:yE,PDFDateString:eg,PDFWorker:rp,PasswordResponses:wR,PermissionFlag:_R,PixelsPerInch:La,RenderingCancelledException:Fw,ResponseException:Jm,SignatureExtractor:fo,SupportedImageMimeTypes:R0,TextLayer:ig,TouchManager:ng,Util:pt,VerbosityLevel:Qv,XfaLayer:dE,applyOpacity:TR,build:RN,createValidAbsoluteUrl:lE,fetchData:mp,findContrastColor:kR,getDocument:vE,getFilenameFromUrl:AR,getPdfFilenameFromUrl:ER,getRGB:gp,getUuid:uE,getXfaPageViewport:CR,isDataScheme:ey,isPdfFile:Bw,isValidExplicitDest:lN,noContextMenu:ls,normalizeUnicode:xR,renderRichText:fE,setLayerDimensions:uc,shadow:kt,stopEvent:Te,updateUrlHash:cE,version:MN},Symbol.toStringTag,{value:"Module"}));var GT=Object.prototype.hasOwnProperty;function qT(n,t,e){for(e of n.keys())if(dd(e,t))return e}function dd(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&dd(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=qT(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=qT(t,s),!s)||!dd(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(GT.call(n,e)&&++i&&!GT.call(t,e)||!(e in t)||!dd(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function ry(n){let t=!1;return{promise:new Promise((i,s)=>{n.then(r=>!t&&i(r)).catch(r=>!t&&s(r))}),cancel(){t=!0}}}const zU=["onCopy","onCut","onPaste"],UU=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],HU=["onFocus","onBlur"],$U=["onInput","onInvalid","onReset","onSubmit"],WU=["onLoad","onError"],VU=["onKeyDown","onKeyPress","onKeyUp"],GU=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],qU=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],ZU=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],XU=["onSelect"],YU=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],KU=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],QU=["onScroll"],JU=["onWheel"],tH=["onAnimationStart","onAnimationEnd","onAnimationIteration"],eH=["onTransitionEnd"],nH=["onToggle"],iH=["onChange"],sH=[...zU,...UU,...HU,...$U,...WU,...VU,...GU,...qU,...ZU,...XU,...YU,...KU,...QU,...JU,...tH,...eH,...iH,...nH];function RI(n,t){const e={};for(const i of sH){const s=n[i];s&&(t?e[i]=r=>s(r,t(i)):e[i]=s)}return e}var rH="Invariant failed";function re(n,t){if(!n)throw new Error(rH)}var oH=function(){},aH=oH;const qn=HS(aH),NI=I.createContext(null),lH="noopener noreferrer nofollow";class cH{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return re(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){re(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||lH,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{re(this.pdfDocument),re(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{re(Array.isArray(e));const i=e[0];new Promise(s=>{re(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(r=>{s(r)}).catch(()=>{re(!1)}):typeof i=="number"?s(i):re(!1)}).then(s=>{const r=s+1;re(this.pdfViewer),re(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}goToPage(t){const e=t-1;re(this.pdfViewer),re(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function fd({children:n,type:t}){return T.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const ZT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function uH(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function op(){return I.useReducer(uH,{value:void 0,error:void 0})}const Uw=typeof window<"u",II=Uw&&window.location.protocol==="file:";function hH(n){return typeof n<"u"}function Sc(n){return hH(n)&&n!==null}function dH(n){return typeof n=="string"}function fH(n){return n instanceof ArrayBuffer}function pH(n){return re(Uw),n instanceof Blob}function zS(n){return dH(n)&&/^data:/.test(n)}function XT(n){re(zS(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function mH(){return Uw&&window.devicePixelRatio||1}const DI="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function YT(){qn(!II,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${DI}`)}function gH(){qn(!II,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${DI}`)}function ch(n){n!=null&&n.cancel&&n.cancel()}function US(n,t){return Object.defineProperty(n,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),n}function OI(n){return n.name==="AbortException"||n.name==="RenderingCancelledException"}function vH(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:yH}=jU,_H=(n,t)=>{switch(t){case ZT.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case ZT.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function KT(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const wH=I.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:r,file:a,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:v,onLoadSuccess:x,onPassword:_=_H,onSourceError:A,onSourceSuccess:w,options:S,renderMode:E,rotate:M,scale:N,...D},O){const[B,z]=op(),{value:H,error:W}=B,[V,J]=op(),{value:U,error:et}=V,q=I.useRef(new cH),Y=I.useRef([]),j=I.useRef(void 0),Z=I.useRef(void 0);a&&a!==j.current&&KT(a)&&(qn(!dd(a,j.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),j.current=a),S&&S!==Z.current&&(qn(!dd(S,Z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Z.current=S);const X=I.useRef({scrollPageIntoView:Dt=>{const{dest:zt,pageNumber:Kt,pageIndex:Ne=Kt-1}=Dt;if(p){p({dest:zt,pageIndex:Ne,pageNumber:Kt});return}const le=Y.current[Ne];if(le){le.scrollIntoView();return}qn(!1,`An internal link leading to page ${Kt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});I.useImperativeHandle(O,()=>({linkService:q,pages:Y,viewer:X}),[]);function rt(){w&&w()}function Q(){W&&(qn(!1,W.toString()),A&&A(W))}function it(){z({type:"RESET"})}I.useEffect(it,[a,z]);const at=I.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return zS(a)?{data:XT(a)}:(YT(),{url:a});if(a instanceof yH)return{range:a};if(fH(a))return{data:a};if(Uw&&pH(a))return{data:await vH(a)};if(re(typeof a=="object"),re(KT(a)),"url"in a&&typeof a.url=="string"){if(zS(a.url)){const{url:Dt,...zt}=a;return{data:XT(Dt),...zt}}YT()}return a},[a]);I.useEffect(()=>{const Dt=ry(at());return Dt.promise.then(zt=>{z({type:"RESOLVE",value:zt})}).catch(zt=>{z({type:"REJECT",error:zt})}),()=>{ch(Dt)}},[at,z]),I.useEffect(()=>{if(!(typeof H>"u")){if(H===!1){Q();return}rt()}},[H]);function ut(){U&&(x&&x(U),Y.current=new Array(U.numPages),q.current.setDocument(U))}function dt(){et&&(qn(!1,et.toString()),g&&g(et))}I.useEffect(function(){J({type:"RESET"})},[J,H]),I.useEffect(function(){if(!H)return;const zt=S?{...H,...S}:H,Kt=vE(zt);v&&(Kt.onProgress=v),_&&(Kt.onPassword=_);const Ne=Kt;return Ne.promise.then(le=>{Ne.destroyed||J({type:"RESOLVE",value:le})}).catch(le=>{Ne.destroyed||J({type:"REJECT",error:le})}),()=>{Ne.destroy()}},[S,J,H]),I.useEffect(()=>{if(!(typeof U>"u")){if(U===!1){dt();return}ut()}},[U]),I.useEffect(function(){q.current.setViewer(X.current),q.current.setExternalLinkRel(s),q.current.setExternalLinkTarget(r)},[s,r]);const ct=I.useCallback((Dt,zt)=>{Y.current[Dt]=zt},[]),pe=I.useCallback(Dt=>{delete Y.current[Dt]},[]),He=I.useMemo(()=>({imageResourcesPath:u,linkService:q.current,onItemClick:p,pdf:U,registerPage:ct,renderMode:E,rotate:M,scale:N,unregisterPage:pe}),[u,p,U,ct,E,M,N,pe]),me=I.useMemo(()=>RI(D,()=>U),[D,U]);function Et(){function Dt(Kt){return!!(Kt!=null&&Kt.pdf)}if(!Dt(He))throw new Error("pdf is undefined");const zt=typeof t=="function"?t(He):t;return T.jsx(NI.Provider,{value:He,children:zt})}function Re(){return a?U==null?T.jsx(fd,{type:"loading",children:typeof d=="function"?d():d}):U===!1?T.jsx(fd,{type:"error",children:typeof i=="function"?i():i}):Et():T.jsx(fd,{type:"no-data",children:typeof f=="function"?f():f})}return T.jsx("div",{className:hp("react-pdf__Document",e),ref:c,...me,children:Re()})});function FI(){return I.useContext(NI)}function BI(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(r){for(var a=0,c=e;a<c.length;a++){var u=c[a];typeof u=="function"?u(r):u&&(u.current=r)}}}const jI=I.createContext(null);function Hw(){return I.useContext(jI)}function bH(){const n=FI(),t=Hw();re(t);const e={...n,...t},{filterAnnotations:i,imageResourcesPath:s,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:g,rotate:v,scale:x=1}=e;re(p),re(f),re(r);const[_,A]=op(),{value:w,error:S}=_,E=I.useRef(null);qn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){w&&c&&c(w)}function N(){S&&(qn(!1,S.toString()),a&&a(S))}I.useEffect(function(){A({type:"RESET"})},[A,f]),I.useEffect(function(){if(!f)return;const H=ry(f.getAnnotations()),W=H;return H.promise.then(V=>{A({type:"RESOLVE",value:V})}).catch(V=>{A({type:"REJECT",error:V})}),()=>{ch(W)}},[A,f]),I.useEffect(()=>{if(w!==void 0){if(w===!1){N();return}M()}},[w]);function D(){d&&d()}function O(z){qn(!1,`${z}`),u&&u(z)}const B=I.useMemo(()=>f.getViewport({scale:x,rotation:v}),[f,v,x]);return I.useEffect(function(){if(!p||!f||!r||!w)return;const{current:H}=E;if(!H)return;const W=B.clone({dontFlip:!0}),V={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:H,l10n:null,linkService:r,page:f,structTreeLayer:null,viewport:W},J={annotations:i?i({annotations:w}):w,annotationStorage:p.annotationStorage,div:H,imageResourcesPath:s,linkService:r,page:f,renderForms:g,viewport:W};H.innerHTML="";try{new bE(V).render(J),D()}catch(U){O(U)}return()=>{}},[w,i,s,r,f,p,g,B]),T.jsx("div",{className:hp("react-pdf__Page__annotations","annotationLayer"),ref:E})}const zI={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},xH=/^H(\d+)$/;function SH(n){return n in zI}function $w(n){return"children"in n}function UI(n){return $w(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function AH(n){const t={};if($w(n)){const{role:e}=n,i=e.match(xH);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(SH(e)){const s=zI[e];s&&(t.role=s)}}return t}function HI(n){const t={};if($w(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),UI(n)){const[e]=n.children;if(e){const i=HI(e);return{...t,...i}}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function EH(n){return n?{...AH(n),...HI(n)}:null}function $I({className:n,node:t}){const e=I.useMemo(()=>EH(t),[t]),i=I.useMemo(()=>!$w(t)||UI(t)?null:t.children.map((s,r)=>T.jsx($I,{node:s},r)),[t]);return T.jsx("span",{className:n,...e,children:i})}function CH(){const n=Hw();re(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=op(),{value:r,error:a}=i,{customTextRenderer:c,page:u}=n;function d(){r&&e&&e(r)}function f(){a&&(qn(!1,a.toString()),t&&t(a))}return I.useEffect(function(){s({type:"RESET"})},[s,u]),I.useEffect(function(){if(c||!u)return;const g=ry(u.getStructTree()),v=g;return g.promise.then(x=>{s({type:"RESOLVE",value:x})}).catch(x=>{s({type:"REJECT",error:x})}),()=>ch(v)},[c,u,s]),I.useEffect(()=>{if(r!==void 0){if(r===!1){f();return}d()}},[r]),r?T.jsx($I,{className:"react-pdf__Page__structTree structTree",node:r}):null}const QT=ho;function PH(n){const t=Hw();re(t);const e={...t,...n},{_className:i,canvasBackground:s,devicePixelRatio:r=mH(),onRenderError:a,onRenderSuccess:c,page:u,renderForms:d,renderTextLayer:f,rotate:p,scale:g}=e,{canvasRef:v}=n;re(u);const x=I.useRef(null);function _(){u&&c&&c(US(u,g))}function A(M){OI(M)||(qn(!1,M.toString()),a&&a(M))}const w=I.useMemo(()=>u.getViewport({scale:g*r,rotation:p}),[r,u,p,g]),S=I.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);I.useEffect(function(){if(!u)return;u.cleanup();const{current:N}=x;if(!N)return;N.width=w.width,N.height=w.height,N.style.width=`${Math.floor(S.width)}px`,N.style.height=`${Math.floor(S.height)}px`,N.style.visibility="hidden";const D={annotationMode:d?QT.ENABLE_FORMS:QT.ENABLE,canvas:N,canvasContext:N.getContext("2d",{alpha:!1}),viewport:w};s&&(D.background=s);const O=u.render(D),B=O;return O.promise.then(()=>{N.style.visibility="",_()}).catch(A),()=>ch(B)},[s,u,d,w,S]);const E=I.useCallback(()=>{const{current:M}=x;M&&(M.width=0,M.height=0)},[]);return I.useEffect(()=>E,[E]),T.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:BI(v,x),style:{display:"block",userSelect:"none"},children:f?T.jsx(CH,{}):null})}function TH(n){return"str"in n}function kH(){const n=Hw();re(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:c,pageNumber:u,rotate:d,scale:f}=n;re(a);const[p,g]=op(),{value:v,error:x}=p,_=I.useRef(null);qn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){v&&i&&i(v)}function w(){x&&(qn(!1,x.toString()),e&&e(x))}I.useEffect(function(){g({type:"RESET"})},[a,g]),I.useEffect(function(){if(!a)return;const B=ry(a.getTextContent()),z=B;return B.promise.then(H=>{g({type:"RESOLVE",value:H})}).catch(H=>{g({type:"REJECT",error:H})}),()=>ch(z)},[a,g]),I.useEffect(()=>{if(v!==void 0){if(v===!1){w();return}A()}},[v]);const S=I.useCallback(()=>{r&&r()},[r]),E=I.useCallback(O=>{OI(O)||(qn(!1,O.toString()),s&&s(O))},[s]);function M(){const O=_.current;O&&O.classList.add("selecting")}function N(){const O=_.current;O&&O.classList.remove("selecting")}const D=I.useMemo(()=>a.getViewport({scale:f,rotation:d}),[a,d,f]);return I.useLayoutEffect(function(){if(!a||!v)return;const{current:B}=_;if(!B)return;B.innerHTML="";const z=a.streamTextContent({includeMarkedContent:!0}),H={container:B,textContentSource:z,viewport:D},W=new ig(H),V=W;return W.render().then(()=>{const J=document.createElement("div");J.className="endOfContent",B.append(J);const U=B.querySelectorAll('[role="presentation"]');if(t){let et=0;v.items.forEach((q,Y)=>{if(!TH(q))return;const j=U[et];if(!j)return;const Z=t({pageIndex:c,pageNumber:u,itemIndex:Y,...q});j.innerHTML=Z,et+=q.str&&q.hasEOL?2:1})}S()}).catch(E),()=>ch(V)},[t,E,S,a,c,u,v,D]),T.jsx("div",{className:hp("react-pdf__Page__textContent","textLayer"),onMouseUp:N,onMouseDown:M,ref:_})}const JT=1;function tk(n){const e={...FI(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:c,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:p,error:g="Failed to load the page.",filterAnnotations:v,height:x,inputRef:_,loading:A="Loading page",noData:w="No page specified.",onGetAnnotationsError:S,onGetAnnotationsSuccess:E,onGetStructTreeError:M,onGetStructTreeSuccess:N,onGetTextError:D,onGetTextSuccess:O,onLoadError:B,onLoadSuccess:z,onRenderAnnotationLayerError:H,onRenderAnnotationLayerSuccess:W,onRenderError:V,onRenderSuccess:J,onRenderTextLayerError:U,onRenderTextLayerSuccess:et,pageIndex:q,pageNumber:Y,pdf:j,registerPage:Z,renderAnnotationLayer:X=!0,renderForms:rt=!1,renderMode:Q="canvas",renderTextLayer:it=!0,rotate:at,scale:ut=JT,unregisterPage:dt,width:ct,...pe}=e,[He,me]=op(),{value:Et,error:Re}=He,Dt=I.useRef(null);re(j);const zt=Sc(Y)?Y-1:q??null,Kt=Y??(Sc(q)?q+1:null),Ne=at??(Et?Et.rotate:null),le=I.useMemo(()=>{if(!Et)return null;let Mi=1;const Ar=ut??JT;if(ct||x){const In=Et.getViewport({scale:1,rotation:Ne});ct?Mi=ct/In.width:x&&(Mi=x/In.height)}return Ar*Mi},[x,Et,Ne,ut,ct]);I.useEffect(function(){return()=>{Sc(zt)&&s&&dt&&dt(zt)}},[s,j,zt,dt]);function hs(){if(z){if(!Et||!le)return;z(US(Et,le))}if(s&&Z){if(!Sc(zt)||!Dt.current)return;Z(zt,Dt.current)}}function xr(){Re&&(qn(!1,Re.toString()),B&&B(Re))}I.useEffect(function(){me({type:"RESET"})},[me,j,zt]),I.useEffect(function(){if(!j||!Kt)return;const Ar=ry(j.getPage(Kt)),In=Ar;return Ar.promise.then(Ia=>{me({type:"RESOLVE",value:Ia})}).catch(Ia=>{me({type:"REJECT",error:Ia})}),()=>ch(In)},[me,j,Kt]),I.useEffect(()=>{if(Et!==void 0){if(Et===!1){xr();return}hs()}},[Et,le]);const bo=I.useMemo(()=>Sc(zt)&&Kt&&Sc(Ne)&&Sc(le)?{_className:i,canvasBackground:r,customTextRenderer:f,devicePixelRatio:p,filterAnnotations:v,onGetAnnotationsError:S,onGetAnnotationsSuccess:E,onGetStructTreeError:M,onGetStructTreeSuccess:N,onGetTextError:D,onGetTextSuccess:O,onRenderAnnotationLayerError:H,onRenderAnnotationLayerSuccess:W,onRenderError:V,onRenderSuccess:J,onRenderTextLayerError:U,onRenderTextLayerSuccess:et,page:Et,pageIndex:zt,pageNumber:Kt,renderForms:rt,renderTextLayer:it,rotate:Ne,scale:le}:null,[i,r,f,p,v,S,E,M,N,D,O,H,W,V,J,U,et,Et,zt,Kt,rt,it,Ne,le]),zs=I.useMemo(()=>RI(pe,()=>Et&&(le?US(Et,le):void 0)),[pe,Et,le]),Sr=`${zt}@${le}/${Ne}`;function ds(){switch(Q){case"custom":return re(d),T.jsx(d,{},`${Sr}_custom`);case"none":return null;case"canvas":default:return T.jsx(PH,{canvasRef:a},`${Sr}_canvas`)}}function vp(){return it?T.jsx(kH,{},`${Sr}_text`):null}function yp(){return X?T.jsx(bH,{},`${Sr}_annotations`):null}function cn(){function Mi(In){return!!(In!=null&&In.page)}if(!Mi(bo))throw new Error("page is undefined");const Ar=typeof c=="function"?c(bo):c;return T.jsxs(jI.Provider,{value:bo,children:[ds(),vp(),yp(),Ar]})}function Us(){return Kt?j===null||Et===void 0||Et===null?T.jsx(fd,{type:"loading",children:typeof A=="function"?A():A}):j===!1||Et===!1?T.jsx(fd,{type:"error",children:typeof g=="function"?g():g}):cn():T.jsx(fd,{type:"no-data",children:typeof w=="function"?w():w})}return T.jsx("div",{className:hp(i,u),"data-page-number":Kt,ref:BI(_,Dt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${le}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...zs,children:Us()})}gH();Ns.workerSrc="pdf.worker.mjs";const LH="/barkaas-website/assets/food-CRn91dYa.pdf",MH="/barkaas-website/assets/drinks-BQBemYua.pdf";Ns.workerSrc=new URL("/barkaas-website/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();const RH=()=>{const[n,t]=I.useState({width:650,height:900,pageWidth:520});return I.useEffect(()=>{const e=()=>{const i=window.innerWidth,s=window.innerHeight;let r=Math.min(850,i-32),a=Math.min(1100,s-200);i<640?(r=i-32,a=s-220):i<1024&&(r=Math.min(800,i-64),a=Math.min(1e3,s-220));const c=i<640?r*.95:r*.55;t({width:Math.max(380,r),height:Math.max(500,a),pageWidth:c})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n},ek=({pdfUrl:n,title:t})=>{const[e,i]=I.useState(0),[s,r]=I.useState(1),[a,c]=I.useState(!1),[u,d]=I.useState("right"),[f,p]=I.useState(1),[g,v]=I.useState(0),{pageWidth:x}=RH(),_=I.useRef(null),A=I.useRef(null),w=I.useRef(!0),S=.8,E=3,M=({numPages:U})=>{i(U),r(1)};I.useEffect(()=>(w.current=!0,()=>{w.current=!1,A.current&&(clearTimeout(A.current),A.current=null)}),[]);const N=U=>{if(a||!w.current||A.current!==null)return;const et=U==="next"?s+1:s-1;U==="next"&&s<e?(d("left"),v(1),c(!0),A.current=setTimeout(()=>{w.current&&(r(et),v(0),c(!1),A.current=null)},700)):U==="prev"&&s>1&&(d("right"),v(1),c(!0),A.current=setTimeout(()=>{w.current&&(r(et),v(0),c(!1),A.current=null)},700))},D=U=>{if(U.touches.length===2){const et=U.touches[0],q=U.touches[1],Y=Math.hypot(q.clientX-et.clientX,q.clientY-et.clientY);_.current=Y}},O=U=>{if(U.touches.length===2&&_.current!==null){U.preventDefault();const et=U.touches[0],q=U.touches[1],Y=Math.hypot(q.clientX-et.clientX,q.clientY-et.clientY),Z=(Y-_.current)*.01;p(X=>{const rt=X+Z;return Math.max(S,Math.min(E,rt))}),_.current=Y}},B=U=>{U.touches.length===0&&(_.current=null)},z=U=>{if(U.ctrlKey||U.metaKey){U.preventDefault();const et=-U.deltaY*.001;p(q=>{const Y=q+et;return Math.max(S,Math.min(E,Y))})}},H=s>1,W=s<e,V=g*180,J=g*.5;return T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsx("div",{className:"relative flex items-center justify-center py-4",onTouchStart:D,onTouchMove:O,onTouchEnd:B,onWheel:z,style:{touchAction:f>1?"auto":"pan-y",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",perspective:"2500px",minHeight:"60vh",overflow:"hidden"},children:T.jsx(wH,{file:n,onLoadSuccess:M,onLoadError:U=>console.error("PDF load error:",U),onSourceError:U=>console.error("PDF source error:",U),loading:T.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"60vh"},children:T.jsx(Fj,{className:"w-14 h-14 animate-spin text-gold"})}),children:e>0&&T.jsx("div",{className:"relative",style:{transformStyle:"preserve-3d",maxWidth:"100%"},children:T.jsxs("div",{style:{position:"relative"},children:[T.jsxs("div",{style:{transform:u==="left"?`rotateY(-${V}deg)`:`rotateY(${V}deg)`,transformOrigin:u==="left"?"right center":"left center",transition:a&&g>=1?"transform 0.7s ease-in-out":g===0?"transform 0.3s ease-out":"none",backfaceVisibility:"hidden",visibility:V>=90?"hidden":"visible",filter:`brightness(${1-J*.3})`},children:[T.jsx(tk,{pageNumber:s,width:Math.min(x*1.2*f,(window.innerWidth-32)*f),renderAnnotationLayer:!1,renderTextLayer:!1}),g>0&&T.jsx("div",{style:{position:"absolute",top:0,left:u==="left"?"auto":0,right:u==="left"?0:"auto",width:`${g*50}%`,height:"100%",background:`linear-gradient(to ${u==="left"?"left":"right"}, rgba(0,0,0,${J}), transparent)`,pointerEvents:"none"}})]}),g>0&&T.jsx("div",{style:{position:"absolute",top:0,left:0,transform:u==="left"?`rotateY(${180-V}deg)`:`rotateY(${-180+V}deg)`,transformOrigin:u==="left"?"left center":"right center",transition:a&&g>=1?"transform 0.7s ease-in-out":"none",backfaceVisibility:"hidden",opacity:V>=90?1:0},children:T.jsx(tk,{pageNumber:u==="left"?Math.min(s+1,e):Math.max(s-1,1),width:Math.min(x*1.2*f,(window.innerWidth-32)*f),renderAnnotationLayer:!1,renderTextLayer:!1})})]})})})}),e>0&&T.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6 mb-4",children:[T.jsx("button",{onClick:()=>N("prev"),disabled:!H||a,className:"bg-black/10 backdrop-blur-sm text-gold p-2.5 rounded-full transition-all duration-200 disabled:opacity-0 disabled:pointer-events-none enabled:hover:bg-black/20 enabled:hover:scale-110","aria-label":"Previous page",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("polyline",{points:"15 18 9 12 15 6"})})}),T.jsx("div",{className:"bg-black/10 backdrop-blur-sm px-6 py-2.5 rounded-full",children:T.jsxs("span",{className:"text-sm text-gold font-medium",children:[s," / ",e]})}),T.jsx("button",{onClick:()=>N("next"),disabled:!W||a,className:"bg-black/10 backdrop-blur-sm text-gold p-2.5 rounded-full transition-all duration-200 disabled:opacity-0 disabled:pointer-events-none enabled:hover:bg-black/20 enabled:hover:scale-110","aria-label":"Next page",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})},NH=()=>{const[n,t]=I.useState("food"),e={food:{title:"Food Menu",pdfUrl:LH},beverage:{title:"Beverage Menu",pdfUrl:MH}};return T.jsxs(Kv,{children:[T.jsx("section",{className:"py-12 md:py-16 bg-pattern-arabesque",children:T.jsxs("div",{className:"container mx-auto px-4 text-center",children:[T.jsx("p",{className:"text-gold tracking-[0.25em] uppercase mb-2",children:"Discover"}),T.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Our Menu"}),T.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Authentic Arabian dishes prepared with the finest ingredients"})]})}),T.jsx("section",{className:"py-2 md:py-4",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 sm:gap-6 mb-6 md:mb-8",children:[T.jsx(Rs,{variant:n==="food"?"gold":"outline",size:"xl",className:"px-10 py-4 md:px-12 md:py-6 text-base md:text-lg font-heading rounded-full transition-transform duration-200 hover:scale-[1.02]",onClick:()=>t("food"),children:"Food"}),T.jsx(Rs,{variant:n==="beverage"?"gold":"outline",size:"xl",className:"px-10 py-4 md:px-12 md:py-6 text-base md:text-lg font-heading rounded-full transition-transform duration-200 hover:scale-[1.02]",onClick:()=>t("beverage"),children:"Beverages"})]}),n==="food"&&T.jsx(ek,{pdfUrl:e.food.pdfUrl,title:e.food.title},"food-menu"),n==="beverage"&&T.jsx(ek,{pdfUrl:e.beverage.pdfUrl,title:e.beverage.title},"beverage-menu")]})})]})},jh=I.forwardRef(({className:n,type:t,...e},i)=>T.jsx("input",{type:t,className:Zn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...e}));jh.displayName="Input";var IH="Label",WI=I.forwardRef((n,t)=>T.jsx(di.label,{...n,ref:t,onMouseDown:e=>{var s;e.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));WI.displayName=IH;var VI=WI;const DH=HA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ro=I.forwardRef(({className:n,...t},e)=>T.jsx(VI,{ref:e,className:Zn(DH(),n),...t}));Ro.displayName=VI.displayName;const GI=I.forwardRef(({className:n,...t},e)=>T.jsx("textarea",{className:Zn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:e,...t}));GI.displayName="Textarea";const OH=["12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM","8:30 PM","9:00 PM","9:30 PM"],FH=[1,2,3,4,5,6,7,8],BH=()=>{const[n,t]=I.useState({name:"",email:"",phone:"",date:"",time:"",guests:"",occasion:"",notes:""}),e=s=>{s.preventDefault(),V3.success("Reservation request submitted! We'll confirm shortly."),t({name:"",email:"",phone:"",date:"",time:"",guests:"",occasion:"",notes:""})},i=s=>{t({...n,[s.target.name]:s.target.value})};return T.jsxs(Kv,{children:[T.jsx("section",{className:"py-20 bg-pattern-arabesque",children:T.jsxs("div",{className:"container mx-auto px-4 text-center",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Reservations"}),T.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Book a Table"}),T.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Reserve your spot for an unforgettable dining experience. We recommend booking in advance, especially for weekends and special occasions."})]})}),T.jsx("section",{className:"py-16",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsx("div",{className:"max-w-2xl mx-auto",children:T.jsxs("form",{onSubmit:e,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs(Ro,{htmlFor:"name",className:"flex items-center gap-2 text-foreground",children:[T.jsx(s2,{size:16,className:"text-gold"}),"Full Name"]}),T.jsx(jh,{id:"name",name:"name",value:n.name,onChange:i,placeholder:"Your name",required:!0,className:"bg-card border-border focus:border-gold"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs(Ro,{htmlFor:"email",className:"flex items-center gap-2 text-foreground",children:[T.jsx(n2,{size:16,className:"text-gold"}),"Email Address"]}),T.jsx(jh,{id:"email",name:"email",type:"email",value:n.email,onChange:i,placeholder:"your@email.com",required:!0,className:"bg-card border-border focus:border-gold"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs(Ro,{htmlFor:"phone",className:"flex items-center gap-2 text-foreground",children:[T.jsx(i2,{size:16,className:"text-gold"}),"Phone Number"]}),T.jsx(jh,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:i,placeholder:"+971 XX XXX XXXX",required:!0,className:"bg-card border-border focus:border-gold"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs(Ro,{htmlFor:"guests",className:"flex items-center gap-2 text-foreground",children:[T.jsx($j,{size:16,className:"text-gold"}),"Number of Guests"]}),T.jsxs("select",{id:"guests",name:"guests",value:n.guests,onChange:i,required:!0,className:"w-full h-10 px-3 rounded-md bg-card border border-border text-foreground focus:border-gold focus:outline-none focus:ring-1 focus:ring-gold",children:[T.jsx("option",{value:"",children:"Select guests"}),FH.map(s=>T.jsxs("option",{value:s,children:[s," ",s===1?"Guest":"Guests"]},s)),T.jsx("option",{value:"9+",children:"9+ Guests (Private Event)"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs(Ro,{htmlFor:"date",className:"flex items-center gap-2 text-foreground",children:[T.jsx(Dj,{size:16,className:"text-gold"}),"Preferred Date"]}),T.jsx(jh,{id:"date",name:"date",type:"date",value:n.date,onChange:i,required:!0,className:"bg-card border-border focus:border-gold"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs(Ro,{htmlFor:"time",className:"flex items-center gap-2 text-foreground",children:[T.jsx(e2,{size:16,className:"text-gold"}),"Preferred Time"]}),T.jsxs("select",{id:"time",name:"time",value:n.time,onChange:i,required:!0,className:"w-full h-10 px-3 rounded-md bg-card border border-border text-foreground focus:border-gold focus:outline-none focus:ring-1 focus:ring-gold",children:[T.jsx("option",{value:"",children:"Select time"}),OH.map(s=>T.jsx("option",{value:s,children:s},s))]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Ro,{htmlFor:"occasion",className:"text-foreground",children:"Special Occasion (Optional)"}),T.jsx(jh,{id:"occasion",name:"occasion",value:n.occasion,onChange:i,placeholder:"Birthday, Anniversary, Business Dinner, etc.",className:"bg-card border-border focus:border-gold"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Ro,{htmlFor:"notes",className:"text-foreground",children:"Special Requests (Optional)"}),T.jsx(GI,{id:"notes",name:"notes",value:n.notes,onChange:i,placeholder:"Dietary restrictions, seating preferences, etc.",rows:4,className:"bg-card border-border focus:border-gold resize-none"})]}),T.jsx(Rs,{type:"submit",variant:"gold",size:"xl",className:"w-full",children:"Request Reservation"}),T.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Our team will contact you to confirm your reservation within 24 hours."})]})})})})]})},jH="/barkaas-website/assets/about-1-dBGNP0r9.png",zH="/barkaas-website/assets/about-2-CZInUpjZ.png",qI="/barkaas-website/assets/SMP_4117-BZ8EGCPG.jpg",UH=Object.freeze(Object.defineProperty({__proto__:null,default:qI},Symbol.toStringTag,{value:"Module"})),ZI="/barkaas-website/assets/SMP_4249-BuvoWixN.jpg",HH=Object.freeze(Object.defineProperty({__proto__:null,default:ZI},Symbol.toStringTag,{value:"Module"})),XI="/barkaas-website/assets/SMP_4261-Cjn-q8z-.jpg",$H=Object.freeze(Object.defineProperty({__proto__:null,default:XI},Symbol.toStringTag,{value:"Module"})),YI="/barkaas-website/assets/SMP_3900-SpdZb0a8.jpg",WH=Object.freeze(Object.defineProperty({__proto__:null,default:YI},Symbol.toStringTag,{value:"Module"})),KI="/barkaas-website/assets/SMP_3896-DTKBDqCq.jpg",VH=Object.freeze(Object.defineProperty({__proto__:null,default:KI},Symbol.toStringTag,{value:"Module"})),QI="/barkaas-website/assets/SMP_4160-D11UN9Yi.jpg",GH=Object.freeze(Object.defineProperty({__proto__:null,default:QI},Symbol.toStringTag,{value:"Module"})),qH="/barkaas-website/assets/about-3-CDxEln_T.png",ZH=()=>T.jsxs(Kv,{children:[T.jsx("section",{className:"bg-pattern-arabesque",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[T.jsxs("div",{className:"text-center lg:text-left pt-16 animate-[fadeInUp_0.8s_ease-out]",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2 animate-[fadeIn_1s_ease-out_0.2s_both]",children:"India's Largest Indo-Arabic Chain"}),T.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4 animate-[fadeInUp_0.8s_ease-out_0.3s_both]",children:"Welcome to Barkaas"}),T.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto lg:mx-0 animate-[fadeInUp_0.8s_ease-out_0.5s_both]",children:"Spanning over 32 cities and continuously expanding, Barkaas is a prominent name in authentic Indo-Arabic cuisine, with vibrant establishments in key cities such as Bangalore, Hyderabad, Vishakhapatnam, Kolkata, and Lucknow. Our widespread presence across the nation highlights our dedication to delivering unparalleled culinary experiences, ensuring that every corner of India can savour the true essence of our exquisite flavors. With a secret recipe that is replicated across all restaurants, Barkaas is a legendary story waiting to be experienced."})]}),T.jsxs("div",{className:"relative group animate-[fadeInRight_1s_ease-out_0.4s_both]",children:[T.jsx("div",{className:"absolute inset-0 -z-10 group-hover:opacity-100 opacity-0 transition-all duration-500"}),T.jsx("img",{src:jH,alt:"Signature Barkaas Mandi Platter",className:"w-full object-cover transition-all duration-500 group-hover:scale-105"})]})]})})}),T.jsx("section",{className:"py-8",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[T.jsx("div",{className:"relative overflow-hidden rounded-lg group animate-[fadeInLeft_0.8s_ease-out]",children:T.jsx("img",{src:zH,alt:"Barkaas Mandi Platter",className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"})}),T.jsxs("div",{className:"animate-[fadeInRight_0.8s_ease-out_0.2s_both]",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Our Heritage"}),T.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[T.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.4s_both]",children:"Get lost in the tingling aroma of our traditional Mandi as you enter a world of blended paradise. Immerse yourself in a dining experience where the rich legacies of Mughal and Afghani cultures converge to craft a truly memorable feast."}),T.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:'At Barkaas, our philosophy of "food that unites people" comes alive through an array of over 20 exquisite varieties of Mandi and Biryani. We invite you to gather with friends and family around our generous, flavorful platters, celebrating togetherness and creating lasting memories over each delectable bite. Spices dance in your palette as our deeply marinated meat and fish steal the show. A tall glass of our signature falooda and you are in food heaven.'})]})]})]})})}),T.jsx("section",{className:"py-16 bg-burgundy/20",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"text-center mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"The Magic Behind the Masala"}),T.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto pt-4",children:"At Barkaas, we infuse each dish with our signature blend of freshly ground, in-house masalas, crafted daily to preserve peak freshness and deliver unparalleled flavor. Each recipe is a testament to our dedication, offering a unique and exceptional taste experience that sets every bite apart."})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[T.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.1s_both]",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Mandi Masala"}),T.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Mandi rice preparation."})]}),T.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.2s_both]",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Fahm Masala"}),T.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Al Fahm and Chicken Gravy."})]}),T.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.3s_both]",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Mutton Masala"}),T.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Mutton Mandi and Mutton Raan."})]}),T.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.4s_both]",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"BBQ Masala"}),T.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in the marination of all our charcoal-grilled products."})]})]})]})}),T.jsxs("section",{className:"py-20",children:[T.jsxs("div",{className:"container mx-auto px-4 max-w-6xl lg:max-w-5xl",children:[T.jsxs("div",{className:"text-center mb-16 animate-[fadeInUp_0.8s_ease-out]",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-4 inline-block px-6 py-3 bg-gold/10 rounded-full",children:"From Yemen to India"}),T.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-foreground",children:"Authentic Mandi"})]}),T.jsx("p",{className:"text-muted-foreground max-w-4xl mx-auto mb-20 text-center leading-relaxed text-lg px-8 animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:`The word "Mandi" comes from the Arabic word 'nada', meaning dew or dewy, referring to the moist texture of the meat. The origins of this authentic dish can be traced back to Yemen while being prevalent in most areas of the Arabian Peninsula and also in Egypt and other countries. Now trending in India, this dish is a magical blend of meat, rice and a range of brilliant spices. Moist meat, our secret recipe and a forgotten tale brought back to life  you are in for a timeless treat.`})]}),T.jsx("div",{className:"w-full mt-12",children:T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-0 max-w-none w-full",children:[T.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.1s_both]",children:T.jsx("img",{src:qI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),T.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.15s_both]",children:T.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Murgh Mussalam Mandi"})}),T.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.2s_both]",children:T.jsx("img",{src:ZI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),T.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.25s_both]",children:T.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Mutton Madfoon Mandi"})}),T.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.3s_both]",children:T.jsx("img",{src:XI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),T.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.35s_both]",children:T.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Raan Mandi"})}),T.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.4s_both]",children:T.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Kheema Mandi"})}),T.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.45s_both]",children:T.jsx("img",{src:YI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),T.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.5s_both]",children:T.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Fahm Mandi"})}),T.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.55s_both]",children:T.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Patyala Mandi"})}),T.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-8 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.6s_both]",children:T.jsx("span",{className:"font-bold text-xl text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"BBQ Mandi"})}),T.jsx("div",{className:"group relative h-[180px] overflow-hidden border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.65s_both]",children:T.jsx("img",{src:KI,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})})]})})]}),T.jsx("section",{className:"py-16 bg-secondary",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[T.jsxs("div",{className:"animate-[fadeInLeft_0.8s_ease-out]",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Desserts & Faloodas"}),T.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[T.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.2s_both]",children:"Imagine the creaminess of an authentic falooda and the popping colours of the many textures and flavours that surround it. And now envision this rich decadent dessert but with even more exotic ingredients like tender coconut pudding, rabdi, kulfi, condensed milk, topped with the taste of tropic like like kiwi, dragon fruit, pomegranate and roasted almonds, cashews, and raisins."}),T.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:[T.jsx("strong",{children:"Kunafa:"})," Golden crisp shredded pastry embracing luscious creamy filling, drizzled with aromatic syrup and sprinkled with chopped nuts."]}),T.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.4s_both]",children:[T.jsx("strong",{children:"Kaddu ka Kheer:"})," Fragrant spiced pumpkin pudding simmered to perfection with rich milk, aromatic cardamom, and a hint of saffron."]}),T.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.5s_both]",children:[T.jsx("strong",{children:"Qubani ka Meetha:"})," Sumptuous slow-cooked apricot delight topped with slivers of nuts and a generous dollop of fresh cream."]}),T.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:[T.jsx("strong",{children:"Shahi Tukda:"})," Royal bread pudding fried golden, bathed in creamy saffron-cardamom milk sauce, garnished with nuts and raisins."]})]})]}),T.jsx("div",{className:"relative animate-[fadeInRight_0.8s_ease-out_0.3s_both]",children:T.jsx("img",{src:qH,alt:"Barkaas Falooda and Desserts",className:"w-full transition-transform duration-500 hover:scale-105"})})]})})}),T.jsx("section",{className:"py-16",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[T.jsx("img",{src:QI,alt:"Barkaas Majlis-Style Dining",className:"rounded-lg shadow-2xl w-full transition-transform duration-500 hover:scale-105 animate-[fadeInLeft_0.8s_ease-out]"}),T.jsxs("div",{className:"animate-[fadeInRight_0.8s_ease-out_0.2s_both]",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Dining Experience"}),T.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[T.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:'Together we dine, embracing our ethos  "food that unites people." Inspired by the traditional Arab hospitality of private guest areas, our Majlis-style seating invites you to relax on low tables and cushions, offering a cosy and engaging dining experience. This style reflects the essence of Middle Eastern warmth and generosity, where every guest is treated with the utmost respect and kindness.'}),T.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.5s_both]",children:"Immerse yourself in our delectable cuisine while enjoying the comfort and camaraderie that come with sharing a meal in such a welcoming setting. Comfortable seating with a touch of the authenticity and cultural heritage of the Arabian Peninsula for an elegant and immersive fine dining experience. "})]})]})]})})}),T.jsx("section",{className:"py-16 bg-secondary",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"text-center mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Since 2016"}),T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Our Journey"})]}),T.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 text-muted-foreground leading-relaxed text-center",children:[T.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:"Founded in 2016 by visionaries Gowtham Kudapa, Sandeep Palavalasa, Nagarjuna Gannamani, and Vamsi Maddineni, our brand began its culinary journey in Vijayawada. Since launching our expansion phase in 2018, we have steadily grown into a leading name in the industry, driven by a commitment to excellence, authenticity, and innovation. Every milestone reflects our passion for delivering exceptional dining experiences that bring people together through food."}),T.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:'Today, we proudly operate 32 outlets across the country, serving over 20 million customers annually with an average rating of 4.3. Supported by a dedicated team of 1,000+ employees, our efforts were recognized when we were awarded "Promising Arabic Restaurant Chain of the Year 2022" by Franchise India, underscoring our continued pursuit of quality and innovation.'})]})]})}),T.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
      `})]}),XH="/barkaas-website/assets/DSC1092-CtOFKgvi.jpg",YH=Object.freeze(Object.defineProperty({__proto__:null,default:XH},Symbol.toStringTag,{value:"Module"})),KH="/barkaas-website/assets/DSC1093-B8u0feR1.jpg",QH=Object.freeze(Object.defineProperty({__proto__:null,default:KH},Symbol.toStringTag,{value:"Module"})),JH="/barkaas-website/assets/RON1141-B7XrNPtp.jpg",t$=Object.freeze(Object.defineProperty({__proto__:null,default:JH},Symbol.toStringTag,{value:"Module"})),e$="/barkaas-website/assets/RON3045-q2HVkfUs.jpg",n$=Object.freeze(Object.defineProperty({__proto__:null,default:e$},Symbol.toStringTag,{value:"Module"})),i$="/barkaas-website/assets/RON3066-DWx3TyPm.jpg",s$=Object.freeze(Object.defineProperty({__proto__:null,default:i$},Symbol.toStringTag,{value:"Module"})),r$="/barkaas-website/assets/010A1576-CUCh6MMK.jpg",o$=Object.freeze(Object.defineProperty({__proto__:null,default:r$},Symbol.toStringTag,{value:"Module"})),a$="/barkaas-website/assets/010A1647-CM-XTowj.jpg",l$=Object.freeze(Object.defineProperty({__proto__:null,default:a$},Symbol.toStringTag,{value:"Module"})),c$="/barkaas-website/assets/010A1682-DZZCnA6E.jpg",u$=Object.freeze(Object.defineProperty({__proto__:null,default:c$},Symbol.toStringTag,{value:"Module"})),h$="/barkaas-website/assets/010A1765-F_RIy2nR.jpg",d$=Object.freeze(Object.defineProperty({__proto__:null,default:h$},Symbol.toStringTag,{value:"Module"})),f$="/barkaas-website/assets/010A1828-DPlwkNIr.jpg",p$=Object.freeze(Object.defineProperty({__proto__:null,default:f$},Symbol.toStringTag,{value:"Module"})),m$="/barkaas-website/assets/010A1851-j-ISxG2w.jpg",g$=Object.freeze(Object.defineProperty({__proto__:null,default:m$},Symbol.toStringTag,{value:"Module"})),v$="/barkaas-website/assets/010A1858-BDs3N45j.jpg",y$=Object.freeze(Object.defineProperty({__proto__:null,default:v$},Symbol.toStringTag,{value:"Module"})),_$="/barkaas-website/assets/0X4A9932-CwoL-KWS.jpg",w$=Object.freeze(Object.defineProperty({__proto__:null,default:_$},Symbol.toStringTag,{value:"Module"})),b$="/barkaas-website/assets/SMP_3392-BQjB7QAh.jpg",x$=Object.freeze(Object.defineProperty({__proto__:null,default:b$},Symbol.toStringTag,{value:"Module"})),S$="/barkaas-website/assets/SMP_3530-B6a208ch.jpg",A$=Object.freeze(Object.defineProperty({__proto__:null,default:S$},Symbol.toStringTag,{value:"Module"})),E$="/barkaas-website/assets/SMP_3558-DXxpTQI4.jpg",C$=Object.freeze(Object.defineProperty({__proto__:null,default:E$},Symbol.toStringTag,{value:"Module"})),P$="/barkaas-website/assets/SMP_3613-CRBthWd3.jpg",T$=Object.freeze(Object.defineProperty({__proto__:null,default:P$},Symbol.toStringTag,{value:"Module"})),k$="/barkaas-website/assets/SMP_3658-5ERwtstd.jpg",L$=Object.freeze(Object.defineProperty({__proto__:null,default:k$},Symbol.toStringTag,{value:"Module"})),M$="/barkaas-website/assets/SMP_3687-BuRLGUmB.jpg",R$=Object.freeze(Object.defineProperty({__proto__:null,default:M$},Symbol.toStringTag,{value:"Module"})),N$="/barkaas-website/assets/SMP_3738-BvTC20PT.jpg",I$=Object.freeze(Object.defineProperty({__proto__:null,default:N$},Symbol.toStringTag,{value:"Module"})),D$="/barkaas-website/assets/SMP_3778-DWfPGxar.jpg",O$=Object.freeze(Object.defineProperty({__proto__:null,default:D$},Symbol.toStringTag,{value:"Module"})),F$="/barkaas-website/assets/SMP_3955-CDOJg2ZC.jpg",B$=Object.freeze(Object.defineProperty({__proto__:null,default:F$},Symbol.toStringTag,{value:"Module"})),j$="/barkaas-website/assets/SMP_3994-L5Jcau7w.jpg",z$=Object.freeze(Object.defineProperty({__proto__:null,default:j$},Symbol.toStringTag,{value:"Module"})),U$="/barkaas-website/assets/SMP_4008-D0ZmvMGC.jpg",H$=Object.freeze(Object.defineProperty({__proto__:null,default:U$},Symbol.toStringTag,{value:"Module"})),$$="/barkaas-website/assets/SMP_4021-CXgHDSQK.jpg",W$=Object.freeze(Object.defineProperty({__proto__:null,default:$$},Symbol.toStringTag,{value:"Module"})),V$="/barkaas-website/assets/SMP_4239-BPWyBff_.jpg",G$=Object.freeze(Object.defineProperty({__proto__:null,default:V$},Symbol.toStringTag,{value:"Module"})),q$="/barkaas-website/assets/SMP_4283-Ccdy2gjG.jpg",Z$=Object.freeze(Object.defineProperty({__proto__:null,default:q$},Symbol.toStringTag,{value:"Module"})),X$="/barkaas-website/assets/SMP_4288-DM7TpGoM.jpg",Y$=Object.freeze(Object.defineProperty({__proto__:null,default:X$},Symbol.toStringTag,{value:"Module"})),K$=()=>{const[n,t]=I.useState("All"),[e,i]=I.useState(null),[s,r]=I.useState([]);I.useEffect(()=>{const u=Object.assign({"/src/assets/ambience/DSC1092.jpg":YH,"/src/assets/ambience/DSC1093.jpg":QH,"/src/assets/ambience/DSC1109.jpg":z8,"/src/assets/ambience/RON1141.jpg":t$,"/src/assets/ambience/RON3045.jpg":n$,"/src/assets/ambience/RON3054.jpg":j8,"/src/assets/ambience/RON3063.jpg":H8,"/src/assets/ambience/RON3066.jpg":s$,"/src/assets/ambience/RON3068.jpg":U8}),d=Object.assign({"/src/assets/food/010A1576.jpg":o$,"/src/assets/food/010A1647.jpg":l$,"/src/assets/food/010A1682.jpg":u$,"/src/assets/food/010A1765.jpg":d$,"/src/assets/food/010A1828.jpg":p$,"/src/assets/food/010A1851.jpg":g$,"/src/assets/food/010A1858.jpg":y$,"/src/assets/food/0X4A9932.jpg":w$,"/src/assets/food/SMP_3392.jpg":x$,"/src/assets/food/SMP_3530.jpg":A$,"/src/assets/food/SMP_3558.jpg":C$,"/src/assets/food/SMP_3613.jpg":T$,"/src/assets/food/SMP_3658.jpg":L$,"/src/assets/food/SMP_3687.jpg":R$,"/src/assets/food/SMP_3738.jpg":I$,"/src/assets/food/SMP_3778.jpg":O$,"/src/assets/food/SMP_3896.jpg":VH,"/src/assets/food/SMP_3900.jpg":WH,"/src/assets/food/SMP_3955.jpg":B$,"/src/assets/food/SMP_3994.jpg":z$,"/src/assets/food/SMP_4008.jpg":H$,"/src/assets/food/SMP_4021.jpg":W$,"/src/assets/food/SMP_4117.jpg":UH,"/src/assets/food/SMP_4160.jpg":GH,"/src/assets/food/SMP_4239.jpg":G$,"/src/assets/food/SMP_4249.jpg":HH,"/src/assets/food/SMP_4261.jpg":$H,"/src/assets/food/SMP_4283.jpg":Z$,"/src/assets/food/SMP_4288.jpg":Y$}),f=Object.entries(u).map(([g,v],x)=>{var A;const _=((A=g.split("/").pop())==null?void 0:A.split(".")[0])||`ambience-${x}`;return{id:x+1,src:v.default,alt:`${_.charAt(0).toUpperCase()+_.slice(1)} - Restaurant Interior`,category:"Ambiance"}}),p=Object.entries(d).map(([g,v],x)=>{var A;const _=((A=g.split("/").pop())==null?void 0:A.split(".")[0])||`food-${x}`;return{id:f.length+x+1,src:v.default,alt:`${_.charAt(0).toUpperCase()+_.slice(1)} Dish`,category:"Food"}});r([...f,...p])},[]);const a=["All","Food","Ambiance"],c=n==="All"?s:s.filter(u=>u.category===n);return T.jsxs(Kv,{children:[T.jsx("section",{className:"py-20 bg-pattern-arabesque",children:T.jsxs("div",{className:"container mx-auto px-4 text-center",children:[T.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Visual Journey"}),T.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Our Gallery"}),T.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore the beauty of our restaurant, from our elegant interiors to our exquisite culinary creations."})]})}),T.jsx("section",{className:"py-2",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsx("div",{className:"flex justify-center gap-3 mb-12",children:a.map(u=>T.jsx("button",{onClick:()=>t(u),className:Zn("px-6 py-2 rounded-full text-sm font-medium transition-all duration-300",n===u?"bg-gold text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-gold/20 hover:text-foreground"),children:u},u))}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map((u,d)=>T.jsxs("div",{className:Zn("group relative overflow-hidden rounded-lg cursor-pointer",d===0&&"sm:col-span-2 sm:row-span-2"),onClick:()=>i(u),children:[T.jsx("img",{src:u.src,alt:u.alt,className:Zn("w-full object-cover transition-transform duration-500 group-hover:scale-110",d===0?"h-full min-h-[400px]":"aspect-square")}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),T.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[T.jsx("p",{className:"text-foreground font-medium",children:u.alt}),T.jsx("p",{className:"text-gold text-sm",children:u.category})]})]},u.id))})]})}),e&&T.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 flex items-center justify-center p-4",onClick:()=>i(null),children:[T.jsx("button",{className:"absolute top-4 right-4 text-foreground hover:text-gold transition-colors",onClick:()=>i(null),"aria-label":"Close",children:T.jsx($A,{size:32})}),T.jsx("img",{src:e.src,alt:e.alt,className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:u=>u.stopPropagation()})]})]})},Q$=()=>{const n=mh();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),T.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),T.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),T.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},J$=new f5,tW=()=>T.jsx(m5,{client:J$,children:T.jsxs($4,{children:[T.jsx(E3,{}),T.jsx(sz,{}),T.jsxs(d8,{children:[T.jsx(g8,{}),T.jsxs(r8,{children:[T.jsx(Cc,{path:"/",element:T.jsx(J8,{})}),T.jsx(Cc,{path:"/menu",element:T.jsx(NH,{})}),T.jsx(Cc,{path:"/book",element:T.jsx(BH,{})}),T.jsx(Cc,{path:"/about",element:T.jsx(ZH,{})}),T.jsx(Cc,{path:"/gallery",element:T.jsx(K$,{})}),T.jsx(Cc,{path:"*",element:T.jsx(Q$,{})})]})]})]})});CM(document.getElementById("root")).render(T.jsx(tW,{}));
