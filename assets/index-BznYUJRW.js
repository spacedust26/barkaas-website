var NO=Object.defineProperty;var VP=n=>{throw TypeError(n)};var IO=(n,t,e)=>t in n?NO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var nt=(n,t,e)=>IO(n,typeof t!="symbol"?t+"":t,e),kb=(n,t,e)=>t.has(n)||VP("Cannot "+e);var l=(n,t,e)=>(kb(n,t,"read from private field"),e?e.call(n):t.get(n)),R=(n,t,e)=>t.has(n)?VP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),C=(n,t,e,i)=>(kb(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),I=(n,t,e)=>(kb(n,t,"access private method"),e);var Fe=(n,t,e,i)=>({set _(s){C(n,t,s,e)},get _(){return l(n,t,i)}});function DO(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var Dk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ok={exports:{}},ww={},Fk={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=Symbol.for("react.element"),OO=Symbol.for("react.portal"),FO=Symbol.for("react.fragment"),BO=Symbol.for("react.strict_mode"),jO=Symbol.for("react.profiler"),zO=Symbol.for("react.provider"),HO=Symbol.for("react.context"),UO=Symbol.for("react.forward_ref"),$O=Symbol.for("react.suspense"),WO=Symbol.for("react.memo"),VO=Symbol.for("react.lazy"),GP=Symbol.iterator;function GO(n){return n===null||typeof n!="object"?null:(n=GP&&n[GP]||n["@@iterator"],typeof n=="function"?n:null)}var Bk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jk=Object.assign,zk={};function vp(n,t,e){this.props=n,this.context=t,this.refs=zk,this.updater=e||Bk}vp.prototype.isReactComponent={};vp.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};vp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Hk(){}Hk.prototype=vp.prototype;function iA(n,t,e){this.props=n,this.context=t,this.refs=zk,this.updater=e||Bk}var sA=iA.prototype=new Hk;sA.constructor=iA;jk(sA,vp.prototype);sA.isPureReactComponent=!0;var qP=Array.isArray,Uk=Object.prototype.hasOwnProperty,rA={current:null},$k={key:!0,ref:!0,__self:!0,__source:!0};function Wk(n,t,e){var i,s={},r=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)Uk.call(t,i)&&!$k.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(c===1)s.children=e;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(n&&n.defaultProps)for(i in c=n.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:ey,type:n,key:r,ref:o,props:s,_owner:rA.current}}function qO(n,t){return{$$typeof:ey,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function oA(n){return typeof n=="object"&&n!==null&&n.$$typeof===ey}function ZO(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var ZP=/\/+/g;function Mb(n,t){return typeof n=="object"&&n!==null&&n.key!=null?ZO(""+n.key):t.toString(36)}function v0(n,t,e,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ey:case OO:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+Mb(o,0):i,qP(s)?(e="",n!=null&&(e=n.replace(ZP,"$&/")+"/"),v0(s,t,e,"",function(d){return d})):s!=null&&(oA(s)&&(s=qO(s,e+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ZP,"$&/")+"/")+n)),t.push(s)),1;if(o=0,i=i===""?".":i+":",qP(n))for(var c=0;c<n.length;c++){r=n[c];var u=i+Mb(r,c);o+=v0(r,t,e,u,s)}else if(u=GO(n),typeof u=="function")for(n=u.call(n),c=0;!(r=n.next()).done;)r=r.value,u=i+Mb(r,c++),o+=v0(r,t,e,u,s);else if(r==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function By(n,t,e){if(n==null)return n;var i=[],s=0;return v0(n,i,"","",function(r){return t.call(e,r,s++)}),i}function XO(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var yi={current:null},y0={transition:null},YO={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:y0,ReactCurrentOwner:rA};function Vk(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:By,forEach:function(n,t,e){By(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return By(n,function(){t++}),t},toArray:function(n){return By(n,function(t){return t})||[]},only:function(n){if(!oA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ht.Component=vp;Ht.Fragment=FO;Ht.Profiler=jO;Ht.PureComponent=iA;Ht.StrictMode=BO;Ht.Suspense=$O;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YO;Ht.act=Vk;Ht.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=jk({},n.props),s=n.key,r=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=rA.current),t.key!==void 0&&(s=""+t.key),n.type&&n.type.defaultProps)var c=n.type.defaultProps;for(u in t)Uk.call(t,u)&&!$k.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=e;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:ey,type:n.type,key:s,ref:r,props:i,_owner:o}};Ht.createContext=function(n){return n={$$typeof:HO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:zO,_context:n},n.Consumer=n};Ht.createElement=Wk;Ht.createFactory=function(n){var t=Wk.bind(null,n);return t.type=n,t};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(n){return{$$typeof:UO,render:n}};Ht.isValidElement=oA;Ht.lazy=function(n){return{$$typeof:VO,_payload:{_status:-1,_result:n},_init:XO}};Ht.memo=function(n,t){return{$$typeof:WO,type:n,compare:t===void 0?null:t}};Ht.startTransition=function(n){var t=y0.transition;y0.transition={};try{n()}finally{y0.transition=t}};Ht.unstable_act=Vk;Ht.useCallback=function(n,t){return yi.current.useCallback(n,t)};Ht.useContext=function(n){return yi.current.useContext(n)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(n){return yi.current.useDeferredValue(n)};Ht.useEffect=function(n,t){return yi.current.useEffect(n,t)};Ht.useId=function(){return yi.current.useId()};Ht.useImperativeHandle=function(n,t,e){return yi.current.useImperativeHandle(n,t,e)};Ht.useInsertionEffect=function(n,t){return yi.current.useInsertionEffect(n,t)};Ht.useLayoutEffect=function(n,t){return yi.current.useLayoutEffect(n,t)};Ht.useMemo=function(n,t){return yi.current.useMemo(n,t)};Ht.useReducer=function(n,t,e){return yi.current.useReducer(n,t,e)};Ht.useRef=function(n){return yi.current.useRef(n)};Ht.useState=function(n){return yi.current.useState(n)};Ht.useSyncExternalStore=function(n,t,e){return yi.current.useSyncExternalStore(n,t,e)};Ht.useTransition=function(){return yi.current.useTransition()};Ht.version="18.3.1";Fk.exports=Ht;var D=Fk.exports;const rt=nA(D),Gk=DO({__proto__:null,default:rt},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO=D,QO=Symbol.for("react.element"),JO=Symbol.for("react.fragment"),tF=Object.prototype.hasOwnProperty,eF=KO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nF={key:!0,ref:!0,__self:!0,__source:!0};function qk(n,t,e){var i,s={},r=null,o=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)tF.call(t,i)&&!nF.hasOwnProperty(i)&&(s[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:QO,type:n,key:r,ref:o,props:s,_owner:eF.current}}ww.Fragment=JO;ww.jsx=qk;ww.jsxs=qk;Ok.exports=ww;var M=Ok.exports,Zk={exports:{}},ws={},Xk={exports:{}},Yk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(U,G){var X=U.length;U.push(G);t:for(;0<X;){var it=X-1>>>1,Q=U[it];if(0<s(Q,G))U[it]=G,U[X]=Q,X=it;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var G=U[0],X=U.pop();if(X!==G){U[0]=X;t:for(var it=0,Q=U.length,et=Q>>>1;it<et;){var ot=2*(it+1)-1,ut=U[ot],ht=ot+1,at=U[ht];if(0>s(ut,X))ht<Q&&0>s(at,ut)?(U[it]=at,U[ht]=X,it=ht):(U[it]=ut,U[ot]=X,it=ot);else if(ht<Q&&0>s(at,X))U[it]=at,U[ht]=X,it=ht;else break t}}return G}function s(U,G){var X=U.sortIndex-G.sortIndex;return X!==0?X:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,m=3,v=!1,x=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var G=e(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=U)i(d),G.sortIndex=G.expirationTime,t(u,G);else break;G=e(d)}}function y(U){if(_=!1,A(U),!x)if(e(u)!==null)x=!0,q(S);else{var G=e(d);G!==null&&Y(y,G.startTime-U)}}function S(U,G){x=!1,_&&(_=!1,w(F),F=-1),v=!0;var X=m;try{for(A(G),p=e(u);p!==null&&(!(p.expirationTime>G)||U&&!H());){var it=p.callback;if(typeof it=="function"){p.callback=null,m=p.priorityLevel;var Q=it(p.expirationTime<=G);G=n.unstable_now(),typeof Q=="function"?p.callback=Q:p===e(u)&&i(u),A(G)}else i(u);p=e(u)}if(p!==null)var et=!0;else{var ot=e(d);ot!==null&&Y(y,ot.startTime-G),et=!1}return et}finally{p=null,m=X,v=!1}}var T=!1,N=null,F=-1,B=5,j=-1;function H(){return!(n.unstable_now()-j<B)}function W(){if(N!==null){var U=n.unstable_now();j=U;var G=!0;try{G=N(!0,U)}finally{G?K():(T=!1,N=null)}}else T=!1}var K;if(typeof E=="function")K=function(){E(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=W,K=function(){J.postMessage(null)}}else K=function(){P(W,0)};function q(U){N=U,T||(T=!0,K())}function Y(U,G){F=P(function(){U(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,q(S))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return e(u)},n.unstable_next=function(U){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var X=m;m=G;try{return U()}finally{m=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=m;m=U;try{return G()}finally{m=X}},n.unstable_scheduleCallback=function(U,G,X){var it=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?it+X:it):X=it,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,U={id:f++,callback:G,priorityLevel:U,startTime:X,expirationTime:Q,sortIndex:-1},X>it?(U.sortIndex=X,t(d,U),e(u)===null&&U===e(d)&&(_?(w(F),F=-1):_=!0,Y(y,X-it))):(U.sortIndex=Q,t(u,U),x||v||(x=!0,q(S))),U},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(U){var G=m;return function(){var X=m;m=G;try{return U.apply(this,arguments)}finally{m=X}}}})(Yk);Xk.exports=Yk;var iF=Xk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sF=D,ys=iF;function st(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kk=new Set,jg={};function xh(n,t){rp(n,t),rp(n+"Capture",t)}function rp(n,t){for(jg[n]=t,n=0;n<t.length;n++)Kk.add(t[n])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yx=Object.prototype.hasOwnProperty,rF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XP={},YP={};function oF(n){return yx.call(YP,n)?!0:yx.call(XP,n)?!1:rF.test(n)?YP[n]=!0:(XP[n]=!0,!1)}function aF(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function lF(n,t,e,i){if(t===null||typeof t>"u"||aF(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _i(n,t,e,i,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zn[n]=new _i(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];zn[t]=new _i(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zn[n]=new _i(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zn[n]=new _i(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zn[n]=new _i(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zn[n]=new _i(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zn[n]=new _i(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zn[n]=new _i(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zn[n]=new _i(n,5,!1,n.toLowerCase(),null,!1,!1)});var aA=/[\-:]([a-z])/g;function lA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(aA,lA);zn[t]=new _i(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(aA,lA);zn[t]=new _i(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(aA,lA);zn[t]=new _i(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zn[n]=new _i(n,1,!1,n.toLowerCase(),null,!1,!1)});zn.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zn[n]=new _i(n,1,!1,n.toLowerCase(),null,!0,!0)});function cA(n,t,e,i){var s=zn.hasOwnProperty(t)?zn[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lF(t,e,s,i)&&(e=null),i||s===null?oF(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):s.mustUseProperty?n[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,i=s.attributeNamespace,e===null?n.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var za=sF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jy=Symbol.for("react.element"),Yh=Symbol.for("react.portal"),Kh=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),_x=Symbol.for("react.profiler"),Qk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),hA=Symbol.for("react.forward_ref"),wx=Symbol.for("react.suspense"),bx=Symbol.for("react.suspense_list"),dA=Symbol.for("react.memo"),Ka=Symbol.for("react.lazy"),tM=Symbol.for("react.offscreen"),KP=Symbol.iterator;function Hp(n){return n===null||typeof n!="object"?null:(n=KP&&n[KP]||n["@@iterator"],typeof n=="function"?n:null)}var Oe=Object.assign,Lb;function eg(n){if(Lb===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Lb=t&&t[1]||""}return`
`+Lb+n}var Rb=!1;function Nb(n,t){if(!n||Rb)return"";Rb=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(n,[],t)}else{try{t.call()}catch(d){i=d}n.call(t.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,c=r.length-1;1<=o&&0<=c&&s[o]!==r[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==r[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==r[c]){var u=`
`+s[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=c);break}}}finally{Rb=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?eg(n):""}function cF(n){switch(n.tag){case 5:return eg(n.type);case 16:return eg("Lazy");case 13:return eg("Suspense");case 19:return eg("SuspenseList");case 0:case 2:case 15:return n=Nb(n.type,!1),n;case 11:return n=Nb(n.type.render,!1),n;case 1:return n=Nb(n.type,!0),n;default:return""}}function xx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Kh:return"Fragment";case Yh:return"Portal";case _x:return"Profiler";case uA:return"StrictMode";case wx:return"Suspense";case bx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Jk:return(n.displayName||"Context")+".Consumer";case Qk:return(n._context.displayName||"Context")+".Provider";case hA:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dA:return t=n.displayName||null,t!==null?t:xx(n.type)||"Memo";case Ka:t=n._payload,n=n._init;try{return xx(n(t))}catch{}}return null}function uF(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xx(t);case 8:return t===uA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eM(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hF(n){var t=eM(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,r=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function zy(n){n._valueTracker||(n._valueTracker=hF(n))}function nM(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=eM(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function u_(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Sx(n,t){var e=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function QP(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=dc(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iM(n,t){t=t.checked,t!=null&&cA(n,"checked",t,!1)}function Ax(n,t){iM(n,t);var e=dc(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Ex(n,t.type,e):t.hasOwnProperty("defaultValue")&&Ex(n,t.type,dc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function JP(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Ex(n,t,e){(t!=="number"||u_(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var ng=Array.isArray;function fd(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+dc(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function Px(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(st(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function tC(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(st(92));if(ng(e)){if(1<e.length)throw Error(st(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:dc(e)}}function sM(n,t){var e=dc(t.value),i=dc(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function eC(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function rM(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cx(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?rM(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hy,oM=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,s)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Hy=Hy||document.createElement("div"),Hy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function zg(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Cg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dF=["Webkit","ms","Moz","O"];Object.keys(Cg).forEach(function(n){dF.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Cg[t]=Cg[n]})});function aM(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Cg.hasOwnProperty(n)&&Cg[n]?(""+t).trim():t+"px"}function lM(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,s=aM(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,s):n[e]=s}}var fF=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tx(n,t){if(t){if(fF[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(st(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(st(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(st(61))}if(t.style!=null&&typeof t.style!="object")throw Error(st(62))}}function kx(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mx=null;function fA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Lx=null,pd=null,gd=null;function nC(n){if(n=sy(n)){if(typeof Lx!="function")throw Error(st(280));var t=n.stateNode;t&&(t=Ew(t),Lx(n.stateNode,n.type,t))}}function cM(n){pd?gd?gd.push(n):gd=[n]:pd=n}function uM(){if(pd){var n=pd,t=gd;if(gd=pd=null,nC(n),t)for(n=0;n<t.length;n++)nC(t[n])}}function hM(n,t){return n(t)}function dM(){}var Ib=!1;function fM(n,t,e){if(Ib)return n(t,e);Ib=!0;try{return hM(n,t,e)}finally{Ib=!1,(pd!==null||gd!==null)&&(dM(),uM())}}function Hg(n,t){var e=n.stateNode;if(e===null)return null;var i=Ew(e);if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(st(231,t,typeof e));return e}var Rx=!1;if(Ma)try{var Up={};Object.defineProperty(Up,"passive",{get:function(){Rx=!0}}),window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,Up)}catch{Rx=!1}function pF(n,t,e,i,s,r,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(e,d)}catch(f){this.onError(f)}}var Tg=!1,h_=null,d_=!1,Nx=null,gF={onError:function(n){Tg=!0,h_=n}};function mF(n,t,e,i,s,r,o,c,u){Tg=!1,h_=null,pF.apply(gF,arguments)}function vF(n,t,e,i,s,r,o,c,u){if(mF.apply(this,arguments),Tg){if(Tg){var d=h_;Tg=!1,h_=null}else throw Error(st(198));d_||(d_=!0,Nx=d)}}function Sh(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function pM(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function iC(n){if(Sh(n)!==n)throw Error(st(188))}function yF(n){var t=n.alternate;if(!t){if(t=Sh(n),t===null)throw Error(st(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===e)return iC(s),n;if(r===i)return iC(s),t;r=r.sibling}throw Error(st(188))}if(e.return!==i.return)e=s,i=r;else{for(var o=!1,c=s.child;c;){if(c===e){o=!0,e=s,i=r;break}if(c===i){o=!0,i=s,e=r;break}c=c.sibling}if(!o){for(c=r.child;c;){if(c===e){o=!0,e=r,i=s;break}if(c===i){o=!0,i=r,e=s;break}c=c.sibling}if(!o)throw Error(st(189))}}if(e.alternate!==i)throw Error(st(190))}if(e.tag!==3)throw Error(st(188));return e.stateNode.current===e?n:t}function gM(n){return n=yF(n),n!==null?mM(n):null}function mM(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=mM(n);if(t!==null)return t;n=n.sibling}return null}var vM=ys.unstable_scheduleCallback,sC=ys.unstable_cancelCallback,_F=ys.unstable_shouldYield,wF=ys.unstable_requestPaint,Xe=ys.unstable_now,bF=ys.unstable_getCurrentPriorityLevel,pA=ys.unstable_ImmediatePriority,yM=ys.unstable_UserBlockingPriority,f_=ys.unstable_NormalPriority,xF=ys.unstable_LowPriority,_M=ys.unstable_IdlePriority,bw=null,bo=null;function SF(n){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(bw,n,void 0,(n.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:PF,AF=Math.log,EF=Math.LN2;function PF(n){return n>>>=0,n===0?32:31-(AF(n)/EF|0)|0}var Uy=64,$y=4194304;function ig(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function p_(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=e&268435455;if(o!==0){var c=o&~s;c!==0?i=ig(c):(r&=o,r!==0&&(i=ig(r)))}else o=e&~s,o!==0?i=ig(o):r!==0&&(i=ig(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-Sr(t),s=1<<e,i|=n[e],t&=~s;return i}function CF(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TF(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-Sr(r),c=1<<o,u=s[o];u===-1?(!(c&e)||c&i)&&(s[o]=CF(c,t)):u<=t&&(n.expiredLanes|=c),r&=~c}}function Ix(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function wM(){var n=Uy;return Uy<<=1,!(Uy&4194240)&&(Uy=64),n}function Db(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function ny(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Sr(t),n[t]=e}function kF(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var s=31-Sr(e),r=1<<s;t[s]=0,i[s]=-1,n[s]=-1,e&=~r}}function gA(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-Sr(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}var ie=0;function bM(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xM,mA,SM,AM,EM,Dx=!1,Wy=[],ic=null,sc=null,rc=null,Ug=new Map,$g=new Map,Ja=[],MF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rC(n,t){switch(n){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":sc=null;break;case"mouseover":case"mouseout":rc=null;break;case"pointerover":case"pointerout":Ug.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$g.delete(t.pointerId)}}function $p(n,t,e,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=sy(t),t!==null&&mA(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function LF(n,t,e,i,s){switch(t){case"focusin":return ic=$p(ic,n,t,e,i,s),!0;case"dragenter":return sc=$p(sc,n,t,e,i,s),!0;case"mouseover":return rc=$p(rc,n,t,e,i,s),!0;case"pointerover":var r=s.pointerId;return Ug.set(r,$p(Ug.get(r)||null,n,t,e,i,s)),!0;case"gotpointercapture":return r=s.pointerId,$g.set(r,$p($g.get(r)||null,n,t,e,i,s)),!0}return!1}function PM(n){var t=Wc(n.target);if(t!==null){var e=Sh(t);if(e!==null){if(t=e.tag,t===13){if(t=pM(e),t!==null){n.blockedOn=t,EM(n.priority,function(){SM(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _0(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Ox(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);Mx=i,e.target.dispatchEvent(i),Mx=null}else return t=sy(e),t!==null&&mA(t),n.blockedOn=e,!1;t.shift()}return!0}function oC(n,t,e){_0(n)&&e.delete(t)}function RF(){Dx=!1,ic!==null&&_0(ic)&&(ic=null),sc!==null&&_0(sc)&&(sc=null),rc!==null&&_0(rc)&&(rc=null),Ug.forEach(oC),$g.forEach(oC)}function Wp(n,t){n.blockedOn===t&&(n.blockedOn=null,Dx||(Dx=!0,ys.unstable_scheduleCallback(ys.unstable_NormalPriority,RF)))}function Wg(n){function t(s){return Wp(s,n)}if(0<Wy.length){Wp(Wy[0],n);for(var e=1;e<Wy.length;e++){var i=Wy[e];i.blockedOn===n&&(i.blockedOn=null)}}for(ic!==null&&Wp(ic,n),sc!==null&&Wp(sc,n),rc!==null&&Wp(rc,n),Ug.forEach(t),$g.forEach(t),e=0;e<Ja.length;e++)i=Ja[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ja.length&&(e=Ja[0],e.blockedOn===null);)PM(e),e.blockedOn===null&&Ja.shift()}var md=za.ReactCurrentBatchConfig,g_=!0;function NF(n,t,e,i){var s=ie,r=md.transition;md.transition=null;try{ie=1,vA(n,t,e,i)}finally{ie=s,md.transition=r}}function IF(n,t,e,i){var s=ie,r=md.transition;md.transition=null;try{ie=4,vA(n,t,e,i)}finally{ie=s,md.transition=r}}function vA(n,t,e,i){if(g_){var s=Ox(n,t,e,i);if(s===null)Vb(n,t,i,m_,e),rC(n,i);else if(LF(s,n,t,e,i))i.stopPropagation();else if(rC(n,i),t&4&&-1<MF.indexOf(n)){for(;s!==null;){var r=sy(s);if(r!==null&&xM(r),r=Ox(n,t,e,i),r===null&&Vb(n,t,i,m_,e),r===s)break;s=r}s!==null&&i.stopPropagation()}else Vb(n,t,i,null,e)}}var m_=null;function Ox(n,t,e,i){if(m_=null,n=fA(i),n=Wc(n),n!==null)if(t=Sh(n),t===null)n=null;else if(e=t.tag,e===13){if(n=pM(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return m_=n,null}function CM(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bF()){case pA:return 1;case yM:return 4;case f_:case xF:return 16;case _M:return 536870912;default:return 16}default:return 16}}var tc=null,yA=null,w0=null;function TM(){if(w0)return w0;var n,t=yA,e=t.length,i,s="value"in tc?tc.value:tc.textContent,r=s.length;for(n=0;n<e&&t[n]===s[n];n++);var o=e-n;for(i=1;i<=o&&t[e-i]===s[r-i];i++);return w0=s.slice(n,1<i?1-i:void 0)}function b0(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Vy(){return!0}function aC(){return!1}function bs(n){function t(e,i,s,r,o){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var c in n)n.hasOwnProperty(c)&&(e=n[c],this[c]=e?e(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Vy:aC,this.isPropagationStopped=aC,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Vy)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Vy)},persist:function(){},isPersistent:Vy}),t}var yp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_A=bs(yp),iy=Oe({},yp,{view:0,detail:0}),DF=bs(iy),Ob,Fb,Vp,xw=Oe({},iy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vp&&(Vp&&n.type==="mousemove"?(Ob=n.screenX-Vp.screenX,Fb=n.screenY-Vp.screenY):Fb=Ob=0,Vp=n),Ob)},movementY:function(n){return"movementY"in n?n.movementY:Fb}}),lC=bs(xw),OF=Oe({},xw,{dataTransfer:0}),FF=bs(OF),BF=Oe({},iy,{relatedTarget:0}),Bb=bs(BF),jF=Oe({},yp,{animationName:0,elapsedTime:0,pseudoElement:0}),zF=bs(jF),HF=Oe({},yp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),UF=bs(HF),$F=Oe({},yp,{data:0}),cC=bs($F),WF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qF(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=GF[n])?!!t[n]:!1}function wA(){return qF}var ZF=Oe({},iy,{key:function(n){if(n.key){var t=WF[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=b0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?VF[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wA,charCode:function(n){return n.type==="keypress"?b0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?b0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),XF=bs(ZF),YF=Oe({},xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uC=bs(YF),KF=Oe({},iy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wA}),QF=bs(KF),JF=Oe({},yp,{propertyName:0,elapsedTime:0,pseudoElement:0}),tB=bs(JF),eB=Oe({},xw,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nB=bs(eB),iB=[9,13,27,32],bA=Ma&&"CompositionEvent"in window,kg=null;Ma&&"documentMode"in document&&(kg=document.documentMode);var sB=Ma&&"TextEvent"in window&&!kg,kM=Ma&&(!bA||kg&&8<kg&&11>=kg),hC=" ",dC=!1;function MM(n,t){switch(n){case"keyup":return iB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LM(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qh=!1;function rB(n,t){switch(n){case"compositionend":return LM(t);case"keypress":return t.which!==32?null:(dC=!0,hC);case"textInput":return n=t.data,n===hC&&dC?null:n;default:return null}}function oB(n,t){if(Qh)return n==="compositionend"||!bA&&MM(n,t)?(n=TM(),w0=yA=tc=null,Qh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kM&&t.locale!=="ko"?null:t.data;default:return null}}var aB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fC(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!aB[n.type]:t==="textarea"}function RM(n,t,e,i){cM(i),t=v_(t,"onChange"),0<t.length&&(e=new _A("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var Mg=null,Vg=null;function lB(n){$M(n,0)}function Sw(n){var t=ed(n);if(nM(t))return n}function cB(n,t){if(n==="change")return t}var NM=!1;if(Ma){var jb;if(Ma){var zb="oninput"in document;if(!zb){var pC=document.createElement("div");pC.setAttribute("oninput","return;"),zb=typeof pC.oninput=="function"}jb=zb}else jb=!1;NM=jb&&(!document.documentMode||9<document.documentMode)}function gC(){Mg&&(Mg.detachEvent("onpropertychange",IM),Vg=Mg=null)}function IM(n){if(n.propertyName==="value"&&Sw(Vg)){var t=[];RM(t,Vg,n,fA(n)),fM(lB,t)}}function uB(n,t,e){n==="focusin"?(gC(),Mg=t,Vg=e,Mg.attachEvent("onpropertychange",IM)):n==="focusout"&&gC()}function hB(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sw(Vg)}function dB(n,t){if(n==="click")return Sw(t)}function fB(n,t){if(n==="input"||n==="change")return Sw(t)}function pB(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Pr=typeof Object.is=="function"?Object.is:pB;function Gg(n,t){if(Pr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!yx.call(t,s)||!Pr(n[s],t[s]))return!1}return!0}function mC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vC(n,t){var e=mC(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=mC(e)}}function DM(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?DM(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function OM(){for(var n=window,t=u_();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=u_(n.document)}return t}function xA(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function gB(n){var t=OM(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&DM(e.ownerDocument.documentElement,e)){if(i!==null&&xA(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var s=e.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=vC(e,r);var o=vC(e,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var mB=Ma&&"documentMode"in document&&11>=document.documentMode,Jh=null,Fx=null,Lg=null,Bx=!1;function yC(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Bx||Jh==null||Jh!==u_(i)||(i=Jh,"selectionStart"in i&&xA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Lg&&Gg(Lg,i)||(Lg=i,i=v_(Fx,"onSelect"),0<i.length&&(t=new _A("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=Jh)))}function Gy(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var td={animationend:Gy("Animation","AnimationEnd"),animationiteration:Gy("Animation","AnimationIteration"),animationstart:Gy("Animation","AnimationStart"),transitionend:Gy("Transition","TransitionEnd")},Hb={},FM={};Ma&&(FM=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function Aw(n){if(Hb[n])return Hb[n];if(!td[n])return n;var t=td[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in FM)return Hb[n]=t[e];return n}var BM=Aw("animationend"),jM=Aw("animationiteration"),zM=Aw("animationstart"),HM=Aw("transitionend"),UM=new Map,_C="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xc(n,t){UM.set(n,t),xh(t,[n])}for(var Ub=0;Ub<_C.length;Ub++){var $b=_C[Ub],vB=$b.toLowerCase(),yB=$b[0].toUpperCase()+$b.slice(1);xc(vB,"on"+yB)}xc(BM,"onAnimationEnd");xc(jM,"onAnimationIteration");xc(zM,"onAnimationStart");xc("dblclick","onDoubleClick");xc("focusin","onFocus");xc("focusout","onBlur");xc(HM,"onTransitionEnd");rp("onMouseEnter",["mouseout","mouseover"]);rp("onMouseLeave",["mouseout","mouseover"]);rp("onPointerEnter",["pointerout","pointerover"]);rp("onPointerLeave",["pointerout","pointerover"]);xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_B=new Set("cancel close invalid load scroll toggle".split(" ").concat(sg));function wC(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,vF(i,t,void 0,n),n.currentTarget=null}function $M(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var c=i[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==r&&s.isPropagationStopped())break t;wC(s,c,d),r=u}else for(o=0;o<i.length;o++){if(c=i[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==r&&s.isPropagationStopped())break t;wC(s,c,d),r=u}}}if(d_)throw n=Nx,d_=!1,Nx=null,n}function we(n,t){var e=t[$x];e===void 0&&(e=t[$x]=new Set);var i=n+"__bubble";e.has(i)||(WM(t,n,2,!1),e.add(i))}function Wb(n,t,e){var i=0;t&&(i|=4),WM(e,n,i,t)}var qy="_reactListening"+Math.random().toString(36).slice(2);function qg(n){if(!n[qy]){n[qy]=!0,Kk.forEach(function(e){e!=="selectionchange"&&(_B.has(e)||Wb(e,!1,n),Wb(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[qy]||(t[qy]=!0,Wb("selectionchange",!1,t))}}function WM(n,t,e,i){switch(CM(t)){case 1:var s=NF;break;case 4:s=IF;break;default:s=vA}e=s.bind(null,t,e,n),s=void 0,!Rx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function Vb(n,t,e,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Wc(c),o===null)return;if(u=o.tag,u===5||u===6){i=r=o;continue t}c=c.parentNode}}i=i.return}fM(function(){var d=r,f=fA(e),p=[];t:{var m=UM.get(n);if(m!==void 0){var v=_A,x=n;switch(n){case"keypress":if(b0(e)===0)break t;case"keydown":case"keyup":v=XF;break;case"focusin":x="focus",v=Bb;break;case"focusout":x="blur",v=Bb;break;case"beforeblur":case"afterblur":v=Bb;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=lC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=FF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=QF;break;case BM:case jM:case zM:v=zF;break;case HM:v=tB;break;case"scroll":v=DF;break;case"wheel":v=nB;break;case"copy":case"cut":case"paste":v=UF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=uC}var _=(t&4)!==0,P=!_&&n==="scroll",w=_?m!==null?m+"Capture":null:m;_=[];for(var E=d,A;E!==null;){A=E;var y=A.stateNode;if(A.tag===5&&y!==null&&(A=y,w!==null&&(y=Hg(E,w),y!=null&&_.push(Zg(E,y,A)))),P)break;E=E.return}0<_.length&&(m=new v(m,x,null,e,f),p.push({event:m,listeners:_}))}}if(!(t&7)){t:{if(m=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",m&&e!==Mx&&(x=e.relatedTarget||e.fromElement)&&(Wc(x)||x[La]))break t;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=e.relatedTarget||e.toElement,v=d,x=x?Wc(x):null,x!==null&&(P=Sh(x),x!==P||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(_=lC,y="onMouseLeave",w="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(_=uC,y="onPointerLeave",w="onPointerEnter",E="pointer"),P=v==null?m:ed(v),A=x==null?m:ed(x),m=new _(y,E+"leave",v,e,f),m.target=P,m.relatedTarget=A,y=null,Wc(f)===d&&(_=new _(w,E+"enter",x,e,f),_.target=A,_.relatedTarget=P,y=_),P=y,v&&x)e:{for(_=v,w=x,E=0,A=_;A;A=jh(A))E++;for(A=0,y=w;y;y=jh(y))A++;for(;0<E-A;)_=jh(_),E--;for(;0<A-E;)w=jh(w),A--;for(;E--;){if(_===w||w!==null&&_===w.alternate)break e;_=jh(_),w=jh(w)}_=null}else _=null;v!==null&&bC(p,m,v,_,!1),x!==null&&P!==null&&bC(p,P,x,_,!0)}}t:{if(m=d?ed(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=cB;else if(fC(m))if(NM)S=fB;else{S=hB;var T=uB}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=dB);if(S&&(S=S(n,d))){RM(p,S,e,f);break t}T&&T(n,m,d),n==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Ex(m,"number",m.value)}switch(T=d?ed(d):window,n){case"focusin":(fC(T)||T.contentEditable==="true")&&(Jh=T,Fx=d,Lg=null);break;case"focusout":Lg=Fx=Jh=null;break;case"mousedown":Bx=!0;break;case"contextmenu":case"mouseup":case"dragend":Bx=!1,yC(p,e,f);break;case"selectionchange":if(mB)break;case"keydown":case"keyup":yC(p,e,f)}var N;if(bA)t:{switch(n){case"compositionstart":var F="onCompositionStart";break t;case"compositionend":F="onCompositionEnd";break t;case"compositionupdate":F="onCompositionUpdate";break t}F=void 0}else Qh?MM(n,e)&&(F="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(F="onCompositionStart");F&&(kM&&e.locale!=="ko"&&(Qh||F!=="onCompositionStart"?F==="onCompositionEnd"&&Qh&&(N=TM()):(tc=f,yA="value"in tc?tc.value:tc.textContent,Qh=!0)),T=v_(d,F),0<T.length&&(F=new cC(F,n,null,e,f),p.push({event:F,listeners:T}),N?F.data=N:(N=LM(e),N!==null&&(F.data=N)))),(N=sB?rB(n,e):oB(n,e))&&(d=v_(d,"onBeforeInput"),0<d.length&&(f=new cC("onBeforeInput","beforeinput",null,e,f),p.push({event:f,listeners:d}),f.data=N))}$M(p,t)})}function Zg(n,t,e){return{instance:n,listener:t,currentTarget:e}}function v_(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Hg(n,e),r!=null&&i.unshift(Zg(n,r,s)),r=Hg(n,t),r!=null&&i.push(Zg(n,r,s))),n=n.return}return i}function jh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bC(n,t,e,i,s){for(var r=t._reactName,o=[];e!==null&&e!==i;){var c=e,u=c.alternate,d=c.stateNode;if(u!==null&&u===i)break;c.tag===5&&d!==null&&(c=d,s?(u=Hg(e,r),u!=null&&o.unshift(Zg(e,u,c))):s||(u=Hg(e,r),u!=null&&o.push(Zg(e,u,c)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var wB=/\r\n?/g,bB=/\u0000|\uFFFD/g;function xC(n){return(typeof n=="string"?n:""+n).replace(wB,`
`).replace(bB,"")}function Zy(n,t,e){if(t=xC(t),xC(n)!==t&&e)throw Error(st(425))}function y_(){}var jx=null,zx=null;function Hx(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ux=typeof setTimeout=="function"?setTimeout:void 0,xB=typeof clearTimeout=="function"?clearTimeout:void 0,SC=typeof Promise=="function"?Promise:void 0,SB=typeof queueMicrotask=="function"?queueMicrotask:typeof SC<"u"?function(n){return SC.resolve(null).then(n).catch(AB)}:Ux;function AB(n){setTimeout(function(){throw n})}function Gb(n,t){var e=t,i=0;do{var s=e.nextSibling;if(n.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(i===0){n.removeChild(s),Wg(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=s}while(e);Wg(t)}function oc(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function AC(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var _p=Math.random().toString(36).slice(2),vo="__reactFiber$"+_p,Xg="__reactProps$"+_p,La="__reactContainer$"+_p,$x="__reactEvents$"+_p,EB="__reactListeners$"+_p,PB="__reactHandles$"+_p;function Wc(n){var t=n[vo];if(t)return t;for(var e=n.parentNode;e;){if(t=e[La]||e[vo]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=AC(n);n!==null;){if(e=n[vo])return e;n=AC(n)}return t}n=e,e=n.parentNode}return null}function sy(n){return n=n[vo]||n[La],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ed(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(st(33))}function Ew(n){return n[Xg]||null}var Wx=[],nd=-1;function Sc(n){return{current:n}}function xe(n){0>nd||(n.current=Wx[nd],Wx[nd]=null,nd--)}function ve(n,t){nd++,Wx[nd]=n.current,n.current=t}var fc={},ni=Sc(fc),ji=Sc(!1),fh=fc;function op(n,t){var e=n.type.contextTypes;if(!e)return fc;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in e)s[r]=t[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=s),s}function zi(n){return n=n.childContextTypes,n!=null}function __(){xe(ji),xe(ni)}function EC(n,t,e){if(ni.current!==fc)throw Error(st(168));ve(ni,t),ve(ji,e)}function VM(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(st(108,uF(n)||"Unknown",s));return Oe({},e,i)}function w_(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||fc,fh=ni.current,ve(ni,n),ve(ji,ji.current),!0}function PC(n,t,e){var i=n.stateNode;if(!i)throw Error(st(169));e?(n=VM(n,t,fh),i.__reactInternalMemoizedMergedChildContext=n,xe(ji),xe(ni),ve(ni,n)):xe(ji),ve(ji,e)}var $o=null,Pw=!1,qb=!1;function GM(n){$o===null?$o=[n]:$o.push(n)}function CB(n){Pw=!0,GM(n)}function Ac(){if(!qb&&$o!==null){qb=!0;var n=0,t=ie;try{var e=$o;for(ie=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}$o=null,Pw=!1}catch(s){throw $o!==null&&($o=$o.slice(n+1)),vM(pA,Ac),s}finally{ie=t,qb=!1}}return null}var id=[],sd=0,b_=null,x_=0,Hs=[],Us=0,ph=null,Ea=1,Pa="";function Dc(n,t){id[sd++]=x_,id[sd++]=b_,b_=n,x_=t}function qM(n,t,e){Hs[Us++]=Ea,Hs[Us++]=Pa,Hs[Us++]=ph,ph=n;var i=Ea;n=Pa;var s=32-Sr(i)-1;i&=~(1<<s),e+=1;var r=32-Sr(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Ea=1<<32-Sr(t)+s|e<<s|i,Pa=r+n}else Ea=1<<r|e<<s|i,Pa=n}function SA(n){n.return!==null&&(Dc(n,1),qM(n,1,0))}function AA(n){for(;n===b_;)b_=id[--sd],id[sd]=null,x_=id[--sd],id[sd]=null;for(;n===ph;)ph=Hs[--Us],Hs[Us]=null,Pa=Hs[--Us],Hs[Us]=null,Ea=Hs[--Us],Hs[Us]=null}var gs=null,ps=null,Pe=!1,wr=null;function ZM(n,t){var e=Vs(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function CC(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,gs=n,ps=oc(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,gs=n,ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=ph!==null?{id:Ea,overflow:Pa}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Vs(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,gs=n,ps=null,!0):!1;default:return!1}}function Vx(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Gx(n){if(Pe){var t=ps;if(t){var e=t;if(!CC(n,t)){if(Vx(n))throw Error(st(418));t=oc(e.nextSibling);var i=gs;t&&CC(n,t)?ZM(i,e):(n.flags=n.flags&-4097|2,Pe=!1,gs=n)}}else{if(Vx(n))throw Error(st(418));n.flags=n.flags&-4097|2,Pe=!1,gs=n}}}function TC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;gs=n}function Xy(n){if(n!==gs)return!1;if(!Pe)return TC(n),Pe=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Hx(n.type,n.memoizedProps)),t&&(t=ps)){if(Vx(n))throw XM(),Error(st(418));for(;t;)ZM(n,t),t=oc(t.nextSibling)}if(TC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(st(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){ps=oc(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}ps=null}}else ps=gs?oc(n.stateNode.nextSibling):null;return!0}function XM(){for(var n=ps;n;)n=oc(n.nextSibling)}function ap(){ps=gs=null,Pe=!1}function EA(n){wr===null?wr=[n]:wr.push(n)}var TB=za.ReactCurrentBatchConfig;function Gp(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(st(309));var i=e.stateNode}if(!i)throw Error(st(147,n));var s=i,r=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var c=s.refs;o===null?delete c[r]:c[r]=o},t._stringRef=r,t)}if(typeof n!="string")throw Error(st(284));if(!e._owner)throw Error(st(290,n))}return n}function Yy(n,t){throw n=Object.prototype.toString.call(t),Error(st(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function kC(n){var t=n._init;return t(n._payload)}function YM(n){function t(w,E){if(n){var A=w.deletions;A===null?(w.deletions=[E],w.flags|=16):A.push(E)}}function e(w,E){if(!n)return null;for(;E!==null;)t(w,E),E=E.sibling;return null}function i(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function s(w,E){return w=uc(w,E),w.index=0,w.sibling=null,w}function r(w,E,A){return w.index=A,n?(A=w.alternate,A!==null?(A=A.index,A<E?(w.flags|=2,E):A):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function c(w,E,A,y){return E===null||E.tag!==6?(E=tx(A,w.mode,y),E.return=w,E):(E=s(E,A),E.return=w,E)}function u(w,E,A,y){var S=A.type;return S===Kh?f(w,E,A.props.children,y,A.key):E!==null&&(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ka&&kC(S)===E.type)?(y=s(E,A.props),y.ref=Gp(w,E,A),y.return=w,y):(y=T0(A.type,A.key,A.props,null,w.mode,y),y.ref=Gp(w,E,A),y.return=w,y)}function d(w,E,A,y){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=ex(A,w.mode,y),E.return=w,E):(E=s(E,A.children||[]),E.return=w,E)}function f(w,E,A,y,S){return E===null||E.tag!==7?(E=dh(A,w.mode,y,S),E.return=w,E):(E=s(E,A),E.return=w,E)}function p(w,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=tx(""+E,w.mode,A),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case jy:return A=T0(E.type,E.key,E.props,null,w.mode,A),A.ref=Gp(w,null,E),A.return=w,A;case Yh:return E=ex(E,w.mode,A),E.return=w,E;case Ka:var y=E._init;return p(w,y(E._payload),A)}if(ng(E)||Hp(E))return E=dh(E,w.mode,A,null),E.return=w,E;Yy(w,E)}return null}function m(w,E,A,y){var S=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return S!==null?null:c(w,E,""+A,y);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jy:return A.key===S?u(w,E,A,y):null;case Yh:return A.key===S?d(w,E,A,y):null;case Ka:return S=A._init,m(w,E,S(A._payload),y)}if(ng(A)||Hp(A))return S!==null?null:f(w,E,A,y,null);Yy(w,A)}return null}function v(w,E,A,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return w=w.get(A)||null,c(E,w,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jy:return w=w.get(y.key===null?A:y.key)||null,u(E,w,y,S);case Yh:return w=w.get(y.key===null?A:y.key)||null,d(E,w,y,S);case Ka:var T=y._init;return v(w,E,A,T(y._payload),S)}if(ng(y)||Hp(y))return w=w.get(A)||null,f(E,w,y,S,null);Yy(E,y)}return null}function x(w,E,A,y){for(var S=null,T=null,N=E,F=E=0,B=null;N!==null&&F<A.length;F++){N.index>F?(B=N,N=null):B=N.sibling;var j=m(w,N,A[F],y);if(j===null){N===null&&(N=B);break}n&&N&&j.alternate===null&&t(w,N),E=r(j,E,F),T===null?S=j:T.sibling=j,T=j,N=B}if(F===A.length)return e(w,N),Pe&&Dc(w,F),S;if(N===null){for(;F<A.length;F++)N=p(w,A[F],y),N!==null&&(E=r(N,E,F),T===null?S=N:T.sibling=N,T=N);return Pe&&Dc(w,F),S}for(N=i(w,N);F<A.length;F++)B=v(N,w,F,A[F],y),B!==null&&(n&&B.alternate!==null&&N.delete(B.key===null?F:B.key),E=r(B,E,F),T===null?S=B:T.sibling=B,T=B);return n&&N.forEach(function(H){return t(w,H)}),Pe&&Dc(w,F),S}function _(w,E,A,y){var S=Hp(A);if(typeof S!="function")throw Error(st(150));if(A=S.call(A),A==null)throw Error(st(151));for(var T=S=null,N=E,F=E=0,B=null,j=A.next();N!==null&&!j.done;F++,j=A.next()){N.index>F?(B=N,N=null):B=N.sibling;var H=m(w,N,j.value,y);if(H===null){N===null&&(N=B);break}n&&N&&H.alternate===null&&t(w,N),E=r(H,E,F),T===null?S=H:T.sibling=H,T=H,N=B}if(j.done)return e(w,N),Pe&&Dc(w,F),S;if(N===null){for(;!j.done;F++,j=A.next())j=p(w,j.value,y),j!==null&&(E=r(j,E,F),T===null?S=j:T.sibling=j,T=j);return Pe&&Dc(w,F),S}for(N=i(w,N);!j.done;F++,j=A.next())j=v(N,w,F,j.value,y),j!==null&&(n&&j.alternate!==null&&N.delete(j.key===null?F:j.key),E=r(j,E,F),T===null?S=j:T.sibling=j,T=j);return n&&N.forEach(function(W){return t(w,W)}),Pe&&Dc(w,F),S}function P(w,E,A,y){if(typeof A=="object"&&A!==null&&A.type===Kh&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case jy:t:{for(var S=A.key,T=E;T!==null;){if(T.key===S){if(S=A.type,S===Kh){if(T.tag===7){e(w,T.sibling),E=s(T,A.props.children),E.return=w,w=E;break t}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ka&&kC(S)===T.type){e(w,T.sibling),E=s(T,A.props),E.ref=Gp(w,T,A),E.return=w,w=E;break t}e(w,T);break}else t(w,T);T=T.sibling}A.type===Kh?(E=dh(A.props.children,w.mode,y,A.key),E.return=w,w=E):(y=T0(A.type,A.key,A.props,null,w.mode,y),y.ref=Gp(w,E,A),y.return=w,w=y)}return o(w);case Yh:t:{for(T=A.key;E!==null;){if(E.key===T)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){e(w,E.sibling),E=s(E,A.children||[]),E.return=w,w=E;break t}else{e(w,E);break}else t(w,E);E=E.sibling}E=ex(A,w.mode,y),E.return=w,w=E}return o(w);case Ka:return T=A._init,P(w,E,T(A._payload),y)}if(ng(A))return x(w,E,A,y);if(Hp(A))return _(w,E,A,y);Yy(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(e(w,E.sibling),E=s(E,A),E.return=w,w=E):(e(w,E),E=tx(A,w.mode,y),E.return=w,w=E),o(w)):e(w,E)}return P}var lp=YM(!0),KM=YM(!1),S_=Sc(null),A_=null,rd=null,PA=null;function CA(){PA=rd=A_=null}function TA(n){var t=S_.current;xe(S_),n._currentValue=t}function qx(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function vd(n,t){A_=n,PA=rd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Bi=!0),n.firstContext=null)}function Zs(n){var t=n._currentValue;if(PA!==n)if(n={context:n,memoizedValue:t,next:null},rd===null){if(A_===null)throw Error(st(308));rd=n,A_.dependencies={lanes:0,firstContext:n}}else rd=rd.next=n;return t}var Vc=null;function kA(n){Vc===null?Vc=[n]:Vc.push(n)}function QM(n,t,e,i){var s=t.interleaved;return s===null?(e.next=e,kA(t)):(e.next=s.next,s.next=e),t.interleaved=e,Ra(n,i)}function Ra(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Qa=!1;function MA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JM(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ca(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function ac(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Zt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ra(n,e)}return s=i.interleaved,s===null?(t.next=t,kA(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ra(n,e)}function x0(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,gA(n,e)}}function MC(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?s=r=o:r=r.next=o,e=e.next}while(e!==null);r===null?s=r=t:r=r.next=t}else s=r=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function E_(n,t,e,i){var s=n.updateQueue;Qa=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?r=d:o.next=d,o=u;var f=n.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;o=0,f=d=u=null,c=r;do{var m=c.lane,v=c.eventTime;if((i&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});t:{var x=n,_=c;switch(m=t,v=e,_.tag){case 1:if(x=_.payload,typeof x=="function"){p=x.call(v,p,m);break t}p=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,m=typeof x=="function"?x.call(v,p,m):x,m==null)break t;p=Oe({},p,m);break t;case 2:Qa=!0}}c.callback!==null&&c.lane!==0&&(n.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else v={eventTime:v,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=v,u=p):f=f.next=v,o|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);mh|=o,n.lanes=o,n.memoizedState=p}}function LC(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],s=i.callback;if(s!==null){if(i.callback=null,i=e,typeof s!="function")throw Error(st(191,s));s.call(i)}}}var ry={},xo=Sc(ry),Yg=Sc(ry),Kg=Sc(ry);function Gc(n){if(n===ry)throw Error(st(174));return n}function LA(n,t){switch(ve(Kg,t),ve(Yg,n),ve(xo,ry),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cx(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Cx(t,n)}xe(xo),ve(xo,t)}function cp(){xe(xo),xe(Yg),xe(Kg)}function tL(n){Gc(Kg.current);var t=Gc(xo.current),e=Cx(t,n.type);t!==e&&(ve(Yg,n),ve(xo,e))}function RA(n){Yg.current===n&&(xe(xo),xe(Yg))}var Le=Sc(0);function P_(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zb=[];function NA(){for(var n=0;n<Zb.length;n++)Zb[n]._workInProgressVersionPrimary=null;Zb.length=0}var S0=za.ReactCurrentDispatcher,Xb=za.ReactCurrentBatchConfig,gh=0,Ie=null,hn=null,Sn=null,C_=!1,Rg=!1,Qg=0,kB=0;function Un(){throw Error(st(321))}function IA(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Pr(n[e],t[e]))return!1;return!0}function DA(n,t,e,i,s,r){if(gh=r,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S0.current=n===null||n.memoizedState===null?NB:IB,n=e(i,s),Rg){r=0;do{if(Rg=!1,Qg=0,25<=r)throw Error(st(301));r+=1,Sn=hn=null,t.updateQueue=null,S0.current=DB,n=e(i,s)}while(Rg)}if(S0.current=T_,t=hn!==null&&hn.next!==null,gh=0,Sn=hn=Ie=null,C_=!1,t)throw Error(st(300));return n}function OA(){var n=Qg!==0;return Qg=0,n}function $r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Ie.memoizedState=Sn=n:Sn=Sn.next=n,Sn}function Xs(){if(hn===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=hn.next;var t=Sn===null?Ie.memoizedState:Sn.next;if(t!==null)Sn=t,hn=n;else{if(n===null)throw Error(st(310));hn=n,n={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},Sn===null?Ie.memoizedState=Sn=n:Sn=Sn.next=n}return Sn}function Jg(n,t){return typeof t=="function"?t(n):t}function Yb(n){var t=Xs(),e=t.queue;if(e===null)throw Error(st(311));e.lastRenderedReducer=n;var i=hn,s=i.baseQueue,r=e.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,e.pending=null}if(s!==null){r=s.next,i=i.baseState;var c=o=null,u=null,d=r;do{var f=d.lane;if((gh&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,o=i):u=u.next=p,Ie.lanes|=f,mh|=f}d=d.next}while(d!==null&&d!==r);u===null?o=i:u.next=c,Pr(i,t.memoizedState)||(Bi=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=u,e.lastRenderedState=i}if(n=e.interleaved,n!==null){s=n;do r=s.lane,Ie.lanes|=r,mh|=r,s=s.next;while(s!==n)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Kb(n){var t=Xs(),e=t.queue;if(e===null)throw Error(st(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,r=t.memoizedState;if(s!==null){e.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);Pr(r,t.memoizedState)||(Bi=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,i]}function eL(){}function nL(n,t){var e=Ie,i=Xs(),s=t(),r=!Pr(i.memoizedState,s);if(r&&(i.memoizedState=s,Bi=!0),i=i.queue,FA(rL.bind(null,e,i,n),[n]),i.getSnapshot!==t||r||Sn!==null&&Sn.memoizedState.tag&1){if(e.flags|=2048,tm(9,sL.bind(null,e,i,s,t),void 0,null),An===null)throw Error(st(349));gh&30||iL(e,t,s)}return s}function iL(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function sL(n,t,e,i){t.value=e,t.getSnapshot=i,oL(t)&&aL(n)}function rL(n,t,e){return e(function(){oL(t)&&aL(n)})}function oL(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Pr(n,e)}catch{return!0}}function aL(n){var t=Ra(n,1);t!==null&&Ar(t,n,1,-1)}function RC(n){var t=$r();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:n},t.queue=n,n=n.dispatch=RB.bind(null,Ie,n),[t.memoizedState,n]}function tm(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function lL(){return Xs().memoizedState}function A0(n,t,e,i){var s=$r();Ie.flags|=n,s.memoizedState=tm(1|t,e,void 0,i===void 0?null:i)}function Cw(n,t,e,i){var s=Xs();i=i===void 0?null:i;var r=void 0;if(hn!==null){var o=hn.memoizedState;if(r=o.destroy,i!==null&&IA(i,o.deps)){s.memoizedState=tm(t,e,r,i);return}}Ie.flags|=n,s.memoizedState=tm(1|t,e,r,i)}function NC(n,t){return A0(8390656,8,n,t)}function FA(n,t){return Cw(2048,8,n,t)}function cL(n,t){return Cw(4,2,n,t)}function uL(n,t){return Cw(4,4,n,t)}function hL(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function dL(n,t,e){return e=e!=null?e.concat([n]):null,Cw(4,4,hL.bind(null,t,n),e)}function BA(){}function fL(n,t){var e=Xs();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&IA(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function pL(n,t){var e=Xs();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&IA(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function gL(n,t,e){return gh&21?(Pr(e,t)||(e=wM(),Ie.lanes|=e,mh|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Bi=!0),n.memoizedState=e)}function MB(n,t){var e=ie;ie=e!==0&&4>e?e:4,n(!0);var i=Xb.transition;Xb.transition={};try{n(!1),t()}finally{ie=e,Xb.transition=i}}function mL(){return Xs().memoizedState}function LB(n,t,e){var i=cc(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},vL(n))yL(t,e);else if(e=QM(n,t,e,i),e!==null){var s=mi();Ar(e,n,i,s),_L(e,t,i)}}function RB(n,t,e){var i=cc(n),s={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(vL(n))yL(t,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,c=r(o,e);if(s.hasEagerState=!0,s.eagerState=c,Pr(c,o)){var u=t.interleaved;u===null?(s.next=s,kA(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}e=QM(n,t,s,i),e!==null&&(s=mi(),Ar(e,n,i,s),_L(e,t,i))}}function vL(n){var t=n.alternate;return n===Ie||t!==null&&t===Ie}function yL(n,t){Rg=C_=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function _L(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,gA(n,e)}}var T_={readContext:Zs,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},NB={readContext:Zs,useCallback:function(n,t){return $r().memoizedState=[n,t===void 0?null:t],n},useContext:Zs,useEffect:NC,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,A0(4194308,4,hL.bind(null,t,n),e)},useLayoutEffect:function(n,t){return A0(4194308,4,n,t)},useInsertionEffect:function(n,t){return A0(4,2,n,t)},useMemo:function(n,t){var e=$r();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=$r();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=LB.bind(null,Ie,n),[i.memoizedState,n]},useRef:function(n){var t=$r();return n={current:n},t.memoizedState=n},useState:RC,useDebugValue:BA,useDeferredValue:function(n){return $r().memoizedState=n},useTransition:function(){var n=RC(!1),t=n[0];return n=MB.bind(null,n[1]),$r().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=Ie,s=$r();if(Pe){if(e===void 0)throw Error(st(407));e=e()}else{if(e=t(),An===null)throw Error(st(349));gh&30||iL(i,t,e)}s.memoizedState=e;var r={value:e,getSnapshot:t};return s.queue=r,NC(rL.bind(null,i,r,n),[n]),i.flags|=2048,tm(9,sL.bind(null,i,r,e,t),void 0,null),e},useId:function(){var n=$r(),t=An.identifierPrefix;if(Pe){var e=Pa,i=Ea;e=(i&~(1<<32-Sr(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=Qg++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=kB++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},IB={readContext:Zs,useCallback:fL,useContext:Zs,useEffect:FA,useImperativeHandle:dL,useInsertionEffect:cL,useLayoutEffect:uL,useMemo:pL,useReducer:Yb,useRef:lL,useState:function(){return Yb(Jg)},useDebugValue:BA,useDeferredValue:function(n){var t=Xs();return gL(t,hn.memoizedState,n)},useTransition:function(){var n=Yb(Jg)[0],t=Xs().memoizedState;return[n,t]},useMutableSource:eL,useSyncExternalStore:nL,useId:mL,unstable_isNewReconciler:!1},DB={readContext:Zs,useCallback:fL,useContext:Zs,useEffect:FA,useImperativeHandle:dL,useInsertionEffect:cL,useLayoutEffect:uL,useMemo:pL,useReducer:Kb,useRef:lL,useState:function(){return Kb(Jg)},useDebugValue:BA,useDeferredValue:function(n){var t=Xs();return hn===null?t.memoizedState=n:gL(t,hn.memoizedState,n)},useTransition:function(){var n=Kb(Jg)[0],t=Xs().memoizedState;return[n,t]},useMutableSource:eL,useSyncExternalStore:nL,useId:mL,unstable_isNewReconciler:!1};function ir(n,t){if(n&&n.defaultProps){t=Oe({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Zx(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:Oe({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var Tw={isMounted:function(n){return(n=n._reactInternals)?Sh(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=mi(),s=cc(n),r=Ca(i,s);r.payload=t,e!=null&&(r.callback=e),t=ac(n,r,s),t!==null&&(Ar(t,n,s,i),x0(t,n,s))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=mi(),s=cc(n),r=Ca(i,s);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=ac(n,r,s),t!==null&&(Ar(t,n,s,i),x0(t,n,s))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=mi(),i=cc(n),s=Ca(e,i);s.tag=2,t!=null&&(s.callback=t),t=ac(n,s,i),t!==null&&(Ar(t,n,i,e),x0(t,n,i))}};function IC(n,t,e,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):t.prototype&&t.prototype.isPureReactComponent?!Gg(e,i)||!Gg(s,r):!0}function wL(n,t,e){var i=!1,s=fc,r=t.contextType;return typeof r=="object"&&r!==null?r=Zs(r):(s=zi(t)?fh:ni.current,i=t.contextTypes,r=(i=i!=null)?op(n,s):fc),t=new t(e,r),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tw,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),t}function DC(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&Tw.enqueueReplaceState(t,t.state,null)}function Xx(n,t,e,i){var s=n.stateNode;s.props=e,s.state=n.memoizedState,s.refs={},MA(n);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Zs(r):(r=zi(t)?fh:ni.current,s.context=op(n,r)),s.state=n.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Zx(n,t,r,e),s.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Tw.enqueueReplaceState(s,s.state,null),E_(n,e,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function up(n,t){try{var e="",i=t;do e+=cF(i),i=i.return;while(i);var s=e}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:t,stack:s,digest:null}}function Qb(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function Yx(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var OB=typeof WeakMap=="function"?WeakMap:Map;function bL(n,t,e){e=Ca(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){M_||(M_=!0,o1=i),Yx(n,t)},e}function xL(n,t,e){e=Ca(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;e.payload=function(){return i(s)},e.callback=function(){Yx(n,t)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Yx(n,t),typeof i!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function OC(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new OB;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(s.add(e),n=YB.bind(null,n,t,e),t.then(n,n))}function FC(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function BC(n,t,e,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Ca(-1,1),t.tag=2,ac(e,t,1))),e.lanes|=1),n)}var FB=za.ReactCurrentOwner,Bi=!1;function fi(n,t,e,i){t.child=n===null?KM(t,null,e,i):lp(t,n.child,e,i)}function jC(n,t,e,i,s){e=e.render;var r=t.ref;return vd(t,s),i=DA(n,t,e,i,r,s),e=OA(),n!==null&&!Bi?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,Na(n,t,s)):(Pe&&e&&SA(t),t.flags|=1,fi(n,t,i,s),t.child)}function zC(n,t,e,i,s){if(n===null){var r=e.type;return typeof r=="function"&&!GA(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,SL(n,t,r,i,s)):(n=T0(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(e=e.compare,e=e!==null?e:Gg,e(o,i)&&n.ref===t.ref)return Na(n,t,s)}return t.flags|=1,n=uc(r,i),n.ref=t.ref,n.return=t,t.child=n}function SL(n,t,e,i,s){if(n!==null){var r=n.memoizedProps;if(Gg(r,i)&&n.ref===t.ref)if(Bi=!1,t.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(Bi=!0);else return t.lanes=n.lanes,Na(n,t,s)}return Kx(n,t,e,i,s)}function AL(n,t,e){var i=t.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ad,us),us|=e;else{if(!(e&1073741824))return n=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,ve(ad,us),us|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:e,ve(ad,us),us|=i}else r!==null?(i=r.baseLanes|e,t.memoizedState=null):i=e,ve(ad,us),us|=i;return fi(n,t,s,e),t.child}function EL(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Kx(n,t,e,i,s){var r=zi(e)?fh:ni.current;return r=op(t,r),vd(t,s),e=DA(n,t,e,i,r,s),i=OA(),n!==null&&!Bi?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,Na(n,t,s)):(Pe&&i&&SA(t),t.flags|=1,fi(n,t,e,s),t.child)}function HC(n,t,e,i,s){if(zi(e)){var r=!0;w_(t)}else r=!1;if(vd(t,s),t.stateNode===null)E0(n,t),wL(t,e,i),Xx(t,e,i,s),i=!0;else if(n===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var u=o.context,d=e.contextType;typeof d=="object"&&d!==null?d=Zs(d):(d=zi(e)?fh:ni.current,d=op(t,d));var f=e.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==i||u!==d)&&DC(t,o,i,d),Qa=!1;var m=t.memoizedState;o.state=m,E_(t,i,o,s),u=t.memoizedState,c!==i||m!==u||ji.current||Qa?(typeof f=="function"&&(Zx(t,e,f,i),u=t.memoizedState),(c=Qa||IC(t,e,c,i,m,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),o.props=i,o.state=u,o.context=d,i=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,JM(n,t),c=t.memoizedProps,d=t.type===t.elementType?c:ir(t.type,c),o.props=d,p=t.pendingProps,m=o.context,u=e.contextType,typeof u=="object"&&u!==null?u=Zs(u):(u=zi(e)?fh:ni.current,u=op(t,u));var v=e.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||m!==u)&&DC(t,o,i,u),Qa=!1,m=t.memoizedState,o.state=m,E_(t,i,o,s);var x=t.memoizedState;c!==p||m!==x||ji.current||Qa?(typeof v=="function"&&(Zx(t,e,v,i),x=t.memoizedState),(d=Qa||IC(t,e,d,i,m,x,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=x),o.props=i,o.state=x,o.context=u,i=d):(typeof o.componentDidUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&m===n.memoizedState||(t.flags|=1024),i=!1)}return Qx(n,t,e,i,r,s)}function Qx(n,t,e,i,s,r){EL(n,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&PC(t,e,!1),Na(n,t,r);i=t.stateNode,FB.current=t;var c=o&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&o?(t.child=lp(t,n.child,null,r),t.child=lp(t,null,c,r)):fi(n,t,c,r),t.memoizedState=i.state,s&&PC(t,e,!0),t.child}function PL(n){var t=n.stateNode;t.pendingContext?EC(n,t.pendingContext,t.pendingContext!==t.context):t.context&&EC(n,t.context,!1),LA(n,t.containerInfo)}function UC(n,t,e,i,s){return ap(),EA(s),t.flags|=256,fi(n,t,e,i),t.child}var Jx={dehydrated:null,treeContext:null,retryLane:0};function t1(n){return{baseLanes:n,cachePool:null,transitions:null}}function CL(n,t,e){var i=t.pendingProps,s=Le.current,r=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=n!==null&&n.memoizedState===null?!1:(s&2)!==0),c?(r=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),ve(Le,s&1),n===null)return Gx(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,n=i.fallback,r?(i=t.mode,r=t.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Lw(o,i,0,null),n=dh(n,i,e,null),r.return=t,n.return=t,r.sibling=n,t.child=r,t.child.memoizedState=t1(e),t.memoizedState=Jx,n):jA(t,o));if(s=n.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return BB(n,t,o,i,c,s,e);if(r){r=i.fallback,o=t.mode,s=n.child,c=s.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=uc(s,u),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?r=uc(c,r):(r=dh(r,o,e,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=n.child.memoizedState,o=o===null?t1(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~e,t.memoizedState=Jx,i}return r=n.child,n=r.sibling,i=uc(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function jA(n,t){return t=Lw({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Ky(n,t,e,i){return i!==null&&EA(i),lp(t,n.child,null,e),n=jA(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function BB(n,t,e,i,s,r,o){if(e)return t.flags&256?(t.flags&=-257,i=Qb(Error(st(422))),Ky(n,t,o,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=Lw({mode:"visible",children:i.children},s,0,null),r=dh(r,s,o,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&lp(t,n.child,null,o),t.child.memoizedState=t1(o),t.memoizedState=Jx,r);if(!(t.mode&1))return Ky(n,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,r=Error(st(419)),i=Qb(r,i,void 0),Ky(n,t,o,i)}if(c=(o&n.childLanes)!==0,Bi||c){if(i=An,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Ra(n,s),Ar(i,n,s,-1))}return VA(),i=Qb(Error(st(421))),Ky(n,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=n.child,t=KB.bind(null,n),s._reactRetry=t,null):(n=r.treeContext,ps=oc(s.nextSibling),gs=t,Pe=!0,wr=null,n!==null&&(Hs[Us++]=Ea,Hs[Us++]=Pa,Hs[Us++]=ph,Ea=n.id,Pa=n.overflow,ph=t),t=jA(t,i.children),t.flags|=4096,t)}function $C(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),qx(n.return,t,e)}function Jb(n,t,e,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=e,r.tailMode=s)}function TL(n,t,e){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(fi(n,t,i.children,e),i=Le.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$C(n,e,t);else if(n.tag===19)$C(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(ve(Le,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&P_(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),Jb(t,!1,s,e,r);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&P_(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}Jb(t,!0,e,null,r);break;case"together":Jb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function E0(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Na(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),mh|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(st(153));if(t.child!==null){for(n=t.child,e=uc(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=uc(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function jB(n,t,e){switch(t.tag){case 3:PL(t),ap();break;case 5:tL(t);break;case 1:zi(t.type)&&w_(t);break;case 4:LA(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;ve(S_,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ve(Le,Le.current&1),t.flags|=128,null):e&t.child.childLanes?CL(n,t,e):(ve(Le,Le.current&1),n=Na(n,t,e),n!==null?n.sibling:null);ve(Le,Le.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return TL(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Le,Le.current),i)break;return null;case 22:case 23:return t.lanes=0,AL(n,t,e)}return Na(n,t,e)}var kL,e1,ML,LL;kL=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};e1=function(){};ML=function(n,t,e,i){var s=n.memoizedProps;if(s!==i){n=t.stateNode,Gc(xo.current);var r=null;switch(e){case"input":s=Sx(n,s),i=Sx(n,i),r=[];break;case"select":s=Oe({},s,{value:void 0}),i=Oe({},i,{value:void 0}),r=[];break;case"textarea":s=Px(n,s),i=Px(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=y_)}Tx(e,i);var o;e=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jg.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in i){var u=i[d];if(c=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(e||(e={}),e[o]=u[o])}else e||(r||(r=[]),r.push(d,e)),e=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(r=r||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(r=r||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jg.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&we("scroll",n),r||c===u||(r=[])):(r=r||[]).push(d,u))}e&&(r=r||[]).push("style",e);var d=r;(t.updateQueue=d)&&(t.flags|=4)}};LL=function(n,t,e,i){e!==i&&(t.flags|=4)};function qp(n,t){if(!Pe)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function $n(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function zB(n,t,e){var i=t.pendingProps;switch(AA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(t),null;case 1:return zi(t.type)&&__(),$n(t),null;case 3:return i=t.stateNode,cp(),xe(ji),xe(ni),NA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Xy(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wr!==null&&(c1(wr),wr=null))),e1(n,t),$n(t),null;case 5:RA(t);var s=Gc(Kg.current);if(e=t.type,n!==null&&t.stateNode!=null)ML(n,t,e,i,s),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(st(166));return $n(t),null}if(n=Gc(xo.current),Xy(t)){i=t.stateNode,e=t.type;var r=t.memoizedProps;switch(i[vo]=t,i[Xg]=r,n=(t.mode&1)!==0,e){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(s=0;s<sg.length;s++)we(sg[s],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":QP(i,r),we("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},we("invalid",i);break;case"textarea":tC(i,r),we("invalid",i)}Tx(e,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var c=r[o];o==="children"?typeof c=="string"?i.textContent!==c&&(r.suppressHydrationWarning!==!0&&Zy(i.textContent,c,n),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(r.suppressHydrationWarning!==!0&&Zy(i.textContent,c,n),s=["children",""+c]):jg.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&we("scroll",i)}switch(e){case"input":zy(i),JP(i,r,!0);break;case"textarea":zy(i),eC(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=y_)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rM(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(e,{is:i.is}):(n=o.createElement(e),e==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,e),n[vo]=t,n[Xg]=i,kL(n,t,!1,!1),t.stateNode=n;t:{switch(o=kx(e,i),e){case"dialog":we("cancel",n),we("close",n),s=i;break;case"iframe":case"object":case"embed":we("load",n),s=i;break;case"video":case"audio":for(s=0;s<sg.length;s++)we(sg[s],n);s=i;break;case"source":we("error",n),s=i;break;case"img":case"image":case"link":we("error",n),we("load",n),s=i;break;case"details":we("toggle",n),s=i;break;case"input":QP(n,i),s=Sx(n,i),we("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=Oe({},i,{value:void 0}),we("invalid",n);break;case"textarea":tC(n,i),s=Px(n,i),we("invalid",n);break;default:s=i}Tx(e,s),c=s;for(r in c)if(c.hasOwnProperty(r)){var u=c[r];r==="style"?lM(n,u):r==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&oM(n,u)):r==="children"?typeof u=="string"?(e!=="textarea"||u!=="")&&zg(n,u):typeof u=="number"&&zg(n,""+u):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(jg.hasOwnProperty(r)?u!=null&&r==="onScroll"&&we("scroll",n):u!=null&&cA(n,r,u,o))}switch(e){case"input":zy(n),JP(n,i,!1);break;case"textarea":zy(n),eC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+dc(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?fd(n,!!i.multiple,r,!1):i.defaultValue!=null&&fd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=y_)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $n(t),null;case 6:if(n&&t.stateNode!=null)LL(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(st(166));if(e=Gc(Kg.current),Gc(xo.current),Xy(t)){if(i=t.stateNode,e=t.memoizedProps,i[vo]=t,(r=i.nodeValue!==e)&&(n=gs,n!==null))switch(n.tag){case 3:Zy(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zy(i.nodeValue,e,(n.mode&1)!==0)}r&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[vo]=t,t.stateNode=i}return $n(t),null;case 13:if(xe(Le),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pe&&ps!==null&&t.mode&1&&!(t.flags&128))XM(),ap(),t.flags|=98560,r=!1;else if(r=Xy(t),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(st(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(st(317));r[vo]=t}else ap(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$n(t),r=!1}else wr!==null&&(c1(wr),wr=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||Le.current&1?fn===0&&(fn=3):VA())),t.updateQueue!==null&&(t.flags|=4),$n(t),null);case 4:return cp(),e1(n,t),n===null&&qg(t.stateNode.containerInfo),$n(t),null;case 10:return TA(t.type._context),$n(t),null;case 17:return zi(t.type)&&__(),$n(t),null;case 19:if(xe(Le),r=t.memoizedState,r===null)return $n(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)qp(r,!1);else{if(fn!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=P_(n),o!==null){for(t.flags|=128,qp(r,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)r=e,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return ve(Le,Le.current&1|2),t.child}n=n.sibling}r.tail!==null&&Xe()>hp&&(t.flags|=128,i=!0,qp(r,!1),t.lanes=4194304)}else{if(!i)if(n=P_(o),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),qp(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Pe)return $n(t),null}else 2*Xe()-r.renderingStartTime>hp&&e!==1073741824&&(t.flags|=128,i=!0,qp(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Xe(),t.sibling=null,e=Le.current,ve(Le,i?e&1|2:e&1),t):($n(t),null);case 22:case 23:return WA(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?us&1073741824&&($n(t),t.subtreeFlags&6&&(t.flags|=8192)):$n(t),null;case 24:return null;case 25:return null}throw Error(st(156,t.tag))}function HB(n,t){switch(AA(t),t.tag){case 1:return zi(t.type)&&__(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return cp(),xe(ji),xe(ni),NA(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return RA(t),null;case 13:if(xe(Le),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(st(340));ap()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return xe(Le),null;case 4:return cp(),null;case 10:return TA(t.type._context),null;case 22:case 23:return WA(),null;case 24:return null;default:return null}}var Qy=!1,Jn=!1,UB=typeof WeakSet=="function"?WeakSet:Set,vt=null;function od(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){We(n,t,i)}else e.current=null}function n1(n,t,e){try{e()}catch(i){We(n,t,i)}}var WC=!1;function $B(n,t){if(jx=g_,n=OM(),xA(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var o=0,c=-1,u=-1,d=0,f=0,p=n,m=null;e:for(;;){for(var v;p!==e||s!==0&&p.nodeType!==3||(c=o+s),p!==r||i!==0&&p.nodeType!==3||(u=o+i),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===n)break e;if(m===e&&++d===s&&(c=o),m===r&&++f===i&&(u=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}e=c===-1||u===-1?null:{start:c,end:u}}else e=null}e=e||{start:0,end:0}}else e=null;for(zx={focusedElem:n,selectionRange:e},g_=!1,vt=t;vt!==null;)if(t=vt,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,vt=n;else for(;vt!==null;){t=vt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,P=x.memoizedState,w=t.stateNode,E=w.getSnapshotBeforeUpdate(t.elementType===t.type?_:ir(t.type,_),P);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(y){We(t,t.return,y)}if(n=t.sibling,n!==null){n.return=t.return,vt=n;break}vt=t.return}return x=WC,WC=!1,x}function Ng(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&n1(t,e,r)}s=s.next}while(s!==i)}}function kw(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function i1(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function RL(n){var t=n.alternate;t!==null&&(n.alternate=null,RL(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[vo],delete t[Xg],delete t[$x],delete t[EB],delete t[PB])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function NL(n){return n.tag===5||n.tag===3||n.tag===4}function VC(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||NL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function s1(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=y_));else if(i!==4&&(n=n.child,n!==null))for(s1(n,t,e),n=n.sibling;n!==null;)s1(n,t,e),n=n.sibling}function r1(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(r1(n,t,e),n=n.sibling;n!==null;)r1(n,t,e),n=n.sibling}var Dn=null,_r=!1;function Ga(n,t,e){for(e=e.child;e!==null;)IL(n,t,e),e=e.sibling}function IL(n,t,e){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(bw,e)}catch{}switch(e.tag){case 5:Jn||od(e,t);case 6:var i=Dn,s=_r;Dn=null,Ga(n,t,e),Dn=i,_r=s,Dn!==null&&(_r?(n=Dn,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Dn.removeChild(e.stateNode));break;case 18:Dn!==null&&(_r?(n=Dn,e=e.stateNode,n.nodeType===8?Gb(n.parentNode,e):n.nodeType===1&&Gb(n,e),Wg(n)):Gb(Dn,e.stateNode));break;case 4:i=Dn,s=_r,Dn=e.stateNode.containerInfo,_r=!0,Ga(n,t,e),Dn=i,_r=s;break;case 0:case 11:case 14:case 15:if(!Jn&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&n1(e,t,o),s=s.next}while(s!==i)}Ga(n,t,e);break;case 1:if(!Jn&&(od(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(c){We(e,t,c)}Ga(n,t,e);break;case 21:Ga(n,t,e);break;case 22:e.mode&1?(Jn=(i=Jn)||e.memoizedState!==null,Ga(n,t,e),Jn=i):Ga(n,t,e);break;default:Ga(n,t,e)}}function GC(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new UB),t.forEach(function(i){var s=QB.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}}function Js(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];try{var r=n,o=t,c=o;t:for(;c!==null;){switch(c.tag){case 5:Dn=c.stateNode,_r=!1;break t;case 3:Dn=c.stateNode.containerInfo,_r=!0;break t;case 4:Dn=c.stateNode.containerInfo,_r=!0;break t}c=c.return}if(Dn===null)throw Error(st(160));IL(r,o,s),Dn=null,_r=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){We(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DL(t,n),t=t.sibling}function DL(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Js(t,n),jr(n),i&4){try{Ng(3,n,n.return),kw(3,n)}catch(_){We(n,n.return,_)}try{Ng(5,n,n.return)}catch(_){We(n,n.return,_)}}break;case 1:Js(t,n),jr(n),i&512&&e!==null&&od(e,e.return);break;case 5:if(Js(t,n),jr(n),i&512&&e!==null&&od(e,e.return),n.flags&32){var s=n.stateNode;try{zg(s,"")}catch(_){We(n,n.return,_)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=e!==null?e.memoizedProps:r,c=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{c==="input"&&r.type==="radio"&&r.name!=null&&iM(s,r),kx(c,o);var d=kx(c,r);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?lM(s,p):f==="dangerouslySetInnerHTML"?oM(s,p):f==="children"?zg(s,p):cA(s,f,p,d)}switch(c){case"input":Ax(s,r);break;case"textarea":sM(s,r);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var v=r.value;v!=null?fd(s,!!r.multiple,v,!1):m!==!!r.multiple&&(r.defaultValue!=null?fd(s,!!r.multiple,r.defaultValue,!0):fd(s,!!r.multiple,r.multiple?[]:"",!1))}s[Xg]=r}catch(_){We(n,n.return,_)}}break;case 6:if(Js(t,n),jr(n),i&4){if(n.stateNode===null)throw Error(st(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(_){We(n,n.return,_)}}break;case 3:if(Js(t,n),jr(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{Wg(t.containerInfo)}catch(_){We(n,n.return,_)}break;case 4:Js(t,n),jr(n);break;case 13:Js(t,n),jr(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(UA=Xe())),i&4&&GC(n);break;case 22:if(f=e!==null&&e.memoizedState!==null,n.mode&1?(Jn=(d=Jn)||f,Js(t,n),Jn=d):Js(t,n),jr(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(vt=n,f=n.child;f!==null;){for(p=vt=f;vt!==null;){switch(m=vt,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ng(4,m,m.return);break;case 1:od(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){i=m,e=m.return;try{t=i,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(_){We(i,e,_)}}break;case 5:od(m,m.return);break;case 22:if(m.memoizedState!==null){ZC(p);continue}}v!==null?(v.return=m,vt=v):ZC(p)}f=f.sibling}t:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=aM("display",o))}catch(_){We(n,n.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(_){We(n,n.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Js(t,n),jr(n),i&4&&GC(n);break;case 21:break;default:Js(t,n),jr(n)}}function jr(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(NL(e)){var i=e;break t}e=e.return}throw Error(st(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(zg(s,""),i.flags&=-33);var r=VC(n);r1(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,c=VC(n);s1(n,c,o);break;default:throw Error(st(161))}}catch(u){We(n,n.return,u)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function WB(n,t,e){vt=n,OL(n)}function OL(n,t,e){for(var i=(n.mode&1)!==0;vt!==null;){var s=vt,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Qy;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Jn;c=Qy;var d=Jn;if(Qy=o,(Jn=u)&&!d)for(vt=s;vt!==null;)o=vt,u=o.child,o.tag===22&&o.memoizedState!==null?XC(s):u!==null?(u.return=o,vt=u):XC(s);for(;r!==null;)vt=r,OL(r),r=r.sibling;vt=s,Qy=c,Jn=d}qC(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,vt=r):qC(n)}}function qC(n){for(;vt!==null;){var t=vt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||kw(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Jn)if(e===null)i.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:ir(t.type,e.memoizedProps);i.componentDidUpdate(s,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&LC(t,r,i);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}LC(t,o,e)}break;case 5:var c=t.stateNode;if(e===null&&t.flags&4){e=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&e.focus();break;case"img":u.src&&(e.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Wg(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}Jn||t.flags&512&&i1(t)}catch(m){We(t,t.return,m)}}if(t===n){vt=null;break}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function ZC(n){for(;vt!==null;){var t=vt;if(t===n){vt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,vt=e;break}vt=t.return}}function XC(n){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{kw(4,t)}catch(u){We(t,e,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){We(t,s,u)}}var r=t.return;try{i1(t)}catch(u){We(t,r,u)}break;case 5:var o=t.return;try{i1(t)}catch(u){We(t,o,u)}}}catch(u){We(t,t.return,u)}if(t===n){vt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,vt=c;break}vt=t.return}}var VB=Math.ceil,k_=za.ReactCurrentDispatcher,zA=za.ReactCurrentOwner,Gs=za.ReactCurrentBatchConfig,Zt=0,An=null,nn=null,jn=0,us=0,ad=Sc(0),fn=0,em=null,mh=0,Mw=0,HA=0,Ig=null,Oi=null,UA=0,hp=1/0,zo=null,M_=!1,o1=null,lc=null,Jy=!1,ec=null,L_=0,Dg=0,a1=null,P0=-1,C0=0;function mi(){return Zt&6?Xe():P0!==-1?P0:P0=Xe()}function cc(n){return n.mode&1?Zt&2&&jn!==0?jn&-jn:TB.transition!==null?(C0===0&&(C0=wM()),C0):(n=ie,n!==0||(n=window.event,n=n===void 0?16:CM(n.type)),n):1}function Ar(n,t,e,i){if(50<Dg)throw Dg=0,a1=null,Error(st(185));ny(n,e,i),(!(Zt&2)||n!==An)&&(n===An&&(!(Zt&2)&&(Mw|=e),fn===4&&tl(n,jn)),Hi(n,i),e===1&&Zt===0&&!(t.mode&1)&&(hp=Xe()+500,Pw&&Ac()))}function Hi(n,t){var e=n.callbackNode;TF(n,t);var i=p_(n,n===An?jn:0);if(i===0)e!==null&&sC(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&sC(e),t===1)n.tag===0?CB(YC.bind(null,n)):GM(YC.bind(null,n)),SB(function(){!(Zt&6)&&Ac()}),e=null;else{switch(bM(i)){case 1:e=pA;break;case 4:e=yM;break;case 16:e=f_;break;case 536870912:e=_M;break;default:e=f_}e=WL(e,FL.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function FL(n,t){if(P0=-1,C0=0,Zt&6)throw Error(st(327));var e=n.callbackNode;if(yd()&&n.callbackNode!==e)return null;var i=p_(n,n===An?jn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=R_(n,i);else{t=i;var s=Zt;Zt|=2;var r=jL();(An!==n||jn!==t)&&(zo=null,hp=Xe()+500,hh(n,t));do try{ZB();break}catch(c){BL(n,c)}while(!0);CA(),k_.current=r,Zt=s,nn!==null?t=0:(An=null,jn=0,t=fn)}if(t!==0){if(t===2&&(s=Ix(n),s!==0&&(i=s,t=l1(n,s))),t===1)throw e=em,hh(n,0),tl(n,i),Hi(n,Xe()),e;if(t===6)tl(n,i);else{if(s=n.current.alternate,!(i&30)&&!GB(s)&&(t=R_(n,i),t===2&&(r=Ix(n),r!==0&&(i=r,t=l1(n,r))),t===1))throw e=em,hh(n,0),tl(n,i),Hi(n,Xe()),e;switch(n.finishedWork=s,n.finishedLanes=i,t){case 0:case 1:throw Error(st(345));case 2:Oc(n,Oi,zo);break;case 3:if(tl(n,i),(i&130023424)===i&&(t=UA+500-Xe(),10<t)){if(p_(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){mi(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Ux(Oc.bind(null,n,Oi,zo),t);break}Oc(n,Oi,zo);break;case 4:if(tl(n,i),(i&4194240)===i)break;for(t=n.eventTimes,s=-1;0<i;){var o=31-Sr(i);r=1<<o,o=t[o],o>s&&(s=o),i&=~r}if(i=s,i=Xe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*VB(i/1960))-i,10<i){n.timeoutHandle=Ux(Oc.bind(null,n,Oi,zo),i);break}Oc(n,Oi,zo);break;case 5:Oc(n,Oi,zo);break;default:throw Error(st(329))}}}return Hi(n,Xe()),n.callbackNode===e?FL.bind(null,n):null}function l1(n,t){var e=Ig;return n.current.memoizedState.isDehydrated&&(hh(n,t).flags|=256),n=R_(n,t),n!==2&&(t=Oi,Oi=e,t!==null&&c1(t)),n}function c1(n){Oi===null?Oi=n:Oi.push.apply(Oi,n)}function GB(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var s=e[i],r=s.getSnapshot;s=s.value;try{if(!Pr(r(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tl(n,t){for(t&=~HA,t&=~Mw,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Sr(t),i=1<<e;n[e]=-1,t&=~i}}function YC(n){if(Zt&6)throw Error(st(327));yd();var t=p_(n,0);if(!(t&1))return Hi(n,Xe()),null;var e=R_(n,t);if(n.tag!==0&&e===2){var i=Ix(n);i!==0&&(t=i,e=l1(n,i))}if(e===1)throw e=em,hh(n,0),tl(n,t),Hi(n,Xe()),e;if(e===6)throw Error(st(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Oc(n,Oi,zo),Hi(n,Xe()),null}function $A(n,t){var e=Zt;Zt|=1;try{return n(t)}finally{Zt=e,Zt===0&&(hp=Xe()+500,Pw&&Ac())}}function vh(n){ec!==null&&ec.tag===0&&!(Zt&6)&&yd();var t=Zt;Zt|=1;var e=Gs.transition,i=ie;try{if(Gs.transition=null,ie=1,n)return n()}finally{ie=i,Gs.transition=e,Zt=t,!(Zt&6)&&Ac()}}function WA(){us=ad.current,xe(ad)}function hh(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,xB(e)),nn!==null)for(e=nn.return;e!==null;){var i=e;switch(AA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&__();break;case 3:cp(),xe(ji),xe(ni),NA();break;case 5:RA(i);break;case 4:cp();break;case 13:xe(Le);break;case 19:xe(Le);break;case 10:TA(i.type._context);break;case 22:case 23:WA()}e=e.return}if(An=n,nn=n=uc(n.current,null),jn=us=t,fn=0,em=null,HA=Mw=mh=0,Oi=Ig=null,Vc!==null){for(t=0;t<Vc.length;t++)if(e=Vc[t],i=e.interleaved,i!==null){e.interleaved=null;var s=i.next,r=e.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}e.pending=i}Vc=null}return n}function BL(n,t){do{var e=nn;try{if(CA(),S0.current=T_,C_){for(var i=Ie.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}C_=!1}if(gh=0,Sn=hn=Ie=null,Rg=!1,Qg=0,zA.current=null,e===null||e.return===null){fn=1,em=t,nn=null;break}t:{var r=n,o=e.return,c=e,u=t;if(t=jn,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=FC(o);if(v!==null){v.flags&=-257,BC(v,o,c,r,t),v.mode&1&&OC(r,d,t),t=v,u=d;var x=t.updateQueue;if(x===null){var _=new Set;_.add(u),t.updateQueue=_}else x.add(u);break t}else{if(!(t&1)){OC(r,d,t),VA();break t}u=Error(st(426))}}else if(Pe&&c.mode&1){var P=FC(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),BC(P,o,c,r,t),EA(up(u,c));break t}}r=u=up(u,c),fn!==4&&(fn=2),Ig===null?Ig=[r]:Ig.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var w=bL(r,u,t);MC(r,w);break t;case 1:c=u;var E=r.type,A=r.stateNode;if(!(r.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(lc===null||!lc.has(A)))){r.flags|=65536,t&=-t,r.lanes|=t;var y=xL(r,c,t);MC(r,y);break t}}r=r.return}while(r!==null)}HL(e)}catch(S){t=S,nn===e&&e!==null&&(nn=e=e.return);continue}break}while(!0)}function jL(){var n=k_.current;return k_.current=T_,n===null?T_:n}function VA(){(fn===0||fn===3||fn===2)&&(fn=4),An===null||!(mh&268435455)&&!(Mw&268435455)||tl(An,jn)}function R_(n,t){var e=Zt;Zt|=2;var i=jL();(An!==n||jn!==t)&&(zo=null,hh(n,t));do try{qB();break}catch(s){BL(n,s)}while(!0);if(CA(),Zt=e,k_.current=i,nn!==null)throw Error(st(261));return An=null,jn=0,fn}function qB(){for(;nn!==null;)zL(nn)}function ZB(){for(;nn!==null&&!_F();)zL(nn)}function zL(n){var t=$L(n.alternate,n,us);n.memoizedProps=n.pendingProps,t===null?HL(n):nn=t,zA.current=null}function HL(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=HB(e,t),e!==null){e.flags&=32767,nn=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{fn=6,nn=null;return}}else if(e=zB(e,t,us),e!==null){nn=e;return}if(t=t.sibling,t!==null){nn=t;return}nn=t=n}while(t!==null);fn===0&&(fn=5)}function Oc(n,t,e){var i=ie,s=Gs.transition;try{Gs.transition=null,ie=1,XB(n,t,e,i)}finally{Gs.transition=s,ie=i}return null}function XB(n,t,e,i){do yd();while(ec!==null);if(Zt&6)throw Error(st(327));e=n.finishedWork;var s=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(st(177));n.callbackNode=null,n.callbackPriority=0;var r=e.lanes|e.childLanes;if(kF(n,r),n===An&&(nn=An=null,jn=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Jy||(Jy=!0,WL(f_,function(){return yd(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Gs.transition,Gs.transition=null;var o=ie;ie=1;var c=Zt;Zt|=4,zA.current=null,$B(n,e),DL(e,n),gB(zx),g_=!!jx,zx=jx=null,n.current=e,WB(e),wF(),Zt=c,ie=o,Gs.transition=r}else n.current=e;if(Jy&&(Jy=!1,ec=n,L_=s),r=n.pendingLanes,r===0&&(lc=null),SF(e.stateNode),Hi(n,Xe()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)s=t[e],i(s.value,{componentStack:s.stack,digest:s.digest});if(M_)throw M_=!1,n=o1,o1=null,n;return L_&1&&n.tag!==0&&yd(),r=n.pendingLanes,r&1?n===a1?Dg++:(Dg=0,a1=n):Dg=0,Ac(),null}function yd(){if(ec!==null){var n=bM(L_),t=Gs.transition,e=ie;try{if(Gs.transition=null,ie=16>n?16:n,ec===null)var i=!1;else{if(n=ec,ec=null,L_=0,Zt&6)throw Error(st(331));var s=Zt;for(Zt|=4,vt=n.current;vt!==null;){var r=vt,o=r.child;if(vt.flags&16){var c=r.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(vt=d;vt!==null;){var f=vt;switch(f.tag){case 0:case 11:case 15:Ng(8,f,r)}var p=f.child;if(p!==null)p.return=f,vt=p;else for(;vt!==null;){f=vt;var m=f.sibling,v=f.return;if(RL(f),f===d){vt=null;break}if(m!==null){m.return=v,vt=m;break}vt=v}}}var x=r.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}vt=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,vt=o;else t:for(;vt!==null;){if(r=vt,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ng(9,r,r.return)}var w=r.sibling;if(w!==null){w.return=r.return,vt=w;break t}vt=r.return}}var E=n.current;for(vt=E;vt!==null;){o=vt;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,vt=A;else t:for(o=E;vt!==null;){if(c=vt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:kw(9,c)}}catch(S){We(c,c.return,S)}if(c===o){vt=null;break t}var y=c.sibling;if(y!==null){y.return=c.return,vt=y;break t}vt=c.return}}if(Zt=s,Ac(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(bw,n)}catch{}i=!0}return i}finally{ie=e,Gs.transition=t}}return!1}function KC(n,t,e){t=up(e,t),t=bL(n,t,1),n=ac(n,t,1),t=mi(),n!==null&&(ny(n,1,t),Hi(n,t))}function We(n,t,e){if(n.tag===3)KC(n,n,e);else for(;t!==null;){if(t.tag===3){KC(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(lc===null||!lc.has(i))){n=up(e,n),n=xL(t,n,1),t=ac(t,n,1),n=mi(),t!==null&&(ny(t,1,n),Hi(t,n));break}}t=t.return}}function YB(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=mi(),n.pingedLanes|=n.suspendedLanes&e,An===n&&(jn&e)===e&&(fn===4||fn===3&&(jn&130023424)===jn&&500>Xe()-UA?hh(n,0):HA|=e),Hi(n,t)}function UL(n,t){t===0&&(n.mode&1?(t=$y,$y<<=1,!($y&130023424)&&($y=4194304)):t=1);var e=mi();n=Ra(n,t),n!==null&&(ny(n,t,e),Hi(n,e))}function KB(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),UL(n,e)}function QB(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(st(314))}i!==null&&i.delete(t),UL(n,e)}var $L;$L=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||ji.current)Bi=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Bi=!1,jB(n,t,e);Bi=!!(n.flags&131072)}else Bi=!1,Pe&&t.flags&1048576&&qM(t,x_,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;E0(n,t),n=t.pendingProps;var s=op(t,ni.current);vd(t,e),s=DA(null,t,i,n,s,e);var r=OA();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(i)?(r=!0,w_(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,MA(t),s.updater=Tw,t.stateNode=s,s._reactInternals=t,Xx(t,i,n,e),t=Qx(null,t,i,!0,r,e)):(t.tag=0,Pe&&r&&SA(t),fi(null,t,s,e),t=t.child),t;case 16:i=t.elementType;t:{switch(E0(n,t),n=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=tj(i),n=ir(i,n),s){case 0:t=Kx(null,t,i,n,e);break t;case 1:t=HC(null,t,i,n,e);break t;case 11:t=jC(null,t,i,n,e);break t;case 14:t=zC(null,t,i,ir(i.type,n),e);break t}throw Error(st(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ir(i,s),Kx(n,t,i,s,e);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ir(i,s),HC(n,t,i,s,e);case 3:t:{if(PL(t),n===null)throw Error(st(387));i=t.pendingProps,r=t.memoizedState,s=r.element,JM(n,t),E_(t,i,null,e);var o=t.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=up(Error(st(423)),t),t=UC(n,t,i,e,s);break t}else if(i!==s){s=up(Error(st(424)),t),t=UC(n,t,i,e,s);break t}else for(ps=oc(t.stateNode.containerInfo.firstChild),gs=t,Pe=!0,wr=null,e=KM(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(ap(),i===s){t=Na(n,t,e);break t}fi(n,t,i,e)}t=t.child}return t;case 5:return tL(t),n===null&&Gx(t),i=t.type,s=t.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,Hx(i,s)?o=null:r!==null&&Hx(i,r)&&(t.flags|=32),EL(n,t),fi(n,t,o,e),t.child;case 6:return n===null&&Gx(t),null;case 13:return CL(n,t,e);case 4:return LA(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=lp(t,null,i,e):fi(n,t,i,e),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ir(i,s),jC(n,t,i,s,e);case 7:return fi(n,t,t.pendingProps,e),t.child;case 8:return fi(n,t,t.pendingProps.children,e),t.child;case 12:return fi(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,ve(S_,i._currentValue),i._currentValue=o,r!==null)if(Pr(r.value,o)){if(r.children===s.children&&!ji.current){t=Na(n,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var c=r.dependencies;if(c!==null){o=r.child;for(var u=c.firstContext;u!==null;){if(u.context===i){if(r.tag===1){u=Ca(-1,e&-e),u.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}r.lanes|=e,u=r.alternate,u!==null&&(u.lanes|=e),qx(r.return,e,t),c.lanes|=e;break}u=u.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(st(341));o.lanes|=e,c=o.alternate,c!==null&&(c.lanes|=e),qx(o,e,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}fi(n,t,s.children,e),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,vd(t,e),s=Zs(s),i=i(s),t.flags|=1,fi(n,t,i,e),t.child;case 14:return i=t.type,s=ir(i,t.pendingProps),s=ir(i.type,s),zC(n,t,i,s,e);case 15:return SL(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ir(i,s),E0(n,t),t.tag=1,zi(i)?(n=!0,w_(t)):n=!1,vd(t,e),wL(t,i,s),Xx(t,i,s,e),Qx(null,t,i,!0,n,e);case 19:return TL(n,t,e);case 22:return AL(n,t,e)}throw Error(st(156,t.tag))};function WL(n,t){return vM(n,t)}function JB(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(n,t,e,i){return new JB(n,t,e,i)}function GA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tj(n){if(typeof n=="function")return GA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===hA)return 11;if(n===dA)return 14}return 2}function uc(n,t){var e=n.alternate;return e===null?(e=Vs(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function T0(n,t,e,i,s,r){var o=2;if(i=n,typeof n=="function")GA(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case Kh:return dh(e.children,s,r,t);case uA:o=8,s|=8;break;case _x:return n=Vs(12,e,t,s|2),n.elementType=_x,n.lanes=r,n;case wx:return n=Vs(13,e,t,s),n.elementType=wx,n.lanes=r,n;case bx:return n=Vs(19,e,t,s),n.elementType=bx,n.lanes=r,n;case tM:return Lw(e,s,r,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Qk:o=10;break t;case Jk:o=9;break t;case hA:o=11;break t;case dA:o=14;break t;case Ka:o=16,i=null;break t}throw Error(st(130,n==null?n:typeof n,""))}return t=Vs(o,e,t,s),t.elementType=n,t.type=i,t.lanes=r,t}function dh(n,t,e,i){return n=Vs(7,n,i,t),n.lanes=e,n}function Lw(n,t,e,i){return n=Vs(22,n,i,t),n.elementType=tM,n.lanes=e,n.stateNode={isHidden:!1},n}function tx(n,t,e){return n=Vs(6,n,null,t),n.lanes=e,n}function ex(n,t,e){return t=Vs(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function ej(n,t,e,i,s){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Db(0),this.expirationTimes=Db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Db(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qA(n,t,e,i,s,r,o,c,u){return n=new ej(n,t,e,c,u),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Vs(3,null,null,t),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},MA(r),n}function nj(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yh,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function VL(n){if(!n)return fc;n=n._reactInternals;t:{if(Sh(n)!==n||n.tag!==1)throw Error(st(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(st(171))}if(n.tag===1){var e=n.type;if(zi(e))return VM(n,e,t)}return t}function GL(n,t,e,i,s,r,o,c,u){return n=qA(e,i,!0,n,s,r,o,c,u),n.context=VL(null),e=n.current,i=mi(),s=cc(e),r=Ca(i,s),r.callback=t??null,ac(e,r,s),n.current.lanes=s,ny(n,s,i),Hi(n,i),n}function Rw(n,t,e,i){var s=t.current,r=mi(),o=cc(s);return e=VL(e),t.context===null?t.context=e:t.pendingContext=e,t=Ca(r,o),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=ac(s,t,o),n!==null&&(Ar(n,s,o,r),x0(n,s,o)),o}function N_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function QC(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function ZA(n,t){QC(n,t),(n=n.alternate)&&QC(n,t)}function ij(){return null}var qL=typeof reportError=="function"?reportError:function(n){console.error(n)};function XA(n){this._internalRoot=n}Nw.prototype.render=XA.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(st(409));Rw(n,t,null,null)};Nw.prototype.unmount=XA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;vh(function(){Rw(null,n,null,null)}),t[La]=null}};function Nw(n){this._internalRoot=n}Nw.prototype.unstable_scheduleHydration=function(n){if(n){var t=AM();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Ja.length&&t!==0&&t<Ja[e].priority;e++);Ja.splice(e,0,n),e===0&&PM(n)}};function YA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Iw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function JC(){}function sj(n,t,e,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var d=N_(o);r.call(d)}}var o=GL(t,i,n,0,null,!1,!1,"",JC);return n._reactRootContainer=o,n[La]=o.current,qg(n.nodeType===8?n.parentNode:n),vh(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var d=N_(u);c.call(d)}}var u=qA(n,0,!1,null,null,!1,!1,"",JC);return n._reactRootContainer=u,n[La]=u.current,qg(n.nodeType===8?n.parentNode:n),vh(function(){Rw(t,u,e,i)}),u}function Dw(n,t,e,i,s){var r=e._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var c=s;s=function(){var u=N_(o);c.call(u)}}Rw(t,o,n,s)}else o=sj(e,t,n,s,i);return N_(o)}xM=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=ig(t.pendingLanes);e!==0&&(gA(t,e|1),Hi(t,Xe()),!(Zt&6)&&(hp=Xe()+500,Ac()))}break;case 13:vh(function(){var i=Ra(n,1);if(i!==null){var s=mi();Ar(i,n,1,s)}}),ZA(n,1)}};mA=function(n){if(n.tag===13){var t=Ra(n,134217728);if(t!==null){var e=mi();Ar(t,n,134217728,e)}ZA(n,134217728)}};SM=function(n){if(n.tag===13){var t=cc(n),e=Ra(n,t);if(e!==null){var i=mi();Ar(e,n,t,i)}ZA(n,t)}};AM=function(){return ie};EM=function(n,t){var e=ie;try{return ie=n,t()}finally{ie=e}};Lx=function(n,t,e){switch(t){case"input":if(Ax(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=Ew(i);if(!s)throw Error(st(90));nM(i),Ax(i,s)}}}break;case"textarea":sM(n,e);break;case"select":t=e.value,t!=null&&fd(n,!!e.multiple,t,!1)}};hM=$A;dM=vh;var rj={usingClientEntryPoint:!1,Events:[sy,ed,Ew,cM,uM,$A]},Zp={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oj={bundleType:Zp.bundleType,version:Zp.version,rendererPackageName:Zp.rendererPackageName,rendererConfig:Zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:za.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gM(n),n===null?null:n.stateNode},findFiberByHostInstance:Zp.findFiberByHostInstance||ij,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{bw=t0.inject(oj),bo=t0}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rj;ws.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YA(t))throw Error(st(200));return nj(n,t,null,e)};ws.createRoot=function(n,t){if(!YA(n))throw Error(st(299));var e=!1,i="",s=qL;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qA(n,1,!1,null,null,e,!1,i,s),n[La]=t.current,qg(n.nodeType===8?n.parentNode:n),new XA(t)};ws.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(st(188)):(n=Object.keys(n).join(","),Error(st(268,n)));return n=gM(t),n=n===null?null:n.stateNode,n};ws.flushSync=function(n){return vh(n)};ws.hydrate=function(n,t,e){if(!Iw(t))throw Error(st(200));return Dw(null,n,t,!0,e)};ws.hydrateRoot=function(n,t,e){if(!YA(n))throw Error(st(405));var i=e!=null&&e.hydratedSources||null,s=!1,r="",o=qL;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=GL(t,null,n,1,e??null,s,!1,r,o),n[La]=t.current,qg(n),i)for(n=0;n<i.length;n++)e=i[n],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new Nw(t)};ws.render=function(n,t,e){if(!Iw(t))throw Error(st(200));return Dw(null,n,t,!1,e)};ws.unmountComponentAtNode=function(n){if(!Iw(n))throw Error(st(40));return n._reactRootContainer?(vh(function(){Dw(null,null,n,!1,function(){n._reactRootContainer=null,n[La]=null})}),!0):!1};ws.unstable_batchedUpdates=$A;ws.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!Iw(e))throw Error(st(200));if(n==null||n._reactInternals===void 0)throw Error(st(38));return Dw(n,t,e,!1,i)};ws.version="18.3.1-next-f1338f8080-20240426";function ZL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZL)}catch(n){console.error(n)}}ZL(),Zk.exports=ws;var wp=Zk.exports;const XL=nA(wp);var YL,tT=wp;YL=tT.createRoot,tT.hydrateRoot;const aj=1,lj=1e6;let nx=0;function cj(){return nx=(nx+1)%Number.MAX_SAFE_INTEGER,nx.toString()}const ix=new Map,eT=n=>{if(ix.has(n))return;const t=setTimeout(()=>{ix.delete(n),Og({type:"REMOVE_TOAST",toastId:n})},lj);ix.set(n,t)},uj=(n,t)=>{switch(t.type){case"ADD_TOAST":return{...n,toasts:[t.toast,...n.toasts].slice(0,aj)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?eT(e):n.toasts.forEach(i=>{eT(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===e||e===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(e=>e.id!==t.toastId)}}},k0=[];let M0={toasts:[]};function Og(n){M0=uj(M0,n),k0.forEach(t=>{t(M0)})}function hj({...n}){const t=cj(),e=s=>Og({type:"UPDATE_TOAST",toast:{...s,id:t}}),i=()=>Og({type:"DISMISS_TOAST",toastId:t});return Og({type:"ADD_TOAST",toast:{...n,id:t,open:!0,onOpenChange:s=>{s||i()}}}),{id:t,dismiss:i,update:e}}function dj(){const[n,t]=D.useState(M0);return D.useEffect(()=>(k0.push(t),()=>{const e=k0.indexOf(t);e>-1&&k0.splice(e,1)}),[n]),{...n,toast:hj,dismiss:e=>Og({type:"DISMISS_TOAST",toastId:e})}}function dn(n,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(n==null||n(s),e===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function nT(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function KL(...n){return t=>{let e=!1;const i=n.map(s=>{const r=nT(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():nT(n[s],null)}}}}function Cr(...n){return D.useCallback(KL(...n),n)}function Ow(n,t=[]){let e=[];function i(r,o){const c=D.createContext(o),u=e.length;e=[...e,o];const d=p=>{var w;const{scope:m,children:v,...x}=p,_=((w=m==null?void 0:m[n])==null?void 0:w[u])||c,P=D.useMemo(()=>x,Object.values(x));return M.jsx(_.Provider,{value:P,children:v})};d.displayName=r+"Provider";function f(p,m){var _;const v=((_=m==null?void 0:m[n])==null?void 0:_[u])||c,x=D.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${r}\``)}return[d,f]}const s=()=>{const r=e.map(o=>D.createContext(o));return function(c){const u=(c==null?void 0:c[n])||r;return D.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return s.scopeName=n,[i,fj(s,...t)]}function fj(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const o=i.reduce((c,{useScope:u,scopeName:d})=>{const p=u(r)[`__scope${d}`];return{...c,...p}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function I_(n){const t=gj(n),e=D.forwardRef((i,s)=>{const{children:r,...o}=i,c=D.Children.toArray(r),u=c.find(vj);if(u){const d=u.props.children,f=c.map(p=>p===u?D.Children.count(d)>1?D.Children.only(null):D.isValidElement(d)?d.props.children:null:p);return M.jsx(t,{...o,ref:s,children:D.isValidElement(d)?D.cloneElement(d,void 0,f):null})}return M.jsx(t,{...o,ref:s,children:r})});return e.displayName=`${n}.Slot`,e}var pj=I_("Slot");function gj(n){const t=D.forwardRef((e,i)=>{const{children:s,...r}=e;if(D.isValidElement(s)){const o=_j(s),c=yj(r,s.props);return s.type!==D.Fragment&&(c.ref=i?KL(i,o):o),D.cloneElement(s,c)}return D.Children.count(s)>1?D.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var QL=Symbol("radix.slottable");function mj(n){const t=({children:e})=>M.jsx(M.Fragment,{children:e});return t.displayName=`${n}.Slottable`,t.__radixId=QL,t}function vj(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===QL}function yj(n,t){const e={...t};for(const i in t){const s=n[i],r=t[i];/^on[A-Z]/.test(i)?s&&r?e[i]=(...c)=>{const u=r(...c);return s(...c),u}:s&&(e[i]=s):i==="style"?e[i]={...s,...r}:i==="className"&&(e[i]=[s,r].filter(Boolean).join(" "))}return{...n,...e}}function _j(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function wj(n){const t=n+"CollectionProvider",[e,i]=Ow(t),[s,r]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:P,children:w}=_,E=rt.useRef(null),A=rt.useRef(new Map).current;return M.jsx(s,{scope:P,itemMap:A,collectionRef:E,children:w})};o.displayName=t;const c=n+"CollectionSlot",u=I_(c),d=rt.forwardRef((_,P)=>{const{scope:w,children:E}=_,A=r(c,w),y=Cr(P,A.collectionRef);return M.jsx(u,{ref:y,children:E})});d.displayName=c;const f=n+"CollectionItemSlot",p="data-radix-collection-item",m=I_(f),v=rt.forwardRef((_,P)=>{const{scope:w,children:E,...A}=_,y=rt.useRef(null),S=Cr(P,y),T=r(f,w);return rt.useEffect(()=>(T.itemMap.set(y,{ref:y,...A}),()=>void T.itemMap.delete(y))),M.jsx(m,{[p]:"",ref:S,children:E})});v.displayName=f;function x(_){const P=r(n+"CollectionConsumer",_);return rt.useCallback(()=>{const E=P.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(P.itemMap.values()).sort((T,N)=>A.indexOf(T.ref.current)-A.indexOf(N.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},x,i]}var bj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wi=bj.reduce((n,t)=>{const e=I_(`Primitive.${t}`),i=D.forwardRef((s,r)=>{const{asChild:o,...c}=s,u=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(u,{...c,ref:r})});return i.displayName=`Primitive.${t}`,{...n,[t]:i}},{});function JL(n,t){n&&wp.flushSync(()=>n.dispatchEvent(t))}function pc(n){const t=D.useRef(n);return D.useEffect(()=>{t.current=n}),D.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}function xj(n,t=globalThis==null?void 0:globalThis.document){const e=pc(n);D.useEffect(()=>{const i=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[e,t])}var Sj="DismissableLayer",u1="dismissableLayer.update",Aj="dismissableLayer.pointerDownOutside",Ej="dismissableLayer.focusOutside",iT,t2=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KA=D.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:o,onDismiss:c,...u}=n,d=D.useContext(t2),[f,p]=D.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=D.useState({}),x=Cr(t,N=>p(N)),_=Array.from(d.layers),[P]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(P),E=f?_.indexOf(f):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,y=E>=w,S=Cj(N=>{const F=N.target,B=[...d.branches].some(j=>j.contains(F));!y||B||(s==null||s(N),o==null||o(N),N.defaultPrevented||c==null||c())},m),T=Tj(N=>{const F=N.target;[...d.branches].some(j=>j.contains(F))||(r==null||r(N),o==null||o(N),N.defaultPrevented||c==null||c())},m);return xj(N=>{E===d.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},m),D.useEffect(()=>{if(f)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(iT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),sT(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=iT)}},[f,m,e,d]),D.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),sT())},[f,d]),D.useEffect(()=>{const N=()=>v({});return document.addEventListener(u1,N),()=>document.removeEventListener(u1,N)},[]),M.jsx(wi.div,{...u,ref:x,style:{pointerEvents:A?y?"auto":"none":void 0,...n.style},onFocusCapture:dn(n.onFocusCapture,T.onFocusCapture),onBlurCapture:dn(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:dn(n.onPointerDownCapture,S.onPointerDownCapture)})});KA.displayName=Sj;var Pj="DismissableLayerBranch",e2=D.forwardRef((n,t)=>{const e=D.useContext(t2),i=D.useRef(null),s=Cr(t,i);return D.useEffect(()=>{const r=i.current;if(r)return e.branches.add(r),()=>{e.branches.delete(r)}},[e.branches]),M.jsx(wi.div,{...n,ref:s})});e2.displayName=Pj;function Cj(n,t=globalThis==null?void 0:globalThis.document){const e=pc(n),i=D.useRef(!1),s=D.useRef(()=>{});return D.useEffect(()=>{const r=c=>{if(c.target&&!i.current){let u=function(){n2(Aj,e,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function Tj(n,t=globalThis==null?void 0:globalThis.document){const e=pc(n),i=D.useRef(!1);return D.useEffect(()=>{const s=r=>{r.target&&!i.current&&n2(Ej,e,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function sT(){const n=new CustomEvent(u1);document.dispatchEvent(n)}function n2(n,t,e,{discrete:i}){const s=e.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(n,t,{once:!0}),i?JL(s,r):s.dispatchEvent(r)}var kj=KA,Mj=e2,gc=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},Lj="Portal",i2=D.forwardRef((n,t)=>{var c;const{container:e,...i}=n,[s,r]=D.useState(!1);gc(()=>r(!0),[]);const o=e||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?XL.createPortal(M.jsx(wi.div,{...i,ref:t}),o):null});i2.displayName=Lj;function Rj(n,t){return D.useReducer((e,i)=>t[e][i]??e,n)}var QA=n=>{const{present:t,children:e}=n,i=Nj(t),s=typeof e=="function"?e({present:i.isPresent}):D.Children.only(e),r=Cr(i.ref,Ij(s));return typeof e=="function"||i.isPresent?D.cloneElement(s,{ref:r}):null};QA.displayName="Presence";function Nj(n){const[t,e]=D.useState(),i=D.useRef(null),s=D.useRef(n),r=D.useRef("none"),o=n?"mounted":"unmounted",[c,u]=Rj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const d=e0(i.current);r.current=c==="mounted"?d:"none"},[c]),gc(()=>{const d=i.current,f=s.current;if(f!==n){const m=r.current,v=e0(d);n?u("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,u]),gc(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,p=v=>{const _=e0(i.current).includes(v.animationName);if(v.target===t&&_&&(u("ANIMATION_END"),!s.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},m=v=>{v.target===t&&(r.current=e0(i.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:D.useCallback(d=>{i.current=d?getComputedStyle(d):null,e(d)},[])}}function e0(n){return(n==null?void 0:n.animationName)||"none"}function Ij(n){var i,s;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var Dj=Gk[" useInsertionEffect ".trim().toString()]||gc;function Oj({prop:n,defaultProp:t,onChange:e=()=>{},caller:i}){const[s,r,o]=Fj({defaultProp:t,onChange:e}),c=n!==void 0,u=c?n:s;{const f=D.useRef(n!==void 0);D.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,i])}const d=D.useCallback(f=>{var p;if(c){const m=Bj(f)?f(n):f;m!==n&&((p=o.current)==null||p.call(o,m))}else r(f)},[c,n,r,o]);return[u,d]}function Fj({defaultProp:n,onChange:t}){const[e,i]=D.useState(n),s=D.useRef(e),r=D.useRef(t);return Dj(()=>{r.current=t},[t]),D.useEffect(()=>{var o;s.current!==e&&((o=r.current)==null||o.call(r,e),s.current=e)},[e,s]),[e,i,r]}function Bj(n){return typeof n=="function"}var jj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zj="VisuallyHidden",Fw=D.forwardRef((n,t)=>M.jsx(wi.span,{...n,ref:t,style:{...jj,...n.style}}));Fw.displayName=zj;var Hj=Fw,JA="ToastProvider",[tE,Uj,$j]=wj("Toast"),[s2,EV]=Ow("Toast",[$j]),[Wj,Bw]=s2(JA),r2=n=>{const{__scopeToast:t,label:e="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:r=50,children:o}=n,[c,u]=D.useState(null),[d,f]=D.useState(0),p=D.useRef(!1),m=D.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${JA}\`. Expected non-empty \`string\`.`),M.jsx(tE.Provider,{scope:t,children:M.jsx(Wj,{scope:t,label:e,duration:i,swipeDirection:s,swipeThreshold:r,toastCount:d,viewport:c,onViewportChange:u,onToastAdd:D.useCallback(()=>f(v=>v+1),[]),onToastRemove:D.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};r2.displayName=JA;var o2="ToastViewport",Vj=["F8"],h1="toast.viewportPause",d1="toast.viewportResume",a2=D.forwardRef((n,t)=>{const{__scopeToast:e,hotkey:i=Vj,label:s="Notifications ({hotkey})",...r}=n,o=Bw(o2,e),c=Uj(e),u=D.useRef(null),d=D.useRef(null),f=D.useRef(null),p=D.useRef(null),m=Cr(t,p,o.onViewportChange),v=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;D.useEffect(()=>{const P=w=>{var A;i.length!==0&&i.every(y=>w[y]||w.code===y)&&((A=p.current)==null||A.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[i]),D.useEffect(()=>{const P=u.current,w=p.current;if(x&&P&&w){const E=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(h1);w.dispatchEvent(T),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(d1);w.dispatchEvent(T),o.isClosePausedRef.current=!1}},y=T=>{!P.contains(T.relatedTarget)&&A()},S=()=>{P.contains(document.activeElement)||A()};return P.addEventListener("focusin",E),P.addEventListener("focusout",y),P.addEventListener("pointermove",E),P.addEventListener("pointerleave",S),window.addEventListener("blur",E),window.addEventListener("focus",A),()=>{P.removeEventListener("focusin",E),P.removeEventListener("focusout",y),P.removeEventListener("pointermove",E),P.removeEventListener("pointerleave",S),window.removeEventListener("blur",E),window.removeEventListener("focus",A)}}},[x,o.isClosePausedRef]);const _=D.useCallback(({tabbingDirection:P})=>{const E=c().map(A=>{const y=A.ref.current,S=[y,...s3(y)];return P==="forwards"?S:S.reverse()});return(P==="forwards"?E.reverse():E).flat()},[c]);return D.useEffect(()=>{const P=p.current;if(P){const w=E=>{var S,T,N;const A=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!A){const F=document.activeElement,B=E.shiftKey;if(E.target===P&&B){(S=d.current)==null||S.focus();return}const W=_({tabbingDirection:B?"backwards":"forwards"}),K=W.findIndex($=>$===F);sx(W.slice(K+1))?E.preventDefault():B?(T=d.current)==null||T.focus():(N=f.current)==null||N.focus()}};return P.addEventListener("keydown",w),()=>P.removeEventListener("keydown",w)}},[c,_]),M.jsxs(Mj,{ref:u,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&M.jsx(f1,{ref:d,onFocusFromOutsideViewport:()=>{const P=_({tabbingDirection:"forwards"});sx(P)}}),M.jsx(tE.Slot,{scope:e,children:M.jsx(wi.ol,{tabIndex:-1,...r,ref:m})}),x&&M.jsx(f1,{ref:f,onFocusFromOutsideViewport:()=>{const P=_({tabbingDirection:"backwards"});sx(P)}})]})});a2.displayName=o2;var l2="ToastFocusProxy",f1=D.forwardRef((n,t)=>{const{__scopeToast:e,onFocusFromOutsideViewport:i,...s}=n,r=Bw(l2,e);return M.jsx(Fw,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const c=o.relatedTarget;!((d=r.viewport)!=null&&d.contains(c))&&i()}})});f1.displayName=l2;var oy="Toast",Gj="toast.swipeStart",qj="toast.swipeMove",Zj="toast.swipeCancel",Xj="toast.swipeEnd",c2=D.forwardRef((n,t)=>{const{forceMount:e,open:i,defaultOpen:s,onOpenChange:r,...o}=n,[c,u]=Oj({prop:i,defaultProp:s??!0,onChange:r,caller:oy});return M.jsx(QA,{present:e||c,children:M.jsx(Qj,{open:c,...o,ref:t,onClose:()=>u(!1),onPause:pc(n.onPause),onResume:pc(n.onResume),onSwipeStart:dn(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dn(n.onSwipeMove,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:dn(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dn(n.onSwipeEnd,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});c2.displayName=oy;var[Yj,Kj]=s2(oy,{onClose(){}}),Qj=D.forwardRef((n,t)=>{const{__scopeToast:e,type:i="foreground",duration:s,open:r,onClose:o,onEscapeKeyDown:c,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:v,...x}=n,_=Bw(oy,e),[P,w]=D.useState(null),E=Cr(t,$=>w($)),A=D.useRef(null),y=D.useRef(null),S=s||_.duration,T=D.useRef(0),N=D.useRef(S),F=D.useRef(0),{onToastAdd:B,onToastRemove:j}=_,H=pc(()=>{var J;(P==null?void 0:P.contains(document.activeElement))&&((J=_.viewport)==null||J.focus()),o()}),W=D.useCallback($=>{!$||$===1/0||(window.clearTimeout(F.current),T.current=new Date().getTime(),F.current=window.setTimeout(H,$))},[H]);D.useEffect(()=>{const $=_.viewport;if($){const J=()=>{W(N.current),d==null||d()},q=()=>{const Y=new Date().getTime()-T.current;N.current=N.current-Y,window.clearTimeout(F.current),u==null||u()};return $.addEventListener(h1,q),$.addEventListener(d1,J),()=>{$.removeEventListener(h1,q),$.removeEventListener(d1,J)}}},[_.viewport,S,u,d,W]),D.useEffect(()=>{r&&!_.isClosePausedRef.current&&W(S)},[r,S,_.isClosePausedRef,W]),D.useEffect(()=>(B(),()=>j()),[B,j]);const K=D.useMemo(()=>P?m2(P):null,[P]);return _.viewport?M.jsxs(M.Fragment,{children:[K&&M.jsx(Jj,{__scopeToast:e,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),M.jsx(Yj,{scope:e,onClose:H,children:wp.createPortal(M.jsx(tE.ItemSlot,{scope:e,children:M.jsx(kj,{asChild:!0,onEscapeKeyDown:dn(c,()=>{_.isFocusedToastEscapeKeyDownRef.current||H(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:M.jsx(wi.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":_.swipeDirection,...x,ref:E,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:dn(n.onKeyDown,$=>{$.key==="Escape"&&(c==null||c($.nativeEvent),$.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:dn(n.onPointerDown,$=>{$.button===0&&(A.current={x:$.clientX,y:$.clientY})}),onPointerMove:dn(n.onPointerMove,$=>{if(!A.current)return;const J=$.clientX-A.current.x,q=$.clientY-A.current.y,Y=!!y.current,U=["left","right"].includes(_.swipeDirection),G=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,X=U?G(0,J):0,it=U?0:G(0,q),Q=$.pointerType==="touch"?10:2,et={x:X,y:it},ot={originalEvent:$,delta:et};Y?(y.current=et,n0(qj,p,ot,{discrete:!1})):rT(et,_.swipeDirection,Q)?(y.current=et,n0(Gj,f,ot,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(J)>Q||Math.abs(q)>Q)&&(A.current=null)}),onPointerUp:dn(n.onPointerUp,$=>{const J=y.current,q=$.target;if(q.hasPointerCapture($.pointerId)&&q.releasePointerCapture($.pointerId),y.current=null,A.current=null,J){const Y=$.currentTarget,U={originalEvent:$,delta:J};rT(J,_.swipeDirection,_.swipeThreshold)?n0(Xj,v,U,{discrete:!0}):n0(Zj,m,U,{discrete:!0}),Y.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),Jj=n=>{const{__scopeToast:t,children:e,...i}=n,s=Bw(oy,t),[r,o]=D.useState(!1),[c,u]=D.useState(!1);return n3(()=>o(!0)),D.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:M.jsx(i2,{asChild:!0,children:M.jsx(Fw,{...i,children:r&&M.jsxs(M.Fragment,{children:[s.label," ",e]})})})},t3="ToastTitle",u2=D.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return M.jsx(wi.div,{...i,ref:t})});u2.displayName=t3;var e3="ToastDescription",h2=D.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return M.jsx(wi.div,{...i,ref:t})});h2.displayName=e3;var d2="ToastAction",f2=D.forwardRef((n,t)=>{const{altText:e,...i}=n;return e.trim()?M.jsx(g2,{altText:e,asChild:!0,children:M.jsx(eE,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${d2}\`. Expected non-empty \`string\`.`),null)});f2.displayName=d2;var p2="ToastClose",eE=D.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n,s=Kj(p2,e);return M.jsx(g2,{asChild:!0,children:M.jsx(wi.button,{type:"button",...i,ref:t,onClick:dn(n.onClick,s.onClose)})})});eE.displayName=p2;var g2=D.forwardRef((n,t)=>{const{__scopeToast:e,altText:i,...s}=n;return M.jsx(wi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function m2(n){const t=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),i3(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",r=i.dataset.radixToastAnnounceExclude==="";if(!s)if(r){const o=i.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...m2(i))}}),t}function n0(n,t,e,{discrete:i}){const s=e.originalEvent.currentTarget,r=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:e});t&&s.addEventListener(n,t,{once:!0}),i?JL(s,r):s.dispatchEvent(r)}var rT=(n,t,e=0)=>{const i=Math.abs(n.x),s=Math.abs(n.y),r=i>s;return t==="left"||t==="right"?r&&i>e:!r&&s>e};function n3(n=()=>{}){const t=pc(n);gc(()=>{let e=0,i=0;return e=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(i)}},[t])}function i3(n){return n.nodeType===n.ELEMENT_NODE}function s3(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function sx(n){const t=document.activeElement;return n.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var r3=r2,v2=a2,y2=c2,_2=u2,w2=h2,b2=f2,x2=eE;function S2(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=S2(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function bp(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=S2(n))&&(i&&(i+=" "),i+=t);return i}const oT=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,aT=bp,nE=(n,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return aT(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:s,defaultVariants:r}=t,o=Object.keys(s).map(d=>{const f=e==null?void 0:e[d],p=r==null?void 0:r[d];if(f===null)return null;const m=oT(f)||oT(p);return s[d][m]}),c=e&&Object.entries(e).reduce((d,f)=>{let[p,m]=f;return m===void 0||(d[p]=m),d},{}),u=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:p,className:m,...v}=f;return Object.entries(v).every(x=>{let[_,P]=x;return Array.isArray(P)?P.includes({...r,...c}[_]):{...r,...c}[_]===P})?[...d,p,m]:d},[]);return aT(n,o,u,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A2=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=D.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...c},u)=>D.createElement("svg",{ref:u,...a3,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:A2("lucide",s),...c},[...o.map(([d,f])=>D.createElement(d,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(n,t)=>{const e=D.forwardRef(({className:i,...s},r)=>D.createElement(l3,{ref:r,iconNode:t,className:A2(`lucide-${o3(n)}`,i),...s}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=on("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=on("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=on("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=on("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=on("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=on("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=on("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=on("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=on("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=on("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=on("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=on("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=on("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=on("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=on("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=on("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=on("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=on("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=on("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=on("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sE="-",x3=n=>{const t=A3(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const c=o.split(sE);return c[0]===""&&c.length!==1&&c.shift(),M2(c,t)||S3(o)},getConflictingClassGroupIds:(o,c)=>{const u=e[o]||[];return c&&i[o]?[...u,...i[o]]:u}}},M2=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?M2(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=n.join(sE);return(o=t.validators.find(({validator:c})=>c(r)))==null?void 0:o.classGroupId},lT=/^\[(.+)\]$/,S3=n=>{if(lT.test(n)){const t=lT.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},A3=n=>{const{theme:t,prefix:e}=n,i={nextPart:new Map,validators:[]};return P3(Object.entries(n.classGroups),e).forEach(([r,o])=>{p1(o,i,r,t)}),i},p1=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?t:cT(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(E3(s)){p1(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,o])=>{p1(o,cT(t,r),e,i)})})},cT=(n,t)=>{let e=n;return t.split(sE).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},E3=n=>n.isThemeGetter,P3=(n,t)=>t?n.map(([e,i])=>{const s=i.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,c])=>[t+o,c])):r);return[e,s]}):n,C3=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(r,o)=>{e.set(r,o),t++,t>n&&(t=0,i=e,e=new Map)};return{get(r){let o=e.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){e.has(r)?e.set(r,o):s(r,o)}}},L2="!",T3=n=>{const{separator:t,experimentalParseClassName:e}=n,i=t.length===1,s=t[0],r=t.length,o=c=>{const u=[];let d=0,f=0,p;for(let P=0;P<c.length;P++){let w=c[P];if(d===0){if(w===s&&(i||c.slice(P,P+r)===t)){u.push(c.slice(f,P)),f=P+r;continue}if(w==="/"){p=P;continue}}w==="["?d++:w==="]"&&d--}const m=u.length===0?c:c.substring(f),v=m.startsWith(L2),x=v?m.substring(1):m,_=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:_}};return e?c=>e({className:c,parseClassName:o}):o},k3=n=>{if(n.length<=1)return n;const t=[];let e=[];return n.forEach(i=>{i[0]==="["?(t.push(...e.sort(),i),e=[]):e.push(i)}),t.push(...e.sort()),t},M3=n=>({cache:C3(n.cacheSize),parseClassName:T3(n),...x3(n)}),L3=/\s+/,R3=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s}=t,r=[],o=n.trim().split(L3);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}=e(d);let x=!!v,_=i(x?m.substring(0,v):m);if(!_){if(!x){c=d+(c.length>0?" "+c:c);continue}if(_=i(m),!_){c=d+(c.length>0?" "+c:c);continue}x=!1}const P=k3(f).join(":"),w=p?P+L2:P,E=w+_;if(r.includes(E))continue;r.push(E);const A=s(_,x);for(let y=0;y<A.length;++y){const S=A[y];r.push(w+S)}c=d+(c.length>0?" "+c:c)}return c};function N3(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=R2(t))&&(i&&(i+=" "),i+=e);return i}const R2=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=R2(n[i]))&&(e&&(e+=" "),e+=t);return e};function I3(n,...t){let e,i,s,r=o;function o(u){const d=t.reduce((f,p)=>p(f),n());return e=M3(d),i=e.cache.get,s=e.cache.set,r=c,c(u)}function c(u){const d=i(u);if(d)return d;const f=R3(u,e);return s(u,f),f}return function(){return r(N3.apply(null,arguments))}}const _e=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},N2=/^\[(?:([a-z-]+):)?(.+)\]$/i,D3=/^\d+\/\d+$/,O3=new Set(["px","full","screen"]),F3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=n=>_d(n)||O3.has(n)||D3.test(n),qa=n=>xp(n,"length",X3),_d=n=>!!n&&!Number.isNaN(Number(n)),rx=n=>xp(n,"number",_d),Xp=n=>!!n&&Number.isInteger(Number(n)),U3=n=>n.endsWith("%")&&_d(n.slice(0,-1)),Nt=n=>N2.test(n),Za=n=>F3.test(n),$3=new Set(["length","size","percentage"]),W3=n=>xp(n,$3,I2),V3=n=>xp(n,"position",I2),G3=new Set(["image","url"]),q3=n=>xp(n,G3,K3),Z3=n=>xp(n,"",Y3),Yp=()=>!0,xp=(n,t,e)=>{const i=N2.exec(n);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):e(i[2]):!1},X3=n=>B3.test(n)&&!j3.test(n),I2=()=>!1,Y3=n=>z3.test(n),K3=n=>H3.test(n),Q3=()=>{const n=_e("colors"),t=_e("spacing"),e=_e("blur"),i=_e("brightness"),s=_e("borderColor"),r=_e("borderRadius"),o=_e("borderSpacing"),c=_e("borderWidth"),u=_e("contrast"),d=_e("grayscale"),f=_e("hueRotate"),p=_e("invert"),m=_e("gap"),v=_e("gradientColorStops"),x=_e("gradientColorStopPositions"),_=_e("inset"),P=_e("margin"),w=_e("opacity"),E=_e("padding"),A=_e("saturate"),y=_e("scale"),S=_e("sepia"),T=_e("skew"),N=_e("space"),F=_e("translate"),B=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Nt,t],W=()=>[Nt,t],K=()=>["",Io,qa],$=()=>["auto",_d,Nt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Nt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],it=()=>[_d,Nt];return{cacheSize:500,separator:":",theme:{colors:[Yp],spacing:[Io,qa],blur:["none","",Za,Nt],brightness:it(),borderColor:[n],borderRadius:["none","","full",Za,Nt],borderSpacing:W(),borderWidth:K(),contrast:it(),grayscale:G(),hueRotate:it(),invert:G(),gap:W(),gradientColorStops:[n],gradientColorStopPositions:[U3,qa],inset:H(),margin:H(),opacity:it(),padding:W(),saturate:it(),scale:it(),sepia:G(),skew:it(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Nt]}],container:["container"],columns:[{columns:[Za]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Nt]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xp,Nt]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Xp,Nt]}],"grid-cols":[{"grid-cols":[Yp]}],"col-start-end":[{col:["auto",{span:["full",Xp,Nt]},Nt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Yp]}],"row-start-end":[{row:["auto",{span:[Xp,Nt]},Nt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nt,t]}],"min-w":[{"min-w":[Nt,t,"min","max","fit"]}],"max-w":[{"max-w":[Nt,t,"none","full","min","max","fit","prose",{screen:[Za]},Za]}],h:[{h:[Nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Za,qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rx]}],"font-family":[{font:[Yp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nt]}],"line-clamp":[{"line-clamp":["none",_d,rx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Io,Nt]}],"list-image":[{"list-image":["none",Nt]}],"list-style-type":[{list:["none","disc","decimal",Nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Io,qa]}],"underline-offset":[{"underline-offset":["auto",Io,Nt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),V3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",W3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q3]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Io,Nt]}],"outline-w":[{outline:[Io,qa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Io,qa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Za,Z3]}],"shadow-color":[{shadow:[Yp]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Za,Nt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[A]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nt]}],duration:[{duration:it()}],ease:[{ease:["linear","in","out","in-out",Nt]}],delay:[{delay:it()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Xp,Nt]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Io,qa,rx]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J3=I3(Q3);function ei(...n){return J3(bp(n))}const tz=r3,D2=D.forwardRef(({className:n,...t},e)=>M.jsx(v2,{ref:e,className:ei("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...t}));D2.displayName=v2.displayName;const ez=nE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),O2=D.forwardRef(({className:n,variant:t,...e},i)=>M.jsx(y2,{ref:i,className:ei(ez({variant:t}),n),...e}));O2.displayName=y2.displayName;const nz=D.forwardRef(({className:n,...t},e)=>M.jsx(b2,{ref:e,className:ei("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...t}));nz.displayName=b2.displayName;const F2=D.forwardRef(({className:n,...t},e)=>M.jsx(x2,{ref:e,className:ei("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...t,children:M.jsx(iE,{className:"h-4 w-4"})}));F2.displayName=x2.displayName;const B2=D.forwardRef(({className:n,...t},e)=>M.jsx(_2,{ref:e,className:ei("text-sm font-semibold",n),...t}));B2.displayName=_2.displayName;const j2=D.forwardRef(({className:n,...t},e)=>M.jsx(w2,{ref:e,className:ei("text-sm opacity-90",n),...t}));j2.displayName=w2.displayName;function iz(){const{toasts:n}=dj();return M.jsxs(tz,{children:[n.map(function({id:t,title:e,description:i,action:s,...r}){return M.jsxs(O2,{...r,children:[M.jsxs("div",{className:"grid gap-1",children:[e&&M.jsx(B2,{children:e}),i&&M.jsx(j2,{children:i})]}),s,M.jsx(F2,{})]},t)}),M.jsx(D2,{})]})}var uT=["light","dark"],sz="(prefers-color-scheme: dark)",rz=D.createContext(void 0),oz={setTheme:n=>{},themes:[]},az=()=>{var n;return(n=D.useContext(rz))!=null?n:oz};D.memo(({forcedTheme:n,storageKey:t,attribute:e,enableSystem:i,enableColorScheme:s,defaultTheme:r,value:o,attrs:c,nonce:u})=>{let d=r==="system",f=e==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${e}',s='setAttribute';`,p=s?uT.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,_=!1,P=!0)=>{let w=o?o[x]:x,E=_?x+"|| ''":`'${w}'`,A="";return s&&P&&!_&&uT.includes(x)&&(A+=`d.style.colorScheme = '${x}';`),e==="class"?_||w?A+=`c.add(${E})`:A+="null":w&&(A+=`d[s](n,${E})`),A},v=n?`!function(){${f}${m(n)}}()`:i?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${sz}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(r,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(r,!1,!1)};}${p}}catch(t){}}();`;return D.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:v}})});var lz=n=>{switch(n){case"success":return hz;case"info":return fz;case"warning":return dz;case"error":return pz;default:return null}},cz=Array(12).fill(0),uz=({visible:n,className:t})=>rt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},rt.createElement("div",{className:"sonner-spinner"},cz.map((e,i)=>rt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),hz=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dz=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fz=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pz=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gz=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},rt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),rt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mz=()=>{let[n,t]=rt.useState(document.hidden);return rt.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n},g1=1,vz=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let t=this.subscribers.indexOf(n);this.subscribers.splice(t,1)}),this.publish=n=>{this.subscribers.forEach(t=>t(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var t;let{message:e,...i}=n,s=typeof(n==null?void 0:n.id)=="number"||((t=n.id)==null?void 0:t.length)>0?n.id:g1++,r=this.toasts.find(c=>c.id===s),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),r?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...n,id:s,title:e}),{...c,...n,id:s,dismissible:o,title:e}):c):this.addToast({title:e,...i,dismissible:o,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(t=>{this.subscribers.forEach(e=>e({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:n,dismiss:!0})),n),this.message=(n,t)=>this.create({...t,message:n}),this.error=(n,t)=>this.create({...t,message:n,type:"error"}),this.success=(n,t)=>this.create({...t,type:"success",message:n}),this.info=(n,t)=>this.create({...t,type:"info",message:n}),this.warning=(n,t)=>this.create({...t,type:"warning",message:n}),this.loading=(n,t)=>this.create({...t,type:"loading",message:n}),this.promise=(n,t)=>{if(!t)return;let e;t.loading!==void 0&&(e=this.create({...t,promise:n,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=n instanceof Promise?n:n(),s=e!==void 0,r,o=i.then(async u=>{if(r=["resolve",u],rt.isValidElement(u))s=!1,this.create({id:e,type:"default",message:u});else if(_z(u)&&!u.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:e,type:"error",message:d,description:f})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(u):t.success,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:e,type:"success",message:d,description:f})}}).catch(async u=>{if(r=["reject",u],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(u):t.error,f=typeof t.description=="function"?await t.description(u):t.description;this.create({id:e,type:"error",message:d,description:f})}}).finally(()=>{var u;s&&(this.dismiss(e),e=void 0),(u=t.finally)==null||u.call(t)}),c=()=>new Promise((u,d)=>o.then(()=>r[0]==="reject"?d(r[1]):u(r[1])).catch(d));return typeof e!="string"&&typeof e!="number"?{unwrap:c}:Object.assign(e,{unwrap:c})},this.custom=(n,t)=>{let e=(t==null?void 0:t.id)||g1++;return this.create({jsx:n(e),id:e,...t}),e},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ii=new vz,yz=(n,t)=>{let e=(t==null?void 0:t.id)||g1++;return Ii.addToast({title:n,...t,id:e}),e},_z=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",wz=yz,bz=()=>Ii.toasts,xz=()=>Ii.getActiveToasts(),Sz=Object.assign(wz,{success:Ii.success,info:Ii.info,warning:Ii.warning,error:Ii.error,custom:Ii.custom,message:Ii.message,promise:Ii.promise,dismiss:Ii.dismiss,loading:Ii.loading},{getHistory:bz,getToasts:xz});function Az(n,{insertAt:t}={}){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}Az(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function s0(n){return n.label!==void 0}var Ez=3,Pz="32px",Cz="16px",hT=4e3,Tz=356,kz=14,Mz=20,Lz=200;function tr(...n){return n.filter(Boolean).join(" ")}function Rz(n){let[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}var Nz=n=>{var t,e,i,s,r,o,c,u,d,f,p;let{invert:m,toast:v,unstyled:x,interacting:_,setHeights:P,visibleToasts:w,heights:E,index:A,toasts:y,expanded:S,removeToast:T,defaultRichColors:N,closeButton:F,style:B,cancelButtonStyle:j,actionButtonStyle:H,className:W="",descriptionClassName:K="",duration:$,position:J,gap:q,loadingIcon:Y,expandByDefault:U,classNames:G,icons:X,closeButtonAriaLabel:it="Close toast",pauseWhenPageIsHidden:Q}=n,[et,ot]=rt.useState(null),[ut,ht]=rt.useState(null),[at,Rt]=rt.useState(!1),[Qt,Bt]=rt.useState(!1),[mt,lt]=rt.useState(!1),[_t,xt]=rt.useState(!1),[Pt,Gt]=rt.useState(!1),[Ut,Ye]=rt.useState(0),[an,Pn]=rt.useState(0),Cn=rt.useRef(v.duration||$||hT),bi=rt.useRef(null),Hn=rt.useRef(null),Ha=A===0,Ua=A+1<=w,Ke=v.type,xi=v.dismissible!==!1,ii=v.className||"",Si=v.descriptionClassName||"",Ce=rt.useMemo(()=>E.findIndex(Et=>Et.toastId===v.id)||0,[E,v.id]),xs=rt.useMemo(()=>{var Et;return(Et=v.closeButton)!=null?Et:F},[v.closeButton,F]),$a=rt.useMemo(()=>v.duration||$||hT,[v.duration,$]),Ys=rt.useRef(0),Ss=rt.useRef(0),Ec=rt.useRef(0),Rr=rt.useRef(null),[Co,Cp]=J.split("-"),Pc=rt.useMemo(()=>E.reduce((Et,qt,se)=>se>=Ce?Et:Et+qt.height,0),[E,Ce]),Cc=mz(),Tc=v.invert||m,To=Ke==="loading";Ss.current=rt.useMemo(()=>Ce*q+Pc,[Ce,Pc]),rt.useEffect(()=>{Cn.current=$a},[$a]),rt.useEffect(()=>{Rt(!0)},[]),rt.useEffect(()=>{let Et=Hn.current;if(Et){let qt=Et.getBoundingClientRect().height;return Pn(qt),P(se=>[{toastId:v.id,height:qt,position:v.position},...se]),()=>P(se=>se.filter($i=>$i.toastId!==v.id))}},[P,v.id]),rt.useLayoutEffect(()=>{if(!at)return;let Et=Hn.current,qt=Et.style.height;Et.style.height="auto";let se=Et.getBoundingClientRect().height;Et.style.height=qt,Pn(se),P($i=>$i.find(si=>si.toastId===v.id)?$i.map(si=>si.toastId===v.id?{...si,height:se}:si):[{toastId:v.id,height:se,position:v.position},...$i])},[at,v.title,v.description,P,v.id]);let Ui=rt.useCallback(()=>{Bt(!0),Ye(Ss.current),P(Et=>Et.filter(qt=>qt.toastId!==v.id)),setTimeout(()=>{T(v)},Lz)},[v,T,P,Ss]);rt.useEffect(()=>{if(v.promise&&Ke==="loading"||v.duration===1/0||v.type==="loading")return;let Et;return S||_||Q&&Cc?(()=>{if(Ec.current<Ys.current){let qt=new Date().getTime()-Ys.current;Cn.current=Cn.current-qt}Ec.current=new Date().getTime()})():Cn.current!==1/0&&(Ys.current=new Date().getTime(),Et=setTimeout(()=>{var qt;(qt=v.onAutoClose)==null||qt.call(v,v),Ui()},Cn.current)),()=>clearTimeout(Et)},[S,_,v,Ke,Q,Cc,Ui]),rt.useEffect(()=>{v.delete&&Ui()},[Ui,v.delete]);function Tp(){var Et,qt,se;return X!=null&&X.loading?rt.createElement("div",{className:tr(G==null?void 0:G.loader,(Et=v==null?void 0:v.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":Ke==="loading"},X.loading):Y?rt.createElement("div",{className:tr(G==null?void 0:G.loader,(qt=v==null?void 0:v.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":Ke==="loading"},Y):rt.createElement(uz,{className:tr(G==null?void 0:G.loader,(se=v==null?void 0:v.classNames)==null?void 0:se.loader),visible:Ke==="loading"})}return rt.createElement("li",{tabIndex:0,ref:Hn,className:tr(W,ii,G==null?void 0:G.toast,(t=v==null?void 0:v.classNames)==null?void 0:t.toast,G==null?void 0:G.default,G==null?void 0:G[Ke],(e=v==null?void 0:v.classNames)==null?void 0:e[Ke]),"data-sonner-toast":"","data-rich-colors":(i=v.richColors)!=null?i:N,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":at,"data-promise":!!v.promise,"data-swiped":Pt,"data-removed":Qt,"data-visible":Ua,"data-y-position":Co,"data-x-position":Cp,"data-index":A,"data-front":Ha,"data-swiping":mt,"data-dismissible":xi,"data-type":Ke,"data-invert":Tc,"data-swipe-out":_t,"data-swipe-direction":ut,"data-expanded":!!(S||U&&at),style:{"--index":A,"--toasts-before":A,"--z-index":y.length-A,"--offset":`${Qt?Ut:Ss.current}px`,"--initial-height":U?"auto":`${an}px`,...B,...v.style},onDragEnd:()=>{lt(!1),ot(null),Rr.current=null},onPointerDown:Et=>{To||!xi||(bi.current=new Date,Ye(Ss.current),Et.target.setPointerCapture(Et.pointerId),Et.target.tagName!=="BUTTON"&&(lt(!0),Rr.current={x:Et.clientX,y:Et.clientY}))},onPointerUp:()=>{var Et,qt,se,$i;if(_t||!xi)return;Rr.current=null;let si=Number(((Et=Hn.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nr=Number(((qt=Hn.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ko=new Date().getTime()-((se=bi.current)==null?void 0:se.getTime()),Wi=et==="x"?si:Nr,Ir=Math.abs(Wi)/ko;if(Math.abs(Wi)>=Mz||Ir>.11){Ye(Ss.current),($i=v.onDismiss)==null||$i.call(v,v),ht(et==="x"?si>0?"right":"left":Nr>0?"down":"up"),Ui(),xt(!0),Gt(!1);return}lt(!1),ot(null)},onPointerMove:Et=>{var qt,se,$i,si;if(!Rr.current||!xi||((qt=window.getSelection())==null?void 0:qt.toString().length)>0)return;let Nr=Et.clientY-Rr.current.y,ko=Et.clientX-Rr.current.x,Wi=(se=n.swipeDirections)!=null?se:Rz(J);!et&&(Math.abs(ko)>1||Math.abs(Nr)>1)&&ot(Math.abs(ko)>Math.abs(Nr)?"x":"y");let Ir={x:0,y:0};et==="y"?(Wi.includes("top")||Wi.includes("bottom"))&&(Wi.includes("top")&&Nr<0||Wi.includes("bottom")&&Nr>0)&&(Ir.y=Nr):et==="x"&&(Wi.includes("left")||Wi.includes("right"))&&(Wi.includes("left")&&ko<0||Wi.includes("right")&&ko>0)&&(Ir.x=ko),(Math.abs(Ir.x)>0||Math.abs(Ir.y)>0)&&Gt(!0),($i=Hn.current)==null||$i.style.setProperty("--swipe-amount-x",`${Ir.x}px`),(si=Hn.current)==null||si.style.setProperty("--swipe-amount-y",`${Ir.y}px`)}},xs&&!v.jsx?rt.createElement("button",{"aria-label":it,"data-disabled":To,"data-close-button":!0,onClick:To||!xi?()=>{}:()=>{var Et;Ui(),(Et=v.onDismiss)==null||Et.call(v,v)},className:tr(G==null?void 0:G.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},(r=X==null?void 0:X.close)!=null?r:gz):null,v.jsx||D.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:rt.createElement(rt.Fragment,null,Ke||v.icon||v.promise?rt.createElement("div",{"data-icon":"",className:tr(G==null?void 0:G.icon,(o=v==null?void 0:v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Tp():null,v.type!=="loading"?v.icon||(X==null?void 0:X[Ke])||lz(Ke):null):null,rt.createElement("div",{"data-content":"",className:tr(G==null?void 0:G.content,(c=v==null?void 0:v.classNames)==null?void 0:c.content)},rt.createElement("div",{"data-title":"",className:tr(G==null?void 0:G.title,(u=v==null?void 0:v.classNames)==null?void 0:u.title)},typeof v.title=="function"?v.title():v.title),v.description?rt.createElement("div",{"data-description":"",className:tr(K,Si,G==null?void 0:G.description,(d=v==null?void 0:v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),D.isValidElement(v.cancel)?v.cancel:v.cancel&&s0(v.cancel)?rt.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||j,onClick:Et=>{var qt,se;s0(v.cancel)&&xi&&((se=(qt=v.cancel).onClick)==null||se.call(qt,Et),Ui())},className:tr(G==null?void 0:G.cancelButton,(f=v==null?void 0:v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,D.isValidElement(v.action)?v.action:v.action&&s0(v.action)?rt.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||H,onClick:Et=>{var qt,se;s0(v.action)&&((se=(qt=v.action).onClick)==null||se.call(qt,Et),!Et.defaultPrevented&&Ui())},className:tr(G==null?void 0:G.actionButton,(p=v==null?void 0:v.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function dT(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Iz(n,t){let e={};return[n,t].forEach((i,s)=>{let r=s===1,o=r?"--mobile-offset":"--offset",c=r?Cz:Pz;function u(d){["top","right","bottom","left"].forEach(f=>{e[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?e[`${o}-${d}`]=c:e[`${o}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(c)}),e}var Dz=D.forwardRef(function(n,t){let{invert:e,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:o,className:c,offset:u,mobileOffset:d,theme:f="light",richColors:p,duration:m,style:v,visibleToasts:x=Ez,toastOptions:_,dir:P=dT(),gap:w=kz,loadingIcon:E,icons:A,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:S}=n,[T,N]=rt.useState([]),F=rt.useMemo(()=>Array.from(new Set([i].concat(T.filter(Q=>Q.position).map(Q=>Q.position)))),[T,i]),[B,j]=rt.useState([]),[H,W]=rt.useState(!1),[K,$]=rt.useState(!1),[J,q]=rt.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=rt.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=rt.useRef(null),X=rt.useRef(!1),it=rt.useCallback(Q=>{N(et=>{var ot;return(ot=et.find(ut=>ut.id===Q.id))!=null&&ot.delete||Ii.dismiss(Q.id),et.filter(({id:ut})=>ut!==Q.id)})},[]);return rt.useEffect(()=>Ii.subscribe(Q=>{if(Q.dismiss){N(et=>et.map(ot=>ot.id===Q.id?{...ot,delete:!0}:ot));return}setTimeout(()=>{XL.flushSync(()=>{N(et=>{let ot=et.findIndex(ut=>ut.id===Q.id);return ot!==-1?[...et.slice(0,ot),{...et[ot],...Q},...et.slice(ot+1)]:[Q,...et]})})})}),[]),rt.useEffect(()=>{if(f!=="system"){q(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:et})=>{q(et?"dark":"light")})}catch{Q.addListener(({matches:ot})=>{try{q(ot?"dark":"light")}catch(ut){console.error(ut)}})}},[f]),rt.useEffect(()=>{T.length<=1&&W(!1)},[T]),rt.useEffect(()=>{let Q=et=>{var ot,ut;s.every(ht=>et[ht]||et.code===ht)&&(W(!0),(ot=Y.current)==null||ot.focus()),et.code==="Escape"&&(document.activeElement===Y.current||(ut=Y.current)!=null&&ut.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),rt.useEffect(()=>{if(Y.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,X.current=!1)}},[Y.current]),rt.createElement("section",{ref:t,"aria-label":`${y} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((Q,et)=>{var ot;let[ut,ht]=Q.split("-");return T.length?rt.createElement("ol",{key:Q,dir:P==="auto"?dT():P,tabIndex:-1,ref:Y,className:c,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":ut,"data-lifted":H&&T.length>1&&!r,"data-x-position":ht,style:{"--front-toast-height":`${((ot=B[0])==null?void 0:ot.height)||0}px`,"--width":`${Tz}px`,"--gap":`${w}px`,...v,...Iz(u,d)},onBlur:at=>{X.current&&!at.currentTarget.contains(at.relatedTarget)&&(X.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:at=>{at.target instanceof HTMLElement&&at.target.dataset.dismissible==="false"||X.current||(X.current=!0,G.current=at.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{K||W(!1)},onDragEnd:()=>W(!1),onPointerDown:at=>{at.target instanceof HTMLElement&&at.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},T.filter(at=>!at.position&&et===0||at.position===Q).map((at,Rt)=>{var Qt,Bt;return rt.createElement(Nz,{key:at.id,icons:A,index:Rt,toast:at,defaultRichColors:p,duration:(Qt=_==null?void 0:_.duration)!=null?Qt:m,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:e,visibleToasts:x,closeButton:(Bt=_==null?void 0:_.closeButton)!=null?Bt:o,interacting:K,position:Q,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:it,toasts:T.filter(mt=>mt.position==at.position),heights:B.filter(mt=>mt.position==at.position),setHeights:j,expandByDefault:r,gap:w,loadingIcon:E,expanded:H,pauseWhenPageIsHidden:S,swipeDirections:n.swipeDirections})})):null}))});const Oz=({...n})=>{const{theme:t="system"}=az();return M.jsx(Dz,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},Fz=["top","right","bottom","left"],mc=Math.min,ds=Math.max,D_=Math.round,r0=Math.floor,So=n=>({x:n,y:n}),Bz={left:"right",right:"left",bottom:"top",top:"bottom"},jz={start:"end",end:"start"};function m1(n,t,e){return ds(n,mc(t,e))}function Ia(n,t){return typeof n=="function"?n(t):n}function Da(n){return n.split("-")[0]}function Sp(n){return n.split("-")[1]}function rE(n){return n==="x"?"y":"x"}function oE(n){return n==="y"?"height":"width"}const zz=new Set(["top","bottom"]);function wo(n){return zz.has(Da(n))?"y":"x"}function aE(n){return rE(wo(n))}function Hz(n,t,e){e===void 0&&(e=!1);const i=Sp(n),s=aE(n),r=oE(s);let o=s==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=O_(o)),[o,O_(o)]}function Uz(n){const t=O_(n);return[v1(n),t,v1(t)]}function v1(n){return n.replace(/start|end/g,t=>jz[t])}const fT=["left","right"],pT=["right","left"],$z=["top","bottom"],Wz=["bottom","top"];function Vz(n,t,e){switch(n){case"top":case"bottom":return e?t?pT:fT:t?fT:pT;case"left":case"right":return t?$z:Wz;default:return[]}}function Gz(n,t,e,i){const s=Sp(n);let r=Vz(Da(n),e==="start",i);return s&&(r=r.map(o=>o+"-"+s),t&&(r=r.concat(r.map(v1)))),r}function O_(n){return n.replace(/left|right|bottom|top/g,t=>Bz[t])}function qz(n){return{top:0,right:0,bottom:0,left:0,...n}}function z2(n){return typeof n!="number"?qz(n):{top:n,right:n,bottom:n,left:n}}function F_(n){const{x:t,y:e,width:i,height:s}=n;return{width:i,height:s,top:e,left:t,right:t+i,bottom:e+s,x:t,y:e}}function gT(n,t,e){let{reference:i,floating:s}=n;const r=wo(t),o=aE(t),c=oE(o),u=Da(t),d=r==="y",f=i.x+i.width/2-s.width/2,p=i.y+i.height/2-s.height/2,m=i[c]/2-s[c]/2;let v;switch(u){case"top":v={x:f,y:i.y-s.height};break;case"bottom":v={x:f,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:p};break;case"left":v={x:i.x-s.width,y:p};break;default:v={x:i.x,y:i.y}}switch(Sp(t)){case"start":v[o]-=m*(e&&d?-1:1);break;case"end":v[o]+=m*(e&&d?-1:1);break}return v}const Zz=async(n,t,e)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:o}=e,c=r.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:n,floating:t,strategy:s}),{x:f,y:p}=gT(d,i,u),m=i,v={},x=0;for(let _=0;_<c.length;_++){const{name:P,fn:w}=c[_],{x:E,y:A,data:y,reset:S}=await w({x:f,y:p,initialPlacement:i,placement:m,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:n,floating:t}});f=E??f,p=A??p,v={...v,[P]:{...v[P],...y}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:n,floating:t,strategy:s}):S.rects),{x:f,y:p}=gT(d,m,u)),_=-1)}return{x:f,y:p,placement:m,strategy:s,middlewareData:v}};async function nm(n,t){var e;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:o,elements:c,strategy:u}=n,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:v=0}=Ia(t,n),x=z2(v),P=c[m?p==="floating"?"reference":"floating":p],w=F_(await r.getClippingRect({element:(e=await(r.isElement==null?void 0:r.isElement(P)))==null||e?P:P.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),E=p==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),y=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},S=F_(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:A,strategy:u}):E);return{top:(w.top-S.top+x.top)/y.y,bottom:(S.bottom-w.bottom+x.bottom)/y.y,left:(w.left-S.left+x.left)/y.x,right:(S.right-w.right+x.right)/y.x}}const Xz=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:s,rects:r,platform:o,elements:c,middlewareData:u}=t,{element:d,padding:f=0}=Ia(n,t)||{};if(d==null)return{};const p=z2(f),m={x:e,y:i},v=aE(s),x=oE(v),_=await o.getDimensions(d),P=v==="y",w=P?"top":"left",E=P?"bottom":"right",A=P?"clientHeight":"clientWidth",y=r.reference[x]+r.reference[v]-m[v]-r.floating[x],S=m[v]-r.reference[v],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=T?T[A]:0;(!N||!await(o.isElement==null?void 0:o.isElement(T)))&&(N=c.floating[A]||r.floating[x]);const F=y/2-S/2,B=N/2-_[x]/2-1,j=mc(p[w],B),H=mc(p[E],B),W=j,K=N-_[x]-H,$=N/2-_[x]/2+F,J=m1(W,$,K),q=!u.arrow&&Sp(s)!=null&&$!==J&&r.reference[x]/2-($<W?j:H)-_[x]/2<0,Y=q?$<W?$-W:$-K:0;return{[v]:m[v]+Y,data:{[v]:J,centerOffset:$-J-Y,...q&&{alignmentOffset:Y}},reset:q}}}),Yz=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:s,middlewareData:r,rects:o,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...P}=Ia(n,t);if((e=r.arrow)!=null&&e.alignmentOffset)return{};const w=Da(s),E=wo(c),A=Da(c)===c,y=await(u.isRTL==null?void 0:u.isRTL(d.floating)),S=m||(A||!_?[O_(c)]:Uz(c)),T=x!=="none";!m&&T&&S.push(...Gz(c,_,x,y));const N=[c,...S],F=await nm(t,P),B=[];let j=((i=r.flip)==null?void 0:i.overflows)||[];if(f&&B.push(F[w]),p){const $=Hz(s,o,y);B.push(F[$[0]],F[$[1]])}if(j=[...j,{placement:s,overflows:B}],!B.every($=>$<=0)){var H,W;const $=(((H=r.flip)==null?void 0:H.index)||0)+1,J=N[$];if(J&&(!(p==="alignment"?E!==wo(J):!1)||j.every(U=>U.overflows[0]>0&&wo(U.placement)===E)))return{data:{index:$,overflows:j},reset:{placement:J}};let q=(W=j.filter(Y=>Y.overflows[0]<=0).sort((Y,U)=>Y.overflows[1]-U.overflows[1])[0])==null?void 0:W.placement;if(!q)switch(v){case"bestFit":{var K;const Y=(K=j.filter(U=>{if(T){const G=wo(U.placement);return G===E||G==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(G=>G>0).reduce((G,X)=>G+X,0)]).sort((U,G)=>U[1]-G[1])[0])==null?void 0:K[0];Y&&(q=Y);break}case"initialPlacement":q=c;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function mT(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function vT(n){return Fz.some(t=>n[t]>=0)}const Kz=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:i="referenceHidden",...s}=Ia(n,t);switch(i){case"referenceHidden":{const r=await nm(t,{...s,elementContext:"reference"}),o=mT(r,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vT(o)}}}case"escaped":{const r=await nm(t,{...s,altBoundary:!0}),o=mT(r,e.floating);return{data:{escapedOffsets:o,escaped:vT(o)}}}default:return{}}}}},H2=new Set(["left","top"]);async function Qz(n,t){const{placement:e,platform:i,elements:s}=n,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=Da(e),c=Sp(e),u=wo(e)==="y",d=H2.has(o)?-1:1,f=r&&u?-1:1,p=Ia(t,n);let{mainAxis:m,crossAxis:v,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof x=="number"&&(v=c==="end"?x*-1:x),u?{x:v*f,y:m*d}:{x:m*d,y:v*f}}const Jz=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:s,y:r,placement:o,middlewareData:c}=t,u=await Qz(t,n);return o===((e=c.offset)==null?void 0:e.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:r+u.y,data:{...u,placement:o}}}}},t4=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:o=!1,limiter:c={fn:P=>{let{x:w,y:E}=P;return{x:w,y:E}}},...u}=Ia(n,t),d={x:e,y:i},f=await nm(t,u),p=wo(Da(s)),m=rE(p);let v=d[m],x=d[p];if(r){const P=m==="y"?"top":"left",w=m==="y"?"bottom":"right",E=v+f[P],A=v-f[w];v=m1(E,v,A)}if(o){const P=p==="y"?"top":"left",w=p==="y"?"bottom":"right",E=x+f[P],A=x-f[w];x=m1(E,x,A)}const _=c.fn({...t,[m]:v,[p]:x});return{..._,data:{x:_.x-e,y:_.y-i,enabled:{[m]:r,[p]:o}}}}}},e4=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:i,placement:s,rects:r,middlewareData:o}=t,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=Ia(n,t),f={x:e,y:i},p=wo(s),m=rE(p);let v=f[m],x=f[p];const _=Ia(c,t),P=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const A=m==="y"?"height":"width",y=r.reference[m]-r.floating[A]+P.mainAxis,S=r.reference[m]+r.reference[A]-P.mainAxis;v<y?v=y:v>S&&(v=S)}if(d){var w,E;const A=m==="y"?"width":"height",y=H2.has(Da(s)),S=r.reference[p]-r.floating[A]+(y&&((w=o.offset)==null?void 0:w[p])||0)+(y?0:P.crossAxis),T=r.reference[p]+r.reference[A]+(y?0:((E=o.offset)==null?void 0:E[p])||0)-(y?P.crossAxis:0);x<S?x=S:x>T&&(x=T)}return{[m]:v,[p]:x}}}},n4=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:s,rects:r,platform:o,elements:c}=t,{apply:u=()=>{},...d}=Ia(n,t),f=await nm(t,d),p=Da(s),m=Sp(s),v=wo(s)==="y",{width:x,height:_}=r.floating;let P,w;p==="top"||p==="bottom"?(P=p,w=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(w=p,P=m==="end"?"top":"bottom");const E=_-f.top-f.bottom,A=x-f.left-f.right,y=mc(_-f[P],E),S=mc(x-f[w],A),T=!t.middlewareData.shift;let N=y,F=S;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(F=A),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(N=E),T&&!m){const j=ds(f.left,0),H=ds(f.right,0),W=ds(f.top,0),K=ds(f.bottom,0);v?F=x-2*(j!==0||H!==0?j+H:ds(f.left,f.right)):N=_-2*(W!==0||K!==0?W+K:ds(f.top,f.bottom))}await u({...t,availableWidth:F,availableHeight:N});const B=await o.getDimensions(c.floating);return x!==B.width||_!==B.height?{reset:{rects:!0}}:{}}}};function jw(){return typeof window<"u"}function Ap(n){return U2(n)?(n.nodeName||"").toLowerCase():"#document"}function ms(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Po(n){var t;return(t=(U2(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function U2(n){return jw()?n instanceof Node||n instanceof ms(n).Node:!1}function Tr(n){return jw()?n instanceof Element||n instanceof ms(n).Element:!1}function Ao(n){return jw()?n instanceof HTMLElement||n instanceof ms(n).HTMLElement:!1}function yT(n){return!jw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ms(n).ShadowRoot}const i4=new Set(["inline","contents"]);function ay(n){const{overflow:t,overflowX:e,overflowY:i,display:s}=kr(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!i4.has(s)}const s4=new Set(["table","td","th"]);function r4(n){return s4.has(Ap(n))}const o4=[":popover-open",":modal"];function zw(n){return o4.some(t=>{try{return n.matches(t)}catch{return!1}})}const a4=["transform","translate","scale","rotate","perspective"],l4=["transform","translate","scale","rotate","perspective","filter"],c4=["paint","layout","strict","content"];function lE(n){const t=cE(),e=Tr(n)?kr(n):n;return a4.some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||l4.some(i=>(e.willChange||"").includes(i))||c4.some(i=>(e.contain||"").includes(i))}function u4(n){let t=vc(n);for(;Ao(t)&&!dp(t);){if(lE(t))return t;if(zw(t))return null;t=vc(t)}return null}function cE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const h4=new Set(["html","body","#document"]);function dp(n){return h4.has(Ap(n))}function kr(n){return ms(n).getComputedStyle(n)}function Hw(n){return Tr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function vc(n){if(Ap(n)==="html")return n;const t=n.assignedSlot||n.parentNode||yT(n)&&n.host||Po(n);return yT(t)?t.host:t}function $2(n){const t=vc(n);return dp(t)?n.ownerDocument?n.ownerDocument.body:n.body:Ao(t)&&ay(t)?t:$2(t)}function im(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=$2(n),r=s===((i=n.ownerDocument)==null?void 0:i.body),o=ms(s);if(r){const c=y1(o);return t.concat(o,o.visualViewport||[],ay(s)?s:[],c&&e?im(c):[])}return t.concat(s,im(s,[],e))}function y1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function W2(n){const t=kr(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Ao(n),r=s?n.offsetWidth:e,o=s?n.offsetHeight:i,c=D_(e)!==r||D_(i)!==o;return c&&(e=r,i=o),{width:e,height:i,$:c}}function uE(n){return Tr(n)?n:n.contextElement}function wd(n){const t=uE(n);if(!Ao(t))return So(1);const e=t.getBoundingClientRect(),{width:i,height:s,$:r}=W2(t);let o=(r?D_(e.width):e.width)/i,c=(r?D_(e.height):e.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const d4=So(0);function V2(n){const t=ms(n);return!cE()||!t.visualViewport?d4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function f4(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==ms(n)?!1:t}function yh(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=n.getBoundingClientRect(),r=uE(n);let o=So(1);t&&(i?Tr(i)&&(o=wd(i)):o=wd(n));const c=f4(r,e,i)?V2(r):So(0);let u=(s.left+c.x)/o.x,d=(s.top+c.y)/o.y,f=s.width/o.x,p=s.height/o.y;if(r){const m=ms(r),v=i&&Tr(i)?ms(i):i;let x=m,_=y1(x);for(;_&&i&&v!==x;){const P=wd(_),w=_.getBoundingClientRect(),E=kr(_),A=w.left+(_.clientLeft+parseFloat(E.paddingLeft))*P.x,y=w.top+(_.clientTop+parseFloat(E.paddingTop))*P.y;u*=P.x,d*=P.y,f*=P.x,p*=P.y,u+=A,d+=y,x=ms(_),_=y1(x)}}return F_({width:f,height:p,x:u,y:d})}function hE(n,t){const e=Hw(n).scrollLeft;return t?t.left+e:yh(Po(n)).left+e}function G2(n,t,e){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=i.left+t.scrollLeft-(e?0:hE(n,i)),r=i.top+t.scrollTop;return{x:s,y:r}}function p4(n){let{elements:t,rect:e,offsetParent:i,strategy:s}=n;const r=s==="fixed",o=Po(i),c=t?zw(t.floating):!1;if(i===o||c&&r)return e;let u={scrollLeft:0,scrollTop:0},d=So(1);const f=So(0),p=Ao(i);if((p||!p&&!r)&&((Ap(i)!=="body"||ay(o))&&(u=Hw(i)),Ao(i))){const v=yh(i);d=wd(i),f.x=v.x+i.clientLeft,f.y=v.y+i.clientTop}const m=o&&!p&&!r?G2(o,u,!0):So(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:e.y*d.y-u.scrollTop*d.y+f.y+m.y}}function g4(n){return Array.from(n.getClientRects())}function m4(n){const t=Po(n),e=Hw(n),i=n.ownerDocument.body,s=ds(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=ds(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-e.scrollLeft+hE(n);const c=-e.scrollTop;return kr(i).direction==="rtl"&&(o+=ds(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:o,y:c}}function v4(n,t){const e=ms(n),i=Po(n),s=e.visualViewport;let r=i.clientWidth,o=i.clientHeight,c=0,u=0;if(s){r=s.width,o=s.height;const d=cE();(!d||d&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:r,height:o,x:c,y:u}}const y4=new Set(["absolute","fixed"]);function _4(n,t){const e=yh(n,!0,t==="fixed"),i=e.top+n.clientTop,s=e.left+n.clientLeft,r=Ao(n)?wd(n):So(1),o=n.clientWidth*r.x,c=n.clientHeight*r.y,u=s*r.x,d=i*r.y;return{width:o,height:c,x:u,y:d}}function _T(n,t,e){let i;if(t==="viewport")i=v4(n,e);else if(t==="document")i=m4(Po(n));else if(Tr(t))i=_4(t,e);else{const s=V2(n);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return F_(i)}function q2(n,t){const e=vc(n);return e===t||!Tr(e)||dp(e)?!1:kr(e).position==="fixed"||q2(e,t)}function w4(n,t){const e=t.get(n);if(e)return e;let i=im(n,[],!1).filter(c=>Tr(c)&&Ap(c)!=="body"),s=null;const r=kr(n).position==="fixed";let o=r?vc(n):n;for(;Tr(o)&&!dp(o);){const c=kr(o),u=lE(o);!u&&c.position==="fixed"&&(s=null),(r?!u&&!s:!u&&c.position==="static"&&!!s&&y4.has(s.position)||ay(o)&&!u&&q2(n,o))?i=i.filter(f=>f!==o):s=c,o=vc(o)}return t.set(n,i),i}function b4(n){let{element:t,boundary:e,rootBoundary:i,strategy:s}=n;const o=[...e==="clippingAncestors"?zw(t)?[]:w4(t,this._c):[].concat(e),i],c=o[0],u=o.reduce((d,f)=>{const p=_T(t,f,s);return d.top=ds(p.top,d.top),d.right=mc(p.right,d.right),d.bottom=mc(p.bottom,d.bottom),d.left=ds(p.left,d.left),d},_T(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function x4(n){const{width:t,height:e}=W2(n);return{width:t,height:e}}function S4(n,t,e){const i=Ao(t),s=Po(t),r=e==="fixed",o=yh(n,!0,r,t);let c={scrollLeft:0,scrollTop:0};const u=So(0);function d(){u.x=hE(s)}if(i||!i&&!r)if((Ap(t)!=="body"||ay(s))&&(c=Hw(t)),i){const v=yh(t,!0,r,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else s&&d();r&&!i&&s&&d();const f=s&&!i&&!r?G2(s,c):So(0),p=o.left+c.scrollLeft-u.x-f.x,m=o.top+c.scrollTop-u.y-f.y;return{x:p,y:m,width:o.width,height:o.height}}function ox(n){return kr(n).position==="static"}function wT(n,t){if(!Ao(n)||kr(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Po(n)===e&&(e=e.ownerDocument.body),e}function Z2(n,t){const e=ms(n);if(zw(n))return e;if(!Ao(n)){let s=vc(n);for(;s&&!dp(s);){if(Tr(s)&&!ox(s))return s;s=vc(s)}return e}let i=wT(n,t);for(;i&&r4(i)&&ox(i);)i=wT(i,t);return i&&dp(i)&&ox(i)&&!lE(i)?e:i||u4(n)||e}const A4=async function(n){const t=this.getOffsetParent||Z2,e=this.getDimensions,i=await e(n.floating);return{reference:S4(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function E4(n){return kr(n).direction==="rtl"}const P4={convertOffsetParentRelativeRectToViewportRelativeRect:p4,getDocumentElement:Po,getClippingRect:b4,getOffsetParent:Z2,getElementRects:A4,getClientRects:g4,getDimensions:x4,getScale:wd,isElement:Tr,isRTL:E4};function X2(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function C4(n,t){let e=null,i;const s=Po(n);function r(){var c;clearTimeout(i),(c=e)==null||c.disconnect(),e=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),r();const d=n.getBoundingClientRect(),{left:f,top:p,width:m,height:v}=d;if(c||t(),!m||!v)return;const x=r0(p),_=r0(s.clientWidth-(f+m)),P=r0(s.clientHeight-(p+v)),w=r0(f),A={rootMargin:-x+"px "+-_+"px "+-P+"px "+-w+"px",threshold:ds(0,mc(1,u))||1};let y=!0;function S(T){const N=T[0].intersectionRatio;if(N!==u){if(!y)return o();N?o(!1,N):i=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!X2(d,n.getBoundingClientRect())&&o(),y=!1}try{e=new IntersectionObserver(S,{...A,root:s.ownerDocument})}catch{e=new IntersectionObserver(S,A)}e.observe(n)}return o(!0),r}function T4(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=uE(n),f=s||r?[...d?im(d):[],...im(t)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",e,{passive:!0}),r&&w.addEventListener("resize",e)});const p=d&&c?C4(d,e):null;let m=-1,v=null;o&&(v=new ResizeObserver(w=>{let[E]=w;E&&E.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(t)})),e()}),d&&!u&&v.observe(d),v.observe(t));let x,_=u?yh(n):null;u&&P();function P(){const w=yh(n);_&&!X2(_,w)&&e(),_=w,x=requestAnimationFrame(P)}return e(),()=>{var w;f.forEach(E=>{s&&E.removeEventListener("scroll",e),r&&E.removeEventListener("resize",e)}),p==null||p(),(w=v)==null||w.disconnect(),v=null,u&&cancelAnimationFrame(x)}}const k4=Jz,M4=t4,L4=Yz,R4=n4,N4=Kz,bT=Xz,I4=e4,D4=(n,t,e)=>{const i=new Map,s={platform:P4,...e},r={...s.platform,_c:i};return Zz(n,t,{...s,platform:r})};var O4=typeof document<"u",F4=function(){},L0=O4?D.useLayoutEffect:F4;function B_(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,i,s;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(i=e;i--!==0;)if(!B_(n[i],t[i]))return!1;return!0}if(s=Object.keys(n),e=s.length,e!==Object.keys(t).length)return!1;for(i=e;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=e;i--!==0;){const r=s[i];if(!(r==="_owner"&&n.$$typeof)&&!B_(n[r],t[r]))return!1}return!0}return n!==n&&t!==t}function Y2(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function xT(n,t){const e=Y2(n);return Math.round(t*e)/e}function ax(n){const t=D.useRef(n);return L0(()=>{t.current=n}),t}function B4(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:o}={},transform:c=!0,whileElementsMounted:u,open:d}=n,[f,p]=D.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=D.useState(i);B_(m,i)||v(i);const[x,_]=D.useState(null),[P,w]=D.useState(null),E=D.useCallback(U=>{U!==T.current&&(T.current=U,_(U))},[]),A=D.useCallback(U=>{U!==N.current&&(N.current=U,w(U))},[]),y=r||x,S=o||P,T=D.useRef(null),N=D.useRef(null),F=D.useRef(f),B=u!=null,j=ax(u),H=ax(s),W=ax(d),K=D.useCallback(()=>{if(!T.current||!N.current)return;const U={placement:t,strategy:e,middleware:m};H.current&&(U.platform=H.current),D4(T.current,N.current,U).then(G=>{const X={...G,isPositioned:W.current!==!1};$.current&&!B_(F.current,X)&&(F.current=X,wp.flushSync(()=>{p(X)}))})},[m,t,e,H,W]);L0(()=>{d===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[d]);const $=D.useRef(!1);L0(()=>($.current=!0,()=>{$.current=!1}),[]),L0(()=>{if(y&&(T.current=y),S&&(N.current=S),y&&S){if(j.current)return j.current(y,S,K);K()}},[y,S,K,j,B]);const J=D.useMemo(()=>({reference:T,floating:N,setReference:E,setFloating:A}),[E,A]),q=D.useMemo(()=>({reference:y,floating:S}),[y,S]),Y=D.useMemo(()=>{const U={position:e,left:0,top:0};if(!q.floating)return U;const G=xT(q.floating,f.x),X=xT(q.floating,f.y);return c?{...U,transform:"translate("+G+"px, "+X+"px)",...Y2(q.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:G,top:X}},[e,c,q.floating,f.x,f.y]);return D.useMemo(()=>({...f,update:K,refs:J,elements:q,floatingStyles:Y}),[f,K,J,q,Y])}const j4=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:i,padding:s}=typeof n=="function"?n(e):n;return i&&t(i)?i.current!=null?bT({element:i.current,padding:s}).fn(e):{}:i?bT({element:i,padding:s}).fn(e):{}}}},z4=(n,t)=>({...k4(n),options:[n,t]}),H4=(n,t)=>({...M4(n),options:[n,t]}),U4=(n,t)=>({...I4(n),options:[n,t]}),$4=(n,t)=>({...L4(n),options:[n,t]}),W4=(n,t)=>({...R4(n),options:[n,t]}),V4=(n,t)=>({...N4(n),options:[n,t]}),G4=(n,t)=>({...j4(n),options:[n,t]});var q4="Arrow",K2=D.forwardRef((n,t)=>{const{children:e,width:i=10,height:s=5,...r}=n;return M.jsx(wi.svg,{...r,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:M.jsx("polygon",{points:"0,0 30,0 15,10"})})});K2.displayName=q4;var Z4=K2;function X4(n){const[t,e]=D.useState(void 0);return gc(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let o,c;if("borderBoxSize"in r){const u=r.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,c=d.blockSize}else o=n.offsetWidth,c=n.offsetHeight;e({width:o,height:c})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else e(void 0)},[n]),t}var Q2="Popper",[J2,tR]=Ow(Q2),[PV,eR]=J2(Q2),nR="PopperAnchor",iR=D.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:i,...s}=n,r=eR(nR,e),o=D.useRef(null),c=Cr(t,o);return D.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:M.jsx(wi.div,{...s,ref:c})});iR.displayName=nR;var dE="PopperContent",[Y4,K4]=J2(dE),sR=D.forwardRef((n,t)=>{var at,Rt,Qt,Bt,mt,lt;const{__scopePopper:e,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:x,..._}=n,P=eR(dE,e),[w,E]=D.useState(null),A=Cr(t,_t=>E(_t)),[y,S]=D.useState(null),T=X4(y),N=(T==null?void 0:T.width)??0,F=(T==null?void 0:T.height)??0,B=i+(r!=="center"?"-"+r:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(d)?d:[d],W=H.length>0,K={padding:j,boundary:H.filter(J4),altBoundary:W},{refs:$,floatingStyles:J,placement:q,isPositioned:Y,middlewareData:U}=B4({strategy:"fixed",placement:B,whileElementsMounted:(..._t)=>T4(..._t,{animationFrame:v==="always"}),elements:{reference:P.anchor},middleware:[z4({mainAxis:s+F,alignmentAxis:o}),u&&H4({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?U4():void 0,...K}),u&&$4({...K}),W4({...K,apply:({elements:_t,rects:xt,availableWidth:Pt,availableHeight:Gt})=>{const{width:Ut,height:Ye}=xt.reference,an=_t.floating.style;an.setProperty("--radix-popper-available-width",`${Pt}px`),an.setProperty("--radix-popper-available-height",`${Gt}px`),an.setProperty("--radix-popper-anchor-width",`${Ut}px`),an.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),y&&G4({element:y,padding:c}),t5({arrowWidth:N,arrowHeight:F}),m&&V4({strategy:"referenceHidden",...K})]}),[G,X]=aR(q),it=pc(x);gc(()=>{Y&&(it==null||it())},[Y,it]);const Q=(at=U.arrow)==null?void 0:at.x,et=(Rt=U.arrow)==null?void 0:Rt.y,ot=((Qt=U.arrow)==null?void 0:Qt.centerOffset)!==0,[ut,ht]=D.useState();return gc(()=>{w&&ht(window.getComputedStyle(w).zIndex)},[w]),M.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:Y?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[(Bt=U.transformOrigin)==null?void 0:Bt.x,(mt=U.transformOrigin)==null?void 0:mt.y].join(" "),...((lt=U.hide)==null?void 0:lt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:M.jsx(Y4,{scope:e,placedSide:G,onArrowChange:S,arrowX:Q,arrowY:et,shouldHideArrow:ot,children:M.jsx(wi.div,{"data-side":G,"data-align":X,..._,ref:A,style:{..._.style,animation:Y?void 0:"none"}})})})});sR.displayName=dE;var rR="PopperArrow",Q4={top:"bottom",right:"left",bottom:"top",left:"right"},oR=D.forwardRef(function(t,e){const{__scopePopper:i,...s}=t,r=K4(rR,i),o=Q4[r.placedSide];return M.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:M.jsx(Z4,{...s,ref:e,style:{...s.style,display:"block"}})})});oR.displayName=rR;function J4(n){return n!==null}var t5=n=>({name:"transformOrigin",options:n,fn(t){var P,w,E;const{placement:e,rects:i,middlewareData:s}=t,o=((P=s.arrow)==null?void 0:P.centerOffset)!==0,c=o?0:n.arrowWidth,u=o?0:n.arrowHeight,[d,f]=aR(e),p={start:"0%",center:"50%",end:"100%"}[f],m=(((w=s.arrow)==null?void 0:w.x)??0)+c/2,v=(((E=s.arrow)==null?void 0:E.y)??0)+u/2;let x="",_="";return d==="bottom"?(x=o?p:`${m}px`,_=`${-u}px`):d==="top"?(x=o?p:`${m}px`,_=`${i.floating.height+u}px`):d==="right"?(x=`${-u}px`,_=o?p:`${v}px`):d==="left"&&(x=`${i.floating.width+u}px`,_=o?p:`${v}px`),{data:{x,y:_}}}});function aR(n){const[t,e="center"]=n.split("-");return[t,e]}var e5=iR,n5=sR,i5=oR,[Uw,CV]=Ow("Tooltip",[tR]),fE=tR(),lR="TooltipProvider",s5=700,ST="tooltip.open",[r5,cR]=Uw(lR),uR=n=>{const{__scopeTooltip:t,delayDuration:e=s5,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=n,o=D.useRef(!0),c=D.useRef(!1),u=D.useRef(0);return D.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),M.jsx(r5,{scope:t,isOpenDelayedRef:o,delayDuration:e,onOpen:D.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:D.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:r})};uR.displayName=lR;var hR="Tooltip",[TV,$w]=Uw(hR),_1="TooltipTrigger",o5=D.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=$w(_1,e),r=cR(_1,e),o=fE(e),c=D.useRef(null),u=Cr(t,c,s.onTriggerChange),d=D.useRef(!1),f=D.useRef(!1),p=D.useCallback(()=>d.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),M.jsx(e5,{asChild:!0,...o,children:M.jsx(wi.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:u,onPointerMove:dn(n.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:dn(n.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:dn(n.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:dn(n.onFocus,()=>{d.current||s.onOpen()}),onBlur:dn(n.onBlur,s.onClose),onClick:dn(n.onClick,s.onClose)})})});o5.displayName=_1;var a5="TooltipPortal",[kV,l5]=Uw(a5,{forceMount:void 0}),fp="TooltipContent",dR=D.forwardRef((n,t)=>{const e=l5(fp,n.__scopeTooltip),{forceMount:i=e.forceMount,side:s="top",...r}=n,o=$w(fp,n.__scopeTooltip);return M.jsx(QA,{present:i||o.open,children:o.disableHoverableContent?M.jsx(fR,{side:s,...r,ref:t}):M.jsx(c5,{side:s,...r,ref:t})})}),c5=D.forwardRef((n,t)=>{const e=$w(fp,n.__scopeTooltip),i=cR(fp,n.__scopeTooltip),s=D.useRef(null),r=Cr(t,s),[o,c]=D.useState(null),{trigger:u,onClose:d}=e,f=s.current,{onPointerInTransitChange:p}=i,m=D.useCallback(()=>{c(null),p(!1)},[p]),v=D.useCallback((x,_)=>{const P=x.currentTarget,w={x:x.clientX,y:x.clientY},E=p5(w,P.getBoundingClientRect()),A=g5(w,E),y=m5(_.getBoundingClientRect()),S=y5([...A,...y]);c(S),p(!0)},[p]);return D.useEffect(()=>()=>m(),[m]),D.useEffect(()=>{if(u&&f){const x=P=>v(P,f),_=P=>v(P,u);return u.addEventListener("pointerleave",x),f.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",_)}}},[u,f,v,m]),D.useEffect(()=>{if(o){const x=_=>{const P=_.target,w={x:_.clientX,y:_.clientY},E=(u==null?void 0:u.contains(P))||(f==null?void 0:f.contains(P)),A=!v5(w,o);E?m():A&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,f,o,d,m]),M.jsx(fR,{...n,ref:r})}),[u5,h5]=Uw(hR,{isInside:!1}),d5=mj("TooltipContent"),fR=D.forwardRef((n,t)=>{const{__scopeTooltip:e,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:o,...c}=n,u=$w(fp,e),d=fE(e),{onClose:f}=u;return D.useEffect(()=>(document.addEventListener(ST,f),()=>document.removeEventListener(ST,f)),[f]),D.useEffect(()=>{if(u.trigger){const p=m=>{const v=m.target;v!=null&&v.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),M.jsx(KA,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:M.jsxs(n5,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[M.jsx(d5,{children:i}),M.jsx(u5,{scope:e,isInside:!0,children:M.jsx(Hj,{id:u.contentId,role:"tooltip",children:s||i})})]})})});dR.displayName=fp;var pR="TooltipArrow",f5=D.forwardRef((n,t)=>{const{__scopeTooltip:e,...i}=n,s=fE(e);return h5(pR,e).isInside?null:M.jsx(i5,{...s,...i,ref:t})});f5.displayName=pR;function p5(n,t){const e=Math.abs(t.top-n.y),i=Math.abs(t.bottom-n.y),s=Math.abs(t.right-n.x),r=Math.abs(t.left-n.x);switch(Math.min(e,i,s,r)){case r:return"left";case s:return"right";case e:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function g5(n,t,e=5){const i=[];switch(t){case"top":i.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":i.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":i.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":i.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return i}function m5(n){const{top:t,right:e,bottom:i,left:s}=n;return[{x:s,y:t},{x:e,y:t},{x:e,y:i},{x:s,y:i}]}function v5(n,t){const{x:e,y:i}=n;let s=!1;for(let r=0,o=t.length-1;r<t.length;o=r++){const c=t[r],u=t[o],d=c.x,f=c.y,p=u.x,m=u.y;f>i!=m>i&&e<(p-d)*(i-f)/(m-f)+d&&(s=!s)}return s}function y5(n){const t=n.slice();return t.sort((e,i)=>e.x<i.x?-1:e.x>i.x?1:e.y<i.y?-1:e.y>i.y?1:0),_5(t)}function _5(n){if(n.length<=1)return n.slice();const t=[];for(let i=0;i<n.length;i++){const s=n[i];for(;t.length>=2;){const r=t[t.length-1],o=t[t.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const e=[];for(let i=n.length-1;i>=0;i--){const s=n[i];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var w5=uR,gR=dR;const b5=w5,x5=D.forwardRef(({className:n,sideOffset:t=4,...e},i)=>M.jsx(gR,{ref:i,sideOffset:t,className:ei("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));x5.displayName=gR.displayName;var Ww=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vw=typeof window>"u"||"Deno"in globalThis;function sr(){}function S5(n,t){return typeof n=="function"?n(t):n}function A5(n){return typeof n=="number"&&n>=0&&n!==1/0}function E5(n,t){return Math.max(n+(t||0)-Date.now(),0)}function w1(n,t){return typeof n=="function"?n(t):n}function P5(n,t){return typeof n=="function"?n(t):n}function AT(n,t){const{type:e="all",exact:i,fetchStatus:s,predicate:r,queryKey:o,stale:c}=n;if(o){if(i){if(t.queryHash!==pE(o,t.options))return!1}else if(!rm(t.queryKey,o))return!1}if(e!=="all"){const u=t.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||r&&!r(t))}function ET(n,t){const{exact:e,status:i,predicate:s,mutationKey:r}=n;if(r){if(!t.options.mutationKey)return!1;if(e){if(sm(t.options.mutationKey)!==sm(r))return!1}else if(!rm(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function pE(n,t){return((t==null?void 0:t.queryKeyHashFn)||sm)(n)}function sm(n){return JSON.stringify(n,(t,e)=>b1(e)?Object.keys(e).sort().reduce((i,s)=>(i[s]=e[s],i),{}):e)}function rm(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>rm(n[e],t[e])):!1}function mR(n,t){if(n===t)return n;const e=PT(n)&&PT(t);if(e||b1(n)&&b1(t)){const i=e?n:Object.keys(n),s=i.length,r=e?t:Object.keys(t),o=r.length,c=e?[]:{},u=new Set(i);let d=0;for(let f=0;f<o;f++){const p=e?f:r[f];(!e&&u.has(p)||e)&&n[p]===void 0&&t[p]===void 0?(c[p]=void 0,d++):(c[p]=mR(n[p],t[p]),c[p]===n[p]&&n[p]!==void 0&&d++)}return s===o&&d===s?n:c}return t}function PT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function b1(n){if(!CT(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!CT(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function CT(n){return Object.prototype.toString.call(n)==="[object Object]"}function C5(n){return new Promise(t=>{setTimeout(t,n)})}function T5(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?mR(n,t):t}function k5(n,t,e=0){const i=[...n,t];return e&&i.length>e?i.slice(1):i}function M5(n,t,e=0){const i=[t,...n];return e&&i.length>e?i.slice(0,-1):i}var gE=Symbol();function vR(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===gE?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var qc,el,Ad,Ek,L5=(Ek=class extends Ww{constructor(){super();R(this,qc);R(this,el);R(this,Ad);C(this,Ad,t=>{if(!Vw&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){l(this,el)||this.setEventListener(l(this,Ad))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,el))==null||t.call(this),C(this,el,void 0))}setEventListener(t){var e;C(this,Ad,t),(e=l(this,el))==null||e.call(this),C(this,el,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){l(this,qc)!==t&&(C(this,qc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof l(this,qc)=="boolean"?l(this,qc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qc=new WeakMap,el=new WeakMap,Ad=new WeakMap,Ek),yR=new L5,Ed,nl,Pd,Pk,R5=(Pk=class extends Ww{constructor(){super();R(this,Ed,!0);R(this,nl);R(this,Pd);C(this,Pd,t=>{if(!Vw&&window.addEventListener){const e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}})}onSubscribe(){l(this,nl)||this.setEventListener(l(this,Pd))}onUnsubscribe(){var t;this.hasListeners()||((t=l(this,nl))==null||t.call(this),C(this,nl,void 0))}setEventListener(t){var e;C(this,Pd,t),(e=l(this,nl))==null||e.call(this),C(this,nl,t(this.setOnline.bind(this)))}setOnline(t){l(this,Ed)!==t&&(C(this,Ed,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return l(this,Ed)}},Ed=new WeakMap,nl=new WeakMap,Pd=new WeakMap,Pk),j_=new R5;function N5(){let n,t;const e=new Promise((s,r)=>{n=s,t=r});e.status="pending",e.catch(()=>{});function i(s){Object.assign(e,s),delete e.resolve,delete e.reject}return e.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},e.reject=s=>{i({status:"rejected",reason:s}),t(s)},e}function I5(n){return Math.min(1e3*2**n,3e4)}function _R(n){return(n??"online")==="online"?j_.isOnline():!0}var wR=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function lx(n){return n instanceof wR}function bR(n){let t=!1,e=0,i=!1,s;const r=N5(),o=_=>{var P;i||(m(new wR(_)),(P=n.abort)==null||P.call(n))},c=()=>{t=!0},u=()=>{t=!1},d=()=>yR.isFocused()&&(n.networkMode==="always"||j_.isOnline())&&n.canRun(),f=()=>_R(n.networkMode)&&n.canRun(),p=_=>{var P;i||(i=!0,(P=n.onSuccess)==null||P.call(n,_),s==null||s(),r.resolve(_))},m=_=>{var P;i||(i=!0,(P=n.onError)==null||P.call(n,_),s==null||s(),r.reject(_))},v=()=>new Promise(_=>{var P;s=w=>{(i||d())&&_(w)},(P=n.onPause)==null||P.call(n)}).then(()=>{var _;s=void 0,i||(_=n.onContinue)==null||_.call(n)}),x=()=>{if(i)return;let _;const P=e===0?n.initialPromise:void 0;try{_=P??n.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(p).catch(w=>{var T;if(i)return;const E=n.retry??(Vw?0:3),A=n.retryDelay??I5,y=typeof A=="function"?A(e,w):A,S=E===!0||typeof E=="number"&&e<E||typeof E=="function"&&E(e,w);if(t||!S){m(w);return}e++,(T=n.onFail)==null||T.call(n,e,w),C5(y).then(()=>d()?void 0:v()).then(()=>{t?m(w):x()})})};return{promise:r,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?x():v().then(x),r)}}var D5=n=>setTimeout(n,0);function O5(){let n=[],t=0,e=c=>{c()},i=c=>{c()},s=D5;const r=c=>{t?n.push(c):s(()=>{e(c)})},o=()=>{const c=n;n=[],c.length&&s(()=>{i(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||o()}return u},batchCalls:c=>(...u)=>{r(()=>{c(...u)})},schedule:r,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var pi=O5(),Zc,Ck,xR=(Ck=class{constructor(){R(this,Zc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),A5(this.gcTime)&&C(this,Zc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Vw?1/0:5*60*1e3))}clearGcTimeout(){l(this,Zc)&&(clearTimeout(l(this,Zc)),C(this,Zc,void 0))}},Zc=new WeakMap,Ck),Cd,Xc,ks,Yc,Vn,_m,Kc,rr,Do,Tk,F5=(Tk=class extends xR{constructor(t){super();R(this,rr);R(this,Cd);R(this,Xc);R(this,ks);R(this,Yc);R(this,Vn);R(this,_m);R(this,Kc);C(this,Kc,!1),C(this,_m,t.defaultOptions),this.setOptions(t.options),this.observers=[],C(this,Yc,t.client),C(this,ks,l(this,Yc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,C(this,Cd,j5(this.options)),this.state=t.state??l(this,Cd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=l(this,Vn))==null?void 0:t.promise}setOptions(t){this.options={...l(this,_m),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,ks).remove(this)}setData(t,e){const i=T5(this.state.data,t,this.options);return I(this,rr,Do).call(this,{data:i,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),i}setState(t,e){I(this,rr,Do).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var i,s;const e=(i=l(this,Vn))==null?void 0:i.promise;return(s=l(this,Vn))==null||s.cancel(t),e?e.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,Cd))}isActive(){return this.observers.some(t=>P5(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>w1(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!E5(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=l(this,Vn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=l(this,Vn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),l(this,ks).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(l(this,Vn)&&(l(this,Kc)?l(this,Vn).cancel({revert:!0}):l(this,Vn).cancelRetry()),this.scheduleGc()),l(this,ks).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||I(this,rr,Do).call(this,{type:"invalidate"})}fetch(t,e){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(l(this,Vn))return l(this,Vn).continueRetry(),l(this,Vn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(C(this,Kc,!0),i.signal)})},r=()=>{const m=vR(this.options,e),x=(()=>{const _={client:l(this,Yc),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return C(this,Kc,!1),this.options.persister?this.options.persister(m,x,this):m(x)},c=(()=>{const m={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:l(this,Yc),state:this.state,fetchFn:r};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),C(this,Xc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&I(this,rr,Do).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=m=>{var v,x,_,P;lx(m)&&m.silent||I(this,rr,Do).call(this,{type:"error",error:m}),lx(m)||((x=(v=l(this,ks).config).onError)==null||x.call(v,m,this),(P=(_=l(this,ks).config).onSettled)==null||P.call(_,this.state.data,m,this)),this.scheduleGc()};return C(this,Vn,bR({initialPromise:e==null?void 0:e.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var v,x,_,P;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){u(w);return}(x=(v=l(this,ks).config).onSuccess)==null||x.call(v,m,this),(P=(_=l(this,ks).config).onSettled)==null||P.call(_,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,v)=>{I(this,rr,Do).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{I(this,rr,Do).call(this,{type:"pause"})},onContinue:()=>{I(this,rr,Do).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),l(this,Vn).start()}},Cd=new WeakMap,Xc=new WeakMap,ks=new WeakMap,Yc=new WeakMap,Vn=new WeakMap,_m=new WeakMap,Kc=new WeakMap,rr=new WeakSet,Do=function(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...B5(i.data,this.options),fetchMeta:t.meta??null};case"success":return C(this,Xc,void 0),{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return lx(s)&&s.revert&&l(this,Xc)?{...l(this,Xc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),pi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),l(this,ks).notify({query:this,type:"updated",action:t})})},Tk);function B5(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_R(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function j5(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,i=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Wr,kk,z5=(kk=class extends Ww{constructor(t={}){super();R(this,Wr);this.config=t,C(this,Wr,new Map)}build(t,e,i){const s=e.queryKey,r=e.queryHash??pE(s,e);let o=this.get(r);return o||(o=new F5({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){l(this,Wr).has(t.queryHash)||(l(this,Wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=l(this,Wr).get(t.queryHash);e&&(t.destroy(),e===t&&l(this,Wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return l(this,Wr).get(t)}getAll(){return[...l(this,Wr).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(i=>AT(e,i))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(i=>AT(t,i)):e}notify(t){pi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wr=new WeakMap,kk),Vr,li,Qc,Gr,Xa,Mk,H5=(Mk=class extends xR{constructor(t){super();R(this,Gr);R(this,Vr);R(this,li);R(this,Qc);this.mutationId=t.mutationId,C(this,li,t.mutationCache),C(this,Vr,[]),this.state=t.state||U5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){l(this,Vr).includes(t)||(l(this,Vr).push(t),this.clearGcTimeout(),l(this,li).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){C(this,Vr,l(this,Vr).filter(e=>e!==t)),this.scheduleGc(),l(this,li).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){l(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():l(this,li).remove(this))}continue(){var t;return((t=l(this,Qc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var r,o,c,u,d,f,p,m,v,x,_,P,w,E,A,y,S,T,N,F;const e=()=>{I(this,Gr,Xa).call(this,{type:"continue"})};C(this,Qc,bR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(B,j)=>{I(this,Gr,Xa).call(this,{type:"failed",failureCount:B,error:j})},onPause:()=>{I(this,Gr,Xa).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,li).canRun(this)}));const i=this.state.status==="pending",s=!l(this,Qc).canStart();try{if(i)e();else{I(this,Gr,Xa).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(r=l(this,li).config).onMutate)==null?void 0:o.call(r,t,this));const j=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));j!==this.state.context&&I(this,Gr,Xa).call(this,{type:"pending",context:j,variables:t,isPaused:s})}const B=await l(this,Qc).start();return await((f=(d=l(this,li).config).onSuccess)==null?void 0:f.call(d,B,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,B,t,this.state.context)),await((x=(v=l(this,li).config).onSettled)==null?void 0:x.call(v,B,null,this.state.variables,this.state.context,this)),await((P=(_=this.options).onSettled)==null?void 0:P.call(_,B,null,t,this.state.context)),I(this,Gr,Xa).call(this,{type:"success",data:B}),B}catch(B){try{throw await((E=(w=l(this,li).config).onError)==null?void 0:E.call(w,B,t,this.state.context,this)),await((y=(A=this.options).onError)==null?void 0:y.call(A,B,t,this.state.context)),await((T=(S=l(this,li).config).onSettled)==null?void 0:T.call(S,void 0,B,this.state.variables,this.state.context,this)),await((F=(N=this.options).onSettled)==null?void 0:F.call(N,void 0,B,t,this.state.context)),B}finally{I(this,Gr,Xa).call(this,{type:"error",error:B})}}finally{l(this,li).runNext(this)}}},Vr=new WeakMap,li=new WeakMap,Qc=new WeakMap,Gr=new WeakSet,Xa=function(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pi.batch(()=>{l(this,Vr).forEach(i=>{i.onMutationUpdate(t)}),l(this,li).notify({mutation:this,type:"updated",action:t})})},Mk);function U5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wo,or,wm,Lk,$5=(Lk=class extends Ww{constructor(t={}){super();R(this,Wo);R(this,or);R(this,wm);this.config=t,C(this,Wo,new Set),C(this,or,new Map),C(this,wm,0)}build(t,e,i){const s=new H5({mutationCache:this,mutationId:++Fe(this,wm)._,options:t.defaultMutationOptions(e),state:i});return this.add(s),s}add(t){l(this,Wo).add(t);const e=o0(t);if(typeof e=="string"){const i=l(this,or).get(e);i?i.push(t):l(this,or).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(l(this,Wo).delete(t)){const e=o0(t);if(typeof e=="string"){const i=l(this,or).get(e);if(i)if(i.length>1){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}else i[0]===t&&l(this,or).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=o0(t);if(typeof e=="string"){const i=l(this,or).get(e),s=i==null?void 0:i.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){var i;const e=o0(t);if(typeof e=="string"){const s=(i=l(this,or).get(e))==null?void 0:i.find(r=>r!==t&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pi.batch(()=>{l(this,Wo).forEach(t=>{this.notify({type:"removed",mutation:t})}),l(this,Wo).clear(),l(this,or).clear()})}getAll(){return Array.from(l(this,Wo))}find(t){const e={exact:!0,...t};return this.getAll().find(i=>ET(e,i))}findAll(t={}){return this.getAll().filter(e=>ET(t,e))}notify(t){pi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pi.batch(()=>Promise.all(t.map(e=>e.continue().catch(sr))))}},Wo=new WeakMap,or=new WeakMap,wm=new WeakMap,Lk);function o0(n){var t;return(t=n.options.scope)==null?void 0:t.id}function TT(n){return{onFetch:(t,e)=>{var f,p,m,v,x;const i=t.options,s=(m=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,r=((v=t.state.data)==null?void 0:v.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let _=!1;const P=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},w=vR(t.options,t.fetchOptions),E=async(A,y,S)=>{if(_)return Promise.reject();if(y==null&&A.pages.length)return Promise.resolve(A);const N=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:y,direction:S?"backward":"forward",meta:t.options.meta};return P(H),H})(),F=await w(N),{maxPages:B}=t.options,j=S?M5:k5;return{pages:j(A.pages,F,B),pageParams:j(A.pageParams,y,B)}};if(s&&r.length){const A=s==="backward",y=A?W5:kT,S={pages:r,pageParams:o},T=y(i,S);c=await E(S,T,A)}else{const A=n??r.length;do{const y=u===0?o[0]??i.initialPageParam:kT(i,c);if(u>0&&y==null)break;c=await E(c,y),u++}while(u<A)}return c};t.options.persister?t.fetchFn=()=>{var _,P;return(P=(_=t.options).persister)==null?void 0:P.call(_,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=d}}}function kT(n,{pages:t,pageParams:e}){const i=t.length-1;return t.length>0?n.getNextPageParam(t[i],t,e[i],e):void 0}function W5(n,{pages:t,pageParams:e}){var i;return t.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,t[0],t,e[0],e):void 0}var Be,il,sl,Td,kd,rl,Md,Ld,Rk,V5=(Rk=class{constructor(n={}){R(this,Be);R(this,il);R(this,sl);R(this,Td);R(this,kd);R(this,rl);R(this,Md);R(this,Ld);C(this,Be,n.queryCache||new z5),C(this,il,n.mutationCache||new $5),C(this,sl,n.defaultOptions||{}),C(this,Td,new Map),C(this,kd,new Map),C(this,rl,0)}mount(){Fe(this,rl)._++,l(this,rl)===1&&(C(this,Md,yR.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,Be).onFocus())})),C(this,Ld,j_.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,Be).onOnline())})))}unmount(){var n,t;Fe(this,rl)._--,l(this,rl)===0&&((n=l(this,Md))==null||n.call(this),C(this,Md,void 0),(t=l(this,Ld))==null||t.call(this),C(this,Ld,void 0))}isFetching(n){return l(this,Be).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,il).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=l(this,Be).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=l(this,Be).build(this,t),i=e.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(w1(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(n){return l(this,Be).findAll(n).map(({queryKey:t,state:e})=>{const i=e.data;return[t,i]})}setQueryData(n,t,e){const i=this.defaultQueryOptions({queryKey:n}),s=l(this,Be).get(i.queryHash),r=s==null?void 0:s.state.data,o=S5(t,r);if(o!==void 0)return l(this,Be).build(this,i).setData(o,{...e,manual:!0})}setQueriesData(n,t,e){return pi.batch(()=>l(this,Be).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=l(this,Be).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=l(this,Be);pi.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=l(this,Be);return pi.batch(()=>(e.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},i=pi.batch(()=>l(this,Be).findAll(n).map(s=>s.cancel(e)));return Promise.all(i).then(sr).catch(sr)}invalidateQueries(n,t={}){return pi.batch(()=>(l(this,Be).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},i=pi.batch(()=>l(this,Be).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let r=s.fetch(void 0,e);return e.throwOnError||(r=r.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(sr)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=l(this,Be).build(this,t);return e.isStaleByTime(w1(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(sr).catch(sr)}fetchInfiniteQuery(n){return n.behavior=TT(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(sr).catch(sr)}ensureInfiniteQueryData(n){return n.behavior=TT(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return j_.isOnline()?l(this,il).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,Be)}getMutationCache(){return l(this,il)}getDefaultOptions(){return l(this,sl)}setDefaultOptions(n){C(this,sl,n)}setQueryDefaults(n,t){l(this,Td).set(sm(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...l(this,Td).values()],e={};return t.forEach(i=>{rm(n,i.queryKey)&&Object.assign(e,i.defaultOptions)}),e}setMutationDefaults(n,t){l(this,kd).set(sm(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...l(this,kd).values()],e={};return t.forEach(i=>{rm(n,i.mutationKey)&&Object.assign(e,i.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...l(this,sl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=pE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gE&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,sl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,Be).clear(),l(this,il).clear()}},Be=new WeakMap,il=new WeakMap,sl=new WeakMap,Td=new WeakMap,kd=new WeakMap,rl=new WeakMap,Md=new WeakMap,Ld=new WeakMap,Rk),G5=D.createContext(void 0),q5=({client:n,children:t})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),M.jsx(G5.Provider,{value:n,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},om.apply(this,arguments)}var nc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(nc||(nc={}));const MT="popstate";function Z5(n){n===void 0&&(n={});function t(s,r){let{pathname:o="/",search:c="",hash:u=""}=Ah(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),x1("",{pathname:o,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(s,r){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof r=="string"?r:z_(r))}function i(s,r){mE(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return Y5(t,e,i,n)}function sn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function mE(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X5(){return Math.random().toString(36).substr(2,8)}function LT(n,t){return{usr:n.state,key:n.key,idx:t}}function x1(n,t,e,i){return e===void 0&&(e=null),om({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?Ah(t):t,{state:e,key:t&&t.key||i||X5()})}function z_(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ah(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function Y5(n,t,e,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,c=nc.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(om({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){c=nc.Pop;let P=f(),w=P==null?null:P-d;d=P,u&&u({action:c,location:_.location,delta:w})}function m(P,w){c=nc.Push;let E=x1(_.location,P,w);e&&e(E,P),d=f()+1;let A=LT(E,d),y=_.createHref(E);try{o.pushState(A,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(y)}r&&u&&u({action:c,location:_.location,delta:1})}function v(P,w){c=nc.Replace;let E=x1(_.location,P,w);e&&e(E,P),d=f();let A=LT(E,d),y=_.createHref(E);o.replaceState(A,"",y),r&&u&&u({action:c,location:_.location,delta:0})}function x(P){let w=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof P=="string"?P:z_(P);return E=E.replace(/ $/,"%20"),sn(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let _={get action(){return c},get location(){return n(s,o)},listen(P){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(MT,p),u=P,()=>{s.removeEventListener(MT,p),u=null}},createHref(P){return t(s,P)},createURL:x,encodeLocation(P){let w=x(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:v,go(P){return o.go(P)}};return _}var RT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(RT||(RT={}));function K5(n,t,e){return e===void 0&&(e="/"),Q5(n,t,e,!1)}function Q5(n,t,e,i){let s=typeof t=="string"?Ah(t):t,r=vE(s.pathname||"/",e);if(r==null)return null;let o=SR(n);J5(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=uH(r);c=lH(o[u],d,i)}return c}function SR(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let s=(r,o,c)=>{let u={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};u.relativePath.startsWith("/")&&(sn(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let d=hc([i,u.relativePath]),f=e.concat(u);r.children&&r.children.length>0&&(sn(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),SR(r.children,t,f,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:oH(d,r.index),routesMeta:f})};return n.forEach((r,o)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,o);else for(let u of AR(r.path))s(r,o,u)}),t}function AR(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=AR(i.join("/")),c=[];return c.push(...o.map(u=>u===""?r:[r,u].join("/"))),s&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function J5(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:aH(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const tH=/^:[\w-]+$/,eH=3,nH=2,iH=1,sH=10,rH=-2,NT=n=>n==="*";function oH(n,t){let e=n.split("/"),i=e.length;return e.some(NT)&&(i+=rH),t&&(i+=nH),e.filter(s=>!NT(s)).reduce((s,r)=>s+(tH.test(r)?eH:r===""?iH:sH),i)}function aH(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function lH(n,t,e){let{routesMeta:i}=n,s={},r="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,f=r==="/"?t:t.slice(r.length)||"/",p=IT({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!p&&d&&e&&!i[i.length-1].route.index&&(p=IT({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:hc([r,p.pathname]),pathnameBase:pH(hc([r,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(r=hc([r,p.pathnameBase]))}return o}function IT(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=cH(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,f,p)=>{let{paramName:m,isOptional:v}=f;if(m==="*"){let _=c[p]||"";o=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[p];return v&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:n}}function cH(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),mE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function uH(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function vE(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function hH(n,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?Ah(n):n;return{pathname:e?e.startsWith("/")?e:dH(e,t):t,search:gH(i),hash:mH(s)}}function dH(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function cx(n,t,e,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fH(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ER(n,t){let e=fH(n);return t?e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function PR(n,t,e,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=Ah(n):(s=om({},n),sn(!s.pathname||!s.pathname.includes("?"),cx("?","pathname","search",s)),sn(!s.pathname||!s.pathname.includes("#"),cx("#","pathname","hash",s)),sn(!s.search||!s.search.includes("#"),cx("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,c;if(o==null)c=e;else{let p=t.length-1;if(!i&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}c=p>=0?t[p]:"/"}let u=hH(s,c),d=o&&o!=="/"&&o.endsWith("/"),f=(r||o===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const hc=n=>n.join("/").replace(/\/\/+/g,"/"),pH=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gH=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mH=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function vH(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const CR=["post","put","patch","delete"];new Set(CR);const yH=["get",...CR];new Set(yH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},am.apply(this,arguments)}const yE=D.createContext(null),_H=D.createContext(null),Eh=D.createContext(null),Gw=D.createContext(null),Ph=D.createContext({outlet:null,matches:[],isDataRoute:!1}),TR=D.createContext(null);function wH(n,t){let{relative:e}=t===void 0?{}:t;ly()||sn(!1);let{basename:i,navigator:s}=D.useContext(Eh),{hash:r,pathname:o,search:c}=MR(n,{relative:e}),u=o;return i!=="/"&&(u=o==="/"?i:hc([i,o])),s.createHref({pathname:u,search:c,hash:r})}function ly(){return D.useContext(Gw)!=null}function Ch(){return ly()||sn(!1),D.useContext(Gw).location}function kR(n){D.useContext(Eh).static||D.useLayoutEffect(n)}function bH(){let{isDataRoute:n}=D.useContext(Ph);return n?IH():xH()}function xH(){ly()||sn(!1);let n=D.useContext(yE),{basename:t,future:e,navigator:i}=D.useContext(Eh),{matches:s}=D.useContext(Ph),{pathname:r}=Ch(),o=JSON.stringify(ER(s,e.v7_relativeSplatPath)),c=D.useRef(!1);return kR(()=>{c.current=!0}),D.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){i.go(d);return}let p=PR(d,JSON.parse(o),r,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:hc([t,p.pathname])),(f.replace?i.replace:i.push)(p,f.state,f)},[t,i,o,r,n])}function MR(n,t){let{relative:e}=t===void 0?{}:t,{future:i}=D.useContext(Eh),{matches:s}=D.useContext(Ph),{pathname:r}=Ch(),o=JSON.stringify(ER(s,i.v7_relativeSplatPath));return D.useMemo(()=>PR(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function SH(n,t){return AH(n,t)}function AH(n,t,e,i){ly()||sn(!1);let{navigator:s}=D.useContext(Eh),{matches:r}=D.useContext(Ph),o=r[r.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Ch(),f;if(t){var p;let P=typeof t=="string"?Ah(t):t;u==="/"||(p=P.pathname)!=null&&p.startsWith(u)||sn(!1),f=P}else f=d;let m=f.pathname||"/",v=m;if(u!=="/"){let P=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let x=K5(n,{pathname:v}),_=kH(x&&x.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:hc([u,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:hc([u,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),r,e,i);return t&&_?D.createElement(Gw.Provider,{value:{location:am({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:nc.Pop}},_):_}function EH(){let n=NH(),t=vH(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),e?D.createElement("pre",{style:s},e):null,null)}const PH=D.createElement(EH,null);class CH extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(Ph.Provider,{value:this.props.routeContext},D.createElement(TR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TH(n){let{routeContext:t,match:e,children:i}=n,s=D.useContext(yE);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ph.Provider,{value:t},i)}function kH(n,t,e,i){var s;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var r;if(!e)return null;if(e.errors)n=e.matches;else if((r=i)!=null&&r.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=(s=e)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||sn(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(e&&i&&i.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=e,x=p.route.loader&&m[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let v,x=!1,_=null,P=null;e&&(v=c&&p.route.id?c[p.route.id]:void 0,_=p.route.errorElement||PH,u&&(d<0&&m===0?(x=!0,P=null):d===m&&(x=!0,P=p.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,m+1)),E=()=>{let A;return v?A=_:x?A=P:p.route.Component?A=D.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,D.createElement(TH,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:e!=null},children:A})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?D.createElement(CH,{location:e.location,revalidation:e.revalidation,component:_,error:v,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var LR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(LR||{}),H_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(H_||{});function MH(n){let t=D.useContext(yE);return t||sn(!1),t}function LH(n){let t=D.useContext(_H);return t||sn(!1),t}function RH(n){let t=D.useContext(Ph);return t||sn(!1),t}function RR(n){let t=RH(),e=t.matches[t.matches.length-1];return e.route.id||sn(!1),e.route.id}function NH(){var n;let t=D.useContext(TR),e=LH(H_.UseRouteError),i=RR(H_.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}function IH(){let{router:n}=MH(LR.UseNavigateStable),t=RR(H_.UseNavigateStable),e=D.useRef(!1);return kR(()=>{e.current=!0}),D.useCallback(function(s,r){r===void 0&&(r={}),e.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,am({fromRouteId:t},r)))},[n,t])}function DH(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Fc(n){sn(!1)}function OH(n){let{basename:t="/",children:e=null,location:i,navigationType:s=nc.Pop,navigator:r,static:o=!1,future:c}=n;ly()&&sn(!1);let u=t.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:u,navigator:r,static:o,future:am({v7_relativeSplatPath:!1},c)}),[u,c,r,o]);typeof i=="string"&&(i=Ah(i));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:x="default"}=i,_=D.useMemo(()=>{let P=vE(f,u);return P==null?null:{location:{pathname:P,search:p,hash:m,state:v,key:x},navigationType:s}},[u,f,p,m,v,x,s]);return _==null?null:D.createElement(Eh.Provider,{value:d},D.createElement(Gw.Provider,{children:e,value:_}))}function FH(n){let{children:t,location:e}=n;return SH(S1(t),e)}new Promise(()=>{});function S1(n,t){t===void 0&&(t=[]);let e=[];return D.Children.forEach(n,(i,s)=>{if(!D.isValidElement(i))return;let r=[...t,s];if(i.type===D.Fragment){e.push.apply(e,S1(i.props.children,r));return}i.type!==Fc&&sn(!1),!i.props.index||!i.props.children||sn(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=S1(i.props.children,r)),e.push(o)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A1(){return A1=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},A1.apply(this,arguments)}function BH(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function jH(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zH(n,t){return n.button===0&&(!t||t==="_self")&&!jH(n)}const HH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UH="6";try{window.__reactRouterVersion=UH}catch{}const $H="startTransition",DT=Gk[$H];function WH(n){let{basename:t,children:e,future:i,window:s}=n,r=D.useRef();r.current==null&&(r.current=Z5({window:s,v5Compat:!0}));let o=r.current,[c,u]=D.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},f=D.useCallback(p=>{d&&DT?DT(()=>u(p)):u(p)},[u,d]);return D.useLayoutEffect(()=>o.listen(f),[o,f]),D.useEffect(()=>DH(i),[i]),D.createElement(OH,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,future:i})}const VH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=D.forwardRef(function(t,e){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=t,m=BH(t,HH),{basename:v}=D.useContext(Eh),x,_=!1;if(typeof d=="string"&&GH.test(d)&&(x=d,VH))try{let A=new URL(window.location.href),y=d.startsWith("//")?new URL(A.protocol+d):new URL(d),S=vE(y.pathname,v);y.origin===A.origin&&S!=null?d=S+y.search+y.hash:_=!0}catch{}let P=wH(d,{relative:s}),w=qH(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function E(A){i&&i(A),A.defaultPrevented||w(A)}return D.createElement("a",A1({},m,{href:x||P,onClick:_||r?i:E,ref:e,target:u}))});var OT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(OT||(OT={}));var FT;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(FT||(FT={}));function qH(n,t){let{target:e,replace:i,state:s,preventScrollReset:r,relative:o,viewTransition:c}=t===void 0?{}:t,u=bH(),d=Ch(),f=MR(n,{relative:o});return D.useCallback(p=>{if(zH(p,e)){p.preventDefault();let m=i!==void 0?i:z_(d)===z_(f);u(n,{replace:m,state:s,preventScrollReset:r,relative:o,viewTransition:c})}},[d,u,f,i,s,e,n,r,o,c])}const ZH=()=>{const{pathname:n}=Ch();return D.useEffect(()=>{window.scrollTo(0,0)},[n]),null},XH=nE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gold:"bg-gradient-to-r from-gold-dark via-gold to-gold-dark text-primary-foreground font-semibold hover:shadow-lg hover:shadow-gold/30 hover:scale-105","gold-outline":"border-2 border-gold text-gold bg-transparent hover:bg-gold/10 hover:shadow-lg hover:shadow-gold/20",burgundy:"bg-burgundy text-foreground hover:bg-burgundy/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-md px-8 text-base",xl:"h-14 rounded-md px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fi=D.forwardRef(({className:n,variant:t,size:e,asChild:i=!1,...s},r)=>{const o=i?pj:"button";return M.jsx(o,{className:ei(XH({variant:t,size:e,className:n})),ref:r,...s})});Fi.displayName="Button";const NR="/barkaas-website/assets/logo-navbar-EbU6CCxJ.png",BT=[{name:"Home",path:"/"},{name:"Menu",path:"/menu"},{name:"About Us",path:"/about"},{name:"Gallery",path:"/gallery"}],YH=()=>{const[n,t]=D.useState(!1),e=Ch();return M.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:M.jsxs("div",{className:"container mx-auto px-4",children:[M.jsxs("div",{className:"flex items-center justify-between h-20",children:[M.jsx(br,{to:"/",className:"flex items-center gap-2",children:M.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold text-gradient-gold",children:M.jsx("img",{src:NR,alt:"Barkaas Logo",className:"h-24 w-24"})})}),M.jsx("div",{className:"hidden md:flex items-center gap-8",children:BT.map(i=>M.jsx(br,{to:i.path,className:ei("text-sm font-medium transition-colors duration-300 relative","after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-gold after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left",e.pathname===i.path?"text-gold after:scale-x-100":"text-foreground/80 hover:text-foreground"),children:i.name},i.path))}),M.jsx("div",{className:"hidden md:block",children:M.jsx(Fi,{variant:"gold",size:"sm",asChild:!0,children:M.jsx(br,{to:"/about",children:"Know more"})})}),M.jsx("button",{className:"md:hidden text-foreground p-2",onClick:()=>t(!n),"aria-label":"Toggle menu",children:n?M.jsx(iE,{size:24}):M.jsx(y3,{size:24})})]}),n&&M.jsx("div",{className:"md:hidden py-4 border-t border-border animate-fade-in",children:M.jsxs("div",{className:"flex flex-col gap-4",children:[BT.map(i=>M.jsx(br,{to:i.path,onClick:()=>t(!1),className:ei("text-base font-medium py-2 transition-colors duration-300",e.pathname===i.path?"text-gold":"text-foreground/80"),children:i.name},i.path)),M.jsx(Fi,{variant:"gold",size:"sm",className:"mt-2",asChild:!0,children:M.jsx(br,{to:"/about",onClick:()=>t(!1),children:"Know more"})})]})})]})})};function IR(n,t){const e=D.useRef(t);D.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const KH=1;function QH(n){return Object.freeze({__version:KH,map:n})}function JH(n,t){return Object.freeze({...n,...t})}const DR=D.createContext(null),OR=DR.Provider;function FR(){const n=D.useContext(DR);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function t8(n){function t(e,i){const{instance:s,context:r}=n(e).current;return D.useImperativeHandle(i,()=>s),e.children==null?null:rt.createElement(OR,{value:r},e.children)}return D.forwardRef(t)}function e8(n){function t(e,i){const[s,r]=D.useState(!1),{instance:o}=n(e,r).current;D.useImperativeHandle(i,()=>o),D.useEffect(function(){s&&o.update()},[o,s,e.children]);const c=o._contentNode;return c?wp.createPortal(e.children,c):null}return D.forwardRef(t)}function n8(n){function t(e,i){const{instance:s}=n(e).current;return D.useImperativeHandle(i,()=>s),null}return D.forwardRef(t)}function BR(n,t){const e=D.useRef();D.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function _E(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function i8(n,t){return function(i,s){const r=FR(),o=n(_E(i,r),r);return IR(r.map,i.attribution),BR(o.current,i.eventHandlers),t(o.current,r,i,s),o}}var E1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,t){(function(e,i){i(t)})(Dk,function(e){var i="1.9.4";function s(a){var h,g,b,k;for(g=1,b=arguments.length;g<b;g++){k=arguments[g];for(h in k)a[h]=k[h]}return a}var r=Object.create||function(){function a(){}return function(h){return a.prototype=h,new a}}();function o(a,h){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var b=g.call(arguments,2);return function(){return a.apply(h,b.length?b.concat(g.call(arguments)):arguments)}}var c=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function d(a,h,g){var b,k,O,z;return z=function(){b=!1,k&&(O.apply(g,k),k=!1)},O=function(){b?k=arguments:(a.apply(g,arguments),setTimeout(z,h),b=!0)},O}function f(a,h,g){var b=h[1],k=h[0],O=b-k;return a===b&&g?a:((a-k)%O+O)%O+k}function p(){return!1}function m(a,h){if(h===!1)return a;var g=Math.pow(10,h===void 0?6:h);return Math.round(a*g)/g}function v(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function x(a){return v(a).split(/\s+/)}function _(a,h){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?r(a.options):{});for(var g in h)a.options[g]=h[g];return a.options}function P(a,h,g){var b=[];for(var k in a)b.push(encodeURIComponent(g?k.toUpperCase():k)+"="+encodeURIComponent(a[k]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function E(a,h){return a.replace(w,function(g,b){var k=h[b];if(k===void 0)throw new Error("No value provided for variable "+g);return typeof k=="function"&&(k=k(h)),k})}var A=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function y(a,h){for(var g=0;g<a.length;g++)if(a[g]===h)return g;return-1}var S="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var N=0;function F(a){var h=+new Date,g=Math.max(0,16-(h-N));return N=h+g,window.setTimeout(a,g)}var B=window.requestAnimationFrame||T("RequestAnimationFrame")||F,j=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,h,g){if(g&&B===F)a.call(h);else return B.call(window,o(a,h))}function W(a){a&&j.call(window,a)}var K={__proto__:null,extend:s,create:r,bind:o,get lastId(){return c},stamp:u,throttle:d,wrapNum:f,falseFn:p,formatNum:m,trim:v,splitWords:x,setOptions:_,getParamString:P,template:E,isArray:A,indexOf:y,emptyImageUrl:S,requestFn:B,cancelFn:j,requestAnimFrame:H,cancelAnimFrame:W};function $(){}$.extend=function(a){var h=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=h.__super__=this.prototype,b=r(g);b.constructor=h,h.prototype=b;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(h[k]=this[k]);return a.statics&&s(h,a.statics),a.includes&&(J(a.includes),s.apply(null,[b].concat(a.includes))),s(b,a),delete b.statics,delete b.includes,b.options&&(b.options=g.options?r(g.options):{},s(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,z=b._initHooks.length;O<z;O++)b._initHooks[O].call(this)}},h},$.include=function(a){var h=this.prototype.options;return s(this.prototype,a),a.options&&(this.prototype.options=h,this.mergeOptions(a.options)),this},$.mergeOptions=function(a){return s(this.prototype.options,a),this},$.addInitHook=function(a){var h=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function J(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=A(a)?a:[a];for(var h=0;h<a.length;h++)a[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(a,h,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],h);else{a=x(a);for(var k=0,O=a.length;k<O;k++)this._on(a[k],h,g)}return this},off:function(a,h,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],h);else{a=x(a);for(var k=arguments.length===1,O=0,z=a.length;O<z;O++)k?this._off(a[O]):this._off(a[O],h,g)}return this},_on:function(a,h,g,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(a,h,g)===!1){g===this&&(g=void 0);var k={fn:h,ctx:g};b&&(k.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(k)}},_off:function(a,h,g){var b,k,O;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(k=0,O=b.length;k<O;k++)b[k].fn=p;delete this._events[a];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var z=this._listens(a,h,g);if(z!==!1){var V=b[z];this._firingCount&&(V.fn=p,this._events[a]=b=b.slice()),b.splice(z,1)}}},fire:function(a,h,g){if(!this.listens(a,g))return this;var b=s({},h,{type:a,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var k=this._events[a];if(k){this._firingCount=this._firingCount+1||1;for(var O=0,z=k.length;O<z;O++){var V=k[O],Z=V.fn;V.once&&this.off(a,Z,V.ctx),Z.call(V.ctx||this,b)}this._firingCount--}}return g&&this._propagateEvent(b),this},listens:function(a,h,g,b){typeof a!="string"&&console.warn('"string" type argument expected');var k=h;typeof h!="function"&&(b=!!h,k=void 0,g=void 0);var O=this._events&&this._events[a];if(O&&O.length&&this._listens(a,k,g)!==!1)return!0;if(b){for(var z in this._eventParents)if(this._eventParents[z].listens(a,h,g,b))return!0}return!1},_listens:function(a,h,g){if(!this._events)return!1;var b=this._events[a]||[];if(!h)return!!b.length;g===this&&(g=void 0);for(var k=0,O=b.length;k<O;k++)if(b[k].fn===h&&b[k].ctx===g)return k;return!1},once:function(a,h,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],h,!0);else{a=x(a);for(var k=0,O=a.length;k<O;k++)this._on(a[k],h,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var h in this._eventParents)this._eventParents[h].fire(a.type,s({layer:a.target,propagatedFrom:a.target},a),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var Y=$.extend(q);function U(a,h,g){this.x=g?Math.round(a):a,this.y=g?Math.round(h):h}var G=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(a){return this.clone()._add(X(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(X(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new U(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new U(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(a){a=X(a);var h=a.x-this.x,g=a.y-this.y;return Math.sqrt(h*h+g*g)},equals:function(a){return a=X(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=X(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function X(a,h,g){return a instanceof U?a:A(a)?new U(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new U(a.x,a.y):new U(a,h,g)}function it(a,h){if(a)for(var g=h?[a,h]:a,b=0,k=g.length;b<k;b++)this.extend(g[b])}it.prototype={extend:function(a){var h,g;if(!a)return this;if(a instanceof U||typeof a[0]=="number"||"x"in a)h=g=X(a);else if(a=Q(a),h=a.min,g=a.max,!h||!g)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=g.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var h,g;return typeof a[0]=="number"||a instanceof U?a=X(a):a=Q(a),a instanceof it?(h=a.min,g=a.max):h=g=a,h.x>=this.min.x&&g.x<=this.max.x&&h.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=Q(a);var h=this.min,g=this.max,b=a.min,k=a.max,O=k.x>=h.x&&b.x<=g.x,z=k.y>=h.y&&b.y<=g.y;return O&&z},overlaps:function(a){a=Q(a);var h=this.min,g=this.max,b=a.min,k=a.max,O=k.x>h.x&&b.x<g.x,z=k.y>h.y&&b.y<g.y;return O&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var h=this.min,g=this.max,b=Math.abs(h.x-g.x)*a,k=Math.abs(h.y-g.y)*a;return Q(X(h.x-b,h.y-k),X(g.x+b,g.y+k))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,h){return!a||a instanceof it?a:new it(a,h)}function et(a,h){if(a)for(var g=h?[a,h]:a,b=0,k=g.length;b<k;b++)this.extend(g[b])}et.prototype={extend:function(a){var h=this._southWest,g=this._northEast,b,k;if(a instanceof ut)b=a,k=a;else if(a instanceof et){if(b=a._southWest,k=a._northEast,!b||!k)return this}else return a?this.extend(ht(a)||ot(a)):this;return!h&&!g?(this._southWest=new ut(b.lat,b.lng),this._northEast=new ut(k.lat,k.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),g.lat=Math.max(k.lat,g.lat),g.lng=Math.max(k.lng,g.lng)),this},pad:function(a){var h=this._southWest,g=this._northEast,b=Math.abs(h.lat-g.lat)*a,k=Math.abs(h.lng-g.lng)*a;return new et(new ut(h.lat-b,h.lng-k),new ut(g.lat+b,g.lng+k))},getCenter:function(){return new ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ut||"lat"in a?a=ht(a):a=ot(a);var h=this._southWest,g=this._northEast,b,k;return a instanceof et?(b=a.getSouthWest(),k=a.getNorthEast()):b=k=a,b.lat>=h.lat&&k.lat<=g.lat&&b.lng>=h.lng&&k.lng<=g.lng},intersects:function(a){a=ot(a);var h=this._southWest,g=this._northEast,b=a.getSouthWest(),k=a.getNorthEast(),O=k.lat>=h.lat&&b.lat<=g.lat,z=k.lng>=h.lng&&b.lng<=g.lng;return O&&z},overlaps:function(a){a=ot(a);var h=this._southWest,g=this._northEast,b=a.getSouthWest(),k=a.getNorthEast(),O=k.lat>h.lat&&b.lat<g.lat,z=k.lng>h.lng&&b.lng<g.lng;return O&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,h){return a?(a=ot(a),this._southWest.equals(a.getSouthWest(),h)&&this._northEast.equals(a.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(a,h){return a instanceof et?a:new et(a,h)}function ut(a,h,g){if(isNaN(a)||isNaN(h))throw new Error("Invalid LatLng object: ("+a+", "+h+")");this.lat=+a,this.lng=+h,g!==void 0&&(this.alt=+g)}ut.prototype={equals:function(a,h){if(!a)return!1;a=ht(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(h===void 0?1e-9:h)},toString:function(a){return"LatLng("+m(this.lat,a)+", "+m(this.lng,a)+")"},distanceTo:function(a){return Rt.distance(this,ht(a))},wrap:function(){return Rt.wrapLatLng(this)},toBounds:function(a){var h=180*a/40075017,g=h/Math.cos(Math.PI/180*this.lat);return ot([this.lat-h,this.lng-g],[this.lat+h,this.lng+g])},clone:function(){return new ut(this.lat,this.lng,this.alt)}};function ht(a,h,g){return a instanceof ut?a:A(a)&&typeof a[0]!="object"?a.length===3?new ut(a[0],a[1],a[2]):a.length===2?new ut(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ut(a.lat,"lng"in a?a.lng:a.lon,a.alt):h===void 0?null:new ut(a,h,g)}var at={latLngToPoint:function(a,h){var g=this.projection.project(a),b=this.scale(h);return this.transformation._transform(g,b)},pointToLatLng:function(a,h){var g=this.scale(h),b=this.transformation.untransform(a,g);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var h=this.projection.bounds,g=this.scale(a),b=this.transformation.transform(h.min,g),k=this.transformation.transform(h.max,g);return new it(b,k)},infinite:!1,wrapLatLng:function(a){var h=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new ut(g,h,b)},wrapLatLngBounds:function(a){var h=a.getCenter(),g=this.wrapLatLng(h),b=h.lat-g.lat,k=h.lng-g.lng;if(b===0&&k===0)return a;var O=a.getSouthWest(),z=a.getNorthEast(),V=new ut(O.lat-b,O.lng-k),Z=new ut(z.lat-b,z.lng-k);return new et(V,Z)}},Rt=s({},at,{wrapLng:[-180,180],R:6371e3,distance:function(a,h){var g=Math.PI/180,b=a.lat*g,k=h.lat*g,O=Math.sin((h.lat-a.lat)*g/2),z=Math.sin((h.lng-a.lng)*g/2),V=O*O+Math.cos(b)*Math.cos(k)*z*z,Z=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*Z}}),Qt=6378137,Bt={R:Qt,MAX_LATITUDE:85.0511287798,project:function(a){var h=Math.PI/180,g=this.MAX_LATITUDE,b=Math.max(Math.min(g,a.lat),-g),k=Math.sin(b*h);return new U(this.R*a.lng*h,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(a){var h=180/Math.PI;return new ut((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*h,a.x*h/this.R)},bounds:function(){var a=Qt*Math.PI;return new it([-a,-a],[a,a])}()};function mt(a,h,g,b){if(A(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=h,this._c=g,this._d=b}mt.prototype={transform:function(a,h){return this._transform(a.clone(),h)},_transform:function(a,h){return h=h||1,a.x=h*(this._a*a.x+this._b),a.y=h*(this._c*a.y+this._d),a},untransform:function(a,h){return h=h||1,new U((a.x/h-this._b)/this._a,(a.y/h-this._d)/this._c)}};function lt(a,h,g,b){return new mt(a,h,g,b)}var _t=s({},Rt,{code:"EPSG:3857",projection:Bt,transformation:function(){var a=.5/(Math.PI*Bt.R);return lt(a,.5,-a,.5)}()}),xt=s({},_t,{code:"EPSG:900913"});function Pt(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Gt(a,h){var g="",b,k,O,z,V,Z;for(b=0,O=a.length;b<O;b++){for(V=a[b],k=0,z=V.length;k<z;k++)Z=V[k],g+=(k?"L":"M")+Z.x+" "+Z.y;g+=h?bt.svg?"z":"x":""}return g||"M0 0"}var Ut=document.documentElement.style,Ye="ActiveXObject"in window,an=Ye&&!document.addEventListener,Pn="msLaunchUri"in navigator&&!("documentMode"in document),Cn=Dr("webkit"),bi=Dr("android"),Hn=Dr("android 2")||Dr("android 3"),Ha=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ua=bi&&Dr("Google")&&Ha<537&&!("AudioNode"in window),Ke=!!window.opera,xi=!Pn&&Dr("chrome"),ii=Dr("gecko")&&!Cn&&!Ke&&!Ye,Si=!xi&&Dr("safari"),Ce=Dr("phantom"),xs="OTransition"in Ut,$a=navigator.platform.indexOf("Win")===0,Ys=Ye&&"transition"in Ut,Ss="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Hn,Ec="MozPerspective"in Ut,Rr=!window.L_DISABLE_3D&&(Ys||Ss||Ec)&&!xs&&!Ce,Co=typeof orientation<"u"||Dr("mobile"),Cp=Co&&Cn,Pc=Co&&Ss,Cc=!window.PointerEvent&&window.MSPointerEvent,Tc=!!(window.PointerEvent||Cc),To="ontouchstart"in window||!!window.TouchEvent,Ui=!window.L_NO_TOUCH&&(To||Tc),Tp=Co&&Ke,Et=Co&&ii,qt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,se=function(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,h),window.removeEventListener("testPassiveEventSupport",p,h)}catch{}return a}(),$i=function(){return!!document.createElement("canvas").getContext}(),si=!!(document.createElementNS&&Pt("svg").createSVGRect),Nr=!!si&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ko=!si&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var h=a.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Wi=navigator.platform.indexOf("Mac")===0,Ir=navigator.platform.indexOf("Linux")===0;function Dr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var bt={ie:Ye,ielt9:an,edge:Pn,webkit:Cn,android:bi,android23:Hn,androidStock:Ua,opera:Ke,chrome:xi,gecko:ii,safari:Si,phantom:Ce,opera12:xs,win:$a,ie3d:Ys,webkit3d:Ss,gecko3d:Ec,any3d:Rr,mobile:Co,mobileWebkit:Cp,mobileWebkit3d:Pc,msPointer:Cc,pointer:Tc,touch:Ui,touchNative:To,mobileOpera:Tp,mobileGecko:Et,retina:qt,passiveEvents:se,canvas:$i,svg:si,vml:ko,inlineSvg:Nr,mac:Wi,linux:Ir},YE=bt.msPointer?"MSPointerDown":"pointerdown",KE=bt.msPointer?"MSPointerMove":"pointermove",QE=bt.msPointer?"MSPointerUp":"pointerup",JE=bt.msPointer?"MSPointerCancel":"pointercancel",ib={touchstart:YE,touchmove:KE,touchend:QE,touchcancel:JE},tP={touchstart:ND,touchmove:wy,touchend:wy,touchcancel:wy},Mh={},eP=!1;function TD(a,h,g){return h==="touchstart"&&RD(),tP[h]?(g=tP[h].bind(this,g),a.addEventListener(ib[h],g,!1),g):(console.warn("wrong event specified:",h),p)}function kD(a,h,g){if(!ib[h]){console.warn("wrong event specified:",h);return}a.removeEventListener(ib[h],g,!1)}function MD(a){Mh[a.pointerId]=a}function LD(a){Mh[a.pointerId]&&(Mh[a.pointerId]=a)}function nP(a){delete Mh[a.pointerId]}function RD(){eP||(document.addEventListener(YE,MD,!0),document.addEventListener(KE,LD,!0),document.addEventListener(QE,nP,!0),document.addEventListener(JE,nP,!0),eP=!0)}function wy(a,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var g in Mh)h.touches.push(Mh[g]);h.changedTouches=[h],a(h)}}function ND(a,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Tn(h),wy(a,h)}function ID(a){var h={},g,b;for(b in a)g=a[b],h[b]=g&&g.bind?g.bind(a):g;return a=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var DD=200;function OD(a,h){a.addEventListener("dblclick",h);var g=0,b;function k(O){if(O.detail!==1){b=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var z=aP(O);if(!(z.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!z.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var V=Date.now();V-g<=DD?(b++,b===2&&h(ID(O))):b=1,g=V}}}return a.addEventListener("click",k),{dblclick:h,simDblclick:k}}function FD(a,h){a.removeEventListener("dblclick",h.dblclick),a.removeEventListener("click",h.simDblclick)}var sb=Sy(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kp=Sy(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),iP=kp==="webkitTransition"||kp==="OTransition"?kp+"End":"transitionend";function sP(a){return typeof a=="string"?document.getElementById(a):a}function Mp(a,h){var g=a.style[h]||a.currentStyle&&a.currentStyle[h];if((!g||g==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);g=b?b[h]:null}return g==="auto"?null:g}function Kt(a,h,g){var b=document.createElement(a);return b.className=h||"",g&&g.appendChild(b),b}function Te(a){var h=a.parentNode;h&&h.removeChild(a)}function by(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Lh(a){var h=a.parentNode;h&&h.lastChild!==a&&h.appendChild(a)}function Rh(a){var h=a.parentNode;h&&h.firstChild!==a&&h.insertBefore(a,h.firstChild)}function rb(a,h){if(a.classList!==void 0)return a.classList.contains(h);var g=xy(a);return g.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(g)}function Ft(a,h){if(a.classList!==void 0)for(var g=x(h),b=0,k=g.length;b<k;b++)a.classList.add(g[b]);else if(!rb(a,h)){var O=xy(a);ob(a,(O?O+" ":"")+h)}}function Ve(a,h){a.classList!==void 0?a.classList.remove(h):ob(a,v((" "+xy(a)+" ").replace(" "+h+" "," ")))}function ob(a,h){a.className.baseVal===void 0?a.className=h:a.className.baseVal=h}function xy(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function As(a,h){"opacity"in a.style?a.style.opacity=h:"filter"in a.style&&BD(a,h)}function BD(a,h){var g=!1,b="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),g?(g.Enabled=h!==100,g.Opacity=h):a.style.filter+=" progid:"+b+"(opacity="+h+")"}function Sy(a){for(var h=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in h)return a[g];return!1}function kc(a,h,g){var b=h||new U(0,0);a.style[sb]=(bt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(g?" scale("+g+")":"")}function Qe(a,h){a._leaflet_pos=h,bt.any3d?kc(a,h):(a.style.left=h.x+"px",a.style.top=h.y+"px")}function Mc(a){return a._leaflet_pos||new U(0,0)}var Lp,Rp,ab;if("onselectstart"in document)Lp=function(){Mt(window,"selectstart",Tn)},Rp=function(){ge(window,"selectstart",Tn)};else{var Np=Sy(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Lp=function(){if(Np){var a=document.documentElement.style;ab=a[Np],a[Np]="none"}},Rp=function(){Np&&(document.documentElement.style[Np]=ab,ab=void 0)}}function lb(){Mt(window,"dragstart",Tn)}function cb(){ge(window,"dragstart",Tn)}var Ay,ub;function hb(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Ey(),Ay=a,ub=a.style.outlineStyle,a.style.outlineStyle="none",Mt(window,"keydown",Ey))}function Ey(){Ay&&(Ay.style.outlineStyle=ub,Ay=void 0,ub=void 0,ge(window,"keydown",Ey))}function rP(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function db(a){var h=a.getBoundingClientRect();return{x:h.width/a.offsetWidth||1,y:h.height/a.offsetHeight||1,boundingClientRect:h}}var jD={__proto__:null,TRANSFORM:sb,TRANSITION:kp,TRANSITION_END:iP,get:sP,getStyle:Mp,create:Kt,remove:Te,empty:by,toFront:Lh,toBack:Rh,hasClass:rb,addClass:Ft,removeClass:Ve,setClass:ob,getClass:xy,setOpacity:As,testProp:Sy,setTransform:kc,setPosition:Qe,getPosition:Mc,get disableTextSelection(){return Lp},get enableTextSelection(){return Rp},disableImageDrag:lb,enableImageDrag:cb,preventOutline:hb,restoreOutline:Ey,getSizedParentNode:rP,getScale:db};function Mt(a,h,g,b){if(h&&typeof h=="object")for(var k in h)pb(a,k,h[k],g);else{h=x(h);for(var O=0,z=h.length;O<z;O++)pb(a,h[O],g,b)}return this}var Or="_leaflet_events";function ge(a,h,g,b){if(arguments.length===1)oP(a),delete a[Or];else if(h&&typeof h=="object")for(var k in h)gb(a,k,h[k],g);else if(h=x(h),arguments.length===2)oP(a,function(V){return y(h,V)!==-1});else for(var O=0,z=h.length;O<z;O++)gb(a,h[O],g,b);return this}function oP(a,h){for(var g in a[Or]){var b=g.split(/\d/)[0];(!h||h(b))&&gb(a,b,null,null,g)}}var fb={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pb(a,h,g,b){var k=h+u(g)+(b?"_"+u(b):"");if(a[Or]&&a[Or][k])return this;var O=function(V){return g.call(b||a,V||window.event)},z=O;!bt.touchNative&&bt.pointer&&h.indexOf("touch")===0?O=TD(a,h,O):bt.touch&&h==="dblclick"?O=OD(a,O):"addEventListener"in a?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?a.addEventListener(fb[h]||h,O,bt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(O=function(V){V=V||window.event,vb(a,V)&&z(V)},a.addEventListener(fb[h],O,!1)):a.addEventListener(h,z,!1):a.attachEvent("on"+h,O),a[Or]=a[Or]||{},a[Or][k]=O}function gb(a,h,g,b,k){k=k||h+u(g)+(b?"_"+u(b):"");var O=a[Or]&&a[Or][k];if(!O)return this;!bt.touchNative&&bt.pointer&&h.indexOf("touch")===0?kD(a,h,O):bt.touch&&h==="dblclick"?FD(a,O):"removeEventListener"in a?a.removeEventListener(fb[h]||h,O,!1):a.detachEvent("on"+h,O),a[Or][k]=null}function Lc(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function mb(a){return pb(a,"wheel",Lc),this}function Ip(a){return Mt(a,"mousedown touchstart dblclick contextmenu",Lc),a._leaflet_disable_click=!0,this}function Tn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Rc(a){return Tn(a),Lc(a),this}function aP(a){if(a.composedPath)return a.composedPath();for(var h=[],g=a.target;g;)h.push(g),g=g.parentNode;return h}function lP(a,h){if(!h)return new U(a.clientX,a.clientY);var g=db(h),b=g.boundingClientRect;return new U((a.clientX-b.left)/g.x-h.clientLeft,(a.clientY-b.top)/g.y-h.clientTop)}var zD=bt.linux&&bt.chrome?window.devicePixelRatio:bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cP(a){return bt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/zD:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function vb(a,h){var g=h.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var HD={__proto__:null,on:Mt,off:ge,stopPropagation:Lc,disableScrollPropagation:mb,disableClickPropagation:Ip,preventDefault:Tn,stop:Rc,getPropagationPath:aP,getMousePosition:lP,getWheelDelta:cP,isExternalTarget:vb,addListener:Mt,removeListener:ge},uP=Y.extend({run:function(a,h,g,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Mc(a),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var h=+new Date-this._startTime,g=this._duration*1e3;h<g?this._runFrame(this._easeOut(h/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,h){var g=this._startPos.add(this._offset.multiplyBy(a));h&&g._round(),Qe(this._el,g),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Vt=Y.extend({options:{crs:_t,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,h){h=_(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(ht(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kp&&bt.any3d&&!bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,iP,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,h,g){if(h=h===void 0?this._zoom:this._limitZoom(h),a=this._limitCenter(ht(a),h,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=s({animate:g.animate},g.zoom),g.pan=s({animate:g.animate,duration:g.duration},g.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,h,g.zoom):this._tryAnimatedPan(a,g.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,h,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,h){return this._loaded?this.setView(this.getCenter(),a,{zoom:h}):(this._zoom=a,this)},zoomIn:function(a,h){return a=a||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,h)},zoomOut:function(a,h){return a=a||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,h)},setZoomAround:function(a,h,g){var b=this.getZoomScale(h),k=this.getSize().divideBy(2),O=a instanceof U?a:this.latLngToContainerPoint(a),z=O.subtract(k).multiplyBy(1-1/b),V=this.containerPointToLatLng(k.add(z));return this.setView(V,h,{zoom:g})},_getBoundsCenterZoom:function(a,h){h=h||{},a=a.getBounds?a.getBounds():ot(a);var g=X(h.paddingTopLeft||h.padding||[0,0]),b=X(h.paddingBottomRight||h.padding||[0,0]),k=this.getBoundsZoom(a,!1,g.add(b));if(k=typeof h.maxZoom=="number"?Math.min(h.maxZoom,k):k,k===1/0)return{center:a.getCenter(),zoom:k};var O=b.subtract(g).divideBy(2),z=this.project(a.getSouthWest(),k),V=this.project(a.getNorthEast(),k),Z=this.unproject(z.add(V).divideBy(2).add(O),k);return{center:Z,zoom:k}},fitBounds:function(a,h){if(a=ot(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,h);return this.setView(g.center,g.zoom,h)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,h){return this.setView(a,this._zoom,{pan:h})},panBy:function(a,h){if(a=X(a).round(),h=h||{},!a.x&&!a.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uP,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ft(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,h.duration||.25,h.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,h,g){if(g=g||{},g.animate===!1||!bt.any3d)return this.setView(a,h,g);this._stop();var b=this.project(this.getCenter()),k=this.project(a),O=this.getSize(),z=this._zoom;a=ht(a),h=h===void 0?z:h;var V=Math.max(O.x,O.y),Z=V*this.getZoomScale(z,h),tt=k.distanceTo(b)||1,dt=1.42,At=dt*dt;function jt(Je){var Fy=Je?-1:1,kO=Je?Z:V,MO=Z*Z-V*V+Fy*At*At*tt*tt,LO=2*kO*At*tt,Tb=MO/LO,WP=Math.sqrt(Tb*Tb+1)-Tb,RO=WP<1e-9?-18:Math.log(WP);return RO}function ri(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function gn(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function Ps(Je){return ri(Je)/gn(Je)}var Ai=jt(0);function Bh(Je){return V*(gn(Ai)/gn(Ai+dt*Je))}function EO(Je){return V*(gn(Ai)*Ps(Ai+dt*Je)-ri(Ai))/At}function PO(Je){return 1-Math.pow(1-Je,1.5)}var CO=Date.now(),UP=(jt(1)-Ai)/dt,TO=g.duration?1e3*g.duration:1e3*UP*.8;function $P(){var Je=(Date.now()-CO)/TO,Fy=PO(Je)*UP;Je<=1?(this._flyToFrame=H($P,this),this._move(this.unproject(b.add(k.subtract(b).multiplyBy(EO(Fy)/tt)),z),this.getScaleZoom(V/Bh(Fy),z),{flyTo:!0})):this._move(a,h)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),$P.call(this),this},flyToBounds:function(a,h){var g=this._getBoundsCenterZoom(a,h);return this.flyTo(g.center,g.zoom,h)},setMaxBounds:function(a){return a=ot(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var h=this.options.minZoom;return this.options.minZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var h=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,h){this._enforcingBounds=!0;var g=this.getCenter(),b=this._limitCenter(g,this._zoom,ot(a));return g.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(a,h){h=h||{};var g=X(h.paddingTopLeft||h.padding||[0,0]),b=X(h.paddingBottomRight||h.padding||[0,0]),k=this.project(this.getCenter()),O=this.project(a),z=this.getPixelBounds(),V=Q([z.min.add(g),z.max.subtract(b)]),Z=V.getSize();if(!V.contains(O)){this._enforcingBounds=!0;var tt=O.subtract(V.getCenter()),dt=V.extend(O).getSize().subtract(Z);k.x+=tt.x<0?-dt.x:dt.x,k.y+=tt.y<0?-dt.y:dt.y,this.panTo(this.unproject(k),h),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=s({animate:!1,pan:!0},a===!0?{animate:!0}:a);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),b=h.divideBy(2).round(),k=g.divideBy(2).round(),O=b.subtract(k);return!O.x&&!O.y?this:(a.animate&&a.pan?this.panBy(O):(a.pan&&this._rawPanBy(O),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=s({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=o(this._handleGeolocationResponse,this),g=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,g,a):navigator.geolocation.getCurrentPosition(h,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var h=a.code,g=a.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,g=a.coords.longitude,b=new ut(h,g),k=b.toBounds(a.coords.accuracy*2),O=this._locateOptions;if(O.setView){var z=this.getBoundsZoom(k);this.setView(b,O.maxZoom?Math.min(z,O.maxZoom):z)}var V={latlng:b,bounds:k,timestamp:a.timestamp};for(var Z in a.coords)typeof a.coords[Z]=="number"&&(V[Z]=a.coords[Z]);this.fire("locationfound",V)}},addHandler:function(a,h){if(!h)return this;var g=this[a]=new h(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Te(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,h){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=Kt("div",g,h||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),h=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new et(h,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,h,g){a=ot(a),g=X(g||[0,0]);var b=this.getZoom()||0,k=this.getMinZoom(),O=this.getMaxZoom(),z=a.getNorthWest(),V=a.getSouthEast(),Z=this.getSize().subtract(g),tt=Q(this.project(V,b),this.project(z,b)).getSize(),dt=bt.any3d?this.options.zoomSnap:1,At=Z.x/tt.x,jt=Z.y/tt.y,ri=h?Math.max(At,jt):Math.min(At,jt);return b=this.getScaleZoom(ri,b),dt&&(b=Math.round(b/(dt/100))*(dt/100),b=h?Math.ceil(b/dt)*dt:Math.floor(b/dt)*dt),Math.max(k,Math.min(O,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,h){var g=this._getTopLeftPoint(a,h);return new it(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,h){var g=this.options.crs;return h=h===void 0?this._zoom:h,g.scale(a)/g.scale(h)},getScaleZoom:function(a,h){var g=this.options.crs;h=h===void 0?this._zoom:h;var b=g.zoom(a*g.scale(h));return isNaN(b)?1/0:b},project:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(ht(a),h)},unproject:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(X(a),h)},layerPointToLatLng:function(a){var h=X(a).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(a){var h=this.project(ht(a))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ht(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ot(a))},distance:function(a,h){return this.options.crs.distance(ht(a),ht(h))},containerPointToLayerPoint:function(a){return X(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return X(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var h=this.containerPointToLayerPoint(X(a));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ht(a)))},mouseEventToContainerPoint:function(a){return lP(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var h=this._container=sP(a);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mt(h,"scroll",this._onScroll,this),this._containerId=u(h)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&bt.any3d,Ft(a,"leaflet-container"+(bt.touch?" leaflet-touch":"")+(bt.retina?" leaflet-retina":"")+(bt.ielt9?" leaflet-oldie":"")+(bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Mp(a,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qe(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ft(a.markerPane,"leaflet-zoom-hide"),Ft(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,h,g){Qe(this._mapPane,new U(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var k=this._zoom!==h;this._moveStart(k,g)._move(a,h)._moveEnd(k),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,h){return a&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(a,h,g,b){h===void 0&&(h=this._zoom);var k=this._zoom!==h;return this._zoom=h,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?g&&g.pinch&&this.fire("zoom",g):((k||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Qe(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var h=a?ge:Mt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),bt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,h){for(var g=[],b,k=h==="mouseout"||h==="mouseover",O=a.target||a.srcElement,z=!1;O;){if(b=this._targets[u(O)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){z=!0;break}if(b&&b.listens(h,!0)&&(k&&!vb(O,a)||(g.push(b),k))||O===this._container)break;O=O.parentNode}return!g.length&&!z&&!k&&this.listens(h,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var h=a.target||a.srcElement;if(!(!this._loaded||h._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(h))){var g=a.type;g==="mousedown"&&hb(h),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,h,g){if(a.type==="click"){var b=s({},a);b.type="preclick",this._fireDOMEvent(b,b.type,g)}var k=this._findEventTargets(a,h);if(g){for(var O=[],z=0;z<g.length;z++)g[z].listens(h,!0)&&O.push(g[z]);k=O.concat(k)}if(k.length){h==="contextmenu"&&Tn(a);var V=k[0],Z={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var tt=V.getLatLng&&(!V._radius||V._radius<=10);Z.containerPoint=tt?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(a),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=tt?V.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(z=0;z<k.length;z++)if(k[z].fire(h,Z,!0),Z.originalEvent._stopped||k[z].options.bubblingMouseEvents===!1&&y(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,h=this._handlers.length;a<h;a++)this._handlers[a].disable()},whenReady:function(a,h){return this._loaded?a.call(h||this,{target:this}):this.on("load",a,h),this},_getMapPanePos:function(){return Mc(this._mapPane)||new U(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,h){var g=a&&h!==void 0?this._getNewPixelOrigin(a,h):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,h){var g=this.getSize()._divideBy(2);return this.project(a,h)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,h,g){var b=this._getNewPixelOrigin(g,h);return this.project(a,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,h,g){var b=this._getNewPixelOrigin(g,h);return Q([this.project(a.getSouthWest(),h)._subtract(b),this.project(a.getNorthWest(),h)._subtract(b),this.project(a.getSouthEast(),h)._subtract(b),this.project(a.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,h,g){if(!g)return a;var b=this.project(a,h),k=this.getSize().divideBy(2),O=new it(b.subtract(k),b.add(k)),z=this._getBoundsOffset(O,g,h);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?a:this.unproject(b.add(z),h)},_limitOffset:function(a,h){if(!h)return a;var g=this.getPixelBounds(),b=new it(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(a,h,g){var b=Q(this.project(h.getNorthEast(),g),this.project(h.getSouthWest(),g)),k=b.min.subtract(a.min),O=b.max.subtract(a.max),z=this._rebound(k.x,-O.x),V=this._rebound(k.y,-O.y);return new U(z,V)},_rebound:function(a,h){return a+h>0?Math.round(a-h)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(h))},_limitZoom:function(a){var h=this.getMinZoom(),g=this.getMaxZoom(),b=bt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(h,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,h){var g=this._getCenterOffset(a)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,h),!0)},_createAnimProxy:function(){var a=this._proxy=Kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(h){var g=sb,b=this._proxy.style[g];kc(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),h=this.getZoom();kc(this._proxy,this.project(a,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,h,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),k=this._getCenterOffset(a)._divideBy(1-1/b);return g.animate!==!0&&!this.getSize().contains(k)?!1:(H(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,h,!0)},this),!0)},_animateZoom:function(a,h,g,b){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=h,Ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function UD(a,h){return new Vt(a,h)}var Ks=$.extend({options:{position:"topright"},initialize:function(a){_(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var h=this._map;return h&&h.removeControl(this),this.options.position=a,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var h=this._container=this.onAdd(a),g=this.getPosition(),b=a._controlCorners[g];return Ft(h,"leaflet-control"),g.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Dp=function(a){return new Ks(a)};Vt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},h="leaflet-",g=this._controlContainer=Kt("div",h+"control-container",this._container);function b(k,O){var z=h+k+" "+h+O;a[k+O]=Kt("div",z,g)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Te(this._controlCorners[a]);Te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hP=Ks.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,h,g,b){return g<b?-1:b<g?1:0}},initialize:function(a,h,g){_(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Ks.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,h){return this._addLayer(a,h),this._map?this._update():this},addOverlay:function(a,h){return this._addLayer(a,h,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var h=this._getLayer(u(a));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",h=this._container=Kt("div",a),g=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Ip(h),mb(h);var b=this._section=Kt("section",a+"-list");g&&(this._map.on("click",this.collapse,this),Mt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=Kt("a",a+"-toggle",h);k.href="#",k.title="Layers",k.setAttribute("role","button"),Mt(k,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){Tn(O),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Kt("div",a+"-base",b),this._separator=Kt("div",a+"-separator",b),this._overlaysList=Kt("div",a+"-overlays",b),h.appendChild(b)},_getLayer:function(a){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&u(this._layers[h].layer)===a)return this._layers[h]},_addLayer:function(a,h,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:h,overlay:g}),this.options.sortLayers&&this._layers.sort(o(function(b,k){return this.options.sortFunction(b.layer,k.layer,b.name,k.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;by(this._baseLayersList),by(this._overlaysList),this._layerControlInputs=[];var a,h,g,b,k=0;for(g=0;g<this._layers.length;g++)b=this._layers[g],this._addItem(b),h=h||b.overlay,a=a||!b.overlay,k+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&k>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=h&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var h=this._getLayer(u(a.target)),g=h.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,h)},_createRadioElement:function(a,h){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=g,b.firstChild},_addItem:function(a){var h=document.createElement("label"),g=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=g):b=this._createRadioElement("leaflet-base-layers_"+u(this),g),this._layerControlInputs.push(b),b.layerId=u(a.layer),Mt(b,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+a.name;var O=document.createElement("span");h.appendChild(O),O.appendChild(b),O.appendChild(k);var z=a.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,h,g,b=[],k=[];this._handlingClick=!0;for(var O=a.length-1;O>=0;O--)h=a[O],g=this._getLayer(h.layerId).layer,h.checked?b.push(g):h.checked||k.push(g);for(O=0;O<k.length;O++)this._map.hasLayer(k[O])&&this._map.removeLayer(k[O]);for(O=0;O<b.length;O++)this._map.hasLayer(b[O])||this._map.addLayer(b[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,h,g,b=this._map.getZoom(),k=a.length-1;k>=0;k--)h=a[k],g=this._getLayer(h.layerId).layer,h.disabled=g.options.minZoom!==void 0&&b<g.options.minZoom||g.options.maxZoom!==void 0&&b>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Mt(a,"click",Tn),this.expand();var h=this;setTimeout(function(){ge(a,"click",Tn),h._preventClick=!1})}}),$D=function(a,h,g){return new hP(a,h,g)},yb=Ks.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var h="leaflet-control-zoom",g=Kt("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,h,g,b,k){var O=Kt("a",g,b);return O.innerHTML=a,O.href="#",O.title=h,O.setAttribute("role","button"),O.setAttribute("aria-label",h),Ip(O),Mt(O,"click",Rc),Mt(O,"click",k,this),Mt(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var a=this._map,h="leaflet-disabled";Ve(this._zoomInButton,h),Ve(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ft(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ft(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yb,this.addControl(this.zoomControl))});var WD=function(a){return new yb(a)},dP=Ks.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var h="leaflet-control-scale",g=Kt("div",h),b=this.options;return this._addScales(b,h+"-line",g),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,h,g){a.metric&&(this._mScale=Kt("div",h,g)),a.imperial&&(this._iScale=Kt("div",h,g))},_update:function(){var a=this._map,h=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,h]),a.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a),g=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,g,h/a)},_updateImperial:function(a){var h=a*3.2808399,g,b,k;h>5280?(g=h/5280,b=this._getRoundNum(g),this._updateScale(this._iScale,b+" mi",b/g)):(k=this._getRoundNum(h),this._updateScale(this._iScale,k+" ft",k/h))},_updateScale:function(a,h,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=h},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1),g=a/h;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,h*g}}),VD=function(a){return new dP(a)},GD='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_b=Ks.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(bt.inlineSvg?GD+" ":"")+"Leaflet</a>"},initialize:function(a){_(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Kt("div","leaflet-control-attribution"),Ip(this._container);for(var h in a._layers)a._layers[h].getAttribution&&this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var h in this._attributions)this._attributions[h]&&a.push(h);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook(function(){this.options.attributionControl&&new _b().addTo(this)});var qD=function(a){return new _b(a)};Ks.Layers=hP,Ks.Zoom=yb,Ks.Scale=dP,Ks.Attribution=_b,Dp.layers=$D,Dp.zoom=WD,Dp.scale=VD,Dp.attribution=qD;var Fr=$.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fr.addTo=function(a,h){return a.addHandler(h,this),this};var ZD={Events:q},fP=bt.touch?"touchstart mousedown":"mousedown",Wa=Y.extend({options:{clickTolerance:3},initialize:function(a,h,g,b){_(this,b),this._element=a,this._dragStartTarget=h||a,this._preventOutline=g},enable:function(){this._enabled||(Mt(this._dragStartTarget,fP,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wa._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,fP,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!rb(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Wa._dragging===this&&this.finishDrag();return}if(!(Wa._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Wa._dragging=this,this._preventOutline&&hb(this._element),lb(),Lp(),!this._moving)){this.fire("down");var h=a.touches?a.touches[0]:a,g=rP(this._element);this._startPoint=new U(h.clientX,h.clientY),this._startPos=Mc(this._element),this._parentScale=db(g);var b=a.type==="mousedown";Mt(document,b?"mousemove":"touchmove",this._onMove,this),Mt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var h=a.touches&&a.touches.length===1?a.touches[0]:a,g=new U(h.clientX,h.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Tn(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ft(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Qe(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ve(document.body,"leaflet-dragging"),this._lastTarget&&(Ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),cb(),Rp();var h=this._moved&&this._moving;this._moving=!1,Wa._dragging=!1,h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function pP(a,h,g){var b,k=[1,4,2,8],O,z,V,Z,tt,dt,At,jt;for(O=0,dt=a.length;O<dt;O++)a[O]._code=Nc(a[O],h);for(V=0;V<4;V++){for(At=k[V],b=[],O=0,dt=a.length,z=dt-1;O<dt;z=O++)Z=a[O],tt=a[z],Z._code&At?tt._code&At||(jt=Py(tt,Z,At,h,g),jt._code=Nc(jt,h),b.push(jt)):(tt._code&At&&(jt=Py(tt,Z,At,h,g),jt._code=Nc(jt,h),b.push(jt)),b.push(Z));a=b}return a}function gP(a,h){var g,b,k,O,z,V,Z,tt,dt;if(!a||a.length===0)throw new Error("latlngs not passed");Es(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var At=ht([0,0]),jt=ot(a),ri=jt.getNorthWest().distanceTo(jt.getSouthWest())*jt.getNorthEast().distanceTo(jt.getNorthWest());ri<1700&&(At=wb(a));var gn=a.length,Ps=[];for(g=0;g<gn;g++){var Ai=ht(a[g]);Ps.push(h.project(ht([Ai.lat-At.lat,Ai.lng-At.lng])))}for(V=Z=tt=0,g=0,b=gn-1;g<gn;b=g++)k=Ps[g],O=Ps[b],z=k.y*O.x-O.y*k.x,Z+=(k.x+O.x)*z,tt+=(k.y+O.y)*z,V+=z*3;V===0?dt=Ps[0]:dt=[Z/V,tt/V];var Bh=h.unproject(X(dt));return ht([Bh.lat+At.lat,Bh.lng+At.lng])}function wb(a){for(var h=0,g=0,b=0,k=0;k<a.length;k++){var O=ht(a[k]);h+=O.lat,g+=O.lng,b++}return ht([h/b,g/b])}var XD={__proto__:null,clipPolygon:pP,polygonCenter:gP,centroid:wb};function mP(a,h){if(!h||!a.length)return a.slice();var g=h*h;return a=QD(a,g),a=KD(a,g),a}function vP(a,h,g){return Math.sqrt(Op(a,h,g,!0))}function YD(a,h,g){return Op(a,h,g)}function KD(a,h){var g=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,k=new b(g);k[0]=k[g-1]=1,bb(a,k,h,0,g-1);var O,z=[];for(O=0;O<g;O++)k[O]&&z.push(a[O]);return z}function bb(a,h,g,b,k){var O=0,z,V,Z;for(V=b+1;V<=k-1;V++)Z=Op(a[V],a[b],a[k],!0),Z>O&&(z=V,O=Z);O>g&&(h[z]=1,bb(a,h,g,b,z),bb(a,h,g,z,k))}function QD(a,h){for(var g=[a[0]],b=1,k=0,O=a.length;b<O;b++)JD(a[b],a[k])>h&&(g.push(a[b]),k=b);return k<O-1&&g.push(a[O-1]),g}var yP;function _P(a,h,g,b,k){var O=b?yP:Nc(a,g),z=Nc(h,g),V,Z,tt;for(yP=z;;){if(!(O|z))return[a,h];if(O&z)return!1;V=O||z,Z=Py(a,h,V,g,k),tt=Nc(Z,g),V===O?(a=Z,O=tt):(h=Z,z=tt)}}function Py(a,h,g,b,k){var O=h.x-a.x,z=h.y-a.y,V=b.min,Z=b.max,tt,dt;return g&8?(tt=a.x+O*(Z.y-a.y)/z,dt=Z.y):g&4?(tt=a.x+O*(V.y-a.y)/z,dt=V.y):g&2?(tt=Z.x,dt=a.y+z*(Z.x-a.x)/O):g&1&&(tt=V.x,dt=a.y+z*(V.x-a.x)/O),new U(tt,dt,k)}function Nc(a,h){var g=0;return a.x<h.min.x?g|=1:a.x>h.max.x&&(g|=2),a.y<h.min.y?g|=4:a.y>h.max.y&&(g|=8),g}function JD(a,h){var g=h.x-a.x,b=h.y-a.y;return g*g+b*b}function Op(a,h,g,b){var k=h.x,O=h.y,z=g.x-k,V=g.y-O,Z=z*z+V*V,tt;return Z>0&&(tt=((a.x-k)*z+(a.y-O)*V)/Z,tt>1?(k=g.x,O=g.y):tt>0&&(k+=z*tt,O+=V*tt)),z=a.x-k,V=a.y-O,b?z*z+V*V:new U(k,O)}function Es(a){return!A(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function wP(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Es(a)}function bP(a,h){var g,b,k,O,z,V,Z,tt;if(!a||a.length===0)throw new Error("latlngs not passed");Es(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var dt=ht([0,0]),At=ot(a),jt=At.getNorthWest().distanceTo(At.getSouthWest())*At.getNorthEast().distanceTo(At.getNorthWest());jt<1700&&(dt=wb(a));var ri=a.length,gn=[];for(g=0;g<ri;g++){var Ps=ht(a[g]);gn.push(h.project(ht([Ps.lat-dt.lat,Ps.lng-dt.lng])))}for(g=0,b=0;g<ri-1;g++)b+=gn[g].distanceTo(gn[g+1])/2;if(b===0)tt=gn[0];else for(g=0,O=0;g<ri-1;g++)if(z=gn[g],V=gn[g+1],k=z.distanceTo(V),O+=k,O>b){Z=(O-b)/k,tt=[V.x-Z*(V.x-z.x),V.y-Z*(V.y-z.y)];break}var Ai=h.unproject(X(tt));return ht([Ai.lat+dt.lat,Ai.lng+dt.lng])}var tO={__proto__:null,simplify:mP,pointToSegmentDistance:vP,closestPointOnSegment:YD,clipSegment:_P,_getEdgeIntersection:Py,_getBitCode:Nc,_sqClosestPointOnSegment:Op,isFlat:Es,_flat:wP,polylineCenter:bP},xb={project:function(a){return new U(a.lng,a.lat)},unproject:function(a){return new ut(a.y,a.x)},bounds:new it([-180,-90],[180,90])},Sb={R:6378137,R_MINOR:6356752314245179e-9,bounds:new it([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var h=Math.PI/180,g=this.R,b=a.lat*h,k=this.R_MINOR/g,O=Math.sqrt(1-k*k),z=O*Math.sin(b),V=Math.tan(Math.PI/4-b/2)/Math.pow((1-z)/(1+z),O/2);return b=-g*Math.log(Math.max(V,1e-10)),new U(a.lng*h*g,b)},unproject:function(a){for(var h=180/Math.PI,g=this.R,b=this.R_MINOR/g,k=Math.sqrt(1-b*b),O=Math.exp(-a.y/g),z=Math.PI/2-2*Math.atan(O),V=0,Z=.1,tt;V<15&&Math.abs(Z)>1e-7;V++)tt=k*Math.sin(z),tt=Math.pow((1-tt)/(1+tt),k/2),Z=Math.PI/2-2*Math.atan(O*tt)-z,z+=Z;return new ut(z*h,a.x*h/g)}},eO={__proto__:null,LonLat:xb,Mercator:Sb,SphericalMercator:Bt},nO=s({},Rt,{code:"EPSG:3395",projection:Sb,transformation:function(){var a=.5/(Math.PI*Sb.R);return lt(a,.5,-a,.5)}()}),xP=s({},Rt,{code:"EPSG:4326",projection:xb,transformation:lt(1/180,1,-1/180,.5)}),iO=s({},at,{projection:xb,transformation:lt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,h){var g=h.lng-a.lng,b=h.lat-a.lat;return Math.sqrt(g*g+b*b)},infinite:!0});at.Earth=Rt,at.EPSG3395=nO,at.EPSG3857=_t,at.EPSG900913=xt,at.EPSG4326=xP,at.Simple=iO;var Qs=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h=a.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var g=this.getEvents();h.on(g,this),this.once("remove",function(){h.off(g,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var h=u(a);return this._layers[h]?this:(this._layers[h]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var h=u(a);return this._layers[h]?(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,h){for(var g in this._layers)a.call(h,this._layers[g]);return this},_addLayers:function(a){a=a?A(a)?a:[a]:[];for(var h=0,g=a.length;h<g;h++)this.addLayer(a[h])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var h=u(a);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,h=-1/0,g=this._getZoomSpan();for(var b in this._zoomBoundLayers){var k=this._zoomBoundLayers[b].options;a=k.minZoom===void 0?a:Math.min(a,k.minZoom),h=k.maxZoom===void 0?h:Math.max(h,k.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Nh=Qs.extend({initialize:function(a,h){_(this,h),this._layers={};var g,b;if(a)for(g=0,b=a.length;g<b;g++)this.addLayer(a[g])},addLayer:function(a){var h=this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var h=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(a){var h=typeof a=="number"?a:this.getLayerId(a);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h=Array.prototype.slice.call(arguments,1),g,b;for(g in this._layers)b=this._layers[g],b[a]&&b[a].apply(b,h);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,h){for(var g in this._layers)a.call(h,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),sO=function(a,h){return new Nh(a,h)},Mo=Nh.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Nh.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Nh.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new et;for(var h in this._layers){var g=this._layers[h];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),rO=function(a,h){return new Mo(a,h)},Ih=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){_(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,h){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(g,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,h){var g=this.options,b=g[h+"Size"];typeof b=="number"&&(b=[b,b]);var k=X(b),O=X(h==="shadow"&&g.shadowAnchor||g.iconAnchor||k&&k.divideBy(2,!0));a.className="leaflet-marker-"+h+" "+(g.className||""),O&&(a.style.marginLeft=-O.x+"px",a.style.marginTop=-O.y+"px"),k&&(a.style.width=k.x+"px",a.style.height=k.y+"px")},_createImg:function(a,h){return h=h||document.createElement("img"),h.src=a,h},_getIconUrl:function(a){return bt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function oO(a){return new Ih(a)}var Fp=Ih.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Fp.imagePath!="string"&&(Fp.imagePath=this._detectIconPath()),(this.options.imagePath||Fp.imagePath)+Ih.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=function(g,b,k){var O=b.exec(g);return O&&O[k]};return a=h(a,/^url\((['"])?(.+)\1\)$/,2),a&&h(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Kt("div","leaflet-default-icon-path",document.body),h=Mp(a,"background-image")||Mp(a,"backgroundImage");if(document.body.removeChild(a),h=this._stripUrl(h),h)return h;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),SP=Fr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Wa(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ft(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var h=this._marker,g=h._map,b=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,O=Mc(h._icon),z=g.getPixelBounds(),V=g.getPixelOrigin(),Z=Q(z.min._subtract(V).add(k),z.max._subtract(V).subtract(k));if(!Z.contains(O)){var tt=X((Math.max(Z.max.x,O.x)-Z.max.x)/(z.max.x-Z.max.x)-(Math.min(Z.min.x,O.x)-Z.min.x)/(z.min.x-Z.min.x),(Math.max(Z.max.y,O.y)-Z.max.y)/(z.max.y-Z.max.y)-(Math.min(Z.min.y,O.y)-Z.min.y)/(z.min.y-Z.min.y)).multiplyBy(b);g.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),Qe(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,g=h._shadow,b=Mc(h._icon),k=h._map.layerPointToLatLng(b);g&&Qe(g,b),h._latlng=k,a.latlng=k,a.oldLatLng=this._oldLatLng,h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Cy=Qs.extend({options:{icon:new Fp,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,h){_(this,h),this._latlng=ht(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=ht(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),b=!1;g!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Ft(g,h),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(g,"focus",this._panOnFocus,this);var k=a.icon.createShadow(this._shadow),O=!1;k!==this._shadow&&(this._removeShadow(),O=!0),k&&(Ft(k,h),k.alt=""),this._shadow=k,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&O&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),Te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Te(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Qe(this._icon,a),this._shadow&&Qe(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),SP)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new SP(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&As(this._icon,a),this._shadow&&As(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var h=this.options.icon.options,g=h.iconSize?X(h.iconSize):X(0,0),b=h.iconAnchor?X(h.iconAnchor):X(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:g.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function aO(a,h){return new Cy(a,h)}var Va=Qs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return _(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ty=Va.extend({options:{fill:!0,radius:10},initialize:function(a,h){_(this,h),this._latlng=ht(a),this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=ht(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=a&&a.radius||this._radius;return Va.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,h=this._radiusY||a,g=this._clickTolerance(),b=[a+g,h+g];this._pxBounds=new it(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lO(a,h){return new Ty(a,h)}var Ab=Ty.extend({initialize:function(a,h,g){if(typeof h=="number"&&(h=s({},g,{radius:h})),_(this,h),this._latlng=ht(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new et(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Va.prototype.setStyle,_project:function(){var a=this._latlng.lng,h=this._latlng.lat,g=this._map,b=g.options.crs;if(b.distance===Rt.distance){var k=Math.PI/180,O=this._mRadius/Rt.R/k,z=g.project([h+O,a]),V=g.project([h-O,a]),Z=z.add(V).divideBy(2),tt=g.unproject(Z).lat,dt=Math.acos((Math.cos(O*k)-Math.sin(h*k)*Math.sin(tt*k))/(Math.cos(h*k)*Math.cos(tt*k)))/k;(isNaN(dt)||dt===0)&&(dt=O/Math.cos(Math.PI/180*h)),this._point=Z.subtract(g.getPixelOrigin()),this._radius=isNaN(dt)?0:Z.x-g.project([tt,a-dt]).x,this._radiusY=Z.y-z.y}else{var At=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(At).x}this._updateBounds()}});function cO(a,h,g){return new Ab(a,h,g)}var Lo=Va.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,h){_(this,h),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,g=null,b=Op,k,O,z=0,V=this._parts.length;z<V;z++)for(var Z=this._parts[z],tt=1,dt=Z.length;tt<dt;tt++){k=Z[tt-1],O=Z[tt];var At=b(a,k,O,!0);At<h&&(h=At,g=b(a,k,O))}return g&&(g.distance=Math.sqrt(h)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bP(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,h){return h=h||this._defaultShape(),a=ht(a),h.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new et,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Es(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],g=Es(a),b=0,k=a.length;b<k;b++)g?(h[b]=ht(a[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(a[b]);return h},_project:function(){var a=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),h=new U(a,a);this._rawPxBounds&&(this._pxBounds=new it([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(a,h,g){var b=a[0]instanceof ut,k=a.length,O,z;if(b){for(z=[],O=0;O<k;O++)z[O]=this._map.latLngToLayerPoint(a[O]),g.extend(z[O]);h.push(z)}else for(O=0;O<k;O++)this._projectLatlngs(a[O],h,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,g,b,k,O,z,V,Z;for(g=0,k=0,O=this._rings.length;g<O;g++)for(Z=this._rings[g],b=0,z=Z.length;b<z-1;b++)V=_P(Z[b],Z[b+1],a,b,!0),V&&(h[k]=h[k]||[],h[k].push(V[0]),(V[1]!==Z[b+1]||b===z-2)&&(h[k].push(V[1]),k++))}},_simplifyPoints:function(){for(var a=this._parts,h=this.options.smoothFactor,g=0,b=a.length;g<b;g++)a[g]=mP(a[g],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,h){var g,b,k,O,z,V,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,O=this._parts.length;g<O;g++)for(V=this._parts[g],b=0,z=V.length,k=z-1;b<z;k=b++)if(!(!h&&b===0)&&vP(a,V[k],V[b])<=Z)return!0;return!1}});function uO(a,h){return new Lo(a,h)}Lo._flat=wP;var Dh=Lo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gP(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var h=Lo.prototype._convertLatLngs.call(this,a),g=h.length;return g>=2&&h[0]instanceof ut&&h[0].equals(h[g-1])&&h.pop(),h},_setLatLngs:function(a){Lo.prototype._setLatLngs.call(this,a),Es(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Es(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,h=this.options.weight,g=new U(h,h);if(a=new it(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,k=this._rings.length,O;b<k;b++)O=pP(this._rings[b],a,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h=!1,g,b,k,O,z,V,Z,tt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(O=0,Z=this._parts.length;O<Z;O++)for(g=this._parts[O],z=0,tt=g.length,V=tt-1;z<tt;V=z++)b=g[z],k=g[V],b.y>a.y!=k.y>a.y&&a.x<(k.x-b.x)*(a.y-b.y)/(k.y-b.y)+b.x&&(h=!h);return h||Lo.prototype._containsPoint.call(this,a,!0)}});function hO(a,h){return new Dh(a,h)}var Ro=Mo.extend({initialize:function(a,h){_(this,h),this._layers={},a&&this.addData(a)},addData:function(a){var h=A(a)?a:a.features,g,b,k;if(h){for(g=0,b=h.length;g<b;g++)k=h[g],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var O=this.options;if(O.filter&&!O.filter(a))return this;var z=ky(a,O);return z?(z.feature=Ry(a),z.defaultOptions=z.options,this.resetStyle(z),O.onEachFeature&&O.onEachFeature(a,z),this.addLayer(z)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=s({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(h){this._setLayerStyle(h,a)},this)},_setLayerStyle:function(a,h){a.setStyle&&(typeof h=="function"&&(h=h(a.feature)),a.setStyle(h))}});function ky(a,h){var g=a.type==="Feature"?a.geometry:a,b=g?g.coordinates:null,k=[],O=h&&h.pointToLayer,z=h&&h.coordsToLatLng||Eb,V,Z,tt,dt;if(!b&&!g)return null;switch(g.type){case"Point":return V=z(b),AP(O,a,V,h);case"MultiPoint":for(tt=0,dt=b.length;tt<dt;tt++)V=z(b[tt]),k.push(AP(O,a,V,h));return new Mo(k);case"LineString":case"MultiLineString":return Z=My(b,g.type==="LineString"?0:1,z),new Lo(Z,h);case"Polygon":case"MultiPolygon":return Z=My(b,g.type==="Polygon"?1:2,z),new Dh(Z,h);case"GeometryCollection":for(tt=0,dt=g.geometries.length;tt<dt;tt++){var At=ky({geometry:g.geometries[tt],type:"Feature",properties:a.properties},h);At&&k.push(At)}return new Mo(k);case"FeatureCollection":for(tt=0,dt=g.features.length;tt<dt;tt++){var jt=ky(g.features[tt],h);jt&&k.push(jt)}return new Mo(k);default:throw new Error("Invalid GeoJSON object.")}}function AP(a,h,g,b){return a?a(h,g):new Cy(g,b&&b.markersInheritOptions&&b)}function Eb(a){return new ut(a[1],a[0],a[2])}function My(a,h,g){for(var b=[],k=0,O=a.length,z;k<O;k++)z=h?My(a[k],h-1,g):(g||Eb)(a[k]),b.push(z);return b}function Pb(a,h){return a=ht(a),a.alt!==void 0?[m(a.lng,h),m(a.lat,h),m(a.alt,h)]:[m(a.lng,h),m(a.lat,h)]}function Ly(a,h,g,b){for(var k=[],O=0,z=a.length;O<z;O++)k.push(h?Ly(a[O],Es(a[O])?0:h-1,g,b):Pb(a[O],b));return!h&&g&&k.length>0&&k.push(k[0].slice()),k}function Oh(a,h){return a.feature?s({},a.feature,{geometry:h}):Ry(h)}function Ry(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Cb={toGeoJSON:function(a){return Oh(this,{type:"Point",coordinates:Pb(this.getLatLng(),a)})}};Cy.include(Cb),Ab.include(Cb),Ty.include(Cb),Lo.include({toGeoJSON:function(a){var h=!Es(this._latlngs),g=Ly(this._latlngs,h?1:0,!1,a);return Oh(this,{type:(h?"Multi":"")+"LineString",coordinates:g})}}),Dh.include({toGeoJSON:function(a){var h=!Es(this._latlngs),g=h&&!Es(this._latlngs[0]),b=Ly(this._latlngs,g?2:h?1:0,!0,a);return h||(b=[b]),Oh(this,{type:(g?"Multi":"")+"Polygon",coordinates:b})}}),Nh.include({toMultiPoint:function(a){var h=[];return this.eachLayer(function(g){h.push(g.toGeoJSON(a).geometry.coordinates)}),Oh(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(a){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(a);var g=h==="GeometryCollection",b=[];return this.eachLayer(function(k){if(k.toGeoJSON){var O=k.toGeoJSON(a);if(g)b.push(O.geometry);else{var z=Ry(O);z.type==="FeatureCollection"?b.push.apply(b,z.features):b.push(z)}}}),g?Oh(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function EP(a,h){return new Ro(a,h)}var dO=EP,Ny=Qs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,h,g){this._url=a,this._bounds=ot(h),_(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Lh(this._image),this},bringToBack:function(){return this._map&&Rh(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ot(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",h=this._image=a?this._url:Kt("img");if(Ft(h,"leaflet-image-layer"),this._zoomAnimated&&Ft(h,"leaflet-zoom-animated"),this.options.className&&Ft(h,this.options.className),h.onselectstart=p,h.onmousemove=p,h.onload=o(this.fire,this,"load"),h.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(a){var h=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;kc(this._image,g,h)},_reset:function(){var a=this._image,h=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=h.getSize();Qe(a,h.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){As(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),fO=function(a,h,g){return new Ny(a,h,g)},PP=Ny.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",h=this._image=a?this._url:Kt("video");if(Ft(h,"leaflet-image-layer"),this._zoomAnimated&&Ft(h,"leaflet-zoom-animated"),this.options.className&&Ft(h,this.options.className),h.onselectstart=p,h.onmousemove=p,h.onloadeddata=o(this.fire,this,"load"),a){for(var g=h.getElementsByTagName("source"),b=[],k=0;k<g.length;k++)b.push(g[k].src);this._url=g.length>0?b:[h.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var z=Kt("source");z.src=this._url[O],h.appendChild(z)}}});function pO(a,h,g){return new PP(a,h,g)}var CP=Ny.extend({_initImage:function(){var a=this._image=this._url;Ft(a,"leaflet-image-layer"),this._zoomAnimated&&Ft(a,"leaflet-zoom-animated"),this.options.className&&Ft(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function gO(a,h,g){return new CP(a,h,g)}var Br=Qs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,h){a&&(a instanceof ut||A(a))?(this._latlng=ht(a),_(this,h)):(_(this,a),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&As(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&As(this._container,1),this.bringToFront(),this.options.interactive&&(Ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(As(this._container,0),this._removeTimeout=setTimeout(o(Te,void 0,this._container),200)):Te(this._container),this.options.interactive&&(Ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ht(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Lh(this._container),this},bringToBack:function(){return this._map&&Rh(this._container),this},_prepareOpen:function(a){var h=this._source;if(!h._map)return!1;if(h instanceof Mo){h=null;var g=this._source._layers;for(var b in g)if(g[b]._map){h=g[b];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=h.getLatLng();else if(h.getBounds)a=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")a.innerHTML=h;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),h=X(this.options.offset),g=this._getAnchor();this._zoomAnimated?Qe(this._container,a.add(g)):h=h.add(a).add(g);var b=this._containerBottom=-h.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(a,h,g,b){var k=h;return k instanceof a||(k=new a(b).setContent(h)),g&&k.setLatLng(g),k}}),Qs.include({_initOverlay:function(a,h,g,b){var k=g;return k instanceof a?(_(k,b),k._source=this):(k=h&&!b?h:new a(b,this),k.setContent(g)),k}});var Iy=Br.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Br.prototype.openOn.call(this,a)},onAdd:function(a){Br.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Va||this._source.on("preclick",Lc))},onRemove:function(a){Br.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Va||this._source.off("preclick",Lc))},getEvents:function(){var a=Br.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",h=this._container=Kt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Kt("div",a+"-content-wrapper",h);if(this._contentNode=Kt("div",a+"-content",g),Ip(h),mb(this._contentNode),Mt(h,"contextmenu",Lc),this._tipContainer=Kt("div",a+"-tip-container",h),this._tip=Kt("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Kt("a",a+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(b,"click",function(k){Tn(k),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,h=a.style;h.width="",h.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),h.width=g+1+"px",h.whiteSpace="",h.height="";var b=a.offsetHeight,k=this.options.maxHeight,O="leaflet-popup-scrolled";k&&b>k?(h.height=k+"px",Ft(a,O)):Ve(a,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Qe(this._container,h.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,h=parseInt(Mp(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+h,b=this._containerWidth,k=new U(this._containerLeft,-g-this._containerBottom);k._add(Mc(this._container));var O=a.layerPointToContainerPoint(k),z=X(this.options.autoPanPadding),V=X(this.options.autoPanPaddingTopLeft||z),Z=X(this.options.autoPanPaddingBottomRight||z),tt=a.getSize(),dt=0,At=0;O.x+b+Z.x>tt.x&&(dt=O.x+b-tt.x+Z.x),O.x-dt-V.x<0&&(dt=O.x-V.x),O.y+g+Z.y>tt.y&&(At=O.y+g-tt.y+Z.y),O.y-At-V.y<0&&(At=O.y-V.y),(dt||At)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([dt,At]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mO=function(a,h){return new Iy(a,h)};Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(a,h,g){return this._initOverlay(Iy,a,h,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Qs.include({bindPopup:function(a,h){return this._popup=this._initOverlay(Iy,this._popup,a,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Mo||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Rc(a);var h=a.layer||a.target;if(this._popup._source===h&&!(h instanceof Va)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=h,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Dy=Br.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Br.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Br.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Br.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",h=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h,g,b=this._map,k=this._container,O=b.latLngToContainerPoint(b.getCenter()),z=b.layerPointToContainerPoint(a),V=this.options.direction,Z=k.offsetWidth,tt=k.offsetHeight,dt=X(this.options.offset),At=this._getAnchor();V==="top"?(h=Z/2,g=tt):V==="bottom"?(h=Z/2,g=0):V==="center"?(h=Z/2,g=tt/2):V==="right"?(h=0,g=tt/2):V==="left"?(h=Z,g=tt/2):z.x<O.x?(V="right",h=0,g=tt/2):(V="left",h=Z+(dt.x+At.x)*2,g=tt/2),a=a.subtract(X(h,g,!0)).add(dt).add(At),Ve(k,"leaflet-tooltip-right"),Ve(k,"leaflet-tooltip-left"),Ve(k,"leaflet-tooltip-top"),Ve(k,"leaflet-tooltip-bottom"),Ft(k,"leaflet-tooltip-"+V),Qe(k,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&As(this._container,a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(h)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vO=function(a,h){return new Dy(a,h)};Vt.include({openTooltip:function(a,h,g){return this._initOverlay(Dy,a,h,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Qs.include({bindTooltip:function(a,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Dy,this._tooltip,a,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var h=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[h](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Mo||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&(Mt(h,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Mt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h=a.latlng,g,b;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(g),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var TP=Ih.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var h=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(by(h),h.appendChild(g.html)):h.innerHTML=g.html!==!1?g.html:"",g.bgPos){var b=X(g.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function yO(a){return new TP(a)}Ih.Default=Fp;var Bp=Qs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){_(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Te(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Lh(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rh(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof U?a:new U(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var h=this.getPane().children,g=-a(-1/0,1/0),b=0,k=h.length,O;b<k;b++)O=h[b].style.zIndex,h[b]!==this._container&&O&&(g=a(g,+O));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!bt.ielt9){As(this._container,this.options.opacity);var a=+new Date,h=!1,g=!1;for(var b in this._tiles){var k=this._tiles[b];if(!(!k.current||!k.loaded)){var O=Math.min(1,(a-k.loaded)/200);As(k.el,O),O<1?h=!0:(k.active?g=!0:this._onOpaqueTile(k),k.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),h&&(W(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,h=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=h-Math.abs(a-g),this._onUpdateLevel(g)):(Te(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var b=this._levels[a],k=this._map;return b||(b=this._levels[a]={},b.el=Kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=k.project(k.unproject(k.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,k.getCenter(),k.getZoom()),p(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,h,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)h=this._tiles[a],h.retain=h.current;for(a in this._tiles)if(h=this._tiles[a],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var h in this._tiles)this._tiles[h].coords.z===a&&this._removeTile(h)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Te(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,h,g,b){var k=Math.floor(a/2),O=Math.floor(h/2),z=g-1,V=new U(+k,+O);V.z=+z;var Z=this._tileCoordsToKey(V),tt=this._tiles[Z];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),z>b?this._retainParent(k,O,z,b):!1)},_retainChildren:function(a,h,g,b){for(var k=2*a;k<2*a+2;k++)for(var O=2*h;O<2*h+2;O++){var z=new U(k,O);z.z=g+1;var V=this._tileCoordsToKey(z),Z=this._tiles[V];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);g+1<b&&this._retainChildren(k,O,g+1,b)}},_resetView:function(a){var h=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var h=this.options;return h.minNativeZoom!==void 0&&a<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<a?h.maxNativeZoom:a},_setView:function(a,h,g,b){var k=Math.round(h);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var O=this.options.updateWhenZooming&&k!==this._tileZoom;(!b||O)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,h)},_setZoomTransforms:function(a,h){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,h)},_setZoomTransform:function(a,h,g){var b=this._map.getZoomScale(g,a.zoom),k=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,g)).round();bt.any3d?kc(a.el,k,b):Qe(a.el,k)},_resetGrid:function(){var a=this._map,h=a.options.crs,g=this._tileSize=this.getTileSize(),b=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,h.wrapLng[0]],b).x/g.x),Math.ceil(a.project([0,h.wrapLng[1]],b).x/g.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([h.wrapLat[0],0],b).y/g.x),Math.ceil(a.project([h.wrapLat[1],0],b).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var h=this._map,g=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(g,this._tileZoom),k=h.project(a,this._tileZoom).floor(),O=h.getSize().divideBy(b*2);return new it(k.subtract(O),k.add(O))},_update:function(a){var h=this._map;if(h){var g=this._clampZoom(h.getZoom());if(a===void 0&&(a=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),k=this._pxBoundsToTileRange(b),O=k.getCenter(),z=[],V=this.options.keepBuffer,Z=new it(k.getBottomLeft().subtract([V,-V]),k.getTopRight().add([V,-V]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var dt=this._tiles[tt].coords;(dt.z!==this._tileZoom||!Z.contains(new U(dt.x,dt.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var At=k.min.y;At<=k.max.y;At++)for(var jt=k.min.x;jt<=k.max.x;jt++){var ri=new U(jt,At);if(ri.z=this._tileZoom,!!this._isValidTile(ri)){var gn=this._tiles[this._tileCoordsToKey(ri)];gn?gn.current=!0:z.push(ri)}}if(z.sort(function(Ai,Bh){return Ai.distanceTo(O)-Bh.distanceTo(O)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ps=document.createDocumentFragment();for(jt=0;jt<z.length;jt++)this._addTile(z[jt],Ps);this._level.el.appendChild(Ps)}}}},_isValidTile:function(a){var h=this._map.options.crs;if(!h.infinite){var g=this._globalTileRange;if(!h.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!h.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return ot(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var h=this._map,g=this.getTileSize(),b=a.scaleBy(g),k=b.add(g),O=h.unproject(b,a.z),z=h.unproject(k,a.z);return[O,z]},_tileCoordsToBounds:function(a){var h=this._tileCoordsToNwSe(a),g=new et(h[0],h[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var h=a.split(":"),g=new U(+h[0],+h[1]);return g.z=+h[2],g},_removeTile:function(a){var h=this._tiles[a];h&&(Te(h.el),delete this._tiles[a],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ft(a,"leaflet-tile");var h=this.getTileSize();a.style.width=h.x+"px",a.style.height=h.y+"px",a.onselectstart=p,a.onmousemove=p,bt.ielt9&&this.options.opacity<1&&As(a,this.options.opacity)},_addTile:function(a,h){var g=this._getTilePos(a),b=this._tileCoordsToKey(a),k=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(k),this.createTile.length<2&&H(o(this._tileReady,this,a,null,k)),Qe(k,g),this._tiles[b]={el:k,coords:a,current:!0},h.appendChild(k),this.fire("tileloadstart",{tile:k,coords:a})},_tileReady:function(a,h,g){h&&this.fire("tileerror",{error:h,tile:g,coords:a});var b=this._tileCoordsToKey(a);g=this._tiles[b],g&&(g.loaded=+new Date,this._map._fadeAnimated?(As(g.el,0),W(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),h||(Ft(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),bt.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var h=new U(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return h.z=a.z,h},_pxBoundsToTileRange:function(a){var h=this.getTileSize();return new it(a.min.unscaleBy(h).floor(),a.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function _O(a){return new Bp(a)}var Fh=Bp.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,h){this._url=a,h=_(this,h),h.detectRetina&&bt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,h){return this._url===a&&h===void 0&&(h=!0),this._url=a,h||this.redraw(),this},createTile:function(a,h){var g=document.createElement("img");return Mt(g,"load",o(this._tileOnLoad,this,h,g)),Mt(g,"error",o(this._tileOnError,this,h,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var h={r:bt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(h.y=g),h["-y"]=g}return E(this._url,s(h,this.options))},_tileOnLoad:function(a,h){bt.ielt9?setTimeout(o(a,this,null,h),0):a(null,h)},_tileOnError:function(a,h,g){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),a(g,h)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,h=this.options.maxZoom,g=this.options.zoomReverse,b=this.options.zoomOffset;return g&&(a=h-a),a+b},_getSubdomain:function(a){var h=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var a,h;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(h=this._tiles[a].el,h.onload=p,h.onerror=p,!h.complete)){h.src=S;var g=this._tiles[a].coords;Te(h),delete this._tiles[a],this.fire("tileabort",{tile:h,coords:g})}},_removeTile:function(a){var h=this._tiles[a];if(h)return h.el.setAttribute("src",S),Bp.prototype._removeTile.call(this,a)},_tileReady:function(a,h,g){if(!(!this._map||g&&g.getAttribute("src")===S))return Bp.prototype._tileReady.call(this,a,h,g)}});function kP(a,h){return new Fh(a,h)}var MP=Fh.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,h){this._url=a;var g=s({},this.defaultWmsParams);for(var b in h)b in this.options||(g[b]=h[b]);h=_(this,h);var k=h.detectRetina&&bt.retina?2:1,O=this.getTileSize();g.width=O.x*k,g.height=O.y*k,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Fh.prototype.onAdd.call(this,a)},getTileUrl:function(a){var h=this._tileCoordsToNwSe(a),g=this._crs,b=Q(g.project(h[0]),g.project(h[1])),k=b.min,O=b.max,z=(this._wmsVersion>=1.3&&this._crs===xP?[k.y,k.x,O.y,O.x]:[k.x,k.y,O.x,O.y]).join(","),V=Fh.prototype.getTileUrl.call(this,a);return V+P(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(a,h){return s(this.wmsParams,a),h||this.redraw(),this}});function wO(a,h){return new MP(a,h)}Fh.WMS=MP,kP.wms=wO;var No=Qs.extend({options:{padding:.1},initialize:function(a){_(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,h){var g=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,h),O=b.multiplyBy(-g).add(k).subtract(this._map._getNewPixelOrigin(a,h));bt.any3d?kc(this._container,O,g):Qe(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,h=this._map.getSize(),g=this._map.containerPointToLayerPoint(h.multiplyBy(-a)).round();this._bounds=new it(g,g.add(h.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),LP=No.extend({options:{tolerance:0},getEvents:function(){var a=No.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){No.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Mt(a,"mousemove",this._onMouseMove,this),Mt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Te(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var h in this._layers)a=this._layers[h],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){No.prototype._update.call(this);var a=this._bounds,h=this._container,g=a.getSize(),b=bt.retina?2:1;Qe(h,a.min),h.width=b*g.x,h.height=b*g.y,h.style.width=g.x+"px",h.style.height=g.y+"px",bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){No.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var h=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var h=a._order,g=h.next,b=h.prev;g?g.prev=b:this._drawLast=b,b?b.next=g:this._drawFirst=g,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var h=a.options.dashArray.split(/[, ]+/),g=[],b,k;for(k=0;k<h.length;k++){if(b=Number(h[k]),isNaN(b))return;g.push(b)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var h=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(a._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(a._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var h=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,h=this._redrawBounds;if(this._ctx.save(),h){var g=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!h||a._pxBounds&&a._pxBounds.intersects(h))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,h){if(this._drawing){var g,b,k,O,z=a._parts,V=z.length,Z=this._ctx;if(V){for(Z.beginPath(),g=0;g<V;g++){for(b=0,k=z[g].length;b<k;b++)O=z[g][b],Z[b?"lineTo":"moveTo"](O.x,O.y);h&&Z.closePath()}this._fillStroke(Z,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var h=a._point,g=this._ctx,b=Math.max(Math.round(a._radius),1),k=(Math.max(Math.round(a._radiusY),1)||b)/b;k!==1&&(g.save(),g.scale(1,k)),g.beginPath(),g.arc(h.x,h.y/k,b,0,Math.PI*2,!1),k!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,h){var g=h.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(h.options&&h.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var h=this._map.mouseEventToLayerPoint(a),g,b,k=this._drawFirst;k;k=k.next)g=k.layer,g.options.interactive&&g._containsPoint(h)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(b=g);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,h)}},_handleMouseOut:function(a){var h=this._hoveredLayer;h&&(Ve(this._container,"leaflet-interactive"),this._fireEvent([h],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,h){if(!this._mouseHoverThrottled){for(var g,b,k=this._drawFirst;k;k=k.next)g=k.layer,g.options.interactive&&g._containsPoint(h)&&(b=g);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Ft(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,h,g){this._map._fireDOMEvent(h,g||h.type,a)},_bringToFront:function(a){var h=a._order;if(h){var g=h.next,b=h.prev;if(g)g.prev=b;else return;b?b.next=g:g&&(this._drawFirst=g),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(a)}},_bringToBack:function(a){var h=a._order;if(h){var g=h.next,b=h.prev;if(b)b.next=g;else return;g?g.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)}}});function RP(a){return bt.canvas?new LP(a):null}var jp=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bO={_initContainer:function(){this._container=Kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(No.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var h=a._container=jp("shape");Ft(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",a._path=jp("path"),h.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var h=a._container;this._container.appendChild(h),a.options.interactive&&a.addInteractiveTarget(h)},_removePath:function(a){var h=a._container;Te(h),a.removeInteractiveTarget(h),delete this._layers[u(a)]},_updateStyle:function(a){var h=a._stroke,g=a._fill,b=a.options,k=a._container;k.stroked=!!b.stroke,k.filled=!!b.fill,b.stroke?(h||(h=a._stroke=jp("stroke")),k.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=A(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(k.removeChild(h),a._stroke=null),b.fill?(g||(g=a._fill=jp("fill")),k.appendChild(g),g.color=b.fillColor||b.color,g.opacity=b.fillOpacity):g&&(k.removeChild(g),a._fill=null)},_updateCircle:function(a){var h=a._point.round(),g=Math.round(a._radius),b=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+h.x+","+h.y+" "+g+","+b+" 0,"+65535*360)},_setPath:function(a,h){a._path.v=h},_bringToFront:function(a){Lh(a._container)},_bringToBack:function(a){Rh(a._container)}},Oy=bt.vml?jp:Pt,zp=No.extend({_initContainer:function(){this._container=Oy("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Oy("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Te(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){No.prototype._update.call(this);var a=this._bounds,h=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,g.setAttribute("width",h.x),g.setAttribute("height",h.y)),Qe(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(a){var h=a._path=Oy("path");a.options.className&&Ft(h,a.options.className),a.options.interactive&&Ft(h,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Te(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var h=a._path,g=a.options;h&&(g.stroke?(h.setAttribute("stroke",g.color),h.setAttribute("stroke-opacity",g.opacity),h.setAttribute("stroke-width",g.weight),h.setAttribute("stroke-linecap",g.lineCap),h.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?h.setAttribute("stroke-dasharray",g.dashArray):h.removeAttribute("stroke-dasharray"),g.dashOffset?h.setAttribute("stroke-dashoffset",g.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),g.fill?(h.setAttribute("fill",g.fillColor||g.color),h.setAttribute("fill-opacity",g.fillOpacity),h.setAttribute("fill-rule",g.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(a,h){this._setPath(a,Gt(a._parts,h))},_updateCircle:function(a){var h=a._point,g=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||g,k="a"+g+","+b+" 0 1,0 ",O=a._empty()?"M0 0":"M"+(h.x-g)+","+h.y+k+g*2+",0 "+k+-g*2+",0 ";this._setPath(a,O)},_setPath:function(a,h){a._path.setAttribute("d",h)},_bringToFront:function(a){Lh(a._path)},_bringToBack:function(a){Rh(a._path)}});bt.vml&&zp.include(bO);function NP(a){return bt.svg||bt.vml?new zp(a):null}Vt.include({getRenderer:function(a){var h=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var h=this._paneRenderers[a];return h===void 0&&(h=this._createRenderer({pane:a}),this._paneRenderers[a]=h),h},_createRenderer:function(a){return this.options.preferCanvas&&RP(a)||NP(a)}});var IP=Dh.extend({initialize:function(a,h){Dh.prototype.initialize.call(this,this._boundsToLatLngs(a),h)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ot(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function xO(a,h){return new IP(a,h)}zp.create=Oy,zp.pointsToPath=Gt,Ro.geometryToLayer=ky,Ro.coordsToLatLng=Eb,Ro.coordsToLatLngs=My,Ro.latLngToCoords=Pb,Ro.latLngsToCoords=Ly,Ro.getFeature=Oh,Ro.asFeature=Ry,Vt.mergeOptions({boxZoom:!0});var DP=Fr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Lp(),lb(),this._startPoint=this._map.mouseEventToContainerPoint(a),Mt(document,{contextmenu:Rc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Kt("div","leaflet-zoom-box",this._container),Ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var h=new it(this._point,this._startPoint),g=h.getSize();Qe(this._box,h.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Te(this._box),Ve(this._container,"leaflet-crosshair")),Rp(),cb(),ge(document,{contextmenu:Rc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var h=new et(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",DP),Vt.mergeOptions({doubleClickZoom:!0});var OP=Fr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var h=this._map,g=h.getZoom(),b=h.options.zoomDelta,k=a.originalEvent.shiftKey?g-b:g+b;h.options.doubleClickZoom==="center"?h.setZoom(k):h.setZoomAround(a.containerPoint,k)}});Vt.addInitHook("addHandler","doubleClickZoom",OP),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var FP=Fr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Wa(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ve(this._map._container,"leaflet-grab"),Ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=ot(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var h=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(h),this._prunePositions(h)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,h){return a-(a-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;a.x<h.min.x&&(a.x=this._viscousLimit(a.x,h.min.x)),a.y<h.min.y&&(a.y=this._viscousLimit(a.y,h.min.y)),a.x>h.max.x&&(a.x=this._viscousLimit(a.x,h.max.x)),a.y>h.max.y&&(a.y=this._viscousLimit(a.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,h=Math.round(a/2),g=this._initialWorldOffset,b=this._draggable._newPos.x,k=(b-h+g)%a+h-g,O=(b+h+g)%a-h-g,z=Math.abs(k+g)<Math.abs(O+g)?k:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(a){var h=this._map,g=h.options,b=!g.inertia||a.noInertia||this._times.length<2;if(h.fire("dragend",a),b)h.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,z=g.easeLinearity,V=k.multiplyBy(z/O),Z=V.distanceTo([0,0]),tt=Math.min(g.inertiaMaxSpeed,Z),dt=V.multiplyBy(tt/Z),At=tt/(g.inertiaDeceleration*z),jt=dt.multiplyBy(-At/2).round();!jt.x&&!jt.y?h.fire("moveend"):(jt=h._limitOffset(jt,h.options.maxBounds),H(function(){h.panBy(jt,{duration:At,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Vt.addInitHook("addHandler","dragging",FP),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var BP=Fr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Mt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,h=document.documentElement,g=a.scrollTop||h.scrollTop,b=a.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var h=this._panKeys={},g=this.keyCodes,b,k;for(b=0,k=g.left.length;b<k;b++)h[g.left[b]]=[-1*a,0];for(b=0,k=g.right.length;b<k;b++)h[g.right[b]]=[a,0];for(b=0,k=g.down.length;b<k;b++)h[g.down[b]]=[0,a];for(b=0,k=g.up.length;b<k;b++)h[g.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var h=this._zoomKeys={},g=this.keyCodes,b,k;for(b=0,k=g.zoomIn.length;b<k;b++)h[g.zoomIn[b]]=a;for(b=0,k=g.zoomOut.length;b<k;b++)h[g.zoomOut[b]]=-a},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var h=a.keyCode,g=this._map,b;if(h in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(b=this._panKeys[h],a.shiftKey&&(b=X(b).multiplyBy(3)),g.options.maxBounds&&(b=g._limitOffset(X(b),g.options.maxBounds)),g.options.worldCopyJump){var k=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(b)));g.panTo(k)}else g.panBy(b)}else if(h in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Rc(a)}}});Vt.addInitHook("addHandler","keyboard",BP),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jP=Fr.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var h=cP(a),g=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),b),Rc(a)},_performZoom:function(){var a=this._map,h=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,O=g?Math.ceil(k/g)*g:k,z=a._limitZoom(h+(this._delta>0?O:-O))-h;this._delta=0,this._startTime=null,z&&(a.options.scrollWheelZoom==="center"?a.setZoom(h+z):a.setZoomAround(this._lastMousePos,h+z))}});Vt.addInitHook("addHandler","scrollWheelZoom",jP);var SO=600;Vt.mergeOptions({tapHold:bt.touchNative&&bt.safari&&bt.mobile,tapTolerance:15});var zP=Fr.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var h=a.touches[0];this._startPos=this._newPos=new U(h.clientX,h.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",Tn),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),SO),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ge(document,"touchend",Tn),ge(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(a){var h=a.touches[0];this._newPos=new U(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,h){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});g._simulated=!0,h.target.dispatchEvent(g)}});Vt.addInitHook("addHandler","tapHold",zP),Vt.mergeOptions({touchZoom:bt.touch,bounceAtZoomLimits:!0});var HP=Fr.extend({addHooks:function(){Ft(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ve(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var h=this._map;if(!(!a.touches||a.touches.length!==2||h._animatingZoom||this._zooming)){var g=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(g.add(b)._divideBy(2))),this._startDist=g.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),Tn(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var h=this._map,g=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]),k=g.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(k,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&k<1||this._zoom>h.getMaxZoom()&&k>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var O=g._add(b)._divideBy(2)._subtract(this._centerPoint);if(k===1&&O.x===0&&O.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var z=o(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(z,this,!0),Tn(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vt.addInitHook("addHandler","touchZoom",HP),Vt.BoxZoom=DP,Vt.DoubleClickZoom=OP,Vt.Drag=FP,Vt.Keyboard=BP,Vt.ScrollWheelZoom=jP,Vt.TapHold=zP,Vt.TouchZoom=HP,e.Bounds=it,e.Browser=bt,e.CRS=at,e.Canvas=LP,e.Circle=Ab,e.CircleMarker=Ty,e.Class=$,e.Control=Ks,e.DivIcon=TP,e.DivOverlay=Br,e.DomEvent=HD,e.DomUtil=jD,e.Draggable=Wa,e.Evented=Y,e.FeatureGroup=Mo,e.GeoJSON=Ro,e.GridLayer=Bp,e.Handler=Fr,e.Icon=Ih,e.ImageOverlay=Ny,e.LatLng=ut,e.LatLngBounds=et,e.Layer=Qs,e.LayerGroup=Nh,e.LineUtil=tO,e.Map=Vt,e.Marker=Cy,e.Mixin=ZD,e.Path=Va,e.Point=U,e.PolyUtil=XD,e.Polygon=Dh,e.Polyline=Lo,e.Popup=Iy,e.PosAnimation=uP,e.Projection=eO,e.Rectangle=IP,e.Renderer=No,e.SVG=zp,e.SVGOverlay=CP,e.TileLayer=Fh,e.Tooltip=Dy,e.Transformation=mt,e.Util=K,e.VideoOverlay=PP,e.bind=o,e.bounds=Q,e.canvas=RP,e.circle=cO,e.circleMarker=lO,e.control=Dp,e.divIcon=yO,e.extend=s,e.featureGroup=rO,e.geoJSON=EP,e.geoJson=dO,e.gridLayer=_O,e.icon=oO,e.imageOverlay=fO,e.latLng=ht,e.latLngBounds=ot,e.layerGroup=sO,e.map=UD,e.marker=aO,e.point=X,e.polygon=hO,e.polyline=uO,e.popup=mO,e.rectangle=xO,e.setOptions=_,e.stamp=u,e.svg=NP,e.svgOverlay=gO,e.tileLayer=kP,e.tooltip=vO,e.transformation=lt,e.version=i,e.videoOverlay=pO;var AO=window.L;e.noConflict=function(){return window.L=AO,this},window.L=e})})(E1,E1.exports);var cy=E1.exports;function wE(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function bE(n,t){return t==null?function(i,s){const r=D.useRef();return r.current||(r.current=n(i,s)),r}:function(i,s){const r=D.useRef();r.current||(r.current=n(i,s));const o=D.useRef(i),{instance:c}=r.current;return D.useEffect(function(){o.current!==i&&(t(c,i,o.current),o.current=i)},[c,i,s]),r}}function s8(n,t){D.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var r;(r=t.layerContainer)==null||r.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function jR(n){return function(e){const i=FR(),s=n(_E(e,i),i);return IR(i.map,e.attribution),BR(s.current,e.eventHandlers),s8(s.current,i),s}}function r8(n,t){const e=bE(n,t),i=jR(e);return t8(i)}function o8(n,t){const e=bE(n),i=i8(e,t);return e8(i)}function a8(n,t){const e=bE(n,t),i=jR(e);return n8(i)}function l8(n,t,e){const{opacity:i,zIndex:s}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),s!=null&&s!==e.zIndex&&n.setZIndex(s)}function P1(){return P1=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},P1.apply(this,arguments)}function c8({bounds:n,boundsOptions:t,center:e,children:i,className:s,id:r,placeholder:o,style:c,whenReady:u,zoom:d,...f},p){const[m]=D.useState({className:s,id:r,style:c}),[v,x]=D.useState(null);D.useImperativeHandle(p,()=>(v==null?void 0:v.map)??null,[v]);const _=D.useCallback(w=>{if(w!==null&&v===null){const E=new cy.Map(w,f);e!=null&&d!=null?E.setView(e,d):n!=null&&E.fitBounds(n,t),u!=null&&E.whenReady(u),x(QH(E))}},[]);D.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const P=v?rt.createElement(OR,{value:v},i):o??null;return rt.createElement("div",P1({},m,{ref:_}),P)}const u8=D.forwardRef(c8),h8=r8(function({position:t,...e},i){const s=new cy.Marker(t,e);return wE(s,JH(i,{overlayContainer:s}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),d8=o8(function(t,e){const i=new cy.Popup(t,e.overlayContainer);return wE(i,e)},function(t,e,{position:i},s){D.useEffect(function(){const{instance:o}=t;function c(d){d.popup===o&&(o.update(),s(!0))}function u(d){d.popup===o&&s(!1)}return e.map.on({popupopen:c,popupclose:u}),e.overlayContainer==null?(i!=null&&o.setLatLng(i),o.openOn(e.map)):e.overlayContainer.bindPopup(o),function(){var f;e.map.off({popupopen:c,popupclose:u}),(f=e.overlayContainer)==null||f.unbindPopup(),e.map.removeLayer(o)}},[t,e,s,i])}),f8=a8(function({url:t,...e},i){const s=new cy.TileLayer(t,_E(e,i));return wE(s,i)},function(t,e,i){l8(t,e,i);const{url:s}=e;s!=null&&s!==i.url&&t.setUrl(s)}),p8=new cy.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-gold.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[30,45],iconAnchor:[15,45],popupAnchor:[0,-40]}),g8=[{id:"marathahalli-blr",name:"Marathahalli",city:"Bengaluru",state:"Karnataka",lat:12.951244864093034,lng:77.69943776441791,gmap:"https://maps.app.goo.gl/Mmii2uviqT5N9xz26"},{id:"whitefield-blr",name:"Whitefield",city:"Bengaluru",state:"Karnataka",lat:12.97572728125544,lng:77.72684785334371,gmap:"https://maps.app.goo.gl/Dj89dc1L9fTETf5k6"},{id:"mullickbazar-kol",name:"Mullick Bazar",city:"Kolkata",state:"West Bengal",lat:22.54630463858092,lng:88.36251169661766,gmap:"https://maps.app.goo.gl/yWFtnKD3hYA5G7Vn8"},{id:"chinarpark-kol",name:"Chinar Park",city:"Kolkata",state:"West Bengal",lat:22.622345933347592,lng:88.4451553101118,gmap:"https://maps.app.goo.gl/S2pmsDS3giz5jrXM6"},{id:"maheshtala-kol",name:"Maheshtala",city:"Kolkata",state:"West Bengal",lat:22.54902551292249,lng:88.2804088101103,gmap:"https://maps.app.goo.gl/bt8uDZfHjj8SSRpi8"},{id:"aligarh-up",name:"Aligarh",city:"Aligarh",state:"Uttar Pradesh",lat:27.931463750337127,lng:78.09171186164401,gmap:"https://maps.app.goo.gl/AaJ6yZNM4LbHfTrp7"},{id:"hazratganj-up",name:"Hazratganj",city:"Lucknow",state:"Uttar Pradesh",lat:26.88328546271052,lng:80.97644018949754,gmap:"https://maps.app.goo.gl/Xk8ypqkZKXLR8hmN9"},{id:"aliganj-up",name:"Aliganj",city:"Lucknow",state:"Uttar Pradesh",lat:26.917576861335718,lng:80.92700171415677,gmap:"https://maps.app.goo.gl/8362Q1AEDYXaD98M8"},{id:"kanpur-up",name:"Kanpur",city:"Kanpur",state:"Uttar Pradesh",lat:26.529971510540644,lng:80.33099342810426,gmap:"https://maps.app.goo.gl/nibPyXmitVvEZwXS8"},{id:"gomtinagar-up",name:"Gomtinagar",city:"Lucknow",state:"Uttar Pradesh",lat:26.888184871362267,lng:80.99566626324116,gmap:"https://maps.app.goo.gl/jbZQ6zeAiPfJxrqLA"},{id:"patna-bih",name:"Patna",city:"Patna",state:"Bihar",lat:25.611045473061754,lng:85.13778713901065,gmap:"https://maps.app.goo.gl/s9DjoSC5MQKqJNEy9"},{id:"tirupati-ap",name:"Tirupati",city:"Tirupati",state:"Andhra Pradesh",lat:13.772110471321964,lng:79.38869497181894,gmap:"https://maps.app.goo.gl/xDRQSuTkr4hRybyG6"},{id:"moghalrajpuram-ap",name:"Moghalrajpuram",city:"Vijayawada",state:"Andhra Pradesh",lat:16.78157743605752,lng:80.66310900282521,gmap:"https://maps.app.goo.gl/1v1asTg4FGu3qEPTA"},{id:"chinnakakani-ap",name:"Chinnakakani",city:"Chinnakakani",state:"Andhra Pradesh",lat:16.686887873786343,lng:80.54225939643668,gmap:"https://maps.app.goo.gl/acr7ySzRuoQDEmg79"},{id:"visakhapatnam-ap",name:"Visakhapatnam",city:"Visakhapatnam",state:"Andhra Pradesh",lat:17.788617765871667,lng:83.20095073698425,gmap:"https://maps.app.goo.gl/23Td1kA9CxeUwVSg8"},{id:"nellore-ap",name:"Nellore",city:"Nellore",state:"Andhra Pradesh",lat:14.634790335724153,lng:80.10280628229658,gmap:"https://maps.app.goo.gl/FctjiNZuvmUt6Epr9"},{id:"bhimavaram-ap",name:"Bhimavaram",city:"Bhimavaram",state:"Andhra Pradesh",lat:16.750019477936203,lng:81.44313828042387,gmap:"https://maps.app.goo.gl/5vmdJwmEPrQ7BEkn7"},{id:"vijayawada-ap",name:"Vijayawada",city:"Vijayawada",state:"Andhra Pradesh",lat:16.72897793186955,lng:80.79494493706724,gmap:"https://maps.app.goo.gl/yDvBqFxiLu1c14gG6"},{id:"kavali-ap",name:"Kavali",city:"Kavali",state:"Andhra Pradesh",lat:15.1338203374795,lng:79.95998402020106,gmap:"https://maps.app.goo.gl/Uz5owpYrJ3vBTobc9"},{id:"kompally-hyd",name:"Kompally",city:"Hyderabad",state:"Telangana",lat:17.705676350324516,lng:78.53161177464759,gmap:"https://maps.app.goo.gl/JYB4ec1i7tK3vksK6"},{id:"kukatpally-hyd",name:"Kukatpally",city:"Hyderabad",state:"Telangana",lat:17.71614196556111,lng:78.41076216825905,gmap:"https://maps.app.goo.gl/3f3PtT8pxZSC5XT37"},{id:"srnagar-hyd",name:"SR Nagar",city:"Hyderabad",state:"Telangana",lat:17.663807789240074,lng:78.41076216825905,gmap:"https://maps.app.goo.gl/CnKcqBE4i6msbh4b7"},{id:"gachibowli-hyd",name:"Gachibowli",city:"Hyderabad",state:"Telangana",lat:17.65333912550355,lng:78.30089888972402,gmap:"https://maps.app.goo.gl/FU5GwUqUASLcSVYk8"}],m8=()=>M.jsx("footer",{className:"bg-card border-t border-border",children:M.jsxs("div",{className:"container mx-auto px-4 py-16",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[M.jsxs("div",{children:[M.jsx(br,{to:"/",className:"flex items-center gap-2",children:M.jsx("span",{className:"text-2xl md:text-3xl font-heading font-bold text-gradient-gold",children:M.jsx("img",{src:NR,alt:"Barkaas Logo",className:"h-16 w-16"})})}),M.jsxs("p",{className:"text-muted-foreground leading-relaxed mt-4",children:["Welcome to India's Largest Indo-Arabic Chain of Restaurants.",M.jsx("span",{className:"block font-bold",children:"Think Mandi. Think Biryani. Think Barkaas."})]})]}),M.jsxs("div",{children:[M.jsx("h4",{className:"text-lg font-heading font-semibold text-gold mb-4",children:"Contact Us"}),M.jsxs("ul",{className:"space-y-3",children:[M.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[M.jsx(_3,{size:18,className:"text-gold shrink-0 mt-1"}),M.jsxs("div",{children:[M.jsx("p",{className:"font-medium text-foreground mb-1",children:"For Franchisee Enquiries:"}),M.jsx("a",{href:"https://wa.me/919741998636",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gold transition-colors",children:"WhatsApp: +91 97419 98636"})]})]}),M.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[M.jsx(C2,{size:18,className:"text-gold shrink-0 mt-1"}),M.jsxs("div",{children:[M.jsx("p",{className:"font-medium text-foreground mb-1",children:"For Other Enquiries:"}),M.jsx("a",{href:"tel:+918494945678",className:"block hover:text-gold transition-colors",children:"+91 84949 45678"})]})]}),M.jsxs("li",{className:"flex items-center gap-3 text-muted-foreground",children:[M.jsx(P2,{size:18,className:"text-gold shrink-0"}),M.jsx("a",{href:"mailto:info@barkaas.com",className:"hover:text-gold transition-colors",children:"info@barkaas.com"})]})]})]}),M.jsxs("div",{children:[M.jsx("h4",{className:"text-lg font-heading font-semibold text-gold mb-4",children:"Opening Hours"}),M.jsx("ul",{className:"space-y-3 mb-6",children:M.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[M.jsx(E2,{size:18,className:"text-gold mt-1 shrink-0"}),M.jsx("div",{children:M.jsx("p",{children:"Mon-Sun: 11:30 AM - 11:00 PM"})})]})}),M.jsx("h4",{className:"text-lg font-heading font-semibold text-gold mb-4",children:"Follow Us"}),M.jsxs("div",{className:"flex gap-4",children:[M.jsx("a",{href:"https://instagram.com/barkaas",target:"_blank",rel:"noopener noreferrer",className:"relative group","aria-label":"Instagram",children:M.jsx("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full bg-foreground/10 border-2 border-gold/30 transition-all duration-300 group-hover:border-gold group-hover:shadow-[0_0_20px_rgba(212,175,55,0.6)] group-hover:scale-110",children:M.jsx(m3,{size:24,className:"text-gold transition-all duration-300 group-hover:drop-shadow-[0_0_8px_rgba(212,175,55,0.8)]"})})}),M.jsx("a",{href:"https://facebook.com/barkaas",target:"_blank",rel:"noopener noreferrer",className:"relative group","aria-label":"Facebook",children:M.jsx("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full bg-foreground/10 border-2 border-gold/30 transition-all duration-300 group-hover:border-gold group-hover:shadow-[0_0_20px_rgba(212,175,55,0.6)] group-hover:scale-110",children:M.jsx(f3,{size:24,className:"text-gold transition-all duration-300 group-hover:drop-shadow-[0_0_8px_rgba(212,175,55,0.8)]"})})})]})]}),M.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl shadow-gold/20 border border-gold/20 hover:border-gold/50 transition-all duration-300",children:M.jsxs(u8,{center:[20.5937,78.9629],zoom:5,style:{height:"340px",width:"100%"},scrollWheelZoom:"center",zoomControl:!0,doubleClickZoom:!0,children:[M.jsx(f8,{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),g8.map(n=>M.jsx(h8,{position:[n.lat,n.lng],icon:p8,children:M.jsx(d8,{className:"!p-0 shadow-2xl min-w-[280px]",children:M.jsxs("div",{className:"p-5 space-y-3",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-3 h-3 bg-gold rounded-full"}),M.jsx("h3",{className:"font-heading font-bold text-xl text-burgundy",children:n.name})]}),M.jsxs("p",{className:"text-muted-foreground",children:[n.city,", ",n.state]}),M.jsx(Fi,{variant:"gold",size:"sm",asChild:!0,className:"w-full",children:M.jsxs("a",{href:n.gmap,target:"_blank",rel:"noopener noreferrer",children:[M.jsx(v3,{className:"mr-2 h-4 w-4"}),"Open in Google Maps"]})})]})})},n.id))]})})]}),M.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center text-sm",children:M.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," ","Designed & Developed by"," ",M.jsx("a",{href:"https://madtalesai.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gold hover:text-gold/80 transition-colors",children:"Madtales AI Pvt Ltd."})," ","All rights reserved."]})})]})}),uy=({children:n})=>M.jsxs("div",{className:"min-h-screen flex flex-col",children:[M.jsx(YH,{}),M.jsx("main",{className:"flex-1 pt-20",children:n}),M.jsx(m8,{})]});function v8(n){return Object.prototype.toString.call(n)==="[object Object]"}function jT(n){return v8(n)||Array.isArray(n)}function y8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function xE(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;const s=JSON.stringify(Object.keys(n.breakpoints||{})),r=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==r?!1:e.every(o=>{const c=n[o],u=t[o];return typeof c=="function"?`${c}`==`${u}`:!jT(c)||!jT(u)?c===u:xE(c,u)})}function zT(n){return n.concat().sort((t,e)=>t.name>e.name?1:-1).map(t=>t.options)}function _8(n,t){if(n.length!==t.length)return!1;const e=zT(n),i=zT(t);return e.every((s,r)=>{const o=i[r];return xE(s,o)})}function SE(n){return typeof n=="number"}function C1(n){return typeof n=="string"}function qw(n){return typeof n=="boolean"}function HT(n){return Object.prototype.toString.call(n)==="[object Object]"}function Ne(n){return Math.abs(n)}function AE(n){return Math.sign(n)}function Fg(n,t){return Ne(n-t)}function w8(n,t){if(n===0||t===0||Ne(n)<=Ne(t))return 0;const e=Fg(Ne(n),Ne(t));return Ne(e/n)}function b8(n){return Math.round(n*100)/100}function lm(n){return cm(n).map(Number)}function Er(n){return n[hy(n)]}function hy(n){return Math.max(0,n.length-1)}function EE(n,t){return t===hy(n)}function UT(n,t=0){return Array.from(Array(n),(e,i)=>t+i)}function cm(n){return Object.keys(n)}function zR(n,t){return[n,t].reduce((e,i)=>(cm(i).forEach(s=>{const r=e[s],o=i[s],c=HT(r)&&HT(o);e[s]=c?zR(r,o):o}),e),{})}function T1(n,t){return typeof t.MouseEvent<"u"&&n instanceof t.MouseEvent}function x8(n,t){const e={start:i,center:s,end:r};function i(){return 0}function s(u){return r(u)/2}function r(u){return t-u}function o(u,d){return C1(n)?e[n](u):n(t,u,d)}return{measure:o}}function um(){let n=[];function t(s,r,o,c={passive:!0}){let u;if("addEventListener"in s)s.addEventListener(r,o,c),u=()=>s.removeEventListener(r,o,c);else{const d=s;d.addListener(o),u=()=>d.removeListener(o)}return n.push(u),i}function e(){n=n.filter(s=>s())}const i={add:t,clear:e};return i}function S8(n,t,e,i){const s=um(),r=1e3/60;let o=null,c=0,u=0;function d(){s.add(n,"visibilitychange",()=>{n.hidden&&x()})}function f(){v(),s.clear()}function p(P){if(!u)return;o||(o=P,e(),e());const w=P-o;for(o=P,c+=w;c>=r;)e(),c-=r;const E=c/r;i(E),u&&(u=t.requestAnimationFrame(p))}function m(){u||(u=t.requestAnimationFrame(p))}function v(){t.cancelAnimationFrame(u),o=null,c=0,u=0}function x(){o=null,c=0}return{init:d,destroy:f,start:m,stop:v,update:e,render:i}}function A8(n,t){const e=t==="rtl",i=n==="y",s=i?"y":"x",r=i?"x":"y",o=!i&&e?-1:1,c=f(),u=p();function d(x){const{height:_,width:P}=x;return i?_:P}function f(){return i?"top":e?"right":"left"}function p(){return i?"bottom":e?"left":"right"}function m(x){return x*o}return{scroll:s,cross:r,startEdge:c,endEdge:u,measureSize:d,direction:m}}function _h(n=0,t=0){const e=Ne(n-t);function i(d){return d<n}function s(d){return d>t}function r(d){return i(d)||s(d)}function o(d){return r(d)?i(d)?n:t:d}function c(d){return e?d-e*Math.ceil((d-t)/e):d}return{length:e,max:t,min:n,constrain:o,reachedAny:r,reachedMax:s,reachedMin:i,removeOffset:c}}function HR(n,t,e){const{constrain:i}=_h(0,n),s=n+1;let r=o(t);function o(m){return e?Ne((s+m)%s):i(m)}function c(){return r}function u(m){return r=o(m),p}function d(m){return f().set(c()+m)}function f(){return HR(n,c(),e)}const p={get:c,set:u,add:d,clone:f};return p}function E8(n,t,e,i,s,r,o,c,u,d,f,p,m,v,x,_,P,w,E){const{cross:A,direction:y}=n,S=["INPUT","SELECT","TEXTAREA"],T={passive:!1},N=um(),F=um(),B=_h(50,225).constrain(v.measure(20)),j={mouse:300,touch:400},H={mouse:500,touch:600},W=x?43:25;let K=!1,$=0,J=0,q=!1,Y=!1,U=!1,G=!1;function X(lt){if(!E)return;function _t(Pt){(qw(E)||E(lt,Pt))&&ht(Pt)}const xt=t;N.add(xt,"dragstart",Pt=>Pt.preventDefault(),T).add(xt,"touchmove",()=>{},T).add(xt,"touchend",()=>{}).add(xt,"touchstart",_t).add(xt,"mousedown",_t).add(xt,"touchcancel",Rt).add(xt,"contextmenu",Rt).add(xt,"click",Qt,!0)}function it(){N.clear(),F.clear()}function Q(){const lt=G?e:t;F.add(lt,"touchmove",at,T).add(lt,"touchend",Rt).add(lt,"mousemove",at,T).add(lt,"mouseup",Rt)}function et(lt){const _t=lt.nodeName||"";return S.includes(_t)}function ot(){return(x?H:j)[G?"mouse":"touch"]}function ut(lt,_t){const xt=p.add(AE(lt)*-1),Pt=f.byDistance(lt,!x).distance;return x||Ne(lt)<B?Pt:P&&_t?Pt*.5:f.byIndex(xt.get(),0).distance}function ht(lt){const _t=T1(lt,i);G=_t,U=x&&_t&&!lt.buttons&&K,K=Fg(s.get(),o.get())>=2,!(_t&&lt.button!==0)&&(et(lt.target)||(q=!0,r.pointerDown(lt),d.useFriction(0).useDuration(0),s.set(o),Q(),$=r.readPoint(lt),J=r.readPoint(lt,A),m.emit("pointerDown")))}function at(lt){if(!T1(lt,i)&&lt.touches.length>=2)return Rt(lt);const xt=r.readPoint(lt),Pt=r.readPoint(lt,A),Gt=Fg(xt,$),Ut=Fg(Pt,J);if(!Y&&!G&&(!lt.cancelable||(Y=Gt>Ut,!Y)))return Rt(lt);const Ye=r.pointerMove(lt);Gt>_&&(U=!0),d.useFriction(.3).useDuration(.75),c.start(),s.add(y(Ye)),lt.preventDefault()}function Rt(lt){const xt=f.byDistance(0,!1).index!==p.get(),Pt=r.pointerUp(lt)*ot(),Gt=ut(y(Pt),xt),Ut=w8(Pt,Gt),Ye=W-10*Ut,an=w+Ut/50;Y=!1,q=!1,F.clear(),d.useDuration(Ye).useFriction(an),u.distance(Gt,!x),G=!1,m.emit("pointerUp")}function Qt(lt){U&&(lt.stopPropagation(),lt.preventDefault(),U=!1)}function Bt(){return q}return{init:X,destroy:it,pointerDown:Bt}}function P8(n,t){let i,s;function r(p){return p.timeStamp}function o(p,m){const x=`client${(m||n.scroll)==="x"?"X":"Y"}`;return(T1(p,t)?p:p.touches[0])[x]}function c(p){return i=p,s=p,o(p)}function u(p){const m=o(p)-o(s),v=r(p)-r(i)>170;return s=p,v&&(i=p),m}function d(p){if(!i||!s)return 0;const m=o(s)-o(i),v=r(p)-r(i),x=r(p)-r(s)>170,_=m/v;return v&&!x&&Ne(_)>.1?_:0}return{pointerDown:c,pointerMove:u,pointerUp:d,readPoint:o}}function C8(){function n(e){const{offsetTop:i,offsetLeft:s,offsetWidth:r,offsetHeight:o}=e;return{top:i,right:s+r,bottom:i+o,left:s,width:r,height:o}}return{measure:n}}function T8(n){function t(i){return n*(i/100)}return{measure:t}}function k8(n,t,e,i,s,r,o){const c=[n].concat(i);let u,d,f=[],p=!1;function m(P){return s.measureSize(o.measure(P))}function v(P){if(!r)return;d=m(n),f=i.map(m);function w(E){for(const A of E){if(p)return;const y=A.target===n,S=i.indexOf(A.target),T=y?d:f[S],N=m(y?n:i[S]);if(Ne(N-T)>=.5){P.reInit(),t.emit("resize");break}}}u=new ResizeObserver(E=>{(qw(r)||r(P,E))&&w(E)}),e.requestAnimationFrame(()=>{c.forEach(E=>u.observe(E))})}function x(){p=!0,u&&u.disconnect()}return{init:v,destroy:x}}function M8(n,t,e,i,s,r){let o=0,c=0,u=s,d=r,f=n.get(),p=0;function m(){const T=i.get()-n.get(),N=!u;let F=0;return N?(o=0,e.set(i),n.set(i),F=T):(e.set(n),o+=T/u,o*=d,f+=o,n.add(o),F=f-p),c=AE(F),p=f,S}function v(){const T=i.get()-t.get();return Ne(T)<.001}function x(){return u}function _(){return c}function P(){return o}function w(){return A(s)}function E(){return y(r)}function A(T){return u=T,S}function y(T){return d=T,S}const S={direction:_,duration:x,velocity:P,seek:m,settled:v,useBaseFriction:E,useBaseDuration:w,useFriction:y,useDuration:A};return S}function L8(n,t,e,i,s){const r=s.measure(10),o=s.measure(50),c=_h(.1,.99);let u=!1;function d(){return!(u||!n.reachedAny(e.get())||!n.reachedAny(t.get()))}function f(v){if(!d())return;const x=n.reachedMin(t.get())?"min":"max",_=Ne(n[x]-t.get()),P=e.get()-t.get(),w=c.constrain(_/o);e.subtract(P*w),!v&&Ne(P)<r&&(e.set(n.constrain(e.get())),i.useDuration(25).useBaseFriction())}function p(v){u=!v}return{shouldConstrain:d,constrain:f,toggleActive:p}}function R8(n,t,e,i,s){const r=_h(-t+n,0),o=p(),c=f(),u=m();function d(x,_){return Fg(x,_)<=1}function f(){const x=o[0],_=Er(o),P=o.lastIndexOf(x),w=o.indexOf(_)+1;return _h(P,w)}function p(){return e.map((x,_)=>{const{min:P,max:w}=r,E=r.constrain(x),A=!_,y=EE(e,_);return A?w:y||d(P,E)?P:d(w,E)?w:E}).map(x=>parseFloat(x.toFixed(3)))}function m(){if(t<=n+s)return[r.max];if(i==="keepSnaps")return o;const{min:x,max:_}=c;return o.slice(x,_)}return{snapsContained:u,scrollContainLimit:c}}function N8(n,t,e){const i=t[0],s=e?i-n:Er(t);return{limit:_h(s,i)}}function I8(n,t,e,i){const r=t.min+.1,o=t.max+.1,{reachedMin:c,reachedMax:u}=_h(r,o);function d(m){return m===1?u(e.get()):m===-1?c(e.get()):!1}function f(m){if(!d(m))return;const v=n*(m*-1);i.forEach(x=>x.add(v))}return{loop:f}}function D8(n){const{max:t,length:e}=n;function i(r){const o=r-t;return e?o/-e:0}return{get:i}}function O8(n,t,e,i,s){const{startEdge:r,endEdge:o}=n,{groupSlides:c}=s,u=p().map(t.measure),d=m(),f=v();function p(){return c(i).map(_=>Er(_)[o]-_[0][r]).map(Ne)}function m(){return i.map(_=>e[r]-_[r]).map(_=>-Ne(_))}function v(){return c(d).map(_=>_[0]).map((_,P)=>_+u[P])}return{snaps:d,snapsAligned:f}}function F8(n,t,e,i,s,r){const{groupSlides:o}=s,{min:c,max:u}=i,d=f();function f(){const m=o(r),v=!n||t==="keepSnaps";return e.length===1?[r]:v?m:m.slice(c,u).map((x,_,P)=>{const w=!_,E=EE(P,_);if(w){const A=Er(P[0])+1;return UT(A)}if(E){const A=hy(r)-Er(P)[0]+1;return UT(A,Er(P)[0])}return x})}return{slideRegistry:d}}function B8(n,t,e,i,s){const{reachedAny:r,removeOffset:o,constrain:c}=i;function u(x){return x.concat().sort((_,P)=>Ne(_)-Ne(P))[0]}function d(x){const _=n?o(x):c(x),P=t.map((E,A)=>({diff:f(E-_,0),index:A})).sort((E,A)=>Ne(E.diff)-Ne(A.diff)),{index:w}=P[0];return{index:w,distance:_}}function f(x,_){const P=[x,x+e,x-e];if(!n)return x;if(!_)return u(P);const w=P.filter(E=>AE(E)===_);return w.length?u(w):Er(P)-e}function p(x,_){const P=t[x]-s.get(),w=f(P,_);return{index:x,distance:w}}function m(x,_){const P=s.get()+x,{index:w,distance:E}=d(P),A=!n&&r(P);if(!_||A)return{index:w,distance:x};const y=t[w]-E,S=x+f(y,0);return{index:w,distance:S}}return{byDistance:m,byIndex:p,shortcut:f}}function j8(n,t,e,i,s,r,o){function c(p){const m=p.distance,v=p.index!==t.get();r.add(m),m&&(i.duration()?n.start():(n.update(),n.render(1),n.update())),v&&(e.set(t.get()),t.set(p.index),o.emit("select"))}function u(p,m){const v=s.byDistance(p,m);c(v)}function d(p,m){const v=t.clone().set(p),x=s.byIndex(v.get(),m);c(x)}return{distance:u,index:d}}function z8(n,t,e,i,s,r,o,c){const u={passive:!0,capture:!0};let d=0;function f(v){if(!c)return;function x(_){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),n.scrollLeft=0;const E=e.findIndex(A=>A.includes(_));SE(E)&&(s.useDuration(0),i.index(E,0),o.emit("slideFocus"))}r.add(document,"keydown",p,!1),t.forEach((_,P)=>{r.add(_,"focus",w=>{(qw(c)||c(v,w))&&x(P)},u)})}function p(v){v.code==="Tab"&&(d=new Date().getTime())}return{init:f}}function rg(n){let t=n;function e(){return t}function i(u){t=o(u)}function s(u){t+=o(u)}function r(u){t-=o(u)}function o(u){return SE(u)?u:u.get()}return{get:e,set:i,add:s,subtract:r}}function UR(n,t){const e=n.scroll==="x"?o:c,i=t.style;let s=null,r=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function c(m){return`translate3d(0px,${m}px,0px)`}function u(m){if(r)return;const v=b8(n.direction(m));v!==s&&(i.transform=e(v),s=v)}function d(m){r=!m}function f(){r||(i.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:u,toggleActive:d}}function H8(n,t,e,i,s,r,o,c,u){const f=lm(s),p=lm(s).reverse(),m=w().concat(E());function v(N,F){return N.reduce((B,j)=>B-s[j],F)}function x(N,F){return N.reduce((B,j)=>v(B,F)>0?B.concat([j]):B,[])}function _(N){return r.map((F,B)=>({start:F-i[B]+.5+N,end:F+t-.5+N}))}function P(N,F,B){const j=_(F);return N.map(H=>{const W=B?0:-e,K=B?e:0,$=B?"end":"start",J=j[H][$];return{index:H,loopPoint:J,slideLocation:rg(-1),translate:UR(n,u[H]),target:()=>c.get()>J?W:K}})}function w(){const N=o[0],F=x(p,N);return P(F,e,!1)}function E(){const N=t-o[0]-1,F=x(f,N);return P(F,-e,!0)}function A(){return m.every(({index:N})=>{const F=f.filter(B=>B!==N);return v(F,t)<=.1})}function y(){m.forEach(N=>{const{target:F,translate:B,slideLocation:j}=N,H=F();H!==j.get()&&(B.to(H),j.set(H))})}function S(){m.forEach(N=>N.translate.clear())}return{canLoop:A,clear:S,loop:y,loopPoints:m}}function U8(n,t,e){let i,s=!1;function r(u){if(!e)return;function d(f){for(const p of f)if(p.type==="childList"){u.reInit(),t.emit("slidesChanged");break}}i=new MutationObserver(f=>{s||(qw(e)||e(u,f))&&d(f)}),i.observe(n,{childList:!0})}function o(){i&&i.disconnect(),s=!0}return{init:r,destroy:o}}function $8(n,t,e,i){const s={};let r=null,o=null,c,u=!1;function d(){c=new IntersectionObserver(x=>{u||(x.forEach(_=>{const P=t.indexOf(_.target);s[P]=_}),r=null,o=null,e.emit("slidesInView"))},{root:n.parentElement,threshold:i}),t.forEach(x=>c.observe(x))}function f(){c&&c.disconnect(),u=!0}function p(x){return cm(s).reduce((_,P)=>{const w=parseInt(P),{isIntersecting:E}=s[w];return(x&&E||!x&&!E)&&_.push(w),_},[])}function m(x=!0){if(x&&r)return r;if(!x&&o)return o;const _=p(x);return x&&(r=_),x||(o=_),_}return{init:d,destroy:f,get:m}}function W8(n,t,e,i,s,r){const{measureSize:o,startEdge:c,endEdge:u}=n,d=e[0]&&s,f=x(),p=_(),m=e.map(o),v=P();function x(){if(!d)return 0;const E=e[0];return Ne(t[c]-E[c])}function _(){if(!d)return 0;const E=r.getComputedStyle(Er(i));return parseFloat(E.getPropertyValue(`margin-${u}`))}function P(){return e.map((E,A,y)=>{const S=!A,T=EE(y,A);return S?m[A]+f:T?m[A]+p:y[A+1][c]-E[c]}).map(Ne)}return{slideSizes:m,slideSizesWithGaps:v,startGap:f,endGap:p}}function V8(n,t,e,i,s,r,o,c,u){const{startEdge:d,endEdge:f,direction:p}=n,m=SE(e);function v(w,E){return lm(w).filter(A=>A%E===0).map(A=>w.slice(A,A+E))}function x(w){return w.length?lm(w).reduce((E,A,y)=>{const S=Er(E)||0,T=S===0,N=A===hy(w),F=s[d]-r[S][d],B=s[d]-r[A][f],j=!i&&T?p(o):0,H=!i&&N?p(c):0,W=Ne(B-H-(F+j));return y&&W>t+u&&E.push(A),N&&E.push(w.length),E},[]).map((E,A,y)=>{const S=Math.max(y[A-1]||0);return w.slice(S,E)}):[]}function _(w){return m?v(w,e):x(w)}return{groupSlides:_}}function G8(n,t,e,i,s,r,o){const{align:c,axis:u,direction:d,startIndex:f,loop:p,duration:m,dragFree:v,dragThreshold:x,inViewThreshold:_,slidesToScroll:P,skipSnaps:w,containScroll:E,watchResize:A,watchSlides:y,watchDrag:S,watchFocus:T}=r,N=2,F=C8(),B=F.measure(t),j=e.map(F.measure),H=A8(u,d),W=H.measureSize(B),K=T8(W),$=x8(c,W),J=!p&&!!E,q=p||!!E,{slideSizes:Y,slideSizesWithGaps:U,startGap:G,endGap:X}=W8(H,B,j,e,q,s),it=V8(H,W,P,p,B,j,G,X,N),{snaps:Q,snapsAligned:et}=O8(H,$,B,j,it),ot=-Er(Q)+Er(U),{snapsContained:ut,scrollContainLimit:ht}=R8(W,ot,et,E,N),at=J?ut:et,{limit:Rt}=N8(ot,at,p),Qt=HR(hy(at),f,p),Bt=Qt.clone(),mt=lm(e),lt=({dragHandler:Ce,scrollBody:xs,scrollBounds:$a,options:{loop:Ys}})=>{Ys||$a.constrain(Ce.pointerDown()),xs.seek()},_t=({scrollBody:Ce,translate:xs,location:$a,offsetLocation:Ys,previousLocation:Ss,scrollLooper:Ec,slideLooper:Rr,dragHandler:Co,animation:Cp,eventHandler:Pc,scrollBounds:Cc,options:{loop:Tc}},To)=>{const Ui=Ce.settled(),Tp=!Cc.shouldConstrain(),Et=Tc?Ui:Ui&&Tp,qt=Et&&!Co.pointerDown();qt&&Cp.stop();const se=$a.get()*To+Ss.get()*(1-To);Ys.set(se),Tc&&(Ec.loop(Ce.direction()),Rr.loop()),xs.to(Ys.get()),qt&&Pc.emit("settle"),Et||Pc.emit("scroll")},xt=S8(i,s,()=>lt(Si),Ce=>_t(Si,Ce)),Pt=.68,Gt=at[Qt.get()],Ut=rg(Gt),Ye=rg(Gt),an=rg(Gt),Pn=rg(Gt),Cn=M8(Ut,an,Ye,Pn,m,Pt),bi=B8(p,at,ot,Rt,Pn),Hn=j8(xt,Qt,Bt,Cn,bi,Pn,o),Ha=D8(Rt),Ua=um(),Ke=$8(t,e,o,_),{slideRegistry:xi}=F8(J,E,at,ht,it,mt),ii=z8(n,e,xi,Hn,Cn,Ua,o,T),Si={ownerDocument:i,ownerWindow:s,eventHandler:o,containerRect:B,slideRects:j,animation:xt,axis:H,dragHandler:E8(H,n,i,s,Pn,P8(H,s),Ut,xt,Hn,Cn,bi,Qt,o,K,v,x,w,Pt,S),eventStore:Ua,percentOfView:K,index:Qt,indexPrevious:Bt,limit:Rt,location:Ut,offsetLocation:an,previousLocation:Ye,options:r,resizeHandler:k8(t,o,s,e,H,A,F),scrollBody:Cn,scrollBounds:L8(Rt,an,Pn,Cn,K),scrollLooper:I8(ot,Rt,an,[Ut,an,Ye,Pn]),scrollProgress:Ha,scrollSnapList:at.map(Ha.get),scrollSnaps:at,scrollTarget:bi,scrollTo:Hn,slideLooper:H8(H,W,ot,Y,U,Q,at,an,e),slideFocus:ii,slidesHandler:U8(t,o,y),slidesInView:Ke,slideIndexes:mt,slideRegistry:xi,slidesToScroll:it,target:Pn,translate:UR(H,t)};return Si}function q8(){let n={},t;function e(d){t=d}function i(d){return n[d]||[]}function s(d){return i(d).forEach(f=>f(t,d)),u}function r(d,f){return n[d]=i(d).concat([f]),u}function o(d,f){return n[d]=i(d).filter(p=>p!==f),u}function c(){n={}}const u={init:e,emit:s,off:o,on:r,clear:c};return u}const Z8={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function X8(n){function t(r,o){return zR(r,o||{})}function e(r){const o=r.breakpoints||{},c=cm(o).filter(u=>n.matchMedia(u).matches).map(u=>o[u]).reduce((u,d)=>t(u,d),{});return t(r,c)}function i(r){return r.map(o=>cm(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(n.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:i}}function Y8(n){let t=[];function e(r,o){return t=o.filter(({options:c})=>n.optionsAtMedia(c).active!==!1),t.forEach(c=>c.init(r,n)),o.reduce((c,u)=>Object.assign(c,{[u.name]:u}),{})}function i(){t=t.filter(r=>r.destroy())}return{init:e,destroy:i}}function U_(n,t,e){const i=n.ownerDocument,s=i.defaultView,r=X8(s),o=Y8(r),c=um(),u=q8(),{mergeOptions:d,optionsAtMedia:f,optionsMediaQueries:p}=r,{on:m,off:v,emit:x}=u,_=H;let P=!1,w,E=d(Z8,U_.globalOptions),A=d(E),y=[],S,T,N;function F(){const{container:mt,slides:lt}=A;T=(C1(mt)?n.querySelector(mt):mt)||n.children[0];const xt=C1(lt)?T.querySelectorAll(lt):lt;N=[].slice.call(xt||T.children)}function B(mt){const lt=G8(n,T,N,i,s,mt,u);if(mt.loop&&!lt.slideLooper.canLoop()){const _t=Object.assign({},mt,{loop:!1});return B(_t)}return lt}function j(mt,lt){P||(E=d(E,mt),A=f(E),y=lt||y,F(),w=B(A),p([E,...y.map(({options:_t})=>_t)]).forEach(_t=>c.add(_t,"change",H)),A.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(Bt),w.eventHandler.init(Bt),w.resizeHandler.init(Bt),w.slidesHandler.init(Bt),w.options.loop&&w.slideLooper.loop(),T.offsetParent&&N.length&&w.dragHandler.init(Bt),S=o.init(Bt,y)))}function H(mt,lt){const _t=it();W(),j(d({startIndex:_t},mt),lt),u.emit("reInit")}function W(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),o.destroy(),c.clear()}function K(){P||(P=!0,c.clear(),W(),u.emit("destroy"),u.clear())}function $(mt,lt,_t){!A.active||P||(w.scrollBody.useBaseFriction().useDuration(lt===!0?0:A.duration),w.scrollTo.index(mt,_t||0))}function J(mt){const lt=w.index.add(1).get();$(lt,mt,-1)}function q(mt){const lt=w.index.add(-1).get();$(lt,mt,1)}function Y(){return w.index.add(1).get()!==it()}function U(){return w.index.add(-1).get()!==it()}function G(){return w.scrollSnapList}function X(){return w.scrollProgress.get(w.offsetLocation.get())}function it(){return w.index.get()}function Q(){return w.indexPrevious.get()}function et(){return w.slidesInView.get()}function ot(){return w.slidesInView.get(!1)}function ut(){return S}function ht(){return w}function at(){return n}function Rt(){return T}function Qt(){return N}const Bt={canScrollNext:Y,canScrollPrev:U,containerNode:Rt,internalEngine:ht,destroy:K,off:v,on:m,emit:x,plugins:ut,previousScrollSnap:Q,reInit:_,rootNode:at,scrollNext:J,scrollPrev:q,scrollProgress:X,scrollSnapList:G,scrollTo:$,selectedScrollSnap:it,slideNodes:Qt,slidesInView:et,slidesNotInView:ot};return j(t,e),setTimeout(()=>u.emit("init"),0),Bt}U_.globalOptions=void 0;function PE(n={},t=[]){const e=D.useRef(n),i=D.useRef(t),[s,r]=D.useState(),[o,c]=D.useState(),u=D.useCallback(()=>{s&&s.reInit(e.current,i.current)},[s]);return D.useEffect(()=>{xE(e.current,n)||(e.current=n,u())},[n,u]),D.useEffect(()=>{_8(i.current,t)||(i.current=t,u())},[t,u]),D.useEffect(()=>{if(y8()&&o){U_.globalOptions=PE.globalOptions;const d=U_(o,e.current,i.current);return r(d),()=>d.destroy()}else r(void 0)},[o,r]),[c,s]}PE.globalOptions=void 0;const K8={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Q8(n,t){const e=n.scrollSnapList();return typeof t=="number"?e.map(()=>t):t(e,n)}function J8(n,t){const e=n.rootNode();return t&&t(e)||e}function CE(n={}){let t,e,i,s,r=null,o=0,c=!1,u=!1,d=!1,f=!1;function p($,J){e=$;const{mergeOptions:q,optionsAtMedia:Y}=J,U=q(K8,CE.globalOptions),G=q(U,n);if(t=Y(G),e.scrollSnapList().length<=1)return;f=t.jump,i=!1,s=Q8(e,t.delay);const{eventStore:X,ownerDocument:it}=e.internalEngine(),Q=!!e.internalEngine().options.watchDrag,et=J8(e,t.rootNode);X.add(it,"visibilitychange",w),Q&&e.on("pointerDown",A),Q&&!t.stopOnInteraction&&e.on("pointerUp",y),t.stopOnMouseEnter&&X.add(et,"mouseenter",S),t.stopOnMouseEnter&&!t.stopOnInteraction&&X.add(et,"mouseleave",T),t.stopOnFocusIn&&e.on("slideFocusStart",P),t.stopOnFocusIn&&!t.stopOnInteraction&&X.add(e.containerNode(),"focusout",_),t.playOnInit&&_()}function m(){e.off("pointerDown",A).off("pointerUp",y).off("slideFocusStart",P),P(),i=!0,c=!1}function v(){const{ownerWindow:$}=e.internalEngine();$.clearTimeout(o),o=$.setTimeout(H,s[e.selectedScrollSnap()]),r=new Date().getTime(),e.emit("autoplay:timerset")}function x(){const{ownerWindow:$}=e.internalEngine();$.clearTimeout(o),o=0,r=null,e.emit("autoplay:timerstopped")}function _(){if(!i){if(E()){d=!0;return}c||e.emit("autoplay:play"),v(),c=!0}}function P(){i||(c&&e.emit("autoplay:stop"),x(),c=!1)}function w(){if(E())return d=c,P();d&&_()}function E(){const{ownerDocument:$}=e.internalEngine();return $.visibilityState==="hidden"}function A(){u||P()}function y(){u||_()}function S(){u=!0,P()}function T(){u=!1,_()}function N($){typeof $<"u"&&(f=$),_()}function F(){c&&P()}function B(){c&&_()}function j(){return c}function H(){const{index:$}=e.internalEngine(),J=$.clone().add(1).get(),q=e.scrollSnapList().length-1,Y=t.stopOnLastSnap&&J===q;if(e.canScrollNext()?e.scrollNext(f):e.scrollTo(0,f),e.emit("autoplay:select"),Y)return P();_()}function W(){if(!r)return null;const $=s[e.selectedScrollSnap()],J=new Date().getTime()-r;return $-J}return{name:"autoplay",options:n,init:p,destroy:m,play:N,stop:F,reset:B,isPlaying:j,timeUntilNext:W}}CE.globalOptions=void 0;const $R="/barkaas-website/assets/RON3054-7iiXtpz8.jpg",t6=Object.freeze(Object.defineProperty({__proto__:null,default:$R},Symbol.toStringTag,{value:"Module"})),WR="/barkaas-website/assets/DSC1109-DO7IHTT7.jpg",e6=Object.freeze(Object.defineProperty({__proto__:null,default:WR},Symbol.toStringTag,{value:"Module"})),VR="/barkaas-website/assets/RON3068-CwKg5aDd.jpg",n6=Object.freeze(Object.defineProperty({__proto__:null,default:VR},Symbol.toStringTag,{value:"Module"})),TE="/barkaas-website/assets/RON3063-CxLiJYHl.jpg",i6=Object.freeze(Object.defineProperty({__proto__:null,default:TE},Symbol.toStringTag,{value:"Module"})),s6="/barkaas-website/assets/mainpage-1-C7o3JKTc.png",r6="/barkaas-website/assets/mainpage-2-C-_l7AVQ.png",o6="/barkaas-website/assets/mainpage-3-ZQdEfe-l.png",GR="/barkaas-website/assets/DSC1137-BYByGBjY.jpg",a6=Object.freeze(Object.defineProperty({__proto__:null,default:GR},Symbol.toStringTag,{value:"Module"})),l6="/barkaas-website/assets/SMP_4117-BZ8EGCPG.jpg",qR="/barkaas-website/assets/mainpage-6-9o5NdKlN.png",c6="/barkaas-website/assets/mainpage-7-C_9ynfMr.png",u6=[{title:"The Mandi Story",subtitle:"A Legacy",description:"At Barkaas, the heart of our kitchen beats to the aroma of mandi. Slow cooked, fire kissed, and deeply spiced, our mandi collection is one of the most extensive you'll find; each variety rooted in tradition, perfected with care, and served as a true celebration of Indo-Arabian heritage.",image:s6},{title:"Biryani - One of the Most Loved Flavours at Barkaas",subtitle:"A Tradition",description:"Our story doesn't end with mandi. Begin with irresistible starters and soul-warming shorbas, then explore smoky charcoal-grilled and tandoori delights crafted to perfection. From rich Indian gravies paired with freshly baked Indian breads to generous platters and aromatic kabsa, Barkaas brings together the best of Arabian and Indian cuisines under one roof. Our biryanis are a story of their own - fragrant basmati rice, rich masalas, and layers of flavor that unfold with every bite.",image:r6},{title:"Sweet Endings Worth Remembering",subtitle:"A Celebration",description:"Every great feast deserves a memorable finale. Indulge in our desserts, from crispy, molten kunafa to soft apricot delight, royal shahi tukda, and comforting kaddu ki kheer. Each sweet is a perfect balance of richness and nostalgia.",image:o6},{title:"A Glass for Every Mood",subtitle:"A Refreshment",description:"Complete your experience with our wide range of drinks - fresh juices, saudi champagne, vibrant mocktails, creamy faloodas, refreshing mojitos, classic lassi and buttermilk, indulgent milkshakes and thick shakes, exotic fruit blends, sundaes, sodas, ice blends, and Barkaas special mixes crafted to refresh and delight.",image:GR}],h6=[{icon:k2,title:"Family Gatherings",description:"Create lasting memories with your loved ones in our warm, welcoming ambiance designed for families of all sizes."},{icon:g3,title:"Friends Get-Togethers",description:"Celebrate friendship over generous platters and authentic flavors that bring everyone together."},{icon:c3,title:"Corporate Events",description:"Host professional meetings and team celebrations in our spacious setting with impeccable service."},{icon:w3,title:"Special Celebrations",description:"From birthdays to anniversaries, make every occasion extraordinary with our grand feasts and festive atmosphere."}],d6=[{quote:"This Indo-Arabic spot is a winner, with incredibly friendly and professional staff!  The ambiance is a must-see, with a cool Arabic vibe that transports you! You've got to try their variety of Mandi and plattersa true feast!  And the sweets? Simply the best way to end your meal!  It might be a bit pricey, but the experience is totally worth it. ",author:"Kiran Pattanashetty",role:"Whitefield, Bengaluru",rating:4},{quote:"They have the best Mandi with a wide variety of options. The dishes have an authentic touch of Arabic cuisine, and everything tastes really good. I especially love their Drums of Heaven it tastes absolutely amazing.",author:"Arzoo Shakeen",role:"Hazratganj, Uttar Pradesh",rating:5},{quote:"Excellent Mandi after a long time we had in Barkaas Gachibowli . It is located in 4 th floor  comfortable fooor and table seating. . We are of 7 members ordered big daddy Mandi. They served veg fritters, chicken nuggets , French fries , tandoor chicken , chicken tangdi , chicken breast and supreme , fried fish , mutton chops , paya soup, mani rice , mint chutney , garlic sauce , salan , raitha and few other items. We cant say that single item not good.All r excellent enjoyed a lot. Tq very much to Barkaas team.",author:"Srinivas Gupta",role:"Gachibowli, Hyderabad",rating:5},{quote:"Visited for the first time and absolutely loved the experience, especially the unique seating arrangement and the authentic Arabian vibe. Even as a vegetarian, I really enjoyed the atmosphere and the food. My friends tried the Chicken Mandi and loved it, while I went for naan and paneer  both were delicious. The pricing is decent and worth it for the overall experience. Also, dont miss the desserts  they have some amazing options to end your meal on a sweet note!",author:"Aman Awasthi",role:"Marathahalli, Bengaluru",rating:5},{quote:"I had a wonderful experience at Barkas Restaurant ( Kukatpally).From the moment I arrived, Venky received me very nicely and provided excellent service throughout my visit. He was polite, attentive, and professional. The food was delicious, fresh, and full of flavor. The atmosphere was also very pleasant. I am very satisfied and will definitely visit again. Highly recommended",author:"Ramu Matti",role:"Kukatpally, Hyderabad",rating:4},{quote:"Amazing food. Super cute staff. Lovely atmosphere. Its been a while since I had good food. Thoroughly enjoyed. Please go for the super delicious food. The staff is an add on. Thanks, Hassan ji for hosting.",author:"Ojasvi Nath",role:"Aligarh, Uttar Pradesh",rating:5},{quote:"Had a wonderful lunch experience at Barkaas. Mandi Biriyani quantity was very good, a half size can comfortably be right for 3-4 people. All the starters in the veg platter tasted yum! The ambience gives beautiful Arabic feel with shared food experience. Service of staff also was neat. Kunafa for dessert was a sweet touch! Totally recommend!",author:"Divya Jyothsana",role:"SR Nagar, Hyderabad",rating:5},{quote:"Had a great experience at Barkaas. The Mandi was flavourful with generous portions  perfectly cooked and aromatic. But the real highlight was the Kunafa  absolutely the showstopper of the meal! Crispy, creamy, and perfectly balanced in sweetness. Definitely worth coming back for!",author:"Sayed Aley Mehdi",role:"Gomtinagar, Lucknow",rating:5},{quote:"Have tried chicken jafrani kabab and murg mussalam mandi... Really enjoyed the taste of these 2 tasty and delicious items... All the staff members are really very well behaved and cooperative here... If you all want to try some delicious and real taste of biryani and some non veg food items then barkaas is a must visit restaurant here in Frazer road patna... ",author:"Shainki Gaurav",role:"Patna, Bihar",rating:5},{quote:"Went for dinner in this newly opened Indo Arabic restaurant in Chinar park. Food was delicious, ambience was good and staff was friendly. Had a nice experience. We had ordered Faham Chicken Mandi, keema naan and apricot delight. For 2 people this was a lot as their food quantity is quite good. A nice place to visit with friends and family if you want some peaceful time away from loud music and with good food. Would recommemd.",author:"Angelika Gupta",role:"Chinar Park, Kolkata",rating:5}],f6=[{name:"Big Daddy Mandi",description:"A grand platter of fragrant basmati rice slow-cooked with tender, generously seasoned meat, infused with traditional spices and finished with roasted nuts for a bold, celebratory feast.",image:l6},{name:"BBQ Chicken Mandi",description:"Succulent whole chicken marinated in handcrafted BBQ spices, slow-grilled for a rich smoky finish, served atop fragrant basmati rice infused with traditional Mandi spices and roasted onions.",image:qR},{name:"Mutton Raan Mandi",description:"Succulent mutton shoulder cooked low and slow until melt-in-the-mouth tender, paired with richly spiced basmati rice and finished with a nutty garnish for a deeply comforting experience.",image:c6}],$T=[new URL($R,import.meta.url).href,new URL(WR,import.meta.url).href,new URL(VR,import.meta.url).href,new URL(TE,import.meta.url).href],p6=()=>{const[n,t]=D.useState(0),[e,i]=D.useState([]),[s,r]=D.useState(!1),[o,c]=PE({loop:!0,align:"start",slidesToScroll:1},[CE({delay:4e3,stopOnInteraction:!1})]),u=D.useCallback(()=>{c&&c.scrollPrev()},[c]),d=D.useCallback(()=>{c&&c.scrollNext()},[c]);return D.useEffect(()=>{const f=new IntersectionObserver(m=>{m.forEach(v=>{v.isIntersecting&&r(!0)})},{threshold:.1}),p=document.querySelector(".testimonials-section");return p&&f.observe(p),()=>f.disconnect()},[]),D.useEffect(()=>{const f=new IntersectionObserver(m=>{m.forEach(v=>{const x=parseInt(v.target.getAttribute("data-story-block")||"0");v.isIntersecting&&!e.includes(x)&&i(_=>[..._,x])})},{threshold:.1,rootMargin:"-20% 0px 0px 0px"});return document.querySelectorAll("[data-story-block]").forEach(m=>f.observe(m)),()=>f.disconnect()},[e]),D.useEffect(()=>{const f=setInterval(()=>{t(p=>(p+1)%$T.length)},3e3);return()=>clearInterval(f)},[]),M.jsxs(uy,{children:[M.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden",children:[M.jsx("div",{className:"absolute inset-0 overflow-hidden",children:$T.map((f,p)=>M.jsx("div",{className:`
                absolute inset-0 bg-cover bg-center transition-opacity duration-1000
                ${p===n?"opacity-100":"opacity-0"}
              `,style:{backgroundImage:`url(${f})`},children:M.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/70 via-background/50 to-background"})},p))}),M.jsx("div",{className:"relative z-10 container mx-auto px-4 text-center",children:M.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.3em] uppercase mb-4",children:"Welcome"}),M.jsx("h1",{className:"text-3xl md:text-6xl lg:text-4xl font-heading font-bold text-gradient-gold mb-6",children:"Think Mandi. Think Biryani. Think Barkaas."}),M.jsx("p",{className:"text-xl md:text-2xl text-foreground/80 mb-4 font-light",children:"India's Largest Indo-Arabic Chain of Restaurants"}),M.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-10 leading-relaxed",children:"Food that Unites People"}),M.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[M.jsx(Fi,{variant:"gold",size:"xl",asChild:!0,children:M.jsxs(br,{to:"/about",children:["Learn more about us",M.jsx(i0,{className:"ml-2",size:20})]})}),M.jsx(Fi,{variant:"gold-outline",size:"xl",asChild:!0,children:M.jsx(br,{to:"/menu",children:"Explore Menu"})})]})]})}),M.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce",children:M.jsx("div",{className:"w-6 h-10 border-2 border-gold/50 rounded-full flex items-start justify-center p-2",children:M.jsx("div",{className:"w-1 h-2 bg-gold rounded-full"})})})]}),M.jsx("section",{className:"py-24 bg-pattern-arabesque",children:M.jsxs("div",{className:"container mx-auto px-4",children:[M.jsxs("div",{className:"text-center mb-16",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Why Choose Us"}),M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"The Barkaas Story"})]}),M.jsx("div",{className:"space-y-8 md:space-y-12 max-w-5xl mx-auto",children:u6.map((f,p)=>{const m=p%2===0;return M.jsxs("div",{className:`
                    flex flex-col items-center gap-6 md:gap-12
                    md:flex-row ${m?"":"md:flex-row-reverse"}
                    max-w-4xl mx-auto px-6
                    opacity-0 translate-y-8 animate-story-reveal-slow
                  `,style:{animationDelay:`${p*300}ms`},children:[M.jsxs("div",{className:"md:w-1/2 text-center md:text-left",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-3",children:f.subtitle}),M.jsx("h3",{className:"text-2xl md:text-3xl font-heading font-semibold text-foreground mb-4",children:f.title}),M.jsx("p",{className:"text-muted-foreground leading-relaxed text-lg max-w-md",children:f.description})]}),M.jsx("div",{className:"md:w-1/2 flex justify-center",children:M.jsx("div",{"data-story-block":p,className:`
                        relative w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96
                        rounded-full overflow-hidden
                        bg-background/50 backdrop-blur-sm
                        shadow-2xl shadow-gold/40
                        ${e.includes(p)?"animate-story-reveal-rotate":"opacity-0"}
                      `,children:M.jsx("img",{src:f.image,alt:f.title,className:"w-full h-full object-cover"})})})]},f.title)})}),M.jsx("div",{className:"text-center mt-20 pt-4",children:M.jsx(Fi,{variant:"gold",size:"xl",asChild:!0,className:"group",children:M.jsxs(br,{to:"/about",children:["Explore Our Legacy",M.jsx(i0,{className:"ml-3 size-5 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})}),M.jsxs("section",{className:"py-24 bg-gradient-to-b from-secondary/30 to-background relative overflow-hidden",children:[M.jsx("div",{className:"absolute inset-0 bg-pattern-arabesque opacity-5"}),M.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[M.jsxs("div",{className:"text-center mb-16",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Perfect for Every Occasion"}),M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-4",children:"Where Celebrations Come Alive"}),M.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Whether it's an intimate family dinner or a grand celebration, Barkaas provides the perfect setting for every special moment"})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto",children:h6.map((f,p)=>M.jsxs("div",{className:`group relative bg-background/80 backdrop-blur-sm rounded-2xl p-8 \r
                          border-2 border-gold/20 hover:border-gold/50 \r
                          shadow-lg hover:shadow-2xl hover:shadow-gold/20\r
                          transition-all duration-500 hover:-translate-y-2\r
                          animate-fade-in-up`,style:{animationDelay:`${p*150}ms`},children:[M.jsx("div",{className:"mb-6 flex justify-center",children:M.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-br from-gold/20 to-gold/10 \r
                                flex items-center justify-center border-2 border-gold/30\r
                                group-hover:scale-110 group-hover:border-gold/60 \r
                                transition-all duration-500 group-hover:shadow-lg group-hover:shadow-gold/30`,children:M.jsx(f.icon,{className:"w-10 h-10 text-gold group-hover:scale-110 transition-transform duration-500"})})}),M.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-3 text-center",children:f.title}),M.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:f.description}),M.jsx("div",{className:`absolute top-4 right-4 w-2 h-2 rounded-full bg-gold/30 \r
                              group-hover:w-3 group-hover:h-3 transition-all duration-300`})]},f.title))}),M.jsx("div",{className:"text-center mt-16",children:M.jsx("p",{className:"text-foreground/80 text-lg mb-6 font-light",children:"Experience the warmth of Arabian hospitality combined with spacious seating and exceptional service"})})]})]}),M.jsx("section",{className:"py-12 bg-secondary",children:M.jsxs("div",{className:"container mx-auto px-4",children:[M.jsxs("div",{className:"text-center mb-16",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Our Specialties"}),M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Signature Dishes"})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:f6.map((f,p)=>M.jsxs("div",{className:"relative pt-28",children:[M.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -top-1 w-52 h-52 rounded-full overflow-hidden shadow-xl z-10",children:M.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"})}),M.jsxs("div",{className:`\r
                    bg-background rounded-lg p-6 pt-28 text-center\r
                    shadow-[0_5px_20px_rgba(212,175,55,0.25)]\r
                    hover:shadow-[0_15px_40px_rgba(212,175,55,0.45)]\r
                    transition-shadow duration-300 hover:ring-1 hover:ring-[rgba(212,175,55,0.4)]\r
\r
\r
                  `,children:[M.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:f.name}),M.jsx("p",{className:"text-muted-foreground text-sm",children:f.description})]})]},f.name))}),M.jsx("div",{className:"text-center mt-12",children:M.jsx(Fi,{variant:"gold-outline",size:"lg",asChild:!0,children:M.jsxs(br,{to:"/menu",children:["View Full Menu",M.jsx(i0,{className:"ml-2",size:18})]})})})]})}),M.jsxs("section",{className:"py-20 bg-gradient-to-b from-background to-secondary/50 relative overflow-hidden testimonials-section",children:[M.jsx("div",{className:"absolute inset-0 bg-pattern-arabesque opacity-5"}),M.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[M.jsxs("div",{className:"text-center mb-12",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"What Our Guests Say"}),M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Guest Testimonials"})]}),M.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[M.jsx("div",{className:"overflow-hidden",ref:o,children:M.jsx("div",{className:"flex gap-6",children:d6.map((f,p)=>M.jsx("div",{className:"flex-[0_0_100%] min-w-0 md:flex-[0_0_calc(50%-12px)] lg:flex-[0_0_calc(33.333%-16px)]",children:M.jsxs("div",{className:`group relative bg-background/80 backdrop-blur-sm rounded-xl p-6 shadow-lg \r
                                  border border-gold/20 hover:border-gold/40 hover:shadow-xl hover:shadow-gold/20\r
                                  transition-all duration-500 h-full flex flex-col`,children:[M.jsx("div",{className:"flex justify-center mb-3 mt-2",children:[...Array(5)].map((m,v)=>M.jsx(b3,{className:`w-4 h-4 ${v<f.rating?"text-gold fill-gold":"text-gold/30"}`},v))}),M.jsxs("blockquote",{className:"text-sm font-light italic text-foreground/90 leading-relaxed mb-4 text-center flex-grow",children:['"',f.quote,'"']}),M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:`w-12 h-12 bg-gradient-to-br from-gold/20 to-gold/10 rounded-full mx-auto mb-2 \r
                                      flex items-center justify-center border-2 border-gold/30 group-hover:scale-110 transition-transform`,children:M.jsx(T2,{className:"w-6 h-6 text-gold/70 group-hover:text-gold"})}),M.jsx("h4",{className:"font-heading font-semibold text-foreground text-sm",children:f.author}),M.jsx("p",{className:"text-gold/80 text-xs",children:f.role})]})]})},p))})}),M.jsx("button",{onClick:u,className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 md:-translate-x-12 \r
                       w-12 h-12 rounded-full bg-gold/10 border-2 border-gold/30 \r
                       flex items-center justify-center hover:bg-gold/20 hover:border-gold/50 \r
                       transition-all duration-300 hover:scale-110 group z-10`,"aria-label":"Previous testimonial",children:M.jsx(h3,{className:"w-6 h-6 text-gold group-hover:scale-110 transition-transform"})}),M.jsx("button",{onClick:d,className:`absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 md:translate-x-12 \r
                       w-12 h-12 rounded-full bg-gold/10 border-2 border-gold/30 \r
                       flex items-center justify-center hover:bg-gold/20 hover:border-gold/50 \r
                       transition-all duration-300 hover:scale-110 group z-10`,"aria-label":"Next testimonial",children:M.jsx(d3,{className:"w-6 h-6 text-gold group-hover:scale-110 transition-transform"})})]})]})]}),M.jsxs("section",{className:"py-24 relative overflow-hidden",children:[M.jsx("div",{className:"absolute inset-0 bg-burgundy/20"}),M.jsx("div",{className:"container mx-auto px-4 relative z-10",children:M.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[M.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold text-foreground mb-6",children:"Ready for an Unforgettable Dining Experience?"}),M.jsx("p",{className:"text-muted-foreground text-lg mb-10 leading-relaxed",children:"Join us for a culinary journey through the rich flavors of Arabia. Reserve your table today and create memories that last a lifetime."}),M.jsx(Fi,{variant:"gold",size:"xl",asChild:!0,children:M.jsxs(br,{to:"/about",children:["Know more",M.jsx(i0,{className:"ml-2",size:20})]})})]})})]})]})},di=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),k1=[.001,0,0,.001,0,0],ux=1.35,cs={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},yo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},hm="pdfjs_internal_editor_",Ct={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},$t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},ZR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},kn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Bg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ge={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Hh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},dy={ERRORS:0,WARNINGS:1,INFOS:5},pp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},a0={moveTo:0,lineTo:1,curveTo:2,closePath:3},XR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Zw=dy.WARNINGS;function g6(n){Number.isInteger(n)&&(Zw=n)}function m6(){return Zw}function Xw(n){Zw>=dy.INFOS&&console.info(`Info: ${n}`)}function Tt(n){Zw>=dy.WARNINGS&&console.warn(`Warning: ${n}`)}function pe(n){throw new Error(n)}function Wt(n,t){n||pe(t)}function v6(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kE(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=x6(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return v6(i)?i:null}function ME(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&kE(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function It(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Th=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class WT extends Th{constructor(t,e){super(t,"PasswordException"),this.code=e}}class hx extends Th{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class $_ extends Th{constructor(t){super(t,"InvalidPDFException")}}class dm extends Th{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class y6 extends Th{constructor(t){super(t,"FormatError")}}class Oa extends Th{constructor(t){super(t,"AbortException")}}function YR(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&pe("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),o=n.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function fy(n){typeof n!="string"&&pe("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function _6(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function w6(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function b6(){try{return new Function(""),!0}catch{return!1}}class En{static get isLittleEndian(){return It(this,"isLittleEndian",w6())}static get isEvalSupported(){return It(this,"isEvalSupported",b6())}static get isOffscreenCanvasSupported(){return It(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return It(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return It(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return It(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const dx=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Ta,R0,M1;class gt{static makeHexColor(t,e,i){return`#${dx[t]}${dx[e]}${dx[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const s=t[i],r=t[i+1];t[i]=s*e[0]+r*e[2]+e[4],t[i+1]=s*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],r=e[1],o=e[2],c=e[3],u=e[4],d=e[5];for(let f=0;f<6;f+=2){const p=t[i+f],m=t[i+f+1];t[i+f]=p*s+m*o+u,t[i+f+1]=p*r+m*c+d}}static applyInverseTransform(t,e){const i=t[0],s=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const s=e[0],r=e[1],o=e[2],c=e[3],u=e[4],d=e[5],f=t[0],p=t[1],m=t[2],v=t[3];let x=s*f+u,_=x,P=s*m+u,w=P,E=c*p+d,A=E,y=c*v+d,S=y;if(r!==0||o!==0){const T=r*f,N=r*m,F=o*p,B=o*v;x+=F,w+=F,P+=B,_+=B,E+=T,S+=T,y+=N,A+=N}i[0]=Math.min(i[0],x,P,_,w),i[1]=Math.min(i[1],E,y,A,S),i[2]=Math.max(i[2],x,P,_,w),i[3]=Math.max(i[3],E,y,A,S)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],r=t[2],o=t[3],c=i**2+s**2,u=i*r+s*o,d=r**2+o**2,f=(c+d)/2,p=Math.sqrt(f**2-(c*d-u**2));e[0]=Math.sqrt(f+p||1),e[1]=Math.sqrt(f-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[i,r,s,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,s),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,s)}static bezierBoundingBox(t,e,i,s,r,o,c,u,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,u),I(this,Ta,M1).call(this,t,i,r,c,e,s,o,u,3*(-t+3*(i-r)+c),6*(t-2*i+r),3*(i-t),d),I(this,Ta,M1).call(this,t,i,r,c,e,s,o,u,3*(-e+3*(s-o)+u),6*(e-2*s+o),3*(s-e),d)}}Ta=new WeakSet,R0=function(t,e,i,s,r,o,c,u,d,f){if(d<=0||d>=1)return;const p=1-d,m=d*d,v=m*d,x=p*(p*(p*t+3*d*e)+3*m*i)+v*s,_=p*(p*(p*r+3*d*o)+3*m*c)+v*u;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],_),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],_)},M1=function(t,e,i,s,r,o,c,u,d,f,p,m){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&I(this,Ta,R0).call(this,t,e,i,s,r,o,c,u,-p/f,m);return}const v=f**2-4*p*d;if(v<0)return;const x=Math.sqrt(v),_=2*d;I(this,Ta,R0).call(this,t,e,i,s,r,o,c,u,(-f+x)/_,m),I(this,Ta,R0).call(this,t,e,i,s,r,o,c,u,(-f-x)/_,m)},R(gt,Ta);function x6(n){return decodeURIComponent(escape(n))}let fx=null,VT=null;function KR(n){return fx||(fx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,VT=new Map([["","t"]])),n.replaceAll(fx,(t,e,i)=>e?e.normalize("NFKC"):VT.get(i))}function LE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),YR(n)}const RE="pdfjs_internal_id_";function S6(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...r]=e;if(!n(i)&&!Number.isInteger(i)||!t(s))return!1;const o=r.length;let c=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of r)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function Qn(n,t,e){return Math.min(Math.max(n,t),e)}function QR(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(YR(n))}function A6(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):fy(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class fm{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(r){var u;if(!r)return;let o=null;const c=r.name;if(c==="#text")o=r.value;else if(fm.shouldBuildText(c))(u=r==null?void 0:r.attributes)!=null&&u.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const d of r.children)s(d)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class NE{static setupStorage(t,e,i,s,r){const o=s.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const c of i.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:r}){const{attributes:o}=e,c=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[u,d]of Object.entries(o))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}c&&r.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var p,m;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,r=t.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:r,linkService:i});const c=r!=="richText",u=t.div;if(u.append(o),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=v}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const v=document.createTextNode(s.value);o.append(v),c&&fm.shouldBuildText(s.name)&&d.push(v)}return{textDivs:d}}const f=[[s,-1,o]];for(;f.length>0;){const[v,x,_]=f.at(-1);if(x+1===v.children.length){f.pop();continue}const P=v.children[++f.at(-1)[1]];if(P===null)continue;const{name:w}=P;if(w==="#text"){const A=document.createTextNode(P.value);d.push(A),_.append(A);continue}const E=(p=P==null?void 0:P.attributes)!=null&&p.xmlns?document.createElementNS(P.attributes.xmlns,w):document.createElement(w);if(_.append(E),P.attributes&&this.setAttributes({html:E,element:P,storage:e,intent:r,linkService:i}),((m=P.children)==null?void 0:m.length)>0)f.push([P,-1,E]);else if(P.value){const A=document.createTextNode(P.value);c&&fm.shouldBuildText(w)&&d.push(A),E.append(A)}}for(const v of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Oo="http://www.w3.org/2000/svg",Hc=class Hc{};nt(Hc,"CSS",96),nt(Hc,"PDF",72),nt(Hc,"PDF_TO_CSS_UNITS",Hc.CSS/Hc.PDF);let Fa=Hc;async function Ep(n,t="text"){if(og(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class py{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=o,i*=e;const u=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let f,p,m,v;switch(s%=360,s<0&&(s+=360),s){case 180:f=-1,p=0,m=0,v=1;break;case 90:f=0,p=1,m=1,v=0;break;case 270:f=0,p=-1,m=-1,v=0;break;case 0:f=1,p=0,m=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,v=-v);let x,_,P,w;f===0?(x=Math.abs(d-t[1])*i+r,_=Math.abs(u-t[0])*i+o,P=(t[3]-t[1])*i,w=(t[2]-t[0])*i):(x=Math.abs(u-t[0])*i+r,_=Math.abs(d-t[1])*i+o,P=(t[2]-t[0])*i,w=(t[3]-t[1])*i),this.transform=[f*i,p*i,m*i,v*i,x-f*i*u-m*i*d,_-p*i*u-v*i*d],this.width=P,this.height=w}get rawDims(){const t=this.viewBox;return It(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new py({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return gt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];gt.applyTransform(e,this.transform);const i=[t[2],t[3]];return gt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return gt.applyInverseTransform(i,this.transform),i}}class Yw extends Th{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function gy(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Kw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function JR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function tN(n,t="document.pdf"){if(typeof n!="string")return t;if(gy(n))return Tt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const s=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},r=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(r.test(o))return s(o);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const d of c)if(r.test(d))return s(d);const u=Array.from(i.searchParams.keys()).reverse();for(const d of u)if(r.test(d))return s(d)}if(i.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(u)return s(u[0])}return t}class GT{constructor(){nt(this,"started",Object.create(null));nt(this,"times",[])}time(t){t in this.started&&Tt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Tt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-s}ms
`);return t.join("")}}function og(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function _s(n){n.preventDefault()}function Re(n){n.preventDefault(),n.stopPropagation()}function E6(n){console.log("Deprecated API usage: "+n)}var bm;class pm{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;l(this,bm)||C(this,bm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=l(this,bm).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(o+=f,c+=p):d==="+"&&(o-=f,c-=p),new Date(Date.UTC(i,s,r,o,c,u))}}bm=new WeakMap,R(pm,bm);function eN(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new py({viewBox:r,userUnit:1,scale:t,rotation:e})}function Pp(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Tt(`Not a valid color format: "${n}"`),[0,0,0])}function P6(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,Pp(i))}t.remove()}function Me(n){const{a:t,b:e,c:i,d:s,e:r,f:o}=n.getTransform();return[t,e,i,s,r,o]}function zr(n){const{a:t,b:e,c:i,d:s,e:r,f:o}=n.getTransform().invertSelf();return[t,e,i,s,r,o]}function yc(n,t,e=!1,i=!0){if(t instanceof py){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:o}=n,c=En.isCSSRoundSupported,u=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${r}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}i&&n.setAttribute("data-main-rotation",t.rotation)}class Mr{constructor(){const{pixelRatio:t}=Mr;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,r=-1){let o=1/0,c=1/0,u=1/0;i=Mr.capPixels(i,r),i>0&&(o=Math.sqrt(i/(t*e))),s!==-1&&(c=s/t,u=s/e);const d=Math.min(o,c,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const W_=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class C6{static get isDarkMode(){var t;return It(this,"isDarkMode",!!((t=window==null?void 0:window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches))}}class nN{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),It(this,"commentForegroundColor",Pp(i))}}function iN(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const s=255*(1-i);return n=Math.round(n*i+s),t=Math.round(t*i+s),e=Math.round(e*i+s),[n,t,e]}function qT(n,t){const e=n[0]/255,i=n[1]/255,s=n[2]/255,r=Math.max(e,i,s),o=Math.min(e,i,s),c=(r+o)/2;if(r===o)t[0]=t[1]=0;else{const u=r-o;switch(t[1]=c<.5?u/(r+o):u/(2-r-o),r){case e:t[0]=((i-s)/u+(i<s?6:0))*60;break;case i:t[0]=((s-e)/u+2)*60;break;case s:t[0]=((e-i)/u+4)*60;break}}t[2]=c}function L1(n,t){const e=n[0],i=n[1],s=n[2],r=(1-Math.abs(2*s-1))*i,o=r*(1-Math.abs(e/60%2-1)),c=s-r/2;switch(Math.floor(e/60)){case 0:t[0]=r+c,t[1]=o+c,t[2]=c;break;case 1:t[0]=o+c,t[1]=r+c,t[2]=c;break;case 2:t[0]=c,t[1]=r+c,t[2]=o+c;break;case 3:t[0]=c,t[1]=o+c,t[2]=r+c;break;case 4:t[0]=o+c,t[1]=c,t[2]=r+c;break;case 5:case 6:t[0]=r+c,t[1]=c,t[2]=o+c;break}}function ZT(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function XT(n,t,e){L1(n,e),e.map(ZT);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];L1(t,e),e.map(ZT);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>s?(i+.05)/(s+.05):(s+.05)/(i+.05)}const YT=new Map;function sN(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=YT.get(e);if(i)return i;const s=new Float32Array(9),r=s.subarray(0,3),o=s.subarray(3,6);qT(n,o);const c=s.subarray(6,9);qT(t,c);const u=c[2]<.5,d=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),XT(o,c,r)<d){let f,p;u?(f=o[2],p=1):(f=0,p=o[2]);const m=.005;for(;p-f>m;){const v=o[2]=(f+p)/2;u===XT(o,c,r)<d?f=v:p=v}o[2]=u?p:f}return L1(o,r),i=gt.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),YT.set(e,i),i}function IE({html:n,dir:t,className:e},i){const s=document.createDocumentFragment();if(typeof n=="string"){const r=document.createElement("p");r.dir=t||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let c=0,u=o.length;c<u;++c){const d=o[c];r.append(document.createTextNode(d)),c<u-1&&r.append(document.createElement("br"))}s.append(r)}else NE.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",e),i.append(s)}var ol,al,Ms,Ls,xm,ll,Rd,Nd,Sm,ew,rN,Bn,oN,aN,Uh,ag;const Ho=class Ho{constructor(t){R(this,Bn);R(this,ol,null);R(this,al,null);R(this,Ms);R(this,Ls,null);R(this,xm,null);R(this,ll,null);R(this,Rd,null);R(this,Nd,null);C(this,Ms,t),l(Ho,Sm)||C(Ho,Sm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=C(this,ol,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=l(this,Ms)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",_s,{signal:e}),t.addEventListener("pointerdown",I(Ho,ew,rN),{signal:e}));const i=C(this,Ls,document.createElement("div"));i.className="buttons",t.append(i);const s=l(this,Ms).toolbarPosition;if(s){const{style:r}=t,o=l(this,Ms)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return l(this,ol)}hide(){var t;l(this,ol).classList.add("hidden"),(t=l(this,al))==null||t.hideDropdown()}show(){var t,e;l(this,ol).classList.remove("hidden"),(t=l(this,xm))==null||t.shown(),(e=l(this,ll))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=l(this,Ms),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",l(Ho,Sm)[t]),I(this,Bn,Uh).call(this,i)&&i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),l(this,Ls).append(i)}async addAltText(t){const e=await t.render();I(this,Bn,Uh).call(this,e),l(this,Ls).append(e,l(this,Bn,ag)),C(this,xm,t)}addComment(t,e=null){if(l(this,ll))return;const i=t.renderForToolbar();if(!i)return;I(this,Bn,Uh).call(this,i);const s=C(this,Rd,l(this,Bn,ag));e?(l(this,Ls).insertBefore(i,e),l(this,Ls).insertBefore(s,e)):l(this,Ls).append(i,s),C(this,ll,t),t.toolbar=this}addColorPicker(t){if(l(this,al))return;C(this,al,t);const e=t.renderButton();I(this,Bn,Uh).call(this,e),l(this,Ls).append(e,l(this,Bn,ag))}async addEditSignatureButton(t){const e=C(this,Nd,await t.renderEditButton(l(this,Ms)));I(this,Bn,Uh).call(this,e),l(this,Ls).append(e,l(this,Bn,ag))}removeButton(t){var e,i;switch(t){case"comment":(e=l(this,ll))==null||e.removeToolbarCommentButton(),C(this,ll,null),(i=l(this,Rd))==null||i.remove(),C(this,Rd,null);break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const s=l(this,Ls).querySelector(i);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){l(this,Nd)&&(l(this,Nd).title=t)}remove(){var t;l(this,ol).remove(),(t=l(this,al))==null||t.destroy(),C(this,al,null)}};ol=new WeakMap,al=new WeakMap,Ms=new WeakMap,Ls=new WeakMap,xm=new WeakMap,ll=new WeakMap,Rd=new WeakMap,Nd=new WeakMap,Sm=new WeakMap,ew=new WeakSet,rN=function(t){t.stopPropagation()},Bn=new WeakSet,oN=function(t){l(this,Ms)._focusEventsAllowed=!1,Re(t)},aN=function(t){l(this,Ms)._focusEventsAllowed=!0,Re(t)},Uh=function(t){const e=l(this,Ms)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",I(this,Bn,oN).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",I(this,Bn,aN).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",_s,{signal:e}),!0)},ag=function(){const t=document.createElement("div");return t.className="divider",t},R(Ho,ew),R(Ho,Sm,null);let R1=Ho;var Am,Jc,Vo,Ba,lN,cN,N1;class T6{constructor(t){R(this,Ba);R(this,Am,null);R(this,Jc,null);R(this,Vo);C(this,Vo,t)}show(t,e,i){const[s,r]=I(this,Ba,cN).call(this,e,i),{style:o}=l(this,Jc)||C(this,Jc,I(this,Ba,lN).call(this));t.append(l(this,Jc)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,Jc).remove()}}Am=new WeakMap,Jc=new WeakMap,Vo=new WeakMap,Ba=new WeakSet,lN=function(){const t=C(this,Jc,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=l(this,Vo)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",_s,{signal:e});const i=C(this,Am,document.createElement("div"));return i.className="buttons",t.append(i),l(this,Vo).hasCommentManager()&&I(this,Ba,N1).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,Vo).commentSelection("floating_button")}),I(this,Ba,N1).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,Vo).highlightSelection("floating_button")}),t},cN=function(t,e){let i=0,s=0;for(const r of t){const o=r.y+r.height;if(o<i)continue;const c=r.x+(e?r.width:0);if(o>i){s=c,i=o;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,i]},N1=function(t,e,i,s){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const o=document.createElement("span");r.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const c=l(this,Vo)._signal;c instanceof AbortSignal&&!c.aborted&&(r.addEventListener("contextmenu",_s,{signal:c}),r.addEventListener("click",s,{signal:c})),l(this,Am).append(r)};function uN(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var nw;class k6{constructor(){R(this,nw,0)}get id(){return`${hm}${Fe(this,nw)._++}`}}nw=new WeakMap;var Id,Em,Gn,Dd,N0;const VE=class VE{constructor(){R(this,Dd);R(this,Id,LE());R(this,Em,0);R(this,Gn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return It(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:r}=t;return I(this,Dd,N0).call(this,`${e}_${i}_${s}_${r}`,t)}async getFromUrl(t){return I(this,Dd,N0).call(this,t,t)}async getFromBlob(t,e){const i=await e;return I(this,Dd,N0).call(this,t,i)}async getFromId(t){l(this,Gn)||C(this,Gn,new Map);const e=l(this,Gn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){l(this,Gn)||C(this,Gn,new Map);let i=l(this,Gn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${l(this,Id)}_${Fe(this,Em)._++}`,refCounter:1,isSvg:!1},l(this,Gn).set(t,i),l(this,Gn).set(i.id,i),i}getSvgUrl(t){const e=l(this,Gn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;l(this,Gn)||C(this,Gn,new Map);const e=l(this,Gn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${l(this,Id)}_`)}};Id=new WeakMap,Em=new WeakMap,Gn=new WeakMap,Dd=new WeakSet,N0=async function(t,e){l(this,Gn)||C(this,Gn,new Map);let i=l(this,Gn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,Id)}_${Fe(this,Em)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await Ep(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const r=VE._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((d,f)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,d()},o.onload=async()=>{const p=i.svgUrl=o.result;c.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=o.onerror=f});o.readAsDataURL(s),await u}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){Tt(s),i=null}return l(this,Gn).set(t,i),i&&l(this,Gn).set(i.id,i),i};let I1=VE;var qe,cl,Pm,ke;class M6{constructor(t=128){R(this,qe,[]);R(this,cl,!1);R(this,Pm);R(this,ke,-1);C(this,Pm,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(s&&t(),l(this,cl))return;const u={cmd:t,undo:e,post:i,type:r};if(l(this,ke)===-1){l(this,qe).length>0&&(l(this,qe).length=0),C(this,ke,0),l(this,qe).push(u);return}if(o&&l(this,qe)[l(this,ke)].type===r){c&&(u.undo=l(this,qe)[l(this,ke)].undo),l(this,qe)[l(this,ke)]=u;return}const d=l(this,ke)+1;d===l(this,Pm)?l(this,qe).splice(0,1):(C(this,ke,d),d<l(this,qe).length&&l(this,qe).splice(d)),l(this,qe).push(u)}undo(){if(l(this,ke)===-1)return;C(this,cl,!0);const{undo:t,post:e}=l(this,qe)[l(this,ke)];t(),e==null||e(),C(this,cl,!1),C(this,ke,l(this,ke)-1)}redo(){if(l(this,ke)<l(this,qe).length-1){C(this,ke,l(this,ke)+1),C(this,cl,!0);const{cmd:t,post:e}=l(this,qe)[l(this,ke)];t(),e==null||e(),C(this,cl,!1)}}hasSomethingToUndo(){return l(this,ke)!==-1}hasSomethingToRedo(){return l(this,ke)<l(this,qe).length-1}cleanType(t){if(l(this,ke)!==-1){for(let e=l(this,ke);e>=0;e--)if(l(this,qe)[e].type!==t){l(this,qe).splice(e+1,l(this,ke)-e),C(this,ke,e);return}l(this,qe).length=0,C(this,ke,-1)}}destroy(){C(this,qe,null)}}qe=new WeakMap,cl=new WeakMap,Pm=new WeakMap,ke=new WeakMap;var iw,hN;class my{constructor(t){R(this,iw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=En.platform;for(const[i,s,r={}]of t)for(const o of i){const c=o.startsWith("mac+");e&&c?(this.callbacks.set(o.slice(4),{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!c&&(this.callbacks.set(o,{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(I(this,iw,hN).call(this,e));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:o=[],checker:c=null}}=i;c&&!c(t,e)||(s.bind(t,...o,e)(),r||Re(e))}}iw=new WeakSet,hN=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const sw=class sw{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return P6(t),It(this,"_colors",t)}convert(t){const e=Pp(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((r,o)=>r===e[o]))return sw._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?gt.makeHexColor(...e):t}};nt(sw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let D1=sw;var Od,Gi,Fd,je,cn,Bd,Rs,jd,Ns,qn,ul,hl,zd,dl,qr,Is,tu,Cm,Tm,Hd,km,Zr,fl,Ud,pl,Xr,rw,gl,$d,Mm,ml,eu,Wd,vl,Lm,en,ee,Go,yl,_l,Rm,Vd,Nm,wl,Yr,qo,Im,Dm,Ds,ct,I0,O1,dN,fN,lg,pN,gN,mN,F1,vN,B1,j1,yN,oi,Fo,_N,wN,z1,bN,cg,H1;const cd=class cd{constructor(t,e,i,s,r,o,c,u,d,f,p,m,v,x,_,P){R(this,ct);R(this,Od,new AbortController);R(this,Gi,null);R(this,Fd,null);R(this,je,new Map);R(this,cn,new Map);R(this,Bd,null);R(this,Rs,null);R(this,jd,null);R(this,Ns,new M6);R(this,qn,null);R(this,ul,null);R(this,hl,null);R(this,zd,0);R(this,dl,new Set);R(this,qr,null);R(this,Is,null);R(this,tu,new Set);nt(this,"_editorUndoBar",null);R(this,Cm,!1);R(this,Tm,!1);R(this,Hd,!1);R(this,km,null);R(this,Zr,null);R(this,fl,null);R(this,Ud,null);R(this,pl,!1);R(this,Xr,null);R(this,rw,new k6);R(this,gl,!1);R(this,$d,!1);R(this,Mm,!1);R(this,ml,null);R(this,eu,null);R(this,Wd,null);R(this,vl,null);R(this,Lm,null);R(this,en,Ct.NONE);R(this,ee,new Set);R(this,Go,null);R(this,yl,null);R(this,_l,null);R(this,Rm,null);R(this,Vd,null);R(this,Nm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,wl,[0,0]);R(this,Yr,null);R(this,qo,null);R(this,Im,null);R(this,Dm,null);R(this,Ds,null);const w=this._signal=l(this,Od).signal;C(this,qo,t),C(this,Im,e),C(this,Dm,i),C(this,Bd,s),C(this,qn,r),C(this,yl,o),C(this,Vd,u),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:w}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),c._on("setpreference",this.onSetPreference.bind(this),{signal:w}),c._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:w}),window.addEventListener("pointerdown",()=>{C(this,$d,!0)},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{C(this,$d,!1)},{capture:!0,signal:w}),I(this,ct,pN).call(this),I(this,ct,yN).call(this),I(this,ct,F1).call(this),C(this,Rs,u.annotationStorage),C(this,km,u.filterFactory),C(this,_l,d),C(this,Ud,f||null),C(this,Cm,p),C(this,Tm,m),C(this,Hd,v),C(this,Lm,x||null),this.viewParameters={realScale:Fa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=P!==!1,r==null||r.setSidebarUiManager(this)}static get _keyboardManager(){const t=cd.prototype,e=o=>l(o,qo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return It(this,"_keyboardManager",new my([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&l(o,qo).contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&l(o,qo).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,s,r,o,c,u,d;(t=l(this,Ds))==null||t.resolve(),C(this,Ds,null),(e=l(this,Od))==null||e.abort(),C(this,Od,null),this._signal=null;for(const f of l(this,cn).values())f.destroy();l(this,cn).clear(),l(this,je).clear(),l(this,tu).clear(),(i=l(this,vl))==null||i.clear(),C(this,Gi,null),l(this,ee).clear(),l(this,Ns).destroy(),(s=l(this,Bd))==null||s.destroy(),(r=l(this,qn))==null||r.destroy(),(o=l(this,yl))==null||o.destroy(),(c=l(this,Xr))==null||c.hide(),C(this,Xr,null),(u=l(this,Wd))==null||u.destroy(),C(this,Wd,null),C(this,Fd,null),l(this,Zr)&&(clearTimeout(l(this,Zr)),C(this,Zr,null)),l(this,Yr)&&(clearTimeout(l(this,Yr)),C(this,Yr,null)),(d=this._editorUndoBar)==null||d.destroy(),C(this,Vd,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return l(this,Lm)}get useNewAltTextFlow(){return l(this,Tm)}get useNewAltTextWhenAddingImage(){return l(this,Hd)}get hcmFilter(){return It(this,"hcmFilter",l(this,_l)?l(this,km).addHCMFilter(l(this,_l).foreground,l(this,_l).background):"none")}get direction(){return It(this,"direction",getComputedStyle(l(this,qo)).direction)}get _highlightColors(){return It(this,"_highlightColors",l(this,Ud)?new Map(l(this,Ud).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return It(this,"highlightColors",null);const e=new Map,i=!!l(this,_l);for(const[s,r]of t){const o=s.endsWith("_HCM");if(i&&o){e.set(s.replace("_HCM",""),r);continue}!i&&!o&&e.set(s,r)}return It(this,"highlightColors",e)}get highlightColorNames(){return It(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,hl,t)}setMainHighlightColorPicker(t){C(this,Wd,t)}editAltText(t,e=!1){var i;(i=l(this,Bd))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!l(this,qn)}editComment(t,e,i,s){var r;(r=l(this,qn))==null||r.showDialog(this,t,e,i,s)}selectComment(t,e){const i=l(this,cn).get(t),s=i==null?void 0:i.getEditorByUID(e);s==null||s.toggleComment(!0,!0)}updateComment(t){var e;(e=l(this,qn))==null||e.updateComment(t.getData())}updatePopupColor(t){var e;(e=l(this,qn))==null||e.updatePopupColor(t)}removeComment(t){var e;(e=l(this,qn))==null||e.removeComments([t.uid])}toggleComment(t,e,i=void 0){var s;(s=l(this,qn))==null||s.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var i;return t&&((i=l(this,qn))==null?void 0:i.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return((t=l(this,qn))==null?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(l(this,cn).has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),s=r=>{r.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await i}getSignature(t){var e;(e=l(this,yl))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return l(this,yl)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":C(this,Hd,e);break}}onPageChanging({pageNumber:t}){C(this,zd,t-1)}focusMainContainer(){l(this,qo).focus()}findParent(t,e){for(const i of l(this,cn).values()){const{x:s,y:r,width:o,height:c}=i.div.getBoundingClientRect();if(t>=s&&t<=s+o&&e>=r&&e<=r+c)return i}return null}disableUserSelect(t=!1){l(this,Im).classList.toggle("noUserSelect",t)}addShouldRescale(t){l(this,tu).add(t)}removeShouldRescale(t){l(this,tu).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Fa.PDF_TO_CSS_UNITS;for(const i of l(this,tu))i.onScaleChanging();(e=l(this,hl))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c}=i,u=i.toString(),f=I(this,ct,I0).call(this,i).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;i.empty();const m=I(this,ct,O1).call(this,f),v=l(this,en)===Ct.NONE,x=()=>{const _=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c,text:u});v&&this.showAllEditors("highlight",!0,!0),e&&(_==null||_.editComment())};if(v){this.switchToMode(Ct.HIGHLIGHT,x);return}x()}commentSelection(t=""){this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!l(this,Rs))return null;const e=`${hm}${t}`,i=l(this,Rs).getRawValue(e);return i&&l(this,Rs).remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&l(this,Rs)&&!l(this,Rs).has(t.id)&&l(this,Rs).setValue(t.id,t)}a11yAlert(t,e=null){const i=l(this,Dm);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,pl)&&(C(this,pl,!1),I(this,ct,lg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of l(this,ee))if(e.div.contains(t)){C(this,eu,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!l(this,eu))return;const[t,e]=l(this,eu);C(this,eu,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){I(this,ct,F1).call(this),I(this,ct,B1).call(this)}removeEditListeners(){I(this,ct,vN).call(this),I(this,ct,j1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of l(this,Is))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of l(this,Is))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=l(this,Gi))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of l(this,ee)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of l(this,Is))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){Tt(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const u of i){const d=await s.deserialize(u);if(!d)return;r.push(d)}const o=()=>{for(const u of r)I(this,ct,z1).call(this,u);I(this,ct,H1).call(this,r)},c=()=>{for(const u of r)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(r){Tt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,en)!==Ct.NONE&&!this.isEditorHandlingKeyboard&&cd._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,pl)&&(C(this,pl,!1),I(this,ct,lg).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(I(this,ct,gN).call(this),I(this,ct,B1).call(this),I(this,ct,oi).call(this,{isEditing:l(this,en)!==Ct.NONE,isEmpty:I(this,ct,cg).call(this),hasSomethingToUndo:l(this,Ns).hasSomethingToUndo(),hasSomethingToRedo:l(this,Ns).hasSomethingToRedo(),hasSelectedEditor:!1})):(I(this,ct,mN).call(this),I(this,ct,j1).call(this),I(this,ct,oi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!l(this,Is)){C(this,Is,t);for(const e of l(this,Is))I(this,ct,Fo).call(this,e.defaultPropertiesToUpdate)}}getId(){return l(this,rw).id}get currentLayer(){return l(this,cn).get(l(this,zd))}getLayer(t){return l(this,cn).get(t)}get currentPageIndex(){return l(this,zd)}addLayer(t){l(this,cn).set(t.pageIndex,t),l(this,gl)?t.enable():t.disable()}removeLayer(t){l(this,cn).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,s=!1,r=!1){var o,c,u,d,f,p;if(l(this,en)!==t&&!(l(this,Ds)&&(await l(this,Ds).promise,!l(this,Ds)))){if(C(this,Ds,Promise.withResolvers()),(o=l(this,hl))==null||o.commitOrRemove(),l(this,en)===Ct.POPUP&&((c=l(this,qn))==null||c.hideSidebar()),(u=l(this,qn))==null||u.destroyPopup(),C(this,en,t),t===Ct.NONE){this.setEditingState(!1),I(this,ct,wN).call(this);for(const m of l(this,je).values())m.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),l(this,Ds).resolve();return}for(const m of l(this,je).values())m.addStandaloneCommentButton();t===Ct.SIGNATURE&&await((f=l(this,yl))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await I(this,ct,_N).call(this),this.unselectAll();for(const m of l(this,cn).values())m.updateMode(t);if(t===Ct.POPUP){l(this,Fd)||C(this,Fd,await l(this,Vd).getAnnotationsByType(new Set(l(this,Is).map(x=>x._editorType))));const m=new Set,v=[];for(const x of l(this,je).values()){const{annotationElementId:_,hasComment:P,deleted:w}=x;_&&m.add(_),P&&!w&&v.push(x.getData())}for(const x of l(this,Fd)){const{id:_,popupRef:P,contentsObj:w}=x;P&&(w!=null&&w.str)&&!m.has(_)&&!l(this,dl).has(_)&&v.push(x)}(p=l(this,qn))==null||p.showSidebar(v)}if(!e){i&&this.addNewEditorFromKeyboard(),l(this,Ds).resolve();return}for(const m of l(this,je).values())m.uid===e?(this.setSelected(m),r?m.editComment():s?m.enterInEditMode():m.focus()):m.unselect();l(this,Ds).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==l(this,en)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(l(this,Is)){switch(t){case $t.CREATE:this.currentLayer.addNewEditor(e);return;case $t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Rm)||C(this,Rm,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of l(this,ee))i.updateParams(t,e);else for(const i of l(this,Is))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const o of l(this,je).values())o.editorType===t&&o.show(e);(((r=l(this,Rm))==null?void 0:r.get($t.HIGHLIGHT_SHOW_ALL))??!0)!==e&&I(this,ct,Fo).call(this,[[$t.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(l(this,Mm)!==t){C(this,Mm,t);for(const e of l(this,cn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of l(this,je).values())e.pageIndex===t&&(yield e)}getEditor(t){return l(this,je).get(t)}addEditor(t){l(this,je).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(l(this,Zr)&&clearTimeout(l(this,Zr)),C(this,Zr,setTimeout(()=>{this.focusMainContainer(),C(this,Zr,null)},0))),l(this,je).delete(t.id),t.annotationElementId&&((e=l(this,vl))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!l(this,dl).has(t.annotationElementId))&&((i=l(this,Rs))==null||i.remove(t.id))}addDeletedAnnotationElement(t){l(this,dl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return l(this,dl).has(t)}removeDeletedAnnotationElement(t){l(this,dl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){l(this,Gi)!==t&&(C(this,Gi,t),t&&I(this,ct,Fo).call(this,t.propertiesToUpdate))}updateUI(t){l(this,ct,bN)===t&&I(this,ct,Fo).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){I(this,ct,Fo).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(l(this,ee).has(t)){l(this,ee).delete(t),t.unselect(),I(this,ct,oi).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,ee).add(t),t.select(),I(this,ct,Fo).call(this,t.propertiesToUpdate),I(this,ct,oi).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=l(this,hl))==null||e.commitOrRemove();for(const i of l(this,ee))i!==t&&i.unselect();l(this,ee).clear(),l(this,ee).add(t),t.select(),I(this,ct,Fo).call(this,t.propertiesToUpdate),I(this,ct,oi).call(this,{hasSelectedEditor:!0})}isSelected(t){return l(this,ee).has(t)}get firstSelectedEditor(){return l(this,ee).values().next().value}unselect(t){t.unselect(),l(this,ee).delete(t),I(this,ct,oi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,ee).size!==0}get isEnterHandled(){return l(this,ee).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;l(this,Ns).undo(),I(this,ct,oi).call(this,{hasSomethingToUndo:l(this,Ns).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:I(this,ct,cg).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){l(this,Ns).redo(),I(this,ct,oi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Ns).hasSomethingToRedo(),isEmpty:I(this,ct,cg).call(this)})}addCommands(t){l(this,Ns).add(t),I(this,ct,oi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:I(this,ct,cg).call(this)})}cleanUndoStack(t){l(this,Ns).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...l(this,ee)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,e.length===1?e[0].editorType:e.length);for(const c of e)c.remove()},s=()=>{for(const o of e)I(this,ct,z1).call(this,o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=l(this,Gi))==null||t.commitOrRemove()}hasSomethingToControl(){return l(this,Gi)||this.hasSelection}selectAll(){for(const t of l(this,ee))t.commit();I(this,ct,H1).call(this,l(this,je).values())}unselectAll(){var t;if(!(l(this,Gi)&&(l(this,Gi).commitOrRemove(),l(this,en)!==Ct.NONE))&&!((t=l(this,hl))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of l(this,ee))e.unselect();l(this,ee).clear(),I(this,ct,oi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;l(this,wl)[0]+=t,l(this,wl)[1]+=e;const[s,r]=l(this,wl),o=[...l(this,ee)],c=1e3;l(this,Yr)&&clearTimeout(l(this,Yr)),C(this,Yr,setTimeout(()=>{C(this,Yr,null),l(this,wl)[0]=l(this,wl)[1]=0,this.addCommands({cmd:()=>{for(const u of o)l(this,je).has(u.id)&&(u.translateInPage(s,r),u.translationDone())},undo:()=>{for(const u of o)l(this,je).has(u.id)&&(u.translateInPage(-s,-r),u.translationDone())},mustExec:!1})},c));for(const u of o)u.translateInPage(t,e),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,qr,new Map);for(const t of l(this,ee))l(this,qr).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,qr))return!1;this.disableUserSelect(!1);const t=l(this,qr);C(this,qr,null);let e=!1;for(const[{x:s,y:r,pageIndex:o},c]of t)c.newX=s,c.newY=r,c.newPageIndex=o,e||(e=s!==c.savedX||r!==c.savedY||o!==c.savedPageIndex);if(!e)return!1;const i=(s,r,o,c)=>{if(l(this,je).has(s.id)){const u=l(this,cn).get(c);u?s._setParentAndPosition(u,r,o):(s.pageIndex=c,s.x=r,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:o,newPageIndex:c}]of t)i(s,r,o,c)},undo:()=>{for(const[s,{savedX:r,savedY:o,savedPageIndex:c}]of t)i(s,r,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(l(this,qr))for(const i of l(this,qr).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||l(this,ee).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return l(this,Gi)===t}getActive(){return l(this,Gi)}getMode(){return l(this,en)}isEditingMode(){return l(this,en)!==Ct.NONE}get imageManager(){return It(this,"imageManager",new I1)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:o}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,f,p,m)=>({x:(f-s)/o,y:1-(d+p-i)/r,width:m/o,height:p/r});break;case"180":c=(d,f,p,m)=>({x:1-(d+p-i)/r,y:1-(f+m-s)/o,width:p/r,height:m/o});break;case"270":c=(d,f,p,m)=>({x:1-(f+m-s)/o,y:(d-i)/r,width:m/o,height:p/r});break;default:c=(d,f,p,m)=>({x:(d-i)/r,y:(f-s)/o,width:p/r,height:m/o});break}const u=[];for(let d=0,f=e.rangeCount;d<f;d++){const p=e.getRangeAt(d);if(!p.collapsed)for(const{x:m,y:v,width:x,height:_}of p.getClientRects())x===0||_===0||u.push(c(m,v,x,_))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(l(this,jd)||C(this,jd,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=l(this,jd))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=l(this,jd))==null?void 0:s.get(t.data.id);if(!e)return;const i=l(this,Rs).getRawValue(e);i&&(l(this,en)===Ct.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const s=(r=l(this,vl))==null?void 0:r.get(t);s&&(s.setCanvas(e,i),l(this,vl).delete(t))}addMissingCanvas(t,e){(l(this,vl)||C(this,vl,new Map)).set(t,e)}};Od=new WeakMap,Gi=new WeakMap,Fd=new WeakMap,je=new WeakMap,cn=new WeakMap,Bd=new WeakMap,Rs=new WeakMap,jd=new WeakMap,Ns=new WeakMap,qn=new WeakMap,ul=new WeakMap,hl=new WeakMap,zd=new WeakMap,dl=new WeakMap,qr=new WeakMap,Is=new WeakMap,tu=new WeakMap,Cm=new WeakMap,Tm=new WeakMap,Hd=new WeakMap,km=new WeakMap,Zr=new WeakMap,fl=new WeakMap,Ud=new WeakMap,pl=new WeakMap,Xr=new WeakMap,rw=new WeakMap,gl=new WeakMap,$d=new WeakMap,Mm=new WeakMap,ml=new WeakMap,eu=new WeakMap,Wd=new WeakMap,vl=new WeakMap,Lm=new WeakMap,en=new WeakMap,ee=new WeakMap,Go=new WeakMap,yl=new WeakMap,_l=new WeakMap,Rm=new WeakMap,Vd=new WeakMap,Nm=new WeakMap,wl=new WeakMap,Yr=new WeakMap,qo=new WeakMap,Im=new WeakMap,Dm=new WeakMap,Ds=new WeakMap,ct=new WeakSet,I0=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},O1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of l(this,cn).values())if(i.hasTextLayer(t))return i;return null},dN=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=I(this,ct,I0).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(l(this,Xr)||C(this,Xr,new T6(this)),l(this,Xr).show(i,s,this.direction==="ltr"))},fN=function(){var r,o,c;const t=document.getSelection();if(!t||t.isCollapsed){l(this,Go)&&((r=l(this,Xr))==null||r.hide(),C(this,Go,null),I(this,ct,oi).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===l(this,Go))return;const s=I(this,ct,I0).call(this,t).closest(".textLayer");if(!s){l(this,Go)&&((o=l(this,Xr))==null||o.hide(),C(this,Go,null),I(this,ct,oi).call(this,{hasSelectedText:!1}));return}if((c=l(this,Xr))==null||c.hide(),C(this,Go,e),I(this,ct,oi).call(this,{hasSelectedText:!0}),!(l(this,en)!==Ct.HIGHLIGHT&&l(this,en)!==Ct.NONE)&&(l(this,en)===Ct.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,pl,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=l(this,en)===Ct.HIGHLIGHT?I(this,ct,O1).call(this,s):null;if(u==null||u.toggleDrawing(),l(this,$d)){const d=new AbortController,f=this.combinedSignal(d),p=m=>{m.type==="pointerup"&&m.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),m.type==="pointerup"&&I(this,ct,lg).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}else u==null||u.toggleDrawing(!0),I(this,ct,lg).call(this,"main_toolbar")}},lg=function(t=""){l(this,en)===Ct.HIGHLIGHT?this.highlightSelection(t):l(this,Cm)&&I(this,ct,dN).call(this)},pN=function(){document.addEventListener("selectionchange",I(this,ct,fN).bind(this),{signal:this._signal})},gN=function(){if(l(this,fl))return;C(this,fl,new AbortController);const t=this.combinedSignal(l(this,fl));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},mN=function(){var t;(t=l(this,fl))==null||t.abort(),C(this,fl,null)},F1=function(){if(l(this,ml))return;C(this,ml,new AbortController);const t=this.combinedSignal(l(this,ml));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},vN=function(){var t;(t=l(this,ml))==null||t.abort(),C(this,ml,null)},B1=function(){if(l(this,ul))return;C(this,ul,new AbortController);const t=this.combinedSignal(l(this,ul));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},j1=function(){var t;(t=l(this,ul))==null||t.abort(),C(this,ul,null)},yN=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},oi=function(t){Object.entries(t).some(([i,s])=>l(this,Nm)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,Nm),t)}),l(this,en)===Ct.HIGHLIGHT&&t.hasSelectedEditor===!1&&I(this,ct,Fo).call(this,[[$t.HIGHLIGHT_FREE,!0]]))},Fo=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},_N=async function(){if(!l(this,gl)){C(this,gl,!0);const t=[];for(const e of l(this,cn).values())t.push(e.enable());await Promise.all(t);for(const e of l(this,je).values())e.enable()}},wN=function(){if(this.unselectAll(),l(this,gl)){C(this,gl,!1);for(const t of l(this,cn).values())t.disable();for(const t of l(this,je).values())t.disable()}},z1=function(t){const e=l(this,cn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},bN=function(){let t=null;for(t of l(this,ee));return t},cg=function(){if(l(this,je).size===0)return!0;if(l(this,je).size===1)for(const t of l(this,je).values())return t.isEmpty();return!1},H1=function(t){for(const e of l(this,ee))e.unselect();l(this,ee).clear();for(const e of t)e.isEmpty()||(l(this,ee).add(e),e.select());I(this,ct,oi).call(this,{hasSelectedEditor:this.hasSelection})},nt(cd,"TRANSLATE_SMALL",1),nt(cd,"TRANSLATE_BIG",10);let _c=cd;var mn,Kr,ar,Gd,Qr,qi,qd,Jr,Ci,Zo,nu,to,bl,xr,ug,D0;const ai=class ai{constructor(t){R(this,xr);R(this,mn,null);R(this,Kr,!1);R(this,ar,null);R(this,Gd,null);R(this,Qr,null);R(this,qi,null);R(this,qd,!1);R(this,Jr,null);R(this,Ci,null);R(this,Zo,null);R(this,nu,null);R(this,to,!1);C(this,Ci,t),C(this,to,t._uiManager.useNewAltTextFlow),l(ai,bl)||C(ai,bl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ai._l10n??(ai._l10n=t)}async render(){const t=C(this,ar,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=C(this,Gd,document.createElement("span"));t.append(e),l(this,to)?(t.classList.add("new"),t.setAttribute("data-l10n-id",l(ai,bl).missing),e.setAttribute("data-l10n-id",l(ai,bl)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=l(this,Ci)._uiManager._signal;t.addEventListener("contextmenu",_s,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),l(this,Ci)._uiManager.editAltText(l(this,Ci)),l(this,to)&&l(this,Ci)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,xr,ug)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(C(this,qd,!0),s(r))},{signal:i}),await I(this,xr,D0).call(this),t}finish(){l(this,ar)&&(l(this,ar).focus({focusVisible:l(this,qd)}),C(this,qd,!1))}isEmpty(){return l(this,to)?l(this,mn)===null:!l(this,mn)&&!l(this,Kr)}hasData(){return l(this,to)?l(this,mn)!==null||!!l(this,Zo):this.isEmpty()}get guessedText(){return l(this,Zo)}async setGuessedText(t){l(this,mn)===null&&(C(this,Zo,t),C(this,nu,await ai._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),I(this,xr,D0).call(this))}toggleAltTextBadge(t=!1){var e;if(!l(this,to)||l(this,mn)){(e=l(this,Jr))==null||e.remove(),C(this,Jr,null);return}if(!l(this,Jr)){const i=C(this,Jr,document.createElement("div"));i.className="noAltTextBadge",l(this,Ci).div.append(i)}l(this,Jr).classList.toggle("hidden",!t)}serialize(t){let e=l(this,mn);return!t&&l(this,Zo)===e&&(e=l(this,nu)),{altText:e,decorative:l(this,Kr),guessedText:l(this,Zo),textWithDisclaimer:l(this,nu)}}get data(){return{altText:l(this,mn),decorative:l(this,Kr)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(C(this,Zo,i),C(this,nu,s)),!(l(this,mn)===t&&l(this,Kr)===e)&&(r||(C(this,mn,t),C(this,Kr,e)),I(this,xr,D0).call(this))}toggle(t=!1){l(this,ar)&&(!t&&l(this,qi)&&(clearTimeout(l(this,qi)),C(this,qi,null)),l(this,ar).disabled=!t)}shown(){l(this,Ci)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,xr,ug)}})}destroy(){var t,e;(t=l(this,ar))==null||t.remove(),C(this,ar,null),C(this,Gd,null),C(this,Qr,null),(e=l(this,Jr))==null||e.remove(),C(this,Jr,null)}};mn=new WeakMap,Kr=new WeakMap,ar=new WeakMap,Gd=new WeakMap,Qr=new WeakMap,qi=new WeakMap,qd=new WeakMap,Jr=new WeakMap,Ci=new WeakMap,Zo=new WeakMap,nu=new WeakMap,to=new WeakMap,bl=new WeakMap,xr=new WeakSet,ug=function(){return l(this,mn)&&"added"||l(this,mn)===null&&this.guessedText&&"review"||"missing"},D0=async function(){var s,r,o;const t=l(this,ar);if(!t)return;if(l(this,to)){if(t.classList.toggle("done",!!l(this,mn)),t.setAttribute("data-l10n-id",l(ai,bl)[l(this,xr,ug)]),(s=l(this,Gd))==null||s.setAttribute("data-l10n-id",l(ai,bl)[`${l(this,xr,ug)}-label`]),!l(this,mn)){(r=l(this,Qr))==null||r.remove();return}}else{if(!l(this,mn)&&!l(this,Kr)){t.classList.remove("done"),(o=l(this,Qr))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=l(this,Qr);if(!e){C(this,Qr,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${l(this,Ci).id}`;const c=100,u=l(this,Ci)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(l(this,qi)),C(this,qi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{C(this,qi,setTimeout(()=>{C(this,qi,null),l(this,Qr).classList.add("show"),l(this,Ci)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:u}),t.addEventListener("mouseleave",()=>{var d;l(this,qi)&&(clearTimeout(l(this,qi)),C(this,qi,null)),(d=l(this,Qr))==null||d.classList.remove("show")},{signal:u})}l(this,Kr)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=l(this,mn)),e.parentNode||t.append(e);const i=l(this,Ci).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},R(ai,bl,null),nt(ai,"_l10n",null);let V_=ai;var Mn,Os,iu,me,Om,su,lr,ru,ou,au,Fm,U1;class l0{constructor(t){R(this,Fm);R(this,Mn,null);R(this,Os,null);R(this,iu,!1);R(this,me,null);R(this,Om,null);R(this,su,null);R(this,lr,null);R(this,ru,null);R(this,ou,!1);R(this,au,null);C(this,me,t)}renderForToolbar(){const t=C(this,Os,document.createElement("button"));return t.className="comment",I(this,Fm,U1).call(this,t,!1)}renderForStandalone(){const t=C(this,Mn,document.createElement("button"));t.className="annotationCommentButton";const e=l(this,me).commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(l(this,me)._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=l(this,me).commentButtonColor;s&&(i.backgroundColor=s)}return I(this,Fm,U1).call(this,t,!0)}focusButton(){setTimeout(()=>{var t;(t=l(this,Mn)??l(this,Os))==null||t.focus()},0)}onUpdatedColor(){if(!l(this,Mn))return;const t=l(this,me).commentButtonColor;t&&(l(this,Mn).style.backgroundColor=t),l(this,me)._uiManager.updatePopupColor(l(this,me))}get commentButtonWidth(){var t;return(((t=l(this,Mn))==null?void 0:t.getBoundingClientRect().width)??0)/l(this,me).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,au))return l(this,au);if(!l(this,Mn))return null;const{x:t,y:e,height:i}=l(this,Mn).getBoundingClientRect(),{x:s,y:r,width:o,height:c}=l(this,me).parent.boundingClientRect;return[(t-s)/o,(e+i-r)/c]}set commentPopupPositionInLayer(t){C(this,au,t)}hasDefaultPopupPosition(){return l(this,au)===null}removeStandaloneCommentButton(){var t;(t=l(this,Mn))==null||t.remove(),C(this,Mn,null)}removeToolbarCommentButton(){var t;(t=l(this,Os))==null||t.remove(),C(this,Os,null)}setCommentButtonStates({selected:t,hasPopup:e}){l(this,Mn)&&(l(this,Mn).classList.toggle("selected",t),l(this,Mn).ariaExpanded=e)}edit(t){const e=this.commentPopupPositionInLayer;let i,s;if(e)[i,s]=e;else{[i,s]=l(this,me).commentButtonPosition;const{width:f,height:p,x:m,y:v}=l(this,me);i=m+i*f,s=v+s*p}const r=l(this,me).parent.boundingClientRect,{x:o,y:c,width:u,height:d}=r;l(this,me)._uiManager.editComment(l(this,me),o+i*u,c+s*d,{...t,parentDimensions:r})}finish(){l(this,Os)&&(l(this,Os).focus({focusVisible:l(this,iu)}),C(this,iu,!1))}isDeleted(){return l(this,ou)||l(this,lr)===""}isEmpty(){return l(this,lr)===null}hasBeenEdited(){return this.isDeleted()||l(this,lr)!==l(this,Om)}serialize(){return this.data}get data(){return{text:l(this,lr),richText:l(this,su),date:l(this,ru),deleted:this.isDeleted()}}set data(t){if(t!==l(this,lr)&&C(this,su,null),t===null){C(this,lr,""),C(this,ou,!0);return}C(this,lr,t),C(this,ru,new Date),C(this,ou,!1)}setInitialText(t,e=null){C(this,Om,t),this.data=t,C(this,ru,null),C(this,su,e)}shown(){}destroy(){var t,e;(t=l(this,Os))==null||t.remove(),C(this,Os,null),(e=l(this,Mn))==null||e.remove(),C(this,Mn,null),C(this,lr,""),C(this,su,null),C(this,ru,null),C(this,me,null),C(this,iu,!1),C(this,ou,!1)}}Mn=new WeakMap,Os=new WeakMap,iu=new WeakMap,me=new WeakMap,Om=new WeakMap,su=new WeakMap,lr=new WeakMap,ru=new WeakMap,ou=new WeakMap,au=new WeakMap,Fm=new WeakSet,U1=function(t,e){if(!l(this,me)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[l(this,me)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=l(this,me)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",_s,{signal:i}),e&&(t.addEventListener("focusin",r=>{l(this,me)._focusEventsAllowed=!1,Re(r)},{capture:!0,signal:i}),t.addEventListener("focusout",r=>{l(this,me)._focusEventsAllowed=!0,Re(r)},{capture:!0,signal:i})),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),t===l(this,Os)?this.edit():l(this,me).toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(C(this,iu,!0),s(r))},{signal:i}),t.addEventListener("pointerenter",()=>{l(this,me).toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{l(this,me).toggleComment(!1,!1)},{signal:i}),t};var Zd,lu,Bm,jm,zm,Hm,Um,Xo,cu,Yo,uu,Ko,wc,xN,SN,AN;const GE=class GE{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:o=null,signal:c}){R(this,wc);R(this,Zd);R(this,lu,!1);R(this,Bm,null);R(this,jm);R(this,zm);R(this,Hm);R(this,Um);R(this,Xo,null);R(this,cu);R(this,Yo,null);R(this,uu);R(this,Ko,null);C(this,Zd,t),C(this,Bm,i),C(this,jm,e),C(this,zm,s),C(this,Hm,r),C(this,Um,o),C(this,uu,new AbortController),C(this,cu,AbortSignal.any([c,l(this,uu).signal])),t.addEventListener("touchstart",I(this,wc,xN).bind(this),{passive:!1,signal:l(this,cu)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Mr.pixelRatio}destroy(){var t,e;(t=l(this,uu))==null||t.abort(),C(this,uu,null),(e=l(this,Xo))==null||e.abort(),C(this,Xo,null)}};Zd=new WeakMap,lu=new WeakMap,Bm=new WeakMap,jm=new WeakMap,zm=new WeakMap,Hm=new WeakMap,Um=new WeakMap,Xo=new WeakMap,cu=new WeakMap,Yo=new WeakMap,uu=new WeakMap,Ko=new WeakMap,wc=new WeakSet,xN=function(t){var s,r,o;if((s=l(this,jm))!=null&&s.call(this))return;if(t.touches.length===1){if(l(this,Xo))return;const c=C(this,Xo,new AbortController),u=AbortSignal.any([l(this,cu),c.signal]),d=l(this,Zd),f={capture:!0,signal:u,passive:!1},p=m=>{var v;m.pointerType==="touch"&&((v=l(this,Xo))==null||v.abort(),C(this,Xo,null))};d.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(Re(m),p(m))},f),d.addEventListener("pointerup",p,f),d.addEventListener("pointercancel",p,f);return}if(!l(this,Ko)){C(this,Ko,new AbortController);const c=AbortSignal.any([l(this,cu),l(this,Ko).signal]),u=l(this,Zd),d={signal:c,capture:!1,passive:!1};u.addEventListener("touchmove",I(this,wc,SN).bind(this),d);const f=I(this,wc,AN).bind(this);u.addEventListener("touchend",f,d),u.addEventListener("touchcancel",f,d),d.capture=!0,u.addEventListener("pointerdown",Re,d),u.addEventListener("pointermove",Re,d),u.addEventListener("pointercancel",Re,d),u.addEventListener("pointerup",Re,d),(r=l(this,zm))==null||r.call(this)}if(Re(t),t.touches.length!==2||(o=l(this,Bm))!=null&&o.call(this)){C(this,Yo,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),C(this,Yo,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},SN=function(t){var y;if(!l(this,Yo)||t.touches.length!==2)return;Re(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:r}=e,{screenX:o,screenY:c}=i,u=l(this,Yo),{touch0X:d,touch0Y:f,touch1X:p,touch1Y:m}=u,v=p-d,x=m-f,_=o-s,P=c-r,w=Math.hypot(_,P)||1,E=Math.hypot(v,x)||1;if(!l(this,lu)&&Math.abs(E-w)<=GE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=s,u.touch0Y=r,u.touch1X=o,u.touch1Y=c,!l(this,lu)){C(this,lu,!0);return}const A=[(s+o)/2,(r+c)/2];(y=l(this,Hm))==null||y.call(this,A,E,w)},AN=function(t){var e;t.touches.length>=2||(l(this,Ko)&&(l(this,Ko).abort(),C(this,Ko,null),(e=l(this,Um))==null||e.call(this)),l(this,Yo)&&(Re(t),C(this,Yo,null),C(this,lu,!1)))};let gm=GE;var hu,cr,Ae,ue,Qo,Xd,xl,$m,Ln,du,Jo,eo,Sl,Wm,fu,Zi,Vm,pu,ta,no,Yd,Kd,Fs,gu,Gm,ow,St,$1,qm,W1,O0,EN,PN,V1,F0,G1,CN,TN,kN,q1,MN,Z1,LN,RN,NN,X1,hg;const kt=class kt{constructor(t){R(this,St);R(this,hu,null);R(this,cr,null);R(this,Ae,null);R(this,ue,null);R(this,Qo,null);R(this,Xd,!1);R(this,xl,null);R(this,$m,"");R(this,Ln,null);R(this,du,null);R(this,Jo,null);R(this,eo,null);R(this,Sl,null);R(this,Wm,"");R(this,fu,!1);R(this,Zi,null);R(this,Vm,!1);R(this,pu,!1);R(this,ta,!1);R(this,no,null);R(this,Yd,0);R(this,Kd,0);R(this,Fs,null);R(this,gu,null);nt(this,"isSelected",!1);nt(this,"_isCopy",!1);nt(this,"_editToolbar",null);nt(this,"_initialOptions",Object.create(null));nt(this,"_initialData",null);nt(this,"_isVisible",!0);nt(this,"_uiManager",null);nt(this,"_focusEventsAllowed",!0);R(this,Gm,!1);R(this,ow,kt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,o];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=kt.prototype._resizeWithKeyboard,e=_c.TRANSLATE_SMALL,i=_c.TRANSLATE_BIG;return It(this,"_resizerKeyboardManager",new my([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],kt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return It(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new L6({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(kt._l10n??(kt._l10n=t),kt._l10nResizer||(kt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),kt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);kt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){pe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Gm)}set _isDraggable(t){var e;C(this,Gm,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,ow)}setParent(t){var e;t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(I(this,St,hg).call(this),(e=l(this,eo))==null||e.remove(),C(this,eo,null)),this.parent=t}focusin(t){this._focusEventsAllowed&&(l(this,fu)?C(this,fu,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[r,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/r,this.y=(e+s)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){I(this,St,$1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){l(this,Zi)||C(this,Zi,[this.x,this.y,this.width,this.height]),I(this,St,$1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){l(this,Zi)||C(this,Zi,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,d]=this.getBaseTranslation();o+=u,c+=d;const{style:f}=i;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!l(this,Zi)&&(l(this,Zi)[0]!==this.x||l(this,Zi)[1]!==this.y)}get _hasBeenResized(){return!!l(this,Zi)&&(l(this,Zi)[2]!==this.width||l(this,Zi)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=kt,s=i/t,r=i/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:r,y:o,width:c,height:u}=this;if(c*=i,u*=s,r*=i,o*=s,this._mustFixPosition)switch(t){case 0:r=Qn(r,0,i-c),o=Qn(o,0,s-u);break;case 90:r=Qn(r,0,i-u),o=Qn(o,c,s);break;case 180:r=Qn(r,c,i),o=Qn(o,u,s);break;case 270:r=Qn(r,u,i),o=Qn(o,0,s-c);break}this.x=r/=i,this.y=o/=s;const[d,f]=this.getBaseTranslation();r+=d,o+=f,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return I(i=kt,qm,W1).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return I(i=kt,qm,W1).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=l(this,Ae))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,pu))return this._editToolbar;this._editToolbar=new R1(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;(t=this._editToolbar)==null||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;(t=this._editToolbar)==null||t.removeButton("comment")}removeEditToolbar(){var t,e;(t=this._editToolbar)==null||t.remove(),this._editToolbar=null,(e=l(this,Ae))==null||e.destroy()}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,Ae)||(V_.initialize(kt._l10n),C(this,Ae,new V_(this)),l(this,hu)&&(l(this,Ae).data=l(this,hu),C(this,hu,null))),l(this,Ae)}get altTextData(){var t;return(t=l(this,Ae))==null?void 0:t.data}set altTextData(t){l(this,Ae)&&(l(this,Ae).data=t)}get guessedAltText(){var t;return(t=l(this,Ae))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=l(this,Ae))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=l(this,Ae))==null?void 0:e.serialize(t)}hasAltText(){return!!l(this,Ae)&&!l(this,Ae).isEmpty()}hasAltTextData(){var t;return((t=l(this,Ae))==null?void 0:t.hasData())??!1}focusCommentButton(){var t;(t=l(this,ue))==null||t.focusButton()}addCommentButton(){return l(this,ue)||C(this,ue,new l0(this))}addStandaloneCommentButton(){if(l(this,Qo)){this._uiManager.isEditingMode()&&l(this,Qo).classList.remove("hidden");return}this.hasComment&&(C(this,Qo,l(this,ue).renderForStandalone()),this.div.append(l(this,Qo)))}removeStandaloneCommentButton(){l(this,ue).removeStandaloneCommentButton(),C(this,Qo,null)}hideStandaloneCommentButton(){var t;(t=l(this,Qo))==null||t.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:s}}=l(this,ue);return{text:e,richText:t,date:i,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){l(this,ue)||C(this,ue,new l0(this)),l(this,ue).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(l(this,ue)||C(this,ue,new l0(this)),l(this,ue).setInitialText(t,i),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){var t;return(t=l(this,ue))==null?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return(t=l(this,ue))==null?void 0:t.isDeleted()}get hasComment(){return!!l(this,ue)&&!l(this,ue).isEmpty()&&!l(this,ue).isDeleted()}async editComment(t){l(this,ue)||C(this,ue,new l0(this)),l(this,ue).edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){l(this,ue).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[r]=this.pageDimensions,[o]=this.pageTranslation,c=o+r+1,u=s-100,d=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,d,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){l(this,ue).data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=l(this,Xd)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),I(this,St,Z1).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),uN(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,gu)||C(this,gu,new gm({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:I(this,St,CN).bind(this),onPinching:I(this,St,TN).bind(this),onPinchEnd:I(this,St,kN).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=En.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(C(this,fu,!0),this._isDraggable){I(this,St,MN).call(this,t);return}I(this,St,q1).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,no)&&clearTimeout(l(this,no)),C(this,no,setTimeout(()=>{var t;C(this,no,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[r,o]=this.pageDimensions,[c,u]=this.pageTranslation,d=t/s,f=e/s,p=this.x*r,m=this.y*o,v=this.width*r,x=this.height*o;switch(i){case 0:return[p+d+c,o-m-f-x+u,p+d+v+c,o-m-f+u];case 90:return[p+f+c,o-m+d+u,p+f+x+c,o-m+d+v+u];case 180:return[p-d-v+c,o-m+f+u,p-d+c,o-m+f+x+u];case 270:return[p-f-x+c,o-m-d-v+u,p-f+c,o-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,r,o]=t,c=r-i,u=o-s;switch(this.rotation){case 0:return[i,e-o,c,u];case 90:return[i,e-s,u,c];case 180:return[r,e-s,c,u];case 270:return[r,e-o,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&kt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;(t=l(this,ue))==null||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:s,deleted:r,richText:o},uid:c,pageIndex:u,creationDate:d,modificationDate:f}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:t},creationDate:d,modificationDate:i||f,popupRef:!r,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,pu,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,pu,!1),!0):!1}isInEditMode(){return l(this,pu)}shouldGetKeyboardEvents(){return l(this,ta)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return e<o&&s>0&&t<r&&i>0}rebuild(){I(this,St,Z1).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,C(s,hu,t.accessibilityData),s._isCopy=t.isCopy||!1;const[r,o]=s.pageDimensions,[c,u,d,f]=s.getRectInCurrentCoords(t.rect,o);return s.x=c/r,s.y=u/o,s.width=d/r,s.height=f/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=l(this,Sl))==null||t.abort(),C(this,Sl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,no)&&(clearTimeout(l(this,no)),C(this,no,null)),I(this,St,hg).call(this),this.removeEditToolbar(),l(this,Fs)){for(const i of l(this,Fs).values())clearTimeout(i);C(this,Fs,null)}this.parent=null,(e=l(this,gu))==null||e.destroy(),C(this,gu,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(I(this,St,EN).call(this),l(this,Ln).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,s,r,o]=this.getPDFRect();return[kt._round(i+(r-i)*t),kt._round(s+(o-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,ue).commentPopupPositionInLayer}set commentPopupPosition(t){l(this,ue).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return l(this,ue).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,ue).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){l(this,ue).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),C(this,Jo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=l(this,Ln).children;if(!l(this,cr)){C(this,cr,Array.from(e));const o=I(this,St,LN).bind(this),c=I(this,St,RN).bind(this),u=this._uiManager._signal;for(const d of l(this,cr)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:u}),d.addEventListener("blur",c,{signal:u}),d.addEventListener("focus",I(this,St,NN).bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",kt._l10nResizer[f])}}const i=l(this,cr)[0];let s=0;for(const o of e){if(o===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,cr).length/4);if(r!==s){if(r<s)for(let c=0;c<s-r;c++)l(this,Ln).append(l(this,Ln).firstChild);else if(r>s)for(let c=0;c<r-s;c++)l(this,Ln).firstChild.before(l(this,Ln).lastChild);let o=0;for(const c of e){const d=l(this,cr)[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",kt._l10nResizer[d])}}I(this,St,X1).call(this,0),C(this,ta,!0),l(this,Ln).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){l(this,ta)&&I(this,St,G1).call(this,l(this,Wm),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){I(this,St,hg).call(this),this.div.focus()}select(){var t,e,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=l(this,Ae))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return(t=this.div)==null?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,i,s,r;this.isSelected&&(this.isSelected=!1,(t=l(this,Ln))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=l(this,Ae))==null||r.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,Vm)}set isEditing(t){C(this,Vm,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){l(this,Fs)||C(this,Fs,new Map);const{action:i}=t;let s=l(this,Fs).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),l(this,Fs).delete(i),l(this,Fs).size===0&&C(this,Fs,null)},kt._telemetryTimeout),l(this,Fs).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),C(this,Xd,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,Xd,!0)}updateFakeAnnotationElement(t){if(!l(this,eo)&&!this.deleted){C(this,eo,t.addFakeAnnotation(this));return}if(this.deleted){l(this,eo).remove(),C(this,eo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,eo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};hu=new WeakMap,cr=new WeakMap,Ae=new WeakMap,ue=new WeakMap,Qo=new WeakMap,Xd=new WeakMap,xl=new WeakMap,$m=new WeakMap,Ln=new WeakMap,du=new WeakMap,Jo=new WeakMap,eo=new WeakMap,Sl=new WeakMap,Wm=new WeakMap,fu=new WeakMap,Zi=new WeakMap,Vm=new WeakMap,pu=new WeakMap,ta=new WeakMap,no=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,Fs=new WeakMap,gu=new WeakMap,Gm=new WeakMap,ow=new WeakMap,St=new WeakSet,$1=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},qm=new WeakSet,W1=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},O0=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},EN=function(){if(l(this,Ln))return;C(this,Ln,document.createElement("div")),l(this,Ln).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");l(this,Ln).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",I(this,St,PN).bind(this,i),{signal:e}),s.addEventListener("contextmenu",_s,{signal:e}),s.tabIndex=-1}this.div.prepend(l(this,Ln))},PN=function(t,e){var f;e.preventDefault();const{isMac:i}=En.platform;if(e.button!==0||e.ctrlKey&&i)return;(f=l(this,Ae))==null||f.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,C(this,du,[e.screenX,e.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",I(this,St,G1).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Re,{passive:!1,signal:o}),window.addEventListener("contextmenu",_s,{signal:o}),C(this,Jo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{var p;r.abort(),this.parent.togglePointerEvents(!0),(p=l(this,Ae))==null||p.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=u,I(this,St,F0).call(this)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},V1=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()},F0=function(){if(!l(this,Jo))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=l(this,Jo);C(this,Jo,null);const r=this.x,o=this.y,c=this.width,u=this.height;r===t&&o===e&&c===i&&u===s||this.addCommands({cmd:I(this,St,V1).bind(this,r,o,c,u),undo:I(this,St,V1).bind(this,t,e,i,s),mustExec:!0})},G1=function(t,e){const[i,s]=this.parentDimensions,r=this.x,o=this.y,c=this.width,u=this.height,d=kt.MIN_SIZE/i,f=kt.MIN_SIZE/s,p=I(this,St,O0).call(this,this.rotation),m=(q,Y)=>[p[0]*q+p[2]*Y,p[1]*q+p[3]*Y],v=I(this,St,O0).call(this,360-this.rotation),x=(q,Y)=>[v[0]*q+v[2]*Y,v[1]*q+v[3]*Y];let _,P,w=!1,E=!1;switch(t){case"topLeft":w=!0,_=(q,Y)=>[0,0],P=(q,Y)=>[q,Y];break;case"topMiddle":_=(q,Y)=>[q/2,0],P=(q,Y)=>[q/2,Y];break;case"topRight":w=!0,_=(q,Y)=>[q,0],P=(q,Y)=>[0,Y];break;case"middleRight":E=!0,_=(q,Y)=>[q,Y/2],P=(q,Y)=>[0,Y/2];break;case"bottomRight":w=!0,_=(q,Y)=>[q,Y],P=(q,Y)=>[0,0];break;case"bottomMiddle":_=(q,Y)=>[q/2,Y],P=(q,Y)=>[q/2,0];break;case"bottomLeft":w=!0,_=(q,Y)=>[0,Y],P=(q,Y)=>[q,0];break;case"middleLeft":E=!0,_=(q,Y)=>[0,Y/2],P=(q,Y)=>[q,Y/2];break}const A=_(c,u),y=P(c,u);let S=m(...y);const T=kt._round(r+S[0]),N=kt._round(o+S[1]);let F=1,B=1,j,H;if(e.fromKeyboard)({deltaX:j,deltaY:H}=e);else{const{screenX:q,screenY:Y}=e,[U,G]=l(this,du);[j,H]=this.screenToPageTranslation(q-U,Y-G),l(this,du)[0]=q,l(this,du)[1]=Y}if([j,H]=x(j/i,H/s),w){const q=Math.hypot(c,u);F=B=Math.max(Math.min(Math.hypot(y[0]-A[0]-j,y[1]-A[1]-H)/q,1/c,1/u),d/c,f/u)}else E?F=Qn(Math.abs(y[0]-A[0]-j),d,1)/c:B=Qn(Math.abs(y[1]-A[1]-H),f,1)/u;const W=kt._round(c*F),K=kt._round(u*B);S=m(...P(W,K));const $=T-S[0],J=N-S[1];l(this,Zi)||C(this,Zi,[this.x,this.y,this.width,this.height]),this.width=W,this.height=K,this.x=$,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()},CN=function(){var t;C(this,Jo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=l(this,Ae))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},TN=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const o=I(this,St,O0).call(this,this.rotation),c=(T,N)=>[o[0]*T+o[2]*N,o[1]*T+o[3]*N],[u,d]=this.parentDimensions,f=this.x,p=this.y,m=this.width,v=this.height,x=kt.MIN_SIZE/u,_=kt.MIN_SIZE/d;r=Math.max(Math.min(r,1/m,1/v),x/m,_/v);const P=kt._round(m*r),w=kt._round(v*r);if(P===m&&w===v)return;l(this,Zi)||C(this,Zi,[f,p,m,v]);const E=c(m/2,v/2),A=kt._round(f+E[0]),y=kt._round(p+E[1]),S=c(P/2,w/2);this.x=A-S[0],this.y=y-S[1],this.width=P,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()},kN=function(){var t;(t=l(this,Ae))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),I(this,St,F0).call(this)},q1=function(t){const{isMac:e}=En.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},MN=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:r},c=d=>{s.abort(),C(this,xl,null),C(this,fu,!1),this._uiManager.endDragSession()||I(this,St,q1).call(this,d),i&&this._onStopDragging()};e&&(C(this,Yd,t.clientX),C(this,Kd,t.clientY),C(this,xl,t.pointerId),C(this,$m,t.pointerType),window.addEventListener("pointermove",d=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:m}=d;if(m!==l(this,xl)){Re(d);return}const[v,x]=this.screenToPageTranslation(f-l(this,Yd),p-l(this,Kd));C(this,Yd,f),C(this,Kd,p),this._uiManager.dragSelectedEditors(v,x)},o),window.addEventListener("touchmove",Re,o),window.addEventListener("pointerdown",d=>{d.pointerType===l(this,$m)&&(l(this,gu)||d.isPrimary)&&c(d),Re(d)},o));const u=d=>{if(!l(this,xl)||l(this,xl)===d.pointerId){c(d);return}Re(d)};window.addEventListener("pointerup",u,{signal:r}),window.addEventListener("blur",u,{signal:r})},Z1=function(){if(l(this,Sl)||!this.div)return;C(this,Sl,new AbortController);const t=this._uiManager.combinedSignal(l(this,Sl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},LN=function(t){kt._resizerKeyboardManager.exec(this,t)},RN=function(t){var e;l(this,ta)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==l(this,Ln)&&I(this,St,hg).call(this)},NN=function(t){C(this,Wm,l(this,ta)?t:"")},X1=function(t){if(l(this,cr))for(const e of l(this,cr))e.tabIndex=t},hg=function(){C(this,ta,!1),I(this,St,X1).call(this,-1),I(this,St,F0).call(this)},R(kt,qm),nt(kt,"_l10n",null),nt(kt,"_l10nResizer",null),nt(kt,"_borderLineWidth",-1),nt(kt,"_colorManager",new D1),nt(kt,"_zIndex",1),nt(kt,"_telemetryTimeout",1e3);let ye=kt;class L6 extends ye{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const KT=3285377520,Cs=4294901760,Hr=65535;class IN{constructor(t){this.h1=t?t&4294967295:KT,this.h2=t?t&4294967295:KT}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let _=0,P=t.length;_<P;_++){const w=t.charCodeAt(_);w<=255?e[i++]=w:(e[i++]=w>>>8,e[i++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,o=new Uint32Array(e.buffer,0,s);let c=0,u=0,d=this.h1,f=this.h2;const p=3432918353,m=461845907,v=p&Hr,x=m&Hr;for(let _=0;_<s;_++)_&1?(c=o[_],c=c*p&Cs|c*v&Hr,c=c<<15|c>>>17,c=c*m&Cs|c*x&Hr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(u=o[_],u=u*p&Cs|u*v&Hr,u=u<<15|u>>>17,u=u*m&Cs|u*x&Hr,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,r){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*p&Cs|c*v&Hr,c=c<<15|c>>>17,c=c*m&Cs|c*x&Hr,s&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Cs|t*36045&Hr,e=e*4283543511&Cs|((e<<16|t>>>16)*2950163797&Cs)>>>16,t^=e>>>1,t=t*444984403&Cs|t*60499&Hr,e=e*3301882366&Cs|((e<<16|t>>>16)*3120437893&Cs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Y1=Object.freeze({map:null,hash:"",transfer:void 0});var mu,vu,ea,Rn,aw,DN;class DE{constructor(){R(this,aw);R(this,mu,!1);R(this,vu,null);R(this,ea,null);R(this,Rn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=l(this,Rn).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return l(this,Rn).get(t)}remove(t){const e=l(this,Rn).get(t);if(e!==void 0&&(e instanceof ye&&l(this,ea).delete(e.annotationElementId),l(this,Rn).delete(t),l(this,Rn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of l(this,Rn).values())if(i instanceof ye)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=l(this,Rn).get(t);let s=!1;if(i!==void 0)for(const[r,o]of Object.entries(e))i[r]!==o&&(s=!0,i[r]=o);else s=!0,l(this,Rn).set(t,e);s&&I(this,aw,DN).call(this),e instanceof ye&&((l(this,ea)||C(this,ea,new Map)).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return l(this,Rn).has(t)}get size(){return l(this,Rn).size}resetModified(){l(this,mu)&&(C(this,mu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ON(this)}get serializable(){if(l(this,Rn).size===0)return Y1;const t=new Map,e=new IN,i=[],s=Object.create(null);let r=!1;for(const[o,c]of l(this,Rn)){const u=c instanceof ye?c.serialize(!1,s):c;u&&(t.set(o,u),e.update(`${o}:${JSON.stringify(u)}`),r||(r=!!u.bitmap))}if(r)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Y1}get editorStats(){let t=null;const e=new Map;let i=0,s=0;for(const r of l(this,Rn).values()){if(!(r instanceof ye)){r.popup&&(r.popup.deleted?s+=1:i+=1);continue}r.isCommentDeleted?s+=1:r.hasEditedComment&&(i+=1);const o=r.telemetryFinalData;if(!o)continue;const{type:c}=o;e.has(c)||e.set(c,Object.getPrototypeOf(r).constructor),t||(t=Object.create(null));const u=t[c]||(t[c]=new Map);for(const[d,f]of Object.entries(o)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const m=p.get(f)??0;p.set(f,m+1)}}if((s>0||i>0)&&(t||(t=Object.create(null)),t.comments={deleted:s,edited:i}),!t)return null;for(const[r,o]of e)t[r]=o.computeTelemetryFinalData(t[r]);return t}resetModifiedIds(){C(this,vu,null)}updateEditor(t,e){var s;const i=(s=l(this,ea))==null?void 0:s.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){var e;return((e=l(this,ea))==null?void 0:e.get(t))||null}get modifiedIds(){if(l(this,vu))return l(this,vu);const t=[];if(l(this,ea))for(const e of l(this,ea).values())e.serialize()&&t.push(e.annotationElementId);return C(this,vu,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return l(this,Rn).entries()}}mu=new WeakMap,vu=new WeakMap,ea=new WeakMap,Rn=new WeakMap,aw=new WeakSet,DN=function(){l(this,mu)||(C(this,mu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Zm;class ON extends DE{constructor(e){super();R(this,Zm);const{map:i,hash:s,transfer:r}=e.serializable,o=structuredClone(i,r?{transfer:r}:null);C(this,Zm,{map:o,hash:s,transfer:r})}get print(){pe("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Zm)}get modifiedIds(){return It(this,"modifiedIds",{ids:new Set,hash:""})}}Zm=new WeakMap;var Qd;class R6{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){R(this,Qd,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,Qd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||l(this,Qd).has(t.loadedName))){if(Wt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),l(this,Qd).add(s),i==null||i(t)}catch{Tt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}pe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Tt(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return It(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return It(this,"isSyncFontLoadingSupported",di||En.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Wt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return It(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(y,S){return y.charCodeAt(S)<<24|y.charCodeAt(S+1)<<16|y.charCodeAt(S+2)<<8|y.charCodeAt(S+3)&255}function s(y,S,T,N){const F=y.substring(0,S),B=y.substring(S+T);return F+N+B}let r,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let d=0;function f(y,S){if(++d>30){Tt("Load test font never loaded."),S();return}if(u.font="30px "+y,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(f.bind(null,y,S))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=s(m,976,p.length,p);const x=16,_=1482184792;let P=i(m,x);for(r=0,o=p.length-3;r<o;r+=4)P=P-_+i(p,r)|0;r<p.length&&(P=P-_+i(p+"XXX",r)|0),m=s(m,x,4,_6(P));const w=`url(data:font/opentype;base64,${btoa(m)});`,E=`@font-face {font-family:"${p}";src:${w}}`;this.insertRule(E);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const y of[t.loadedName,p]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=y,A.append(S)}this._document.body.append(A),f(p,()=>{A.remove(),e.complete()})}}Qd=new WeakMap;var re;class N6{constructor(t,e=null,i,s){R(this,re);this.compiledGlyphs=Object.create(null),C(this,re,t),this._inspectFont=e,i&&Object.assign(this,i),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${QR(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(o){Tt(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}get black(){return l(this,re).black}get bold(){return l(this,re).bold}get disableFontFace(){return l(this,re).disableFontFace??!1}get fontExtraProperties(){return l(this,re).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,re).isInvalidPDFjsFont}get isType3Font(){return l(this,re).isType3Font}get italic(){return l(this,re).italic}get missingFile(){return l(this,re).missingFile}get remeasure(){return l(this,re).remeasure}get vertical(){return l(this,re).vertical}get ascent(){return l(this,re).ascent}get defaultWidth(){return l(this,re).defaultWidth}get descent(){return l(this,re).descent}get bbox(){return l(this,re).bbox}get fontMatrix(){return l(this,re).fontMatrix}get fallbackName(){return l(this,re).fallbackName}get loadedName(){return l(this,re).loadedName}get mimetype(){return l(this,re).mimetype}get name(){return l(this,re).name}get data(){return l(this,re).data}clearData(){l(this,re).clearData()}get cssFontInfo(){return l(this,re).cssFontInfo}get systemFontInfo(){return l(this,re).systemFontInfo}get defaultVMetrics(){return l(this,re).defaultVMetrics}}re=new WeakMap;function I6(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(di)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function D6(n){if(di&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return fy(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function c0(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const K1=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,O6=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",FN=S6.bind(null,K1,O6);var na,lw;class F6{constructor(){R(this,na,new Map);R(this,lw,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};l(this,lw).then(()=>{for(const[s]of l(this,na))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){Tt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);s=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}l(this,na).set(e,s)}removeEventListener(t,e){const i=l(this,na).get(e);i==null||i(),l(this,na).delete(e)}terminate(){for(const[,t]of l(this,na))t==null||t();l(this,na).clear()}}na=new WeakMap,lw=new WeakMap;const u0={DATA:1,ERROR:2},tn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function QT(){}function Ei(n){if(n instanceof Oa||n instanceof $_||n instanceof WT||n instanceof dm||n instanceof hx)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||pe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Oa(n.message);case"InvalidPDFException":return new $_(n.message);case"PasswordException":return new WT(n.message,n.code);case"ResponseException":return new dm(n.message,n.status,n.missing);case"UnknownErrorException":return new hx(n.message,n.details)}return new hx(n.message,n.toString())}var Jd,qs,BN,jN,zN,B0;class dg{constructor(t,e,i){R(this,qs);R(this,Jd,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",I(this,qs,BN).bind(this),{signal:l(this,Jd).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,i,s){const r=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:t,streamId:r,data:e,desiredSize:d.desiredSize},s),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:tn.PULL,streamId:r,desiredSize:d.desiredSize}),f.promise},cancel:d=>{Wt(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:tn.CANCEL,streamId:r,reason:Ei(d)}),f.promise}},i)}destroy(){var t;(t=l(this,Jd))==null||t.abort(),C(this,Jd,null)}}Jd=new WeakMap,qs=new WeakSet,BN=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){I(this,qs,zN).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===u0.DATA)s.resolve(t.data);else if(t.callback===u0.ERROR)s.reject(Ei(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(o){r.postMessage({sourceName:i,targetName:s,callback:u0.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:s,callback:u0.ERROR,callbackId:t.callbackId,reason:Ei(o)})});return}if(t.streamId){I(this,qs,jN).call(this,t);return}e(t.data)},jN=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,o=this,c=this.actionHandler[t.action],u={enqueue(d,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:tn.ENQUEUE,streamId:e,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:tn.CLOSE,streamId:e}),delete o.streamSinks[e])},error(d){Wt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:tn.ERROR,streamId:e,reason:Ei(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,Promise.try(c,t.data,u).then(function(){r.postMessage({sourceName:i,targetName:s,stream:tn.START_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:tn.START_COMPLETE,streamId:e,reason:Ei(d)})})},zN=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,o=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case tn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Ei(t.reason));break;case tn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Ei(t.reason));break;case tn.PULL:if(!c){r.postMessage({sourceName:i,targetName:s,stream:tn.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||QT).then(function(){r.postMessage({sourceName:i,targetName:s,stream:tn.PULL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:tn.PULL_COMPLETE,streamId:e,reason:Ei(d)})});break;case tn.ENQUEUE:if(Wt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case tn.CLOSE:if(Wt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),I(this,qs,B0).call(this,o,e);break;case tn.ERROR:Wt(o,"error should have stream controller"),o.controller.error(Ei(t.reason)),I(this,qs,B0).call(this,o,e);break;case tn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Ei(t.reason)),I(this,qs,B0).call(this,o,e);break;case tn.CANCEL:if(!c)break;const u=Ei(t.reason);Promise.try(c.onCancel||QT,u).then(function(){r.postMessage({sourceName:i,targetName:s,stream:tn.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:i,targetName:s,stream:tn.CANCEL_COMPLETE,streamId:e,reason:Ei(d)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},B0=async function(t,e){var i,s,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Xm;class HN{constructor({enableHWA:t=!1}){R(this,Xm,!1);C(this,Xm,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!l(this,Xm)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){pe("Abstract method `_createCanvas` called.")}}Xm=new WeakMap;class B6 extends HN{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class UN{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){pe("Abstract method `_fetch` called.")}}class JT extends UN{async _fetch(t){const e=await Ep(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):fy(e)}}class $N{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,r){return"none"}destroy(t=!1){}}var yu,tf,ia,sa,Zn,_u,wu,ft,Wn,fg,$h,j0,Wh,WN,Q1,Vh,pg,gg,J1,mg;class j6 extends $N{constructor({docId:e,ownerDocument:i=globalThis.document}){super();R(this,ft);R(this,yu);R(this,tf);R(this,ia);R(this,sa);R(this,Zn);R(this,_u);R(this,wu,0);C(this,sa,e),C(this,Zn,i)}addFilter(e){if(!e)return"none";let i=l(this,ft,Wn).get(e);if(i)return i;const[s,r,o]=I(this,ft,j0).call(this,e),c=e.length===1?s:`${s}${r}${o}`;if(i=l(this,ft,Wn).get(c),i)return l(this,ft,Wn).set(e,i),i;const u=`g_${l(this,sa)}_transfer_map_${Fe(this,wu)._++}`,d=I(this,ft,Wh).call(this,u);l(this,ft,Wn).set(e,d),l(this,ft,Wn).set(c,d);const f=I(this,ft,Vh).call(this,u);return I(this,ft,gg).call(this,s,r,o,f),d}addHCMFilter(e,i){var x;const s=`${e}-${i}`,r="base";let o=l(this,ft,fg).get(r);if((o==null?void 0:o.key)===s||(o?((x=o.filter)==null||x.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},l(this,ft,fg).set(r,o)),!e||!i))return o.url;const c=I(this,ft,mg).call(this,e);e=gt.makeHexColor(...c);const u=I(this,ft,mg).call(this,i);if(i=gt.makeHexColor(...u),l(this,ft,$h).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const d=new Array(256);for(let _=0;_<=255;_++){const P=_/255;d[_]=P<=.03928?P/12.92:((P+.055)/1.055)**2.4}const f=d.join(","),p=`g_${l(this,sa)}_hcm_filter`,m=o.filter=I(this,ft,Vh).call(this,p);I(this,ft,gg).call(this,f,f,f,m),I(this,ft,Q1).call(this,m);const v=(_,P)=>{const w=c[_]/255,E=u[_]/255,A=new Array(P+1);for(let y=0;y<=P;y++)A[y]=w+y/P*(E-w);return A.join(",")};return I(this,ft,gg).call(this,v(0,5),v(1,5),v(2,5),m),o.url=I(this,ft,Wh).call(this,p),o.url}addAlphaFilter(e){let i=l(this,ft,Wn).get(e);if(i)return i;const[s]=I(this,ft,j0).call(this,[e]),r=`alpha_${s}`;if(i=l(this,ft,Wn).get(r),i)return l(this,ft,Wn).set(e,i),i;const o=`g_${l(this,sa)}_alpha_map_${Fe(this,wu)._++}`,c=I(this,ft,Wh).call(this,o);l(this,ft,Wn).set(e,c),l(this,ft,Wn).set(r,c);const u=I(this,ft,Vh).call(this,o);return I(this,ft,J1).call(this,s,u),c}addLuminosityFilter(e){let i=l(this,ft,Wn).get(e||"luminosity");if(i)return i;let s,r;if(e?([s]=I(this,ft,j0).call(this,[e]),r=`luminosity_${s}`):r="luminosity",i=l(this,ft,Wn).get(r),i)return l(this,ft,Wn).set(e,i),i;const o=`g_${l(this,sa)}_luminosity_map_${Fe(this,wu)._++}`,c=I(this,ft,Wh).call(this,o);l(this,ft,Wn).set(e,c),l(this,ft,Wn).set(r,c);const u=I(this,ft,Vh).call(this,o);return I(this,ft,WN).call(this,u),e&&I(this,ft,J1).call(this,s,u),c}addHighlightHCMFilter(e,i,s,r,o){var E;const c=`${i}-${s}-${r}-${o}`;let u=l(this,ft,fg).get(e);if((u==null?void 0:u.key)===c||(u?((E=u.filter)==null||E.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},l(this,ft,fg).set(e,u)),!i||!s))return u.url;const[d,f]=[i,s].map(I(this,ft,mg).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,x]=[r,o].map(I(this,ft,mg).bind(this));m<p&&([p,m,v,x]=[m,p,x,v]),l(this,ft,$h).style.color="";const _=(A,y,S)=>{const T=new Array(256),N=(m-p)/S,F=A/255,B=(y-A)/(255*S);let j=0;for(let H=0;H<=S;H++){const W=Math.round(p+H*N),K=F+H*B;for(let $=j;$<=W;$++)T[$]=K;j=W+1}for(let H=j;H<256;H++)T[H]=T[j-1];return T.join(",")},P=`g_${l(this,sa)}_hcm_${e}_filter`,w=u.filter=I(this,ft,Vh).call(this,P);return I(this,ft,Q1).call(this,w),I(this,ft,gg).call(this,_(v[0],x[0],5),_(v[1],x[1],5),_(v[2],x[2],5),w),u.url=I(this,ft,Wh).call(this,P),u.url}destroy(e=!1){var i,s,r,o;e&&((i=l(this,_u))!=null&&i.size)||((s=l(this,ia))==null||s.parentNode.parentNode.remove(),C(this,ia,null),(r=l(this,tf))==null||r.clear(),C(this,tf,null),(o=l(this,_u))==null||o.clear(),C(this,_u,null),C(this,wu,0))}}yu=new WeakMap,tf=new WeakMap,ia=new WeakMap,sa=new WeakMap,Zn=new WeakMap,_u=new WeakMap,wu=new WeakMap,ft=new WeakSet,Wn=function(){return l(this,tf)||C(this,tf,new Map)},fg=function(){return l(this,_u)||C(this,_u,new Map)},$h=function(){if(!l(this,ia)){const e=l(this,Zn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=l(this,Zn).createElementNS(Oo,"svg");s.setAttribute("width",0),s.setAttribute("height",0),C(this,ia,l(this,Zn).createElementNS(Oo,"defs")),e.append(s),s.append(l(this,ia)),l(this,Zn).body.append(e)}return l(this,ia)},j0=function(e){if(e.length===1){const d=e[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[i,s,r]=e,o=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=i[d]/255,c[d]=s[d]/255,u[d]=r[d]/255;return[o.join(","),c.join(","),u.join(",")]},Wh=function(e){if(l(this,yu)===void 0){C(this,yu,"");const i=l(this,Zn).URL;i!==l(this,Zn).baseURI&&(gy(i)?Tt('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,yu,ME(i,"")))}return`url(${l(this,yu)}#${e})`},WN=function(e){const i=l(this,Zn).createElementNS(Oo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},Q1=function(e){const i=l(this,Zn).createElementNS(Oo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Vh=function(e){const i=l(this,Zn).createElementNS(Oo,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),l(this,ft,$h).append(i),i},pg=function(e,i,s){const r=l(this,Zn).createElementNS(Oo,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},gg=function(e,i,s,r){const o=l(this,Zn).createElementNS(Oo,"feComponentTransfer");r.append(o),I(this,ft,pg).call(this,o,"feFuncR",e),I(this,ft,pg).call(this,o,"feFuncG",i),I(this,ft,pg).call(this,o,"feFuncB",s)},J1=function(e,i){const s=l(this,Zn).createElementNS(Oo,"feComponentTransfer");i.append(s),I(this,ft,pg).call(this,s,"feFuncA",e)},mg=function(e){return l(this,ft,$h).style.color=e,Pp(getComputedStyle(l(this,ft,$h)).getPropertyValue("color"))};class VN{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){pe("Abstract method `_fetch` called.")}}class tk extends VN{async _fetch(t){const e=await Ep(t,"arraybuffer");return new Uint8Array(e)}}class GN{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){pe("Abstract method `_fetch` called.")}}class ek extends GN{async _fetch(t){const e=await Ep(t,"arraybuffer");return new Uint8Array(e)}}di&&Tt("Please use the `legacy` build in Node.js environments.");async function OE(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class z6 extends $N{}class H6 extends HN{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class U6 extends UN{async _fetch(t){return OE(t)}}class $6 extends VN{async _fetch(t){return OE(t)}}class W6 extends GN{async _fetch(t){return OE(t)}}const zh="__forcedDependency",{floor:nk,ceil:ik}=Math;function h0(n,t,e,i,s,r){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],s),n[t*4+3]=Math.max(n[t*4+3],r)}const tS=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var ef,Al;class V6{constructor(t,e){R(this,ef);R(this,Al);C(this,ef,t),C(this,Al,e)}get length(){return l(this,ef).length}isEmpty(t){return l(this,ef)[t]===tS}minX(t){return l(this,Al)[t*4+0]/256}minY(t){return l(this,Al)[t*4+1]/256}maxX(t){return(l(this,Al)[t*4+2]+1)/256}maxY(t){return(l(this,Al)[t*4+3]+1)/256}}ef=new WeakMap,Al=new WeakMap;const d0=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};var Ti,ki,bu,ur,xu,ra,ne,oe,oa,Mi,Ym,nf,Su,Au,aa,Xn,io,Km,eS;class G6{constructor(t,e,i=!1){R(this,Km);R(this,Ti,{__proto__:null});R(this,ki,{__proto__:null,transform:[],moveText:[],sameLineText:[],[zh]:[]});R(this,bu,new Map);R(this,ur,[]);R(this,xu,[]);R(this,ra,[[1,0,0,1,0,0]]);R(this,ne,[-1/0,-1/0,1/0,1/0]);R(this,oe,new Float64Array([1/0,1/0,-1/0,-1/0]));R(this,oa,-1);R(this,Mi,new Set);R(this,Ym,new Map);R(this,nf,new Map);R(this,Su);R(this,Au);R(this,aa);R(this,Xn);R(this,io);C(this,Su,t.width),C(this,Au,t.height),I(this,Km,eS).call(this,e),i&&C(this,io,new Map)}growOperationsCount(t){t>=l(this,Xn).length&&I(this,Km,eS).call(this,t,l(this,Xn))}save(t){return C(this,Ti,{__proto__:l(this,Ti)}),C(this,ki,{__proto__:l(this,ki),transform:{__proto__:l(this,ki).transform},moveText:{__proto__:l(this,ki).moveText},sameLineText:{__proto__:l(this,ki).sameLineText},[zh]:{__proto__:l(this,ki)[zh]}}),C(this,ne,{__proto__:l(this,ne)}),l(this,ur).push(t),this}restore(t){var s;const e=Object.getPrototypeOf(l(this,Ti));if(e===null)return this;C(this,Ti,e),C(this,ki,Object.getPrototypeOf(l(this,ki))),C(this,ne,Object.getPrototypeOf(l(this,ne)));const i=l(this,ur).pop();return i!==void 0&&((s=d0(l(this,io),t))==null||s.dependencies.add(i),l(this,Xn)[t]=l(this,Xn)[i]),this}recordOpenMarker(t){return l(this,ur).push(t),this}getOpenMarker(){return l(this,ur).length===0?null:l(this,ur).at(-1)}recordCloseMarker(t){var i;const e=l(this,ur).pop();return e!==void 0&&((i=d0(l(this,io),t))==null||i.dependencies.add(e),l(this,Xn)[t]=l(this,Xn)[e]),this}beginMarkedContent(t){return l(this,xu).push(t),this}endMarkedContent(t){var i;const e=l(this,xu).pop();return e!==void 0&&((i=d0(l(this,io),t))==null||i.dependencies.add(e),l(this,Xn)[t]=l(this,Xn)[e]),this}pushBaseTransform(t){return l(this,ra).push(gt.multiplyByDOMMatrix(l(this,ra).at(-1),t.getTransform())),this}popBaseTransform(){return l(this,ra).length>1&&l(this,ra).pop(),this}recordSimpleData(t,e){return l(this,Ti)[t]=e,this}recordIncrementalData(t,e){return l(this,ki)[t].push(e),this}resetIncrementalData(t,e){return l(this,ki)[t].length=0,this}recordNamedData(t,e){return l(this,bu).set(t,e),this}recordSimpleDataFromNamed(t,e,i){l(this,Ti)[t]=l(this,bu).get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(zh,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in l(this,Ti)&&this.recordFutureForcedDependency(e,l(this,Ti)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of l(this,Mi))this.recordFutureForcedDependency(zh,t);return this}resetBBox(t){return l(this,oa)!==t&&(C(this,oa,t),l(this,oe)[0]=1/0,l(this,oe)[1]=1/0,l(this,oe)[2]=-1/0,l(this,oe)[3]=-1/0),this}recordClipBox(t,e,i,s,r,o){const c=gt.multiplyByDOMMatrix(l(this,ra).at(-1),e.getTransform()),u=[1/0,1/0,-1/0,-1/0];gt.axialAlignedBoundingBox([i,r,s,o],c,u);const d=gt.intersect(l(this,ne),u);return d?(l(this,ne)[0]=d[0],l(this,ne)[1]=d[1],l(this,ne)[2]=d[2],l(this,ne)[3]=d[3]):(l(this,ne)[0]=l(this,ne)[1]=1/0,l(this,ne)[2]=l(this,ne)[3]=-1/0),this}recordBBox(t,e,i,s,r,o){const c=l(this,ne);if(c[0]===1/0)return this;const u=gt.multiplyByDOMMatrix(l(this,ra).at(-1),e.getTransform());if(c[0]===-1/0)return gt.axialAlignedBoundingBox([i,r,s,o],u,l(this,oe)),this;const d=[1/0,1/0,-1/0,-1/0];return gt.axialAlignedBoundingBox([i,r,s,o],u,d),l(this,oe)[0]=Math.min(l(this,oe)[0],Math.max(d[0],c[0])),l(this,oe)[1]=Math.min(l(this,oe)[1],Math.max(d[1],c[1])),l(this,oe)[2]=Math.max(l(this,oe)[2],Math.min(d[2],c[2])),l(this,oe)[3]=Math.max(l(this,oe)[3],Math.min(d[3],c[3])),this}recordCharacterBBox(t,e,i,s=1,r=0,o=0,c){const u=i.bbox;let d,f;if(u&&(d=u[2]!==u[0]&&u[3]!==u[1]&&l(this,nf).get(i),d!==!1&&(f=[0,0,0,0],gt.axialAlignedBoundingBox(u,i.fontMatrix,f),(s!==1||r!==0||o!==0)&&gt.scaleMinMax([s,0,0,-s,r,o],f),d)))return this.recordBBox(t,e,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(t);const p=c();return u&&f&&d===void 0&&(d=f[0]<=r-p.actualBoundingBoxLeft&&f[2]>=r+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,l(this,nf).set(i,d),d)?this.recordBBox(t,e,f[0],f[2],f[1],f[3]):this.recordBBox(t,e,r-p.actualBoundingBoxLeft,r+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return l(this,oe)[0]=Math.max(0,l(this,ne)[0]),l(this,oe)[1]=Math.max(0,l(this,ne)[1]),l(this,oe)[2]=Math.min(l(this,Su),l(this,ne)[2]),l(this,oe)[3]=Math.min(l(this,Au),l(this,ne)[3]),this}getSimpleIndex(t){return l(this,Ti)[t]}recordDependencies(t,e){const i=l(this,Mi),s=l(this,Ti),r=l(this,ki);for(const o of e)o in l(this,Ti)?i.add(s[o]):o in r&&r[o].forEach(i.add,i);return this}recordNamedDependency(t,e){return l(this,bu).has(e)&&l(this,Mi).add(l(this,bu).get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[zh]),l(this,io)){const i=d0(l(this,io),t),{dependencies:s}=i;l(this,Mi).forEach(s.add,s),l(this,ur).forEach(s.add,s),l(this,xu).forEach(s.add,s),s.delete(t),i.isRenderingOperation=!0}if(l(this,oa)===t){const i=nk(l(this,oe)[0]*256/l(this,Su)),s=nk(l(this,oe)[1]*256/l(this,Au)),r=ik(l(this,oe)[2]*256/l(this,Su)),o=ik(l(this,oe)[3]*256/l(this,Au));h0(l(this,aa),t,i,s,r,o);for(const c of l(this,Mi))c!==t&&h0(l(this,aa),c,i,s,r,o);for(const c of l(this,ur))c!==t&&h0(l(this,aa),c,i,s,r,o);for(const c of l(this,xu))c!==t&&h0(l(this,aa),c,i,s,r,o);e||(l(this,Mi).clear(),C(this,oa,-1))}return this}recordShowTextOperation(t,e=!1){const i=Array.from(l(this,Mi));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of i)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return l(this,oa)===t&&(C(this,oa,-1),l(this,ne)[0]=Math.max(l(this,ne)[0],l(this,oe)[0]),l(this,ne)[1]=Math.max(l(this,ne)[1],l(this,oe)[1]),l(this,ne)[2]=Math.min(l(this,ne)[2],l(this,oe)[2]),l(this,ne)[3]=Math.min(l(this,ne)[3],l(this,oe)[3]),e||l(this,Mi).clear()),this}_takePendingDependencies(){const t=l(this,Mi);return C(this,Mi,new Set),t}_extractOperation(t){const e=l(this,Ym).get(t);return l(this,Ym).delete(t),e}_pushPendingDependencies(t){for(const e of t)l(this,Mi).add(e)}take(){return l(this,nf).clear(),new V6(l(this,Xn),l(this,aa))}takeDebugMetadata(){return l(this,io)}}Ti=new WeakMap,ki=new WeakMap,bu=new WeakMap,ur=new WeakMap,xu=new WeakMap,ra=new WeakMap,ne=new WeakMap,oe=new WeakMap,oa=new WeakMap,Mi=new WeakMap,Ym=new WeakMap,nf=new WeakMap,Su=new WeakMap,Au=new WeakMap,aa=new WeakMap,Xn=new WeakMap,io=new WeakMap,Km=new WeakSet,eS=function(t,e){const i=new ArrayBuffer(t*4);C(this,aa,new Uint8ClampedArray(i)),C(this,Xn,new Uint32Array(i)),e&&e.length>0?(l(this,Xn).set(e),l(this,Xn).fill(tS,e.length)):l(this,Xn).fill(tS)};var he,ze,hr,sf,rf;const qE=class qE{constructor(t,e,i){R(this,he);R(this,ze);R(this,hr);R(this,sf,0);R(this,rf,0);if(t instanceof qE&&l(t,hr)===!!i)return t;C(this,he,t),C(this,ze,e),C(this,hr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(t){return Fe(this,rf)._++,l(this,he).save(l(this,ze)),this}restore(t){return l(this,rf)>0&&(l(this,he).restore(l(this,ze)),Fe(this,rf)._--),this}recordOpenMarker(t){return Fe(this,sf)._++,this}getOpenMarker(){return l(this,sf)>0?l(this,ze):l(this,he).getOpenMarker()}recordCloseMarker(t){return Fe(this,sf)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return l(this,he).pushBaseTransform(t),this}popBaseTransform(){return l(this,he).popBaseTransform(),this}recordSimpleData(t,e){return l(this,he).recordSimpleData(t,l(this,ze)),this}recordIncrementalData(t,e){return l(this,he).recordIncrementalData(t,l(this,ze)),this}resetIncrementalData(t,e){return l(this,he).resetIncrementalData(t,l(this,ze)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return l(this,he).recordSimpleDataFromNamed(t,e,l(this,ze)),this}recordFutureForcedDependency(t,e){return l(this,he).recordFutureForcedDependency(t,l(this,ze)),this}inheritSimpleDataAsFutureForcedDependencies(t){return l(this,he).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,he).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return l(this,hr)||l(this,he).resetBBox(l(this,ze)),this}recordClipBox(t,e,i,s,r,o){return l(this,hr)||l(this,he).recordClipBox(l(this,ze),e,i,s,r,o),this}recordBBox(t,e,i,s,r,o){return l(this,hr)||l(this,he).recordBBox(l(this,ze),e,i,s,r,o),this}recordCharacterBBox(t,e,i,s,r,o,c){return l(this,hr)||l(this,he).recordCharacterBBox(l(this,ze),e,i,s,r,o,c),this}recordFullPageBBox(t){return l(this,hr)||l(this,he).recordFullPageBBox(l(this,ze)),this}getSimpleIndex(t){return l(this,he).getSimpleIndex(t)}recordDependencies(t,e){return l(this,he).recordDependencies(l(this,ze),e),this}recordNamedDependency(t,e){return l(this,he).recordNamedDependency(l(this,ze),e),this}recordOperation(t){return l(this,he).recordOperation(l(this,ze),!0),this}recordShowTextOperation(t){return l(this,he).recordShowTextOperation(l(this,ze),!0),this}bboxToClipBoxDropOperation(t){return l(this,hr)||l(this,he).bboxToClipBoxDropOperation(l(this,ze),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};he=new WeakMap,ze=new WeakMap,hr=new WeakMap,sf=new WeakMap,rf=new WeakMap;let G_=qE;const Ts={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},On={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function nS(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class FE{isModifyingCurrentTransform(){return!1}getPattern(){pe("Abstract method `getPattern` called.")}}class q6 extends FE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let r;if(s===On.STROKE||s===On.FILL){const o=e.current.getClippedPathBoundingBox(s,Me(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),i=gt.transform(i,[1,0,0,1,o[0],o[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),nS(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(i);r.setTransform(p)}else nS(t,this._bbox),r=this._createGradient(t);return r}}function px(n,t,e,i,s,r,o,c){const u=t.coords,d=t.colors,f=n.data,p=n.width*4;let m;u[e+1]>u[i+1]&&(m=e,e=i,i=m,m=r,r=o,o=m),u[i+1]>u[s+1]&&(m=i,i=s,s=m,m=o,o=c,c=m),u[e+1]>u[i+1]&&(m=e,e=i,i=m,m=r,r=o,o=m);const v=(u[e]+t.offsetX)*t.scaleX,x=(u[e+1]+t.offsetY)*t.scaleY,_=(u[i]+t.offsetX)*t.scaleX,P=(u[i+1]+t.offsetY)*t.scaleY,w=(u[s]+t.offsetX)*t.scaleX,E=(u[s+1]+t.offsetY)*t.scaleY;if(x>=E)return;const A=d[r],y=d[r+1],S=d[r+2],T=d[o],N=d[o+1],F=d[o+2],B=d[c],j=d[c+1],H=d[c+2],W=Math.round(x),K=Math.round(E);let $,J,q,Y,U,G,X,it;for(let Q=W;Q<=K;Q++){if(Q<P){const at=Q<x?0:(x-Q)/(x-P);$=v-(v-_)*at,J=A-(A-T)*at,q=y-(y-N)*at,Y=S-(S-F)*at}else{let at;Q>E?at=1:P===E?at=0:at=(P-Q)/(P-E),$=_-(_-w)*at,J=T-(T-B)*at,q=N-(N-j)*at,Y=F-(F-H)*at}let et;Q<x?et=0:Q>E?et=1:et=(x-Q)/(x-E),U=v-(v-w)*et,G=A-(A-B)*et,X=y-(y-j)*et,it=S-(S-H)*et;const ot=Math.round(Math.min($,U)),ut=Math.round(Math.max($,U));let ht=p*Q+ot*4;for(let at=ot;at<=ut;at++)et=($-at)/($-U),et<0?et=0:et>1&&(et=1),f[ht++]=J-(J-G)*et|0,f[ht++]=q-(q-X)*et|0,f[ht++]=Y-(Y-it)*et|0,f[ht++]=255}}function Z6(n,t,e){const i=t.coords,s=t.colors;let r,o;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(i.length/c)-1,d=c-1;for(r=0;r<u;r++){let f=r*c;for(let p=0;p<d;p++,f++)px(n,e,i[f],i[f+1],i[f+c],s[f],s[f+1],s[f+c]),px(n,e,i[f+c+1],i[f+1],i[f+c],s[f+c+1],s[f+1],s[f+c])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)px(n,e,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class X6 extends FE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),v=d/p,x=f/m,_={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/v,scaleY:1/x},P=p+2*2,w=m+2*2,E=i.getCanvas("mesh",P,w),A=E.context,y=A.createImageData(p,m);if(e){const T=y.data;for(let N=0,F=T.length;N<F;N+=4)T[N]=e[0],T[N+1]=e[1],T[N+2]=e[2],T[N+3]=255}for(const T of this._figures)Z6(y,T,_);return A.putImageData(y,2,2),{canvas:E.canvas,offsetX:c-2*v,offsetY:u-2*x,scaleX:v,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){nS(t,this._bbox);const r=new Float32Array(2);if(s===On.SHADING)gt.singularValueDecompose2dScale(Me(t),r);else if(this.matrix){gt.singularValueDecompose2dScale(this.matrix,r);const[c,u]=r;gt.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=c,r[1]*=u}else gt.singularValueDecompose2dScale(e.baseTransform,r);const o=this._createMeshCanvas(r,s===On.SHADING?null:this._background,e.cachedCanvases);return s!==On.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class Y6 extends FE{getPattern(){return"hotpink"}}function K6(n){switch(n[0]){case"RadialAxial":return new q6(n);case"Mesh":return new X6(n);case"Dummy":return new Y6}throw new Error(`Unknown IR type: ${n[0]}`)}const sk={COLORED:1,UNCOLORED:2},cw=class cw{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t,e){var G,X;const{bbox:i,operatorList:s,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),Xw("TilingType: "+o);const p=i[0],m=i[1],v=i[2],x=i[3],_=v-p,P=x-m,w=new Float32Array(2);gt.singularValueDecompose2dScale(this.matrix,w);const[E,A]=w;gt.singularValueDecompose2dScale(this.baseTransform,w);const y=E*w[0],S=A*w[1];let T=_,N=P,F=!1,B=!1;const j=Math.ceil(d*y),H=Math.ceil(f*S),W=Math.ceil(_*y),K=Math.ceil(P*S);j>=W?T=d:F=!0,H>=K?N=f:B=!0;const $=this.getSizeAndScale(T,this.ctx.canvas.width,y),J=this.getSizeAndScale(N,this.ctx.canvas.height,S),q=t.cachedCanvases.getCanvas("pattern",$.size,J.size),Y=q.context,U=u.createCanvasGraphics(Y,e);if(U.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(U,r,c),Y.translate(-$.scale*p,-J.scale*m),U.transform(0,$.scale,0,0,J.scale,0,0),Y.save(),(G=U.dependencyTracker)==null||G.save(),this.clipBbox(U,p,m,v,x),U.baseTransform=Me(U.ctx),U.executeOperatorList(s),U.endDrawing(),(X=U.dependencyTracker)==null||X.restore(),Y.restore(),F||B){const it=q.canvas;F&&(T=d),B&&(N=f);const Q=this.getSizeAndScale(T,this.ctx.canvas.width,y),et=this.getSizeAndScale(N,this.ctx.canvas.height,S),ot=Q.size,ut=et.size,ht=t.cachedCanvases.getCanvas("pattern-workaround",ot,ut),at=ht.context,Rt=F?Math.floor(_/d):0,Qt=B?Math.floor(P/f):0;for(let Bt=0;Bt<=Rt;Bt++)for(let mt=0;mt<=Qt;mt++)at.drawImage(it,ot*Bt,ut*mt,ot,ut,0,0,ot,ut);return{canvas:ht.canvas,scaleX:Q.scale,scaleY:et.scale,offsetX:p,offsetY:m}}return{canvas:q.canvas,scaleX:$.scale,scaleY:J.scale,offsetX:p,offsetY:m}}getSizeAndScale(t,e,i){const s=Math.max(cw.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=s?r=s:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,s,r){const o=s-e,c=r-i;t.ctx.rect(e,i,o,c),gt.axialAlignedBoundingBox([e,i,s,r],Me(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,r=t.current;switch(e){case sk.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;s.fillStyle=r.fillColor=o,s.strokeStyle=r.strokeColor=c;break;case sk.UNCOLORED:s.fillStyle=s.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new y6(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s,r){let o=i;s!==On.SHADING&&(o=gt.transform(o,e.baseTransform),this.matrix&&(o=gt.transform(o,this.matrix)));const c=this.createPatternCanvas(e,r);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(u),d}};nt(cw,"MAX_PATTERN_SIZE",3e3);let iS=cw;function Q6({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const c=En.isLittleEndian?4278190080:255,[u,d]=o?[r,c]:[c,r],f=i>>3,p=i&7,m=n.length;e=new Uint32Array(e.buffer);let v=0;for(let x=0;x<s;x++){for(const P=t+f;t<P;t++){const w=t<m?n[t]:255;e[v++]=w&128?d:u,e[v++]=w&64?d:u,e[v++]=w&32?d:u,e[v++]=w&16?d:u,e[v++]=w&8?d:u,e[v++]=w&4?d:u,e[v++]=w&2?d:u,e[v++]=w&1?d:u}if(p===0)continue;const _=t<m?n[t++]:255;for(let P=0;P<p;P++)e[v++]=_&1<<7-P?d:u}return{srcPos:t,destPos:v}}const rk=16,ok=100,J6=15,ak=10,Di=16,gx=new DOMMatrix,hs=new Float32Array(2),ld=new Float32Array([1/0,1/0,-1/0,-1/0]);function tU(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,r,o,c){t.transform(e,i,s,r,o,c),this.__originalTransform(e,i,s,r,o,c)},n.setTransform=function(e,i,s,r,o,c){t.setTransform(e,i,s,r,o,c),this.__originalSetTransform(e,i,s,r,o,c)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,r,o,c){t.bezierCurveTo(e,i,s,r,o,c),this.__originalBezierCurveTo(e,i,s,r,o,c)},n.rect=function(e,i,s,r){t.rect(e,i,s,r),this.__originalRect(e,i,s,r)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class eU{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function f0(n,t,e,i,s,r,o,c,u,d){const[f,p,m,v,x,_]=Me(n);if(p===0&&m===0){const E=o*f+x,A=Math.round(E),y=c*v+_,S=Math.round(y),T=(o+u)*f+x,N=Math.abs(Math.round(T)-A)||1,F=(c+d)*v+_,B=Math.abs(Math.round(F)-S)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(v),A,S),n.drawImage(t,e,i,s,r,0,0,N,B),n.setTransform(f,p,m,v,x,_),[N,B]}if(f===0&&v===0){const E=c*m+x,A=Math.round(E),y=o*p+_,S=Math.round(y),T=(c+d)*m+x,N=Math.abs(Math.round(T)-A)||1,F=(o+u)*p+_,B=Math.abs(Math.round(F)-S)||1;return n.setTransform(0,Math.sign(p),Math.sign(m),0,A,S),n.drawImage(t,e,i,s,r,0,0,B,N),n.setTransform(f,p,m,v,x,_),[B,N]}n.drawImage(t,e,i,s,r,o,c,u,d);const P=Math.hypot(f,p),w=Math.hypot(m,v);return[P*u,w*d]}class lk{constructor(t,e,i){nt(this,"alphaIsShape",!1);nt(this,"fontSize",0);nt(this,"fontSizeScale",1);nt(this,"textMatrix",null);nt(this,"textMatrixScale",1);nt(this,"fontMatrix",k1);nt(this,"leading",0);nt(this,"x",0);nt(this,"y",0);nt(this,"lineX",0);nt(this,"lineY",0);nt(this,"charSpacing",0);nt(this,"wordSpacing",0);nt(this,"textHScale",1);nt(this,"textRenderingMode",kn.FILL);nt(this,"textRise",0);nt(this,"fillColor","#000000");nt(this,"strokeColor","#000000");nt(this,"patternFill",!1);nt(this,"patternStroke",!1);nt(this,"fillAlpha",1);nt(this,"strokeAlpha",1);nt(this,"lineWidth",1);nt(this,"activeSMask",null);nt(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=ld.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=On.FILL,e=null){const i=this.minMax.slice();if(t===On.STROKE){e||pe("Stroke bounding box must include transform."),gt.singularValueDecompose2dScale(e,hs);const s=hs[0]*this.lineWidth/2,r=hs[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const t=gt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(ld,0)}getClippedPathBoundingBox(t=On.FILL,e=null){return gt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function ck(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%Di,r=(e-s)/Di,o=s===0?r:r+1,c=n.createImageData(i,Di);let u=0,d;const f=t.data,p=c.data;let m,v,x,_;if(t.kind===Bg.GRAYSCALE_1BPP){const P=f.byteLength,w=new Uint32Array(p.buffer,0,p.byteLength>>2),E=w.length,A=i+7>>3,y=4294967295,S=En.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(x=m<r?Di:s,d=0,v=0;v<x;v++){const T=P-u;let N=0;const F=T>A?i:T*8-7,B=F&-8;let j=0,H=0;for(;N<B;N+=8)H=f[u++],w[d++]=H&128?y:S,w[d++]=H&64?y:S,w[d++]=H&32?y:S,w[d++]=H&16?y:S,w[d++]=H&8?y:S,w[d++]=H&4?y:S,w[d++]=H&2?y:S,w[d++]=H&1?y:S;for(;N<F;N++)j===0&&(H=f[u++],j=128),w[d++]=H&j?y:S,j>>=1}for(;d<E;)w[d++]=0;n.putImageData(c,0,m*Di)}}else if(t.kind===Bg.RGBA_32BPP){for(v=0,_=i*Di*4,m=0;m<r;m++)p.set(f.subarray(u,u+_)),u+=_,n.putImageData(c,0,v),v+=Di;m<o&&(_=i*s*4,p.set(f.subarray(u,u+_)),n.putImageData(c,0,v))}else if(t.kind===Bg.RGB_24BPP)for(x=Di,_=i*x,m=0;m<o;m++){for(m>=r&&(x=s,_=i*x),d=0,v=_;v--;)p[d++]=f[u++],p[d++]=f[u++],p[d++]=f[u++],p[d++]=255;n.putImageData(c,0,m*Di)}else throw new Error(`bad image kind: ${t.kind}`)}function uk(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%Di,r=(e-s)/Di,o=s===0?r:r+1,c=n.createImageData(i,Di);let u=0;const d=t.data,f=c.data;for(let p=0;p<o;p++){const m=p<r?Di:s;({srcPos:u}=Q6({src:d,srcPos:u,dest:f,width:i,height:m,nonBlackColor:0})),n.putImageData(c,0,p*Di)}}function Kp(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function p0(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function hk(n,t){if(t)return!0;gt.singularValueDecompose2dScale(n,hs);const e=Math.fround(Mr.pixelRatio*Fa.PDF_TO_CSS_UNITS);return hs[0]<=e&&hs[1]<=e}const nU=["butt","round","square"],iU=["miter","round","bevel"],sU={},dk={};var Lr,sS,rS,oS;const ZE=class ZE{constructor(t,e,i,s,r,{optionalContentConfig:o,markedContentStack:c=null},u,d,f){R(this,Lr);this.ctx=t,this.current=new lk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new eU(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(t,e,i=null){var s;return typeof e=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=c,i){const u=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Me(this.compositeCtx))}this.ctx.save(),p0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Me(this.ctx)}executeOperatorList(t,e,i,s,r){var w;const o=t.argsArray,c=t.fnArray;let u=e||0;const d=o.length;if(d===u)return u;const f=d-u>ak&&typeof i=="function",p=f?Date.now()+J6:0;let m=0;const v=this.commonObjs,x=this.objs;let _,P;for(;;){if(s!==void 0&&u===s.nextBreakPoint)return s.breakIt(u,i),u;if(!r||r(u))if(_=c[u],P=o[u]??null,_!==pp.dependency)P===null?this[_](u):this[_](u,...P);else for(const E of P){(w=this.dependencyTracker)==null||w.recordNamedData(E,u);const A=E.startsWith("g_")?v:x;if(!A.has(E))return A.get(E,i),u}if(u++,u===d)return u;if(f&&++m>ak){if(Date.now()>p)return i(),u;m=0}}}endDrawing(){I(this,Lr,sS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),I(this,Lr,rS).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),c=i,u=s,d="prescale1",f,p;for(;r>2&&c>1||o>2&&u>1;){let m=c,v=u;r>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),r/=c/m),o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/v),f=this.cachedCanvases.getCanvas(d,m,v),p=f.context,p.clearRect(0,0,m,v),p.drawImage(t,0,0,c,u,0,0,m,v),t=f.canvas,c=m,u=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t,e){var j,H;const i=this.ctx,{width:s,height:r}=e,o=this.current.fillColor,c=this.current.patternFill,u=Me(i);let d,f,p,m;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),o]),d=this._cachedBitmapsMap.get(W),d||(d=new Map,this._cachedBitmapsMap.set(W,d));const K=d.get(f);if(K&&!c){const $=Math.round(Math.min(u[0],u[2])+u[4]),J=Math.round(Math.min(u[1],u[3])+u[5]);return(j=this.dependencyTracker)==null||j.recordDependencies(t,Ts.transformAndFill),{canvas:K,offsetX:$,offsetY:J}}p=K}p||(m=this.cachedCanvases.getCanvas("maskCanvas",s,r),uk(m.context,e));let v=gt.transform(u,[1/s,0,0,-1/r,0,0]);v=gt.transform(v,[1,0,0,1,0,-r]);const x=ld.slice();gt.axialAlignedBoundingBox([0,0,s,r],v,x);const[_,P,w,E]=x,A=Math.round(w-_)||1,y=Math.round(E-P)||1,S=this.cachedCanvases.getCanvas("fillCanvas",A,y),T=S.context,N=_,F=P;T.translate(-N,-F),T.transform(...v),p||(p=this._scaleImage(m.canvas,zr(T)),p=p.img,d&&c&&d.set(f,p)),T.imageSmoothingEnabled=hk(Me(T),e.interpolate),f0(T,p,0,0,p.width,p.height,0,0,s,r),T.globalCompositeOperation="source-in";const B=gt.transform(zr(T),[1,0,0,1,-N,-F]);return T.fillStyle=c?o.getPattern(i,this,B,On.FILL,t):o,T.fillRect(0,0,s,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,S.canvas)),(H=this.dependencyTracker)==null||H.recordDependencies(t,Ts.transformAndFill),{canvas:S.canvas,offsetX:Math.round(N),offsetY:Math.round(F)}}setLineWidth(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",t),this.ctx.lineCap=nU[e]}setLineJoin(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",t),this.ctx.lineJoin=iU[e]}setMiterLimit(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var i,s,r,o,c;for(const[u,d]of e)switch(u){case"LW":this.setLineWidth(t,d);break;case"LC":this.setLineCap(t,d);break;case"LJ":this.setLineJoin(t,d);break;case"ML":this.setMiterLimit(t,d);break;case"D":this.setDash(t,d[0],d[1]);break;case"RI":this.setRenderingIntent(t,d);break;case"FL":this.setFlatness(t,d);break;case"Font":this.setFont(t,d[0],d[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=d;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(r=this.dependencyTracker)==null||r.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=d;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",t),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(c=this.dependencyTracker)==null||c.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,i);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),Kp(this.suspendedCtx,o),tU(o,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Kp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const r=s[0],o=s[1],c=s[2]-r,u=s[3]-o;c===0||u===0||(this.genericComposeSMask(e.context,i,c,u,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,r,o,c,u,d,f,p){let m=t.canvas,v=u-f,x=d-p;if(o)if(v<0||x<0||v+i>m.width||x+s>m.height){const P=this.cachedCanvases.getCanvas("maskExtension",i,s),w=P.context;w.drawImage(m,-v,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=o,w.fillRect(0,0,i,s),w.globalCompositeOperation="source-over",m=P.canvas,v=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const P=new Path2D;P.rect(v,x,i,s),t.clip(P),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(v,x,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const _=new Path2D;_.rect(u,d,i,s),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(m,v,x,i,s,u,d,i,s),e.restore()}save(t){var i;this.inSMaskMode&&Kp(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(i=this.dependencyTracker)==null||i.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Kp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,r,o,c){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",t),this.ctx.transform(e,i,s,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,s){let[r]=i;if(!s){r||(r=i[0]=new Path2D),this[e](t,r);return}if(this.dependencyTracker!==null){const o=e===pp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-o,s[2]+o,s[1]-o,s[3]+o).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const o=i[0]=new Path2D;for(let c=0,u=r.length;c<u;)switch(r[c++]){case a0.moveTo:o.moveTo(r[c++],r[c++]);break;case a0.lineTo:o.lineTo(r[c++],r[c++]);break;case a0.curveTo:o.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case a0.closePath:o.closePath();break;default:Tt(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=o}gt.axialAlignedBoundingBox(s,Me(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){var o;const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const c=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,zr(s),On.STROKE,t),c){const u=new Path2D;u.addPath(e,s.getTransform().invertSelf().multiplySelf(c)),e=u}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);(o=this.dependencyTracker)==null||o.recordDependencies(t,Ts.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(On.STROKE,Me(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){var d,f,p;const s=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const m=r.isModifyingCurrentTransform()?s.getTransform():null;if((d=this.dependencyTracker)==null||d.save(t),s.save(),s.fillStyle=r.getPattern(s,this,zr(s),On.FILL,t),m){const v=new Path2D;v.addPath(e,s.getTransform().invertSelf().multiplySelf(m)),e=v}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),(f=this.dependencyTracker)==null||f.recordDependencies(t,Ts.fill),c&&(s.restore(),(p=this.dependencyTracker)==null||p.restore(t)),i&&this.consumePath(t,e,u)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var i;this.ctx.fill(e),(i=this.dependencyTracker)==null||i.recordDependencies(t,Ts.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=sU}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=dk}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,r=i.getTransform().invertSelf();for(const{transform:o,x:c,y:u,fontSize:d,path:f}of e)f&&s.addPath(f,new DOMMatrix(o).preMultiplySelf(r).translate(c,u).scale(d,-d));i.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){var p,m;(p=this.dependencyTracker)==null||p.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||k1,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Tt("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const o=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let f=i;i<rk?f=rk:i>ok&&(f=ok),this.current.fontSizeScale=i/f,this.ctx.font=`${d} ${u} ${f}px ${c}`}setTextRenderingMode(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,i,s,r,o){var w,E,A,y;const c=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&kn.FILL_STROKE_MASK,v=!!(f&kn.ADD_TO_PATH_FLAG),x=u.patternFill&&!d.missingFile,_=u.patternStroke&&!d.missingFile;let P;if((d.disableFontFace||v||x||_)&&!d.missingFile&&(P=d.getPathGenerator(this.commonObjs,e)),P&&(d.disableFontFace||x||_)){c.save(),c.translate(i,s),c.scale(p,-p),(w=this.dependencyTracker)==null||w.recordCharacterBBox(t,c,d);let S;if(m===kn.FILL||m===kn.FILL_STROKE)if(r){S=c.getTransform(),c.setTransform(...r);const T=I(this,Lr,oS).call(this,P,S,r);c.fill(T)}else c.fill(P);if(m===kn.STROKE||m===kn.FILL_STROKE)if(o){S||(S=c.getTransform()),c.setTransform(...o);const{a:T,b:N,c:F,d:B}=S,j=gt.inverseTransform(o),H=gt.transform([T,N,F,B,0,0],j);gt.singularValueDecompose2dScale(H,hs),c.lineWidth*=Math.max(hs[0],hs[1])/p,c.stroke(I(this,Lr,oS).call(this,P,S,o))}else c.lineWidth/=p,c.stroke(P);c.restore()}else(m===kn.FILL||m===kn.FILL_STROKE)&&(c.fillText(e,i,s),(E=this.dependencyTracker)==null||E.recordCharacterBBox(t,c,d,p,i,s,()=>c.measureText(e))),(m===kn.STROKE||m===kn.FILL_STROKE)&&(this.dependencyTracker&&((A=this.dependencyTracker)==null||A.recordCharacterBBox(t,c,d,p,i,s,()=>c.measureText(e)).recordDependencies(t,Ts.stroke)),c.strokeText(e,i,s));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Me(c),x:i,y:s,fontSize:p,path:P}),(y=this.dependencyTracker)==null||y.recordCharacterBBox(t,c,d,p,i,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return It(this,"isFontSubpixelAAEnabled",i)}showText(t,e){var F,B,j,H;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ts.showText).resetBBox(t),this.current.textRenderingMode&kn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,s=i.font;if(s.isType3Font){this.showType3Text(t,e),(F=this.dependencyTracker)==null||F.recordShowTextOperation(t);return}const r=i.fontSize;if(r===0){(B=this.dependencyTracker)==null||B.recordOperation(t);return}const o=this.ctx,c=i.fontSizeScale,u=i.charSpacing,d=i.wordSpacing,f=i.fontDirection,p=i.textHScale*f,m=e.length,v=s.vertical,x=v?1:-1,_=s.defaultVMetrics,P=r*i.fontMatrix[0],w=i.textRenderingMode===kn.FILL&&!s.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),f>0?o.scale(p,-1):o.scale(p,1);let E,A;if(i.patternFill){o.save();const W=i.fillColor.getPattern(o,this,zr(o),On.FILL,t);E=Me(o),o.restore(),o.fillStyle=W}if(i.patternStroke){o.save();const W=i.strokeColor.getPattern(o,this,zr(o),On.STROKE,t);A=Me(o),o.restore(),o.strokeStyle=W}let y=i.lineWidth;const S=i.textMatrixScale;if(S===0||y===0){const W=i.textRenderingMode&kn.FILL_STROKE_MASK;(W===kn.STROKE||W===kn.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=S;if(c!==1&&(o.scale(c,c),y/=c),o.lineWidth=y,s.isInvalidPDFjsFont){const W=[];let K=0;for(const J of e)W.push(J.unicode),K+=J.width;const $=W.join("");if(o.fillText($,0,0),this.dependencyTracker!==null){const J=o.measureText($);this.dependencyTracker.recordBBox(t,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=K*P*p,o.restore(),this.compose();return}let T=0,N;for(N=0;N<m;++N){const W=e[N];if(typeof W=="number"){T+=x*W*r/1e3;continue}let K=!1;const $=(W.isSpace?d:0)+u,J=W.fontChar,q=W.accent;let Y,U,G=W.width;if(v){const Q=W.vmetric||_,et=-(W.vmetric?Q[1]:G*.5)*P,ot=Q[2]*P;G=Q?-Q[0]:G,Y=et/c,U=(T+ot)/c}else Y=T/c,U=0;let X;if(s.remeasure&&G>0){X=o.measureText(J);const Q=X.width*1e3/r*c;if(G<Q&&this.isFontSubpixelAAEnabled){const et=G/Q;K=!0,o.save(),o.scale(et,1),Y/=et}else G!==Q&&(Y+=(G-Q)/2e3*r/c)}if(this.contentVisible&&(W.isInFont||s.missingFile)){if(w&&!q)o.fillText(J,Y,U),(j=this.dependencyTracker)==null||j.recordCharacterBBox(t,o,X?{bbox:null}:s,r/c,Y,U,()=>X??o.measureText(J));else if(this.paintChar(t,J,Y,U,E,A),q){const Q=Y+r*q.offset.x/c,et=U-r*q.offset.y/c;this.paintChar(t,q.fontChar,Q,et,E,A)}}const it=v?G*P-$*f:G*P+$*f;T+=it,K&&o.restore()}v?i.y-=T:i.x+=T*p,o.restore(),this.compose(),(H=this.dependencyTracker)==null||H.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,s=this.current,r=s.font,o=s.fontSize,c=s.fontDirection,u=r.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,p=s.textHScale*c,m=s.fontMatrix||k1,v=e.length,x=s.textRenderingMode===kn.INVISIBLE;let _,P,w,E;if(x||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),s.textMatrix&&i.transform(...s.textMatrix),i.translate(s.x,s.y+s.textRise),i.scale(p,c);const A=this.dependencyTracker;for(this.dependencyTracker=A?new G_(A,t):null,_=0;_<v;++_){if(P=e[_],typeof P=="number"){E=u*P*o/1e3,this.ctx.translate(E,0),s.x+=E*p;continue}const y=(P.isSpace?f:0)+d,S=r.charProcOperatorList[P.operatorListId];S?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...m),this.executeOperatorList(S),this.restore()):Tt(`Type3 character "${P.operatorListId}" is not available.`);const T=[P.width,0];gt.applyTransform(T,m),w=T[0]*o+y,i.translate(w,0),s.x+=w*p}i.restore(),A&&(this.dependencyTracker=A)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,s,r,o,c){var d;const u=new Path2D;u.rect(s,r,o-s,c-r),this.ctx.clip(u),(d=this.dependencyTracker)==null||d.recordBBox(t,this.ctx,s,o,r,c).recordClipBox(t,this.ctx,s,o,r,c),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const s=this.baseTransform||Me(this.ctx),r={createCanvasGraphics:(o,c)=>new ZE(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new G_(this.dependencyTracker,c,!0):null)};i=new iS(e,this.ctx,r,s)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=K6(this.getObject(t,e)),this.cachedPatterns.set(e,s)),i&&(s.matrix=i),s}shadingFill(t,e){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const s=this._getPattern(t,e);i.fillStyle=s.getPattern(i,this,zr(i),On.SHADING,t);const r=zr(i);if(r){const{width:c,height:u}=i.canvas,d=ld.slice();gt.axialAlignedBoundingBox([0,0,c,u],r,d);const[f,p,m,v]=d;this.ctx.fillRect(f,p,m-f,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ts.transform).recordDependencies(t,Ts.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){pe("Should not call beginInlineImage")}beginImageData(){pe("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){var s;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Me(this.ctx),i)){gt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,c,u]=i,d=new Path2D;d.rect(r,o,c-r,u-o),this.ctx.clip(d),(s=this.dependencyTracker)==null||s.recordClipBox(t,this.ctx,r,c,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var A;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Xw("TODO: Support non-isolated groups."),e.knockout&&Tt("Knockout groups not supported.");const s=Me(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ld.slice();gt.axialAlignedBoundingBox(e.bbox,Me(i),r);const o=[0,0,i.canvas.width,i.canvas.height];r=gt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),f=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,d,f),v=m.context;v.translate(-c,-u),v.transform(...s);let x=new Path2D;const[_,P,w,E]=e.bbox;if(x.rect(_,P,w-_,E-P),e.matrix){const y=new Path2D;y.addPath(x,new DOMMatrix(e.matrix)),x=y}v.clip(x),e.smask&&this.smaskStack.push({canvas:m.canvas,context:v,offsetX:c,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,u),i.save()),Kp(i,v),this.ctx=v,(A=this.dependencyTracker)==null||A.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var r;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(r=this.dependencyTracker)==null||r.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=Me(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const c=ld.slice();gt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,c),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(t,e,i,s,r,o){if(I(this,Lr,sS).call(this),p0(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],u=i[3]-i[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=u,gt.singularValueDecompose2dScale(Me(this.ctx),hs);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(hs[0],0,0,-hs[1],0,u*hs[1]),p0(this.ctx)}else{p0(this.ctx),this.endPath(t);const d=new Path2D;d.rect(i[0],i[1],c,u),this.ctx.clip(d)}}this.current=new lk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),I(this,Lr,rS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var c;if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const s=this.ctx,r=this._createMaskCanvas(t,e),o=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,r.offsetX,r.offsetY),(c=this.dependencyTracker)==null||c.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+o.width,r.offsetY,r.offsetY+o.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,s=0,r=0,o,c){var p,m,v;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const u=this.ctx;u.save();const d=Me(u);u.transform(i,s,r,o,0,0);const f=this._createMaskCanvas(t,e);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),(p=this.dependencyTracker)==null||p.resetBBox(t);for(let x=0,_=c.length;x<_;x+=2){const P=gt.transform(d,[i,s,r,o,c[x],c[x+1]]);u.drawImage(f.canvas,P[4],P[5]),(m=this.dependencyTracker)==null||m.recordBBox(t,this.ctx,P[4],P[4]+f.canvas.width,P[5],P[5]+f.canvas.height)}u.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var o,c,u;if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(t).recordDependencies(t,Ts.transformAndFill);for(const d of e){const{data:f,width:p,height:m,transform:v}=d,x=this.cachedCanvases.getCanvas("maskCanvas",p,m),_=x.context;_.save();const P=this.getObject(t,f,d);uk(_,P),_.globalCompositeOperation="source-in",_.fillStyle=r?s.getPattern(_,this,zr(i),On.FILL,t):s,_.fillRect(0,0,p,m),_.restore(),i.save(),i.transform(...v),i.scale(1,-1),f0(i,x.canvas,0,0,p,m,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(t,i,0,p,0,m),i.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){Tt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,s,r){if(!this.contentVisible)return;const o=this.getObject(t,e);if(!o){Tt("Dependent image isn't ready yet");return}const c=o.width,u=o.height,d=[];for(let f=0,p=r.length;f<p;f+=2)d.push({transform:[i,0,0,s,r[f],r[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(t,o,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,s),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t,e){var d;if(!this.contentVisible)return;const i=e.width,s=e.height,r=this.ctx;this.save(t);const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/i,-1/s);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,s).context;ck(p,e),c=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(c,zr(r));r.imageSmoothingEnabled=hk(Me(r),e.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(t).recordBBox(t,r,0,i,-s,0).recordDependencies(t,Ts.imageXObject).recordOperation(t),f0(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,i,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){var o,c,u;if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const d=e.width,f=e.height,m=this.cachedCanvases.getCanvas("inlineImage",d,f).context;ck(m,e),r=this.applyTransferMapsToCanvas(m)}(o=this.dependencyTracker)==null||o.resetBBox(t);for(const d of i)s.save(),s.transform(...d.transform),s.scale(1,-1),f0(s,r,d.x,d.y,d.w,d.h,0,-1,1,1),(c=this.dependencyTracker)==null||c.recordBBox(t,s,0,1,-1,0),s.restore();(u=this.dependencyTracker)==null||u.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ts.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){var o,c;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const r=this.ctx;this.pendingClip?(s||(this.pendingClip===dk?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(c=this.dependencyTracker)==null||c.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Me(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:r}=this.ctx.getTransform();let o,c;if(i===0&&s===0){const u=Math.abs(e),d=Math.abs(r);if(u===d)if(t===0)o=c=1/u;else{const f=u*t;o=c=f<1?1/f:1}else if(t===0)o=1/u,c=1/d;else{const f=u*t,p=d*t;o=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(e*r-i*s),d=Math.hypot(e,i),f=Math.hypot(s,r);if(t===0)o=f/u,c=d/u;else{const p=t*u;o=f>p?f/p:1,c=d>p?d/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[r,o]=this.getScaleForStroking();if(r===o){i.lineWidth=(s||1)*r,i.stroke(t);return}const c=i.getLineDash();e&&i.save(),i.scale(r,o),gx.a=1/r,gx.d=1/o;const u=new Path2D;if(u.addPath(t,gx),c.length>0){const d=Math.max(r,o);i.setLineDash(c.map(f=>f/d)),i.lineDashOffset/=d}i.lineWidth=s||1,i.stroke(u),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Lr=new WeakSet,sS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},rS=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},oS=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let bd=ZE;for(const n in pp)bd.prototype[n]!==void 0&&(bd.prototype[pp[n]]=bd.prototype[n]);var of,af,Qm,lf,z0;const ud=class ud{constructor(t){R(this,lf);R(this,of);R(this,af);R(this,Qm);C(this,of,t),C(this,af,new DataView(l(this,of))),C(this,Qm,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const d of ud.strings){const f=e.encode(t[d]);i[d]=f,s+=4+f.length}const r=new ArrayBuffer(s),o=new Uint8Array(r),c=new DataView(r);let u=0;for(const d of ud.strings){const f=i[d],p=f.length;c.setUint32(u,p),o.set(f,u+4),u+=4+p}return Wt(u===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}get fontFamily(){return I(this,lf,z0).call(this,0)}get fontWeight(){return I(this,lf,z0).call(this,1)}get italicAngle(){return I(this,lf,z0).call(this,2)}};of=new WeakMap,af=new WeakMap,Qm=new WeakMap,lf=new WeakSet,z0=function(t){Wt(t<ud.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=l(this,af).getUint32(e)+4;const i=l(this,af).getUint32(e);return l(this,Qm).decode(new Uint8Array(l(this,of),e+4,i))},nt(ud,"strings",["fontFamily","fontWeight","italicAngle"]);let q_=ud;var El,so,Eu,Pu,vg;const hd=class hd{constructor(t){R(this,Pu);R(this,El);R(this,so);R(this,Eu);C(this,El,t),C(this,so,new DataView(l(this,El))),C(this,Eu,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const m of hd.strings){const v=e.encode(t[m]);i[m]=v,s+=4+v.length}s+=4;let r,o,c=1+s;t.style&&(r=e.encode(t.style.style),o=e.encode(t.style.weight),c+=4+r.length+4+o.length);const u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,t.guessFallback?1:0),f.setUint32(p,0),p+=4,s=0;for(const m of hd.strings){const v=i[m],x=v.length;s+=4+x,f.setUint32(p,x),d.set(v,p+4),p+=4+x}return f.setUint32(p-s-4,s),t.style&&(f.setUint32(p,r.length),d.set(r,p+4),p+=4+r.length,f.setUint32(p,o.length),d.set(o,p+4),p+=4+o.length),Wt(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}get guessFallback(){return l(this,so).getUint8(0)!==0}get css(){return I(this,Pu,vg).call(this,0)}get loadedName(){return I(this,Pu,vg).call(this,1)}get baseFontName(){return I(this,Pu,vg).call(this,2)}get src(){return I(this,Pu,vg).call(this,3)}get style(){let t=1;t+=4+l(this,so).getUint32(t);const e=l(this,so).getUint32(t),i=l(this,Eu).decode(new Uint8Array(l(this,El),t+4,e));t+=4+e;const s=l(this,so).getUint32(t),r=l(this,Eu).decode(new Uint8Array(l(this,El),t+4,s));return{style:i,weight:r}}};El=new WeakMap,so=new WeakMap,Eu=new WeakMap,Pu=new WeakSet,vg=function(t){Wt(t<hd.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=l(this,so).getUint32(e)+4;const i=l(this,so).getUint32(e);return l(this,Eu).decode(new Uint8Array(l(this,El),e+4,i))},nt(hd,"strings",["css","loadedName","baseFontName","src"]);let Z_=hd;var cf,uf,hf,df,Xi,ro,Jm,ae,$e,er,H0,yg;const Lt=class Lt{constructor({data:t,extra:e}){R(this,$e);R(this,ro);R(this,Jm);R(this,ae);C(this,ro,t),C(this,Jm,new TextDecoder),C(this,ae,new DataView(l(this,ro))),e&&Object.assign(this,e)}get black(){return I(this,$e,er).call(this,0)}get bold(){return I(this,$e,er).call(this,1)}get disableFontFace(){return I(this,$e,er).call(this,2)}get fontExtraProperties(){return I(this,$e,er).call(this,3)}get isInvalidPDFjsFont(){return I(this,$e,er).call(this,4)}get isType3Font(){return I(this,$e,er).call(this,5)}get italic(){return I(this,$e,er).call(this,6)}get missingFile(){return I(this,$e,er).call(this,7)}get remeasure(){return I(this,$e,er).call(this,8)}get vertical(){return I(this,$e,er).call(this,9)}get ascent(){return I(this,$e,H0).call(this,0)}get defaultWidth(){return I(this,$e,H0).call(this,1)}get descent(){return I(this,$e,H0).call(this,2)}get bbox(){let t=l(Lt,uf);if(l(this,ae).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<4;s++)i.push(l(this,ae).getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=l(Lt,hf);if(l(this,ae).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<6;s++)i.push(l(this,ae).getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=l(Lt,df);if(l(this,ae).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<3;s++)i.push(l(this,ae).getInt16(t,!0)),t+=2;return i}get fallbackName(){return I(this,$e,yg).call(this,0)}get loadedName(){return I(this,$e,yg).call(this,1)}get mimetype(){return I(this,$e,yg).call(this,2)}get name(){return I(this,$e,yg).call(this,3)}get data(){let t=l(Lt,Xi);const e=l(this,ae).getUint32(t);t+=4+e;const i=l(this,ae).getUint32(t);t+=4+i;const s=l(this,ae).getUint32(t);t+=4+s;const r=l(this,ae).getUint32(t);if(r!==0)return new Uint8Array(l(this,ro),t+4,r)}clearData(){let t=l(Lt,Xi);const e=l(this,ae).getUint32(t);t+=4+e;const i=l(this,ae).getUint32(t);t+=4+i;const s=l(this,ae).getUint32(t);t+=4+s;const r=l(this,ae).getUint32(t);new Uint8Array(l(this,ro),t+4,r).fill(0),l(this,ae).setUint32(t,0)}get cssFontInfo(){let t=l(Lt,Xi);const e=l(this,ae).getUint32(t);t+=4+e;const i=l(this,ae).getUint32(t);t+=4+i;const s=l(this,ae).getUint32(t);if(s===0)return null;const r=new Uint8Array(s);return r.set(new Uint8Array(l(this,ro),t+4,s)),new q_(r.buffer)}get systemFontInfo(){let t=l(Lt,Xi);const e=l(this,ae).getUint32(t);t+=4+e;const i=l(this,ae).getUint32(t);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(l(this,ro),t+4,i)),new Z_(s.buffer)}static write(t){const e=t.systemFontInfo?Z_.write(t.systemFontInfo):null,i=t.cssFontInfo?q_.write(t.cssFontInfo):null,s=new TextEncoder,r={};let o=0;for(const _ of Lt.strings)r[_]=s.encode(t[_]),o+=4+r[_].length;const c=l(Lt,Xi)+4+o+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),u=new ArrayBuffer(c),d=new Uint8Array(u),f=new DataView(u);let p=0;const m=Lt.bools.length;let v=0,x=0;for(let _=0;_<m;_++){const P=t[Lt.bools[_]];v|=(P===void 0?0:P?2:1)<<x,x+=2,(x===8||_===m-1)&&(f.setUint8(p++,v),v=0,x=0)}Wt(p===l(Lt,cf),"FontInfo.write: Boolean properties offset mismatch");for(const _ of Lt.numbers)f.setFloat64(p,t[_]),p+=8;if(Wt(p===l(Lt,uf),"FontInfo.write: Number properties offset mismatch"),t.bbox){f.setUint8(p++,4);for(const _ of t.bbox)f.setInt16(p,_,!0),p+=2}else f.setUint8(p++,0),p+=2*4;if(Wt(p===l(Lt,hf),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){f.setUint8(p++,6);for(const _ of t.fontMatrix)f.setFloat64(p,_,!0),p+=8}else f.setUint8(p++,0),p+=8*6;if(Wt(p===l(Lt,df),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){f.setUint8(p++,1);for(const _ of t.defaultVMetrics)f.setInt16(p,_,!0),p+=2}else f.setUint8(p++,0),p+=3*2;Wt(p===l(Lt,Xi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(l(Lt,Xi),0),p+=4;for(const _ of Lt.strings){const P=r[_],w=P.length;f.setUint32(p,w),d.set(P,p+4),p+=4+w}if(f.setUint32(l(Lt,Xi),p-l(Lt,Xi)-4),!e)f.setUint32(p,0),p+=4;else{const _=e.byteLength;f.setUint32(p,_),Wt(p+4+_<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),p+4),p+=4+_}if(!i)f.setUint32(p,0),p+=4;else{const _=i.byteLength;f.setUint32(p,_),Wt(p+4+_<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(i),p+4),p+=4+_}return t.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,t.data.length),d.set(t.data,p+4),p+=4+t.data.length),Wt(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}};cf=new WeakMap,uf=new WeakMap,hf=new WeakMap,df=new WeakMap,Xi=new WeakMap,ro=new WeakMap,Jm=new WeakMap,ae=new WeakMap,$e=new WeakSet,er=function(t){Wt(t<Lt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,s=l(this,ae).getUint8(e)>>i&3;return s===0?void 0:s===2},H0=function(t){return Wt(t<Lt.numbers.length,"Invalid number index"),l(this,ae).getFloat64(l(Lt,cf)+t*8)},yg=function(t){Wt(t<Lt.strings.length,"Invalid string index");let e=l(Lt,Xi)+4;for(let r=0;r<t;r++)e+=l(this,ae).getUint32(e)+4;const i=l(this,ae).getUint32(e),s=new Uint8Array(i);return s.set(new Uint8Array(l(this,ro),e+4,i)),l(this,Jm).decode(s)},nt(Lt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),nt(Lt,"numbers",["ascent","defaultWidth","descent"]),nt(Lt,"strings",["fallbackName","loadedName","mimetype","name"]),R(Lt,cf,Math.ceil(Lt.bools.length*2/8)),R(Lt,uf,l(Lt,cf)+Lt.numbers.length*8),R(Lt,hf,l(Lt,uf)+1+2*4),R(Lt,df,l(Lt,hf)+1+8*6),R(Lt,Xi,l(Lt,df)+1+2*3);let aS=Lt;var tv,ev;class $s{static get workerPort(){return l(this,tv)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");C(this,tv,t)}static get workerSrc(){return l(this,ev)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");C(this,ev,t)}}tv=new WeakMap,ev=new WeakMap,R($s,tv,null),R($s,ev,"");var ff,nv;class rU{constructor({parsedData:t,rawData:e}){R(this,ff);R(this,nv);C(this,ff,t),C(this,nv,e)}getRaw(){return l(this,nv)}get(t){return l(this,ff).get(t)??null}[Symbol.iterator](){return l(this,ff).entries()}}ff=new WeakMap,nv=new WeakMap;const Gh=Symbol("INTERNAL");var iv,sv,rv,pf;class oU{constructor(t,{name:e,intent:i,usage:s,rbGroups:r}){R(this,iv,!1);R(this,sv,!1);R(this,rv,!1);R(this,pf,!0);C(this,iv,!!(t&cs.DISPLAY)),C(this,sv,!!(t&cs.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(l(this,rv))return l(this,pf);if(!l(this,pf))return!1;const{print:t,view:e}=this.usage;return l(this,iv)?(e==null?void 0:e.viewState)!=="OFF":l(this,sv)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==Gh&&pe("Internal method `_setVisible` called."),C(this,rv,i),C(this,pf,e)}}iv=new WeakMap,sv=new WeakMap,rv=new WeakMap,pf=new WeakMap;var Pl,le,gf,mf,ov,lS;class aU{constructor(t,e=cs.DISPLAY){R(this,ov);R(this,Pl,null);R(this,le,new Map);R(this,gf,null);R(this,mf,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,C(this,mf,t.order);for(const i of t.groups)l(this,le).set(i.id,new oU(e,i));if(t.baseState==="OFF")for(const i of l(this,le).values())i._setVisible(Gh,!1);for(const i of t.on)l(this,le).get(i)._setVisible(Gh,!0);for(const i of t.off)l(this,le).get(i)._setVisible(Gh,!1);C(this,gf,this.getHash())}}isVisible(t){if(l(this,le).size===0)return!0;if(!t)return Xw("Optional content group not defined."),!0;if(t.type==="OCG")return l(this,le).has(t.id)?l(this,le).get(t.id).visible:(Tt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return I(this,ov,lS).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!l(this,le).has(e))return Tt(`Optional content group not found: ${e}`),!0;if(l(this,le).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!l(this,le).has(e))return Tt(`Optional content group not found: ${e}`),!0;if(!l(this,le).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!l(this,le).has(e))return Tt(`Optional content group not found: ${e}`),!0;if(!l(this,le).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!l(this,le).has(e))return Tt(`Optional content group not found: ${e}`),!0;if(l(this,le).get(e).visible)return!1}return!0}return Tt(`Unknown optional content policy ${t.policy}.`),!0}return Tt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const s=l(this,le).get(t);if(!s){Tt(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const o of s.rbGroups)for(const c of o)c!==t&&((r=l(this,le).get(c))==null||r._setVisible(Gh,!1,!0));s._setVisible(Gh,!!e,!0),C(this,Pl,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=l(this,le).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!r.visible,e);break}}C(this,Pl,null)}get hasInitialVisibility(){return l(this,gf)===null||this.getHash()===l(this,gf)}getOrder(){return l(this,le).size?l(this,mf)?l(this,mf).slice():[...l(this,le).keys()]:null}getGroup(t){return l(this,le).get(t)||null}getHash(){if(l(this,Pl)!==null)return l(this,Pl);const t=new IN;for(const[e,i]of l(this,le))t.update(`${e}:${i.visible}`);return C(this,Pl,t.hexdigest())}[Symbol.iterator](){return l(this,le).entries()}}Pl=new WeakMap,le=new WeakMap,gf=new WeakMap,mf=new WeakMap,ov=new WeakSet,lS=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const r=t[s];let o;if(Array.isArray(r))o=I(this,ov,lS).call(this,r);else if(l(this,le).has(r))o=l(this,le).get(r).visible;else return Tt(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class lU{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Wt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:o,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,(r==null?void 0:r.length)>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});Wt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Wt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new cU(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new uU(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class cU{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=Kw(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class uU{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hU(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let f=c(e);return f=unescape(f),f=u(f),f=d(f),r(f)}if(e=o(n),e){const f=d(e);return r(f)}if(e=i("filename","i").exec(n),e){e=e[1];let f=c(e);return f=d(f),r(f)}function i(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),v=fy(p);p=m.decode(v),t=!1}catch{}}return p}function r(f){return t&&/[\x80-\xff]/.test(f)&&(f=s("utf-8",f),t&&(f=s("iso-8859-1",f))),f}function o(f){const p=[];let m;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=v.exec(f))!==null;){let[,_,P,w]=m;if(_=parseInt(_,10),_ in p){if(_===0)break;continue}p[_]=[P,w]}const x=[];for(let _=0;_<p.length&&_ in p;++_){let[P,w]=p[_];w=c(w),P&&(w=unescape(w),_===0&&(w=u(w))),x.push(w)}return x.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const v=p[m].indexOf('"');v!==-1&&(p[m]=p[m].slice(0,v),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),x=f.slice(p+1).replace(/^[^']*'/,"");return s(m,x)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,v,x){if(v==="q"||v==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,P){return String.fromCharCode(parseInt(P,16))}),s(m,x);try{x=atob(x)}catch{}return s(m,x)})}return""}function qN(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function Qw(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function ZN({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function XN(n){const t=n.get("Content-Disposition");if(t){let e=hU(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Kw(e))return e}return null}function vy(n,t){return new dm(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function YN(n){return n===200||n===206}function KN(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function QN(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Tt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class dU{constructor(t){nt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=qN(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Wt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new fU(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new pU(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class fU{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,KN(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=Qw(r.url),!YN(r.status))throw vy(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:c,suggestedLength:u}=ZN({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=XN(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Oa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:QN(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class pU{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const o=s.url;fetch(o,KN(r,this._withCredentials,this._abortController)).then(c=>{const u=Qw(c.url);if(u!==t._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`);if(!YN(c.status))throw vy(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:QN(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const mx=200,vx=206;function gU(n){const t=n.response;return typeof t!="string"?t:fy(t).buffer}class mU{constructor({url:t,httpHeaders:e,withCredentials:i}){nt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=qN(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,o]of this.headers)e.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=vx):s.expectedStatus=mx,e.responseType="arraybuffer",Wt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||mx;if(!(r===mx&&i.expectedStatus===vx)&&r!==i.expectedStatus){i.onError(s.status);return}const c=gU(s);if(r===vx){const u=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);d?i.onDone({begin:parseInt(d[1],10),chunk:c}):(Tt('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class vU{constructor(t){this._source=t,this._manager=new mU(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Wt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new yU(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new _U(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class yU{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Qw(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...d]=c.split(": ");return[u,d.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=ZN({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=XN(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=vy(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _U{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Qw((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=vy(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wU=/^[a-z][a-z0-9\-+.]+:/i;function bU(n){if(wU.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class xU{constructor(t){this.source=t,this.url=bU(t.url),Wt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Wt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new SU(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new AU(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class SU{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=vy(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Oa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class AU{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Qp=Symbol("INITIAL_DATA");var Yi,av,cS;class JN{constructor(){R(this,av);R(this,Yi,Object.create(null))}get(t,e=null){if(e){const s=I(this,av,cS).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=l(this,Yi)[t];if(!i||i.data===Qp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=l(this,Yi)[t];return!!e&&e.data!==Qp}delete(t){const e=l(this,Yi)[t];return!e||e.data===Qp?!1:(delete l(this,Yi)[t],!0)}resolve(t,e=null){const i=I(this,av,cS).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in l(this,Yi)){const{data:i}=l(this,Yi)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}C(this,Yi,Object.create(null))}*[Symbol.iterator](){for(const t in l(this,Yi)){const{data:e}=l(this,Yi)[t];e!==Qp&&(yield[t,e])}}}Yi=new WeakMap,av=new WeakSet,cS=function(t){var e;return(e=l(this,Yi))[t]||(e[t]={...Promise.withResolvers(),data:Qp})};const EU=1e5,fk=30;var Nk,Cl,Li,lv,cv,Cu,la,uv,hv,Tu,vf,yf,Tl,_f,dv,wf,ku,fv,pv,Ue,bf,Mu,gv,kl,xf,ja,tI,eI,uS,vs,U0,hS,nI,iI;let mm=(Ue=class{constructor({textContentSource:t,container:e,viewport:i}){R(this,ja);R(this,Cl,Promise.withResolvers());R(this,Li,null);R(this,lv,!1);R(this,cv,!!((Nk=globalThis.FontInspector)!=null&&Nk.enabled));R(this,Cu,null);R(this,la,null);R(this,uv,0);R(this,hv,0);R(this,Tu,null);R(this,vf,null);R(this,yf,0);R(this,Tl,0);R(this,_f,Object.create(null));R(this,dv,[]);R(this,wf,null);R(this,ku,[]);R(this,fv,new WeakMap);R(this,pv,null);var u;if(t instanceof ReadableStream)C(this,wf,t);else if(typeof t=="object")C(this,wf,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,Li,C(this,vf,e)),C(this,Tl,i.scale*Mr.pixelRatio),C(this,yf,i.rotation),C(this,la,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:c}=i.rawDims;C(this,pv,[1,0,0,-1,-o,c+r]),C(this,hv,s),C(this,uv,r),I(u=Ue,vs,nI).call(u),yc(e,i),l(this,Cl).promise.finally(()=>{l(Ue,xf).delete(this),C(this,la,null),C(this,_f,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=En.platform;return It(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{l(this,Tu).read().then(({value:e,done:i})=>{if(i){l(this,Cl).resolve();return}l(this,Cu)??C(this,Cu,e.lang),Object.assign(l(this,_f),e.styles),I(this,ja,tI).call(this,e.items),t()},l(this,Cl).reject)};return C(this,Tu,l(this,wf).getReader()),l(Ue,xf).add(this),t(),l(this,Cl).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*Mr.pixelRatio,s=t.rotation;if(s!==l(this,yf)&&(e==null||e(),C(this,yf,s),yc(l(this,vf),{rotation:s})),i!==l(this,Tl)){e==null||e(),C(this,Tl,i);const o={div:null,properties:null,ctx:I(r=Ue,vs,U0).call(r,l(this,Cu))};for(const c of l(this,ku))o.properties=l(this,fv).get(c),o.div=c,I(this,ja,uS).call(this,o)}}cancel(){var e;const t=new Oa("TextLayer task cancelled.");(e=l(this,Tu))==null||e.cancel(t).catch(()=>{}),C(this,Tu,null),l(this,Cl).reject(t)}get textDivs(){return l(this,ku)}get textContentItemsStr(){return l(this,dv)}static cleanup(){if(!(l(this,xf).size>0)){l(this,bf).clear();for(const{canvas:t}of l(this,Mu).values())t.remove();l(this,Mu).clear()}}},Cl=new WeakMap,Li=new WeakMap,lv=new WeakMap,cv=new WeakMap,Cu=new WeakMap,la=new WeakMap,uv=new WeakMap,hv=new WeakMap,Tu=new WeakMap,vf=new WeakMap,yf=new WeakMap,Tl=new WeakMap,_f=new WeakMap,dv=new WeakMap,wf=new WeakMap,ku=new WeakMap,fv=new WeakMap,pv=new WeakMap,bf=new WeakMap,Mu=new WeakMap,gv=new WeakMap,kl=new WeakMap,xf=new WeakMap,ja=new WeakSet,tI=function(t){var s,r;if(l(this,lv))return;(r=l(this,la)).ctx??(r.ctx=I(s=Ue,vs,U0).call(s,l(this,Cu)));const e=l(this,ku),i=l(this,dv);for(const o of t){if(e.length>EU){Tt("Ignoring additional textDivs for performance reasons."),C(this,lv,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const c=l(this,Li);C(this,Li,document.createElement("span")),l(this,Li).classList.add("markedContent"),o.id&&l(this,Li).setAttribute("id",`${o.id}`),c.append(l(this,Li))}else o.type==="endMarkedContent"&&C(this,Li,l(this,Li).parentNode);continue}i.push(o.str),I(this,ja,eI).call(this,o)}},eI=function(t){var _;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};l(this,ku).push(e);const s=gt.transform(l(this,pv),t.transform);let r=Math.atan2(s[1],s[0]);const o=l(this,_f)[t.fontName];o.vertical&&(r+=Math.PI/2);let c=l(this,cv)&&o.fontSubstitution||o.fontFamily;c=Ue.fontFamilyMap.get(c)||c;const u=Math.hypot(s[2],s[3]),d=u*I(_=Ue,vs,iI).call(_,c,o,l(this,Cu));let f,p;r===0?(f=s[4],p=s[5]-d):(f=s[4]+d*Math.sin(r),p=s[5]-d*Math.cos(r));const m="calc(var(--total-scale-factor) *",v=e.style;l(this,Li)===l(this,vf)?(v.left=`${(100*f/l(this,hv)).toFixed(2)}%`,v.top=`${(100*p/l(this,uv)).toFixed(2)}%`):(v.left=`${m}${f.toFixed(2)}px)`,v.top=`${m}${p.toFixed(2)}px)`),v.fontSize=`${m}${(l(Ue,kl)*u).toFixed(2)}px)`,v.fontFamily=c,i.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,l(this,cv)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const P=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);P!==w&&Math.max(P,w)/Math.min(P,w)>1.5&&(x=!0)}if(x&&(i.canvasWidth=o.vertical?t.height:t.width),l(this,fv).set(e,i),l(this,la).div=e,l(this,la).properties=i,I(this,ja,uS).call(this,l(this,la)),i.hasText&&l(this,Li).append(e),i.hasEOL){const P=document.createElement("br");P.setAttribute("role","presentation"),l(this,Li).append(P)}},uS=function(t){var c;const{div:e,properties:i,ctx:s}=t,{style:r}=e;let o="";if(l(Ue,kl)>1&&(o=`scale(${1/l(Ue,kl)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=r,{canvasWidth:d,fontSize:f}=i;I(c=Ue,vs,hS).call(c,s,f*l(this,Tl),u);const{width:p}=s.measureText(e.textContent);p>0&&(o=`scaleX(${d*l(this,Tl)/p}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},vs=new WeakSet,U0=function(t=null){let e=l(this,Mu).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Mu).set(t,e),l(this,gv).set(e,{size:0,family:""})}return e},hS=function(t,e,i){const s=l(this,gv).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},nI=function(){if(l(this,kl)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),C(this,kl,t.getBoundingClientRect().height),t.remove()},iI=function(t,e,i){const s=l(this,bf).get(t);if(s)return s;const r=I(this,vs,U0).call(this,i);r.canvas.width=r.canvas.height=fk,I(this,vs,hS).call(this,r,fk,t);const o=r.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let d=.8;return c?d=c/(c+u):(En.platform.isFirefox&&Tt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),l(this,bf).set(t,d),d},R(Ue,vs),R(Ue,bf,new Map),R(Ue,Mu,new Map),R(Ue,gv,new WeakMap),R(Ue,kl,null),R(Ue,xf,new Set),Ue);const PU=100;function BE(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new dS,{docId:e}=t,i=n.url?I6(n.url):null,s=n.data?D6(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,c=n.password??null,u=n.range instanceof jE?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof gp?n.worker:null;const p=n.verbosity,m=typeof n.docBaseUrl=="string"&&!gy(n.docBaseUrl)?n.docBaseUrl:null,v=c0(n.cMapUrl),x=n.cMapPacked!==!1,_=n.CMapReaderFactory||(di?U6:JT),P=c0(n.iccUrl),w=c0(n.standardFontDataUrl),E=n.StandardFontDataFactory||(di?$6:tk),A=c0(n.wasmUrl),y=n.WasmFactory||(di?W6:ek),S=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,N=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!di,B=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!di&&(En.platform.isFirefox||!globalThis.chrome),j=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,H=typeof n.disableFontFace=="boolean"?n.disableFontFace:di,W=n.fontExtraProperties===!0,K=n.enableXfa===!0,$=n.ownerDocument||globalThis.document,J=n.disableRange===!0,q=n.disableStream===!0,Y=n.disableAutoFetch===!0,U=n.pdfBug===!0,G=n.CanvasFactory||(di?H6:B6),X=n.FilterFactory||(di?z6:j6),it=n.enableHWA===!0,Q=n.useWasm!==!1,et=u?u.length:n.length??NaN,ot=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!di&&!H,ut=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(_===JT&&E===tk&&y===ek&&v&&w&&A&&og(v,document.baseURI)&&og(w,document.baseURI)&&og(A,document.baseURI)),ht=null;g6(p);const at={canvasFactory:new G({ownerDocument:$,enableHWA:it}),filterFactory:new X({docId:e,ownerDocument:$}),cMapReaderFactory:ut?null:new _({baseUrl:v,isCompressed:x}),standardFontDataFactory:ut?null:new E({baseUrl:w}),wasmFactory:ut?null:new y({baseUrl:A})};f||(f=gp.create({verbosity:p,port:$s.workerPort}),t._worker=f);const Rt={docId:e,apiVersion:"5.4.296",data:s,password:c,disableAutoFetch:Y,rangeChunkSize:d,length:et,docBaseUrl:m,enableXfa:K,evaluatorOptions:{maxImageSize:T,disableFontFace:H,ignoreErrors:S,isEvalSupported:N,isOffscreenCanvasSupported:F,isImageDecoderSupported:B,canvasMaxAreaInBytes:j,fontExtraProperties:W,useSystemFonts:ot,useWasm:Q,useWorkerFetch:ut,cMapUrl:v,iccUrl:P,standardFontDataUrl:w,wasmUrl:A}},Qt={ownerDocument:$,pdfBug:U,styleElement:ht,loadingParams:{disableAutoFetch:Y,enableXfa:K}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Bt=f.messageHandler.sendWithPromise("GetDocRequest",Rt,s?[s.buffer]:null);let mt;if(u)mt=new lU(u,{disableRange:J,disableStream:q});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const lt=og(i)?dU:di?xU:vU;mt=new lt({url:i,length:et,httpHeaders:r,withCredentials:o,rangeChunkSize:d,disableRange:J,disableStream:q})}return Bt.then(lt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const _t=new dg(e,lt,f.port),xt=new kU(_t,t,mt,Qt,at,it);t._transport=xt,_t.send("Ready",null)})}).catch(t._capability.reject),t}var uw;const hw=class hw{constructor(){nt(this,"_capability",Promise.withResolvers());nt(this,"_transport",null);nt(this,"_worker",null);nt(this,"docId",`d${Fe(hw,uw)._++}`);nt(this,"destroyed",!1);nt(this,"onPassword",null);nt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};uw=new WeakMap,R(hw,uw,0);let dS=hw;var Lu,mv,vv,yv,_v,Ik;let jE=(Ik=class{constructor(t,e,i=!1,s=null){R(this,Lu,Promise.withResolvers());R(this,mv,[]);R(this,vv,[]);R(this,yv,[]);R(this,_v,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){l(this,_v).push(t)}addProgressListener(t){l(this,yv).push(t)}addProgressiveReadListener(t){l(this,vv).push(t)}addProgressiveDoneListener(t){l(this,mv).push(t)}onDataRange(t,e){for(const i of l(this,_v))i(t,e)}onDataProgress(t,e){l(this,Lu).promise.then(()=>{for(const i of l(this,yv))i(t,e)})}onDataProgressiveRead(t){l(this,Lu).promise.then(()=>{for(const e of l(this,vv))e(t)})}onDataProgressiveDone(){l(this,Lu).promise.then(()=>{for(const t of l(this,mv))t()})}transportReady(){l(this,Lu).resolve()}requestDataRange(t,e){pe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Lu=new WeakMap,mv=new WeakMap,vv=new WeakMap,yv=new WeakMap,_v=new WeakMap,Ik);class CU{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ca,Ru,_g;class TU{constructor(t,e,i,s=!1){R(this,Ru);R(this,ca,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new GT:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new JN,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new py({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return It(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:s="display",annotationMode:r=yo.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:v=!1,operationsFilter:x=null}){var B,j,H;(B=this._stats)==null||B.time("Overall");const _=this._transport.getRenderingIntent(s,r,p,m),{renderingIntent:P,cacheKey:w}=_;C(this,ca,!1),u||(u=this._transport.getOptionalContentConfig(P));let E=this._intentStates.get(w);E||(E=Object.create(null),this._intentStates.set(w,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const A=!!(P&cs.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(_));const y=!!(this._pdfBug&&((H=globalThis.StepperManager)!=null&&H.enabled)),S=!this.recordedBBoxes&&(v||y),T=W=>{var K,$;if(E.renderTasks.delete(N),S){const J=(K=N.gfx)==null?void 0:K.dependencyTracker.take();J&&(N.stepper&&N.stepper.setOperatorBBoxes(J,N.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=J))}A&&C(this,ca,!0),I(this,Ru,_g).call(this),W?(N.capability.reject(W),this._abortOperatorList({intentState:E,reason:W instanceof Error?W:new Error(W)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),($=globalThis.Stats)!=null&&$.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new fS({callback:T,params:{canvas:e,canvasContext:t,dependencyTracker:S?new G6(e,E.operatorList.length,y):null,viewport:i,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:x});(E.renderTasks||(E.renderTasks=new Set)).add(N);const F=N.task;return Promise.all([E.displayReadyCapability.promise,u]).then(([W,K])=>{var $;if(this.destroyed){T();return}if(($=this._stats)==null||$.time("Rendering"),!(K.renderingIntent&P))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:W,optionalContentConfig:K}),N.operatorListChanged()}).catch(T),F}getOperatorList({intent:t="display",annotationMode:e=yo.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var d;function r(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(t,e,i,s,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>fm.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function r(){o.read().then(function({value:u,done:d}){if(d){i(c);return}c.lang??(c.lang=u.lang),Object.assign(c.styles,u.styles),c.items.push(...u.items),r()},s)}const o=e.getReader(),c={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),C(this,ca,!1),Promise.all(t)}cleanup(t=!1){C(this,ca,!0);const e=I(this,Ru,_g).call(this);return t&&e&&this._stats&&(this._stats=new GT),e}_startRenderPage(t,e){var s,r;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&I(this,Ru,_g).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:o}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:s},o).getReader(),d=this._intentStates.get(e);d.streamReader=u;const f=()=>{u.read().then(({value:p,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),f())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();I(this,Ru,_g).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Yw){let s=PU;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new Oa(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}ca=new WeakMap,Ru=new WeakSet,_g=function(){if(!l(this,ca)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,ca,!1),!0};var Ml,dr,ua,Nu,dw,Iu,Du,gi,$0,sI,rI,wg,Sf,W0;const Se=class Se{constructor({name:t=null,port:e=null,verbosity:i=m6()}={}){R(this,gi);R(this,Ml,Promise.withResolvers());R(this,dr,null);R(this,ua,null);R(this,Nu,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(l(Se,Du).has(e))throw new Error("Cannot use more than one PDFWorker per port.");l(Se,Du).set(e,this),I(this,gi,sI).call(this,e)}else I(this,gi,rI).call(this)}get promise(){return l(this,Ml).promise}get port(){return l(this,ua)}get messageHandler(){return l(this,dr)}destroy(){var t,e;this.destroyed=!0,(t=l(this,Nu))==null||t.terminate(),C(this,Nu,null),l(Se,Du).delete(l(this,ua)),C(this,ua,null),(e=l(this,dr))==null||e.destroy(),C(this,dr,null)}static create(t){const e=l(this,Du).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Se(t)}static get workerSrc(){if($s.workerSrc)return $s.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return It(this,"_setupFakeWorkerGlobal",(async()=>l(this,Sf,W0)?l(this,Sf,W0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ml=new WeakMap,dr=new WeakMap,ua=new WeakMap,Nu=new WeakMap,dw=new WeakMap,Iu=new WeakMap,Du=new WeakMap,gi=new WeakSet,$0=function(){l(this,Ml).resolve(),l(this,dr).send("configure",{verbosity:this.verbosity})},sI=function(t){C(this,ua,t),C(this,dr,new dg("main","worker",t)),l(this,dr).on("ready",()=>{}),I(this,gi,$0).call(this)},rI=function(){if(l(Se,Iu)||l(Se,Sf,W0)){I(this,gi,wg).call(this);return}let{workerSrc:t}=Se;try{Se._isSameOrigin(window.location,t)||(t=Se._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new dg("main","worker",e),s=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?l(this,Ml).reject(new Error("Worker was destroyed")):I(this,gi,wg).call(this)},r=new AbortController;e.addEventListener("error",()=>{l(this,Nu)||s()},{signal:r.signal}),i.on("test",c=>{if(r.abort(),this.destroyed||!c){s();return}C(this,dr,i),C(this,ua,e),C(this,Nu,e),I(this,gi,$0).call(this)}),i.on("ready",c=>{if(r.abort(),this.destroyed){s();return}try{o()}catch{I(this,gi,wg).call(this)}});const o=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};o();return}catch{Xw("The worker has been disabled.")}I(this,gi,wg).call(this)},wg=function(){l(Se,Iu)||(Tt("Setting up fake worker."),C(Se,Iu,!0)),Se._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){l(this,Ml).reject(new Error("Worker was destroyed"));return}const e=new F6;C(this,ua,e);const i=`fake${Fe(Se,dw)._++}`,s=new dg(i+"_worker",i,e);t.setup(s,e),C(this,dr,new dg(i,i+"_worker",e)),I(this,gi,$0).call(this)}).catch(t=>{l(this,Ml).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Sf=new WeakSet,W0=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},R(Se,Sf),R(Se,dw,0),R(Se,Iu,!1),R(Se,Du,new WeakMap),di&&(C(Se,Iu,!0),$s.workerSrc||($s.workerSrc="./pdf.worker.mjs")),Se._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},Se._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Se.fromPort=t=>{if(E6("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Se.create(t)};let gp=Se;var ha,oo,Af,Ef,da,Ou,bg;class kU{constructor(t,e,i,s,r,o){R(this,Ou);R(this,ha,new Map);R(this,oo,new Map);R(this,Af,new Map);R(this,Ef,new Map);R(this,da,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new JN,this.fontLoader=new R6({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return It(this,"annotationStorage",new DE)}getRenderingIntent(t,e=yo.ENABLE,i=null,s=!1,r=!1){let o=cs.DISPLAY,c=Y1;switch(t){case"any":o=cs.ANY;break;case"display":break;case"print":o=cs.PRINT;break;default:Tt(`getRenderingIntent - invalid intent: ${t}`)}const u=o&cs.PRINT&&i instanceof ON?i:this.annotationStorage;switch(e){case yo.DISABLE:o+=cs.ANNOTATIONS_DISABLE;break;case yo.ENABLE:break;case yo.ENABLE_FORMS:o+=cs.ANNOTATIONS_FORMS;break;case yo.ENABLE_STORAGE:o+=cs.ANNOTATIONS_STORAGE,c=u.serializable;break;default:Tt(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(o+=cs.IS_EDITING),r&&(o+=cs.OPLIST);const{ids:d,hash:f}=u.modifiedIds,p=[o,c.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=l(this,da))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of l(this,oo).values())t.push(s._destroy());l(this,oo).clear(),l(this,Af).clear(),l(this,Ef).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,ha).clear(),this.filterFactory.destroy(),mm.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Oa("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{Wt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){s.close();return}Wt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:o}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(i,s)=>{Wt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:o,done:c}){if(c){s.close();return}Wt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{r.cancel(o),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new CU(i,this))}),t.on("DocException",i=>{e._capability.reject(Ei(i))}),t.on("PasswordRequest",i=>{C(this,da,Promise.withResolvers());try{if(!e.onPassword)throw Ei(i);const s=r=>{r instanceof Error?l(this,da).reject(r):l(this,da).resolve({password:r})};e.onPassword(s,i.code)}catch(s){l(this,da).reject(s)}return l(this,da).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;l(this,oo).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const p=r.error;Tt(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const c=new aS(r),u=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new N6(c,u,r.extra,r.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=r;Wt(f,"The imageRef must be defined.");for(const p of l(this,oo).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,r,o])=>{var u;if(this.destroyed)return;const c=l(this,oo).get(s);if(!c.objs.has(i)){if(c._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(r){case"Image":case"Pattern":c.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Tt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=l(this,Af).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,Ef).set(r.refStr,t);const o=new TU(e,r,this,this._params.pdfBug);return l(this,oo).set(e,o),o});return l(this,Af).set(e,s),s}getPageIndex(t){return K1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return I(this,Ou,bg).call(this,"GetFieldObjects")}hasJSActions(){return I(this,Ou,bg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return I(this,Ou,bg).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return I(this,Ou,bg).call(this,"GetOptionalContentConfig").then(e=>new aU(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=l(this,ha).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,o;return{info:s[0],metadata:s[1]?new rU(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,ha).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of l(this,oo).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),l(this,ha).clear(),this.filterFactory.destroy(!0),mm.cleanup()}}cachedPageNumber(t){if(!K1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return l(this,Ef).get(e)??null}}ha=new WeakMap,oo=new WeakMap,Af=new WeakMap,Ef=new WeakMap,da=new WeakMap,Ou=new WeakSet,bg=function(t,e=null){const i=l(this,ha).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return l(this,ha).set(t,s),s};var Ll;class MU{constructor(t){R(this,Ll,null);nt(this,"onContinue",null);nt(this,"onError",null);C(this,Ll,t)}get promise(){return l(this,Ll).capability.promise}cancel(t=0){l(this,Ll).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=l(this,Ll).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=l(this,Ll);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ll=new WeakMap;var Rl,Fu;const Uc=class Uc{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:v=!1,operationsFilter:x=null}){R(this,Rl,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new MU(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,d;if(this.cancelled)return;if(this._canvas){if(l(Uc,Fu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Uc,Fu).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:r,dependencyTracker:o}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new bd(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),l(this,Rl)&&(window.cancelAnimationFrame(l(this,Rl)),C(this,Rl,null)),l(Uc,Fu).delete(this._canvas),t||(t=new Yw(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(s=this.task).onError)==null||r.call(s,t)}operatorListChanged(){var t,e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.gfx.dependencyTracker)==null||t.growOperationsCount(this.operatorList.fnArray.length),(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,Rl,window.requestAnimationFrame(()=>{C(this,Rl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Uc,Fu).delete(this._canvas),this.callback())))}};Rl=new WeakMap,Fu=new WeakMap,R(Uc,Fu,new WeakSet);let fS=Uc;const oI="5.4.296",aI="f56dc8601";var Ki,Bu,Pf,un,wv,Cf,fa,bv,Nl,fr,xv,ce,pS,gS,mS,Bc,lI,Ya;const Pi=class Pi{constructor({editor:t=null,uiManager:e=null}){R(this,ce);R(this,Ki,null);R(this,Bu,null);R(this,Pf);R(this,un,null);R(this,wv,!1);R(this,Cf,!1);R(this,fa,null);R(this,bv);R(this,Nl,null);R(this,fr,null);var i,s;t?(C(this,Cf,!1),C(this,fa,t)):C(this,Cf,!0),C(this,fr,(t==null?void 0:t._uiManager)||e),C(this,bv,l(this,fr)._eventBus),C(this,Pf,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((s=l(this,fr))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),l(Pi,xv)||C(Pi,xv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return It(this,"_keyboardManager",new my([[["Escape","mac+Escape"],Pi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Pi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Pi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Pi.prototype._moveToPrevious],[["Home","mac+Home"],Pi.prototype._moveToBeginning],[["End","mac+End"],Pi.prototype._moveToEnd]]))}renderButton(){const t=C(this,Ki,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",l(this,fa)&&(t.ariaControls=`${l(this,fa).id}_colorpicker_dropdown`);const e=l(this,fr)._signal;t.addEventListener("click",I(this,ce,Bc).bind(this),{signal:e}),t.addEventListener("keydown",I(this,ce,mS).bind(this),{signal:e});const i=C(this,Bu,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=l(this,Pf),t.append(i),t}renderMainDropdown(){const t=C(this,un,I(this,ce,pS).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===l(this,Ki)){I(this,ce,Bc).call(this,t);return}const e=t.target.getAttribute("data-color");e&&I(this,ce,gS).call(this,e,t)}_moveToNext(t){var e,i;if(!l(this,ce,Ya)){I(this,ce,Bc).call(this,t);return}if(t.target===l(this,Ki)){(e=l(this,un).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=l(this,un))==null?void 0:e.firstChild)||t.target===l(this,Ki)){l(this,ce,Ya)&&this._hideDropdownFromKeyboard();return}l(this,ce,Ya)||I(this,ce,Bc).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!l(this,ce,Ya)){I(this,ce,Bc).call(this,t);return}(e=l(this,un).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!l(this,ce,Ya)){I(this,ce,Bc).call(this,t);return}(e=l(this,un).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=l(this,un))==null||t.classList.add("hidden"),l(this,Ki).ariaExpanded="false",(e=l(this,Nl))==null||e.abort(),C(this,Nl,null)}_hideDropdownFromKeyboard(){var t;if(!l(this,Cf)){if(!l(this,ce,Ya)){(t=l(this,fa))==null||t.unselect();return}this.hideDropdown(),l(this,Ki).focus({preventScroll:!0,focusVisible:l(this,wv)})}}updateColor(t){if(l(this,Bu)&&(l(this,Bu).style.backgroundColor=t),!l(this,un))return;const e=l(this,fr).highlightColors.values();for(const i of l(this,un).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=l(this,Ki))==null||t.remove(),C(this,Ki,null),C(this,Bu,null),(e=l(this,un))==null||e.remove(),C(this,un,null)}};Ki=new WeakMap,Bu=new WeakMap,Pf=new WeakMap,un=new WeakMap,wv=new WeakMap,Cf=new WeakMap,fa=new WeakMap,bv=new WeakMap,Nl=new WeakMap,fr=new WeakMap,xv=new WeakMap,ce=new WeakSet,pS=function(){const t=document.createElement("div"),e=l(this,fr)._signal;t.addEventListener("contextmenu",_s,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,fa)&&(t.id=`${l(this,fa).id}_colorpicker_dropdown`);for(const[i,s]of l(this,fr).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",l(Pi,xv)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=s,r.ariaSelected=s===l(this,Pf),r.addEventListener("click",I(this,ce,gS).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",I(this,ce,mS).bind(this),{signal:e}),t},gS=function(t,e){e.stopPropagation(),l(this,bv).dispatch("switchannotationeditorparams",{source:this,type:$t.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},mS=function(t){Pi._keyboardManager.exec(this,t)},Bc=function(t){if(l(this,ce,Ya)){this.hideDropdown();return}if(C(this,wv,t.detail===0),l(this,Nl)||(C(this,Nl,new AbortController),window.addEventListener("pointerdown",I(this,ce,lI).bind(this),{signal:l(this,fr).combinedSignal(l(this,Nl))})),l(this,Ki).ariaExpanded="true",l(this,un)){l(this,un).classList.remove("hidden");return}const e=C(this,un,I(this,ce,pS).call(this));l(this,Ki).append(e)},lI=function(t){var e;(e=l(this,un))!=null&&e.contains(t.target)||this.hideDropdown()},Ya=function(){return l(this,un)&&!l(this,un).classList.contains("hidden")},R(Pi,xv,null);let vm=Pi;var ao,Sv,Tf,Av;const $c=class $c{constructor(t){R(this,ao,null);R(this,Sv,null);R(this,Tf,null);C(this,Sv,t),C(this,Tf,t._uiManager),l($c,Av)||C($c,Av,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,ao))return l(this,ao);const{editorType:t,colorType:e,colorValue:i}=l(this,Sv),s=C(this,ao,document.createElement("input"));return s.type="color",s.value=i||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",l($c,Av)[t]),s.addEventListener("input",()=>{l(this,Tf).updateParams(e,s.value)},{signal:l(this,Tf)._signal}),s}update(t){l(this,ao)&&(l(this,ao).value=t)}destroy(){var t;(t=l(this,ao))==null||t.remove(),C(this,ao,null)}hideDropdown(){}};ao=new WeakMap,Sv=new WeakMap,Tf=new WeakMap,Av=new WeakMap,R($c,Av,null);let X_=$c;function pk(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Jp(n){return Math.max(0,Math.min(255,255*n))}class gk{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Jp(t),[t,t,t]}static G_HTML([t]){const e=pk(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Jp)}static RGB_HTML(t){return`#${t.map(pk).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[Jp(1-Math.min(1,t+s)),Jp(1-Math.min(1,i+s)),Jp(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,r=1-e,o=1-i,c=Math.min(s,r,o);return["CMYK",s,r,o,c]}}class LU{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){pe("Abstract method `_createSVG` called.")}}class ym extends LU{_createSVG(t){return document.createElementNS(Oo,t)}}const RU=9,wh=new WeakSet,NU=new Date().getTimezoneOffset()*60*1e3;class mk{static create(t){switch(t.data.annotationType){case Ge.LINK:return new zE(t);case Ge.TEXT:return new DU(t);case Ge.WIDGET:switch(t.data.fieldType){case"Tx":return new OU(t);case"Btn":return t.data.radioButton?new hI(t):t.data.checkBox?new BU(t):new jU(t);case"Ch":return new zU(t);case"Sig":return new FU(t)}return new kh(t);case Ge.POPUP:return new yS(t);case Ge.FREETEXT:return new mI(t);case Ge.LINE:return new UU(t);case Ge.SQUARE:return new $U(t);case Ge.CIRCLE:return new WU(t);case Ge.POLYLINE:return new vI(t);case Ge.CARET:return new GU(t);case Ge.INK:return new HE(t);case Ge.POLYGON:return new VU(t);case Ge.HIGHLIGHT:return new yI(t);case Ge.UNDERLINE:return new qU(t);case Ge.SQUIGGLY:return new ZU(t);case Ge.STRIKEOUT:return new XU(t);case Ge.STAMP:return new _I(t);case Ge.FILEATTACHMENT:return new YU(t);default:return new De(t)}}}var ju,kf,Bs,Ev,vS;const XE=class XE{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){R(this,Ev);R(this,ju,null);R(this,kf,!1);R(this,Bs,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return XE._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:t}=this,e=(i=this.annotationStorage)==null?void 0:i.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var c;const t=(c=this.annotationStorage)==null?void 0:c.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:s}=this.data;let r=-1/0,o=-1/0;if((e==null?void 0:e.length)>=8){for(let u=0;u<e.length;u+=8)e[u+1]>o?(o=e[u+1],r=e[u+2]):e[u+1]===o&&(r=Math.max(r,e[u+2]));return[r,o]}if((i==null?void 0:i.length)>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>o?(o=u[d+1],r=u[d]):u[d+1]===o&&(r=Math.max(r,u[d]));if(r!==1/0)return[r,o]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/i,t[1]=100*(t[1]-o)/s,t}get commentText(){var e,i,s;const{data:t}=this;return((i=(e=this.annotationStorage.getRawValue(`${hm}${t.id}`))==null?void 0:e.popup)==null?void 0:i.contents)||((s=t.contentsObj)==null?void 0:s.str)||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${hm}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;(e=((t=l(this,Bs))==null?void 0:t.popup)||this.popup)==null||e.remove(),C(this,Bs,this.popup=null)}updateEdited(t){var r;if(!this.container)return;t.rect&&(l(this,ju)||C(this,ju,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&I(this,Ev,vS).call(this,e);let s=((r=l(this,Bs))==null?void 0:r.popup)||this.popup;!s&&(i!=null&&i.text)&&(this._createPopup(i),s=l(this,Bs).popup),s&&(s.updateEdited(t),i!=null&&i.deleted&&(s.remove(),C(this,Bs,null),this.popup=null))}resetEdited(){var t;l(this,ju)&&(I(this,Ev,vS).call(this,l(this,ju).rect),(t=l(this,Bs))==null||t.popup.resetEdited(),C(this,ju,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof kh)&&!(this instanceof zE)&&(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof yS){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,r),r}const{width:c,height:u}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,P=e.borderStyle.verticalCornerRadius;if(_>0||P>0){const E=`calc(${_}px * var(--total-scale-factor)) / calc(${P}px * var(--total-scale-factor))`;o.borderRadius=E}else if(this instanceof hI){const E=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=E}switch(e.borderStyle.style){case Hh.SOLID:o.borderStyle="solid";break;case Hh.DASHED:o.borderStyle="dashed";break;case Hh.BEVELED:Tt("Unimplemented border style: beveled");break;case Hh.INSET:Tt("Unimplemented border style: inset");break;case Hh.UNDERLINE:o.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(C(this,kf,!0),o.borderColor=gt.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):o.borderWidth=0}const d=gt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:v}=s.rawDims;o.left=`${100*(d[0]-m)/f}%`,o.top=`${100*(d[1]-v)/p}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(o.width=`${100*c/f}%`,o.height=`${100*u/p}%`):this.setRotation(x,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:o}=this;t%180!==0&&([r,o]=[o,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*o/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const r=s.detail[e],o=r[0],c=r.slice(1);s.target.style[i]=gk[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:gk[`${o}_rgb`](c)})};return It(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||i[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,r]of Object.entries(e)){const o=i[s];if(o){const c={detail:{[s]:r},target:t};o(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,r]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,P,w,E]=t.subarray(2,6);if(s===_&&r===P&&e===w&&i===E)return}const{style:o}=this.container;let c;if(l(this,kf)){const{borderColor:_,borderWidth:P}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${P}">`],this.container.classList.add("hasBorder")}const u=s-e,d=r-i,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=f.createElement("defs");p.append(m);const v=f.createElement("clipPath"),x=`clippath_${this.data.id}`;v.setAttribute("id",x),v.setAttribute("clipPathUnits","objectBoundingBox"),m.append(v);for(let _=2,P=t.length;_<P;_+=8){const w=t[_],E=t[_+1],A=t[_+2],y=t[_+3],S=f.createElement("rect"),T=(A-e)/u,N=(r-E)/d,F=(w-A)/u,B=(E-y)/d;S.setAttribute("x",T),S.setAttribute("y",N),S.setAttribute("width",F),S.setAttribute("height",B),v.append(S),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${N}" width="${F}" height="${B}"/>`)}l(this,kf)&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(t=null){const{data:e}=this;let i,s;t?(i={str:t.text},s=t.date):(i=e.contentsObj,s=e.modificationDate);const r=C(this,Bs,new yS({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(l(this,Bs)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,Bs)}render(){pe("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:o,exportValues:c}of s){if(r===-1||o===e)continue;const u=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!wh.has(d)){Tt(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:u,domElement:d})}return i}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,o=s.getAttribute("data-element-id");o!==e&&wh.has(s)&&i.push({id:o,exportValue:r,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ju=new WeakMap,kf=new WeakMap,Bs=new WeakMap,Ev=new WeakSet,vS=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:c,pageY:u}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-c)/r}%`,e.top=`${100*(o-t[3]+u)/o}%`,s===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(s)};let De=XE;class IU extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var fs,jc,cI,uI;class zE extends De{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});R(this,fs);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),r=!0):e.attachment?(I(this,fs,cI).call(this,s,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(I(this,fs,uI).call(this,s,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,i,s=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&I(this,fs,jc).call(this),s&&(e.title=s)}_bindNamedAction(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),s&&(e.title=s),I(this,fs,jc).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(e[o]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),I(this,fs,jc).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),I(this,fs,jc).call(this),!this._fieldObjects){Tt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var p;s==null||s();const{fields:r,refs:o,include:c}=i,u=[];if(r.length!==0||o.length!==0){const m=new Set(o);for(const v of r){const x=this._fieldObjects[v]||[];for(const{id:_}of x)m.add(_)}for(const v of Object.values(this._fieldObjects))for(const x of v)m.has(x.id)===c&&u.push(x)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const d=this.annotationStorage,f=[];for(const m of u){const{id:v}=m;switch(f.push(v),m.type){case"text":{const _=m.defaultValue||"";d.setValue(v,{value:_});break}case"checkbox":case"radiobutton":{const _=m.defaultValue===m.exportValues;d.setValue(v,{value:_});break}case"combobox":case"listbox":{const _=m.defaultValue||"";d.setValue(v,{value:_});break}default:continue}const x=document.querySelector(`[data-element-id="${v}"]`);if(x){if(!wh.has(x)){Tt(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}fs=new WeakSet,jc=function(){this.container.setAttribute("data-internal-link","")},cI=function(e,i,s="",r=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:s&&(e.title=s),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},I(this,fs,jc).call(this)},uI=function(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),s&&(e.title=s),I(this,fs,jc).call(this)};class DU extends De{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class kh extends De{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return En.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,r){i.includes("mouse")?t.addEventListener(i,o=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var c;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o)}}))})}_setEventListeners(t,e,i,s){var r,o,c;for(const[u,d]of i)(d==="Action"||(r=this.data.actions)!=null&&r[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,u,d,s),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":gt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||RU,r=t.style;let o;const c=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(ux*s))||1,p=d/f;o=Math.min(s,u(p/ux))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(s,u(d/ux))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=gt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class OU extends kh{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),r.setValue(o.id,{[s]:i})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let c=o.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&c.length>u&&(c=c.slice(0,u));let d=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??c,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",d??c),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),wh.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:p,datetimeType:m,timeStep:v}=this.data,x=!!m&&this.enableScripting;p&&(i.title=p),this._setRequired(i,this.data.required),u&&(i.maxLength=u),i.addEventListener("input",P=>{t.setValue(e,{value:P.target.value}),this.setPropertyOnSiblings(i,"value",P.target.value,"value"),f.formattedValue=null}),i.addEventListener("resetform",P=>{const w=this.data.defaultFieldValue??"";i.value=f.userValue=w,f.formattedValue=null});let _=P=>{const{formattedValue:w}=f;w!=null&&(P.target.value=w),P.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",w=>{var A;if(f.focused)return;const{target:E}=w;if(x&&(E.type=m,v&&(E.step=v)),f.userValue){const y=f.userValue;if(x)if(m==="time"){const S=new Date(y),T=[S.getHours(),S.getMinutes(),S.getSeconds()];E.value=T.map(N=>N.toString().padStart(2,"0")).join(":")}else E.value=new Date(y-NU).toISOString().split(m==="date"?"T":".",1)[0];else E.value=y}f.lastCommittedValue=E.value,f.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(f.focused=!0)}),i.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const E={value(A){f.userValue=A.detail.value??"",x||t.setValue(e,{value:f.userValue.toString()}),A.target.value=f.userValue},formattedValue(A){const{formattedValue:y}=A.detail;f.formattedValue=y,y!=null&&A.target!==document.activeElement&&(A.target.value=y);const S={formattedValue:y};x&&(S.value=y),t.setValue(e,S)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var N;const{charLimit:y}=A.detail,{target:S}=A;if(y===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",y);let T=f.userValue;!T||T.length<=y||(T=T.slice(0,y),S.value=f.userValue=T,t.setValue(e,{value:T}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(E,w)}),i.addEventListener("keydown",w=>{var y;f.commitKey=1;let E=-1;if(w.key==="Escape"?E=0:w.key==="Enter"&&!this.data.multiLine?E=2:w.key==="Tab"&&(f.commitKey=3),E===-1)return;const{value:A}=w.target;f.lastCommittedValue!==A&&(f.lastCommittedValue=A,f.userValue=A,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:E,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const P=_;_=null,i.addEventListener("blur",w=>{var y,S;if(!f.focused||!w.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(f.focused=!1);const{target:E}=w;let{value:A}=E;if(x){if(A&&m==="time"){const T=A.split(":").map(N=>parseInt(N,10));A=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),E.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();E.type="text"}f.userValue=A,f.lastCommittedValue!==A&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:f.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),P(w)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",w=>{var B;f.lastCommittedValue=null;const{data:E,target:A}=w,{value:y,selectionStart:S,selectionEnd:T}=A;let N=S,F=T;switch(w.inputType){case"deleteWordBackward":{const j=y.substring(0,S).match(/\w*[^\w]*$/);j&&(N-=j[0].length);break}case"deleteWordForward":{const j=y.substring(S).match(/^[^\w]*\w*/);j&&(F+=j[0].length);break}case"deleteContentBackward":S===T&&(N-=1);break;case"deleteContentForward":S===T&&(F+=1);break}w.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,change:E||"",willCommit:!1,selStart:N,selEnd:F}})}),this._setEventListeners(i,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(_&&i.addEventListener("blur",_),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/u;i.classList.add("comb"),i.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class FU extends kh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class BU extends kh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return wh.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,i)){const f=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:u})}),r.addEventListener("resetform",o=>{const c=e.defaultFieldValue||"Off";o.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hI extends kh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(wh.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:u})}),r.addEventListener("resetform",o=>{const c=e.defaultFieldValue;o.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",c=>{const u={value:d=>{const f=o===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const m=f&&p.id===i;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class jU extends zE{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class zU extends kh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");wh.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of s.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,i.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),r=!1),s.append(p)}let o=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),s.prepend(f),o=()=>{f.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const c=f=>{const p=f?"value":"textContent",{options:m,multiple:v}=s;return v?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=c(!1);const d=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",f=>{const p={value(m){o==null||o();const v=m.detail.value,x=new Set(Array.isArray(v)?v:[v]);for(const _ of s.options)_.selected=x.has(_.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(m){s.multiple=!0},remove(m){const v=s.options,x=m.detail.remove;v[x].selected=!1,s.remove(x),v.length>0&&Array.prototype.findIndex.call(v,P=>P.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},clear(m){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(m){const{index:v,displayValue:x,exportValue:_}=m.detail.insert,P=s.children[v],w=document.createElement("option");w.textContent=x,w.value=_,P?P.before(w):s.append(w),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},items(m){const{items:v}=m.detail;for(;s.length!==0;)s.remove(0);for(const x of v){const{displayValue:_,exportValue:P}=x,w=document.createElement("option");w.textContent=_,w.value=P,s.append(w)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(m)}),u=c(!1)},indices(m){const v=new Set(m.detail.indices);for(const x of m.target.options)x.selected=v.has(x.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),s.addEventListener("input",f=>{var v;const p=c(!0),m=c(!1);t.setValue(e,{value:p}),f.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):s.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var Pv,_S;class yS extends De{constructor(e){const{data:i,elements:s,parent:r}=e,o=!!r._commentManager;super(e,{isRenderable:!o&&De._hasPopupData(i)});R(this,Pv);if(this.elements=s,o&&De._hasPopupData(i)){const c=this.popup=I(this,Pv,_S).call(this);for(const u of s)u.popup=c}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const i=this.popup=I(this,Pv,_S).call(this),s=[];for(const r of this.elements)r.popup=i,r.container.ariaHasPopup="dialog",s.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(r=>`${RE}${r}`).join(",")),this.container}}Pv=new WeakSet,_S=function(){return new HU({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Qi,Il,fw,pw,Mf,Lf,He,lo,Dl,zu,Rf,Nf,co,Ji,pa,ga,vn,ma,Ol,Cv,va,If,Hu,Fl,Yn,Bl,Ot,V0,wS,bS,xS,G0,SS,dI,fI,pI,gI,q0,Z0,AS;class HU{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:r,contentsObj:o,richText:c,parent:u,rect:d,parentRect:f,open:p,commentManager:m=null}){R(this,Ot);R(this,Qi,null);R(this,Il,I(this,Ot,pI).bind(this));R(this,fw,I(this,Ot,AS).bind(this));R(this,pw,I(this,Ot,Z0).bind(this));R(this,Mf,I(this,Ot,q0).bind(this));R(this,Lf,null);R(this,He,null);R(this,lo,null);R(this,Dl,null);R(this,zu,null);R(this,Rf,null);R(this,Nf,null);R(this,co,!1);R(this,Ji,null);R(this,pa,null);R(this,ga,null);R(this,vn,null);R(this,ma,null);R(this,Ol,null);R(this,Cv,null);R(this,va,null);R(this,If,null);R(this,Hu,null);R(this,Fl,!1);R(this,Yn,null);R(this,Bl,null);C(this,He,t),C(this,If,s),C(this,lo,o),C(this,va,c),C(this,Rf,u),C(this,Lf,e),C(this,Cv,d),C(this,Nf,f),C(this,zu,i),C(this,Qi,m),C(this,Yn,i[0]),C(this,Dl,pm.toDateObject(r)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),m?this.renderCommentButton():(I(this,Ot,V0).call(this),l(this,He).hidden=!0,p&&I(this,Ot,q0).call(this))}renderCommentButton(){if(l(this,vn)||(l(this,ma)||I(this,Ot,wS).call(this),!l(this,ma)))return;const{signal:t}=C(this,pa,new AbortController),e=!!l(this,Yn).extraPopupElement,i=()=>{l(this,Qi).toggleCommentPopup(this,!0,void 0,!e)},s=()=>{l(this,Qi).toggleCommentPopup(this,!1,!0,!e)},r=()=>{l(this,Qi).toggleCommentPopup(this,!1,!1)};if(e){C(this,vn,l(this,Yn).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",l(this,Il),{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",s,{signal:t}),o.addEventListener("pointerleave",r,{signal:t}),o.classList.add("popupTriggerArea")}else{const o=C(this,vn,document.createElement("button"));o.className="annotationCommentButton";const c=l(this,Yn).container;o.style.zIndex=c.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),I(this,Ot,xS).call(this),I(this,Ot,bS).call(this),o.addEventListener("keydown",l(this,Il),{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",s,{signal:t}),o.addEventListener("pointerleave",r,{signal:t}),c.after(o)}}get commentButtonColor(){const{color:t,opacity:e}=l(this,Yn).commentData;return t?l(this,Rf)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;(t=l(this,vn))==null||t.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}=l(this,Yn).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}}get elementBeforePopup(){return l(this,vn)}get comment(){return l(this,Bl)||C(this,Bl,l(this,Yn).commentText),l(this,Bl)}set comment(t){t!==this.comment&&(l(this,Yn).commentText=C(this,Bl,t))}get parentBoundingClientRect(){return l(this,Yn).layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){l(this,vn)&&(l(this,vn).classList.toggle("selected",t),l(this,vn).ariaExpanded=e)}setSelectedCommentButton(t){l(this,vn).classList.toggle("selected",t)}get commentPopupPosition(){if(l(this,Ol))return l(this,Ol);const{x:t,y:e,height:i}=l(this,vn).getBoundingClientRect(),{x:s,y:r,width:o,height:c}=l(this,Yn).layer.getBoundingClientRect();return[(t-s)/o,(e+i-r)/c]}set commentPopupPosition(t){C(this,Ol,t)}hasDefaultPopupPosition(){return l(this,Ol)===null}get commentButtonPosition(){return l(this,ma)}get commentButtonWidth(){return l(this,vn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=l(this,Ol)||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:r,y:o,width:c,height:u}=s;l(this,Qi).showDialog(null,this,r+e*c,o+i*u,{...t,parentDimensions:s})}render(){var i,s;if(l(this,Ji))return;const t=C(this,Ji,document.createElement("div"));if(t.className="popup",l(this,Lf)){const r=t.style.outlineColor=gt.makeHexColor(...l(this,Lf));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",(i=l(this,If))!=null&&i.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=l(this,If)}if(t.append(e),l(this,Dl)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Dl).valueOf()})),r.dateTime=l(this,Dl).toISOString(),e.append(r)}IE({html:l(this,Ot,G0)||l(this,lo).str,dir:(s=l(this,lo))==null?void 0:s.dir,className:"popupContent"},t),l(this,He).append(t)}updateEdited({rect:t,popup:e,deleted:i}){var s;if(l(this,Qi)){i?(this.remove(),C(this,Bl,null)):e&&(e.deleted?this.remove():(I(this,Ot,xS).call(this),C(this,Bl,e.text))),t&&(C(this,ma,null),I(this,Ot,wS).call(this),I(this,Ot,bS).call(this));return}if(i||e!=null&&e.deleted){this.remove();return}I(this,Ot,V0).call(this),l(this,Hu)||C(this,Hu,{contentsObj:l(this,lo),richText:l(this,va)}),t&&C(this,ga,null),e&&e.text&&(C(this,va,I(this,Ot,fI).call(this,e.text)),C(this,Dl,pm.toDateObject(e.date)),C(this,lo,null)),(s=l(this,Ji))==null||s.remove(),C(this,Ji,null)}resetEdited(){var t;l(this,Hu)&&({contentsObj:Fe(this,lo)._,richText:Fe(this,va)._}=l(this,Hu),C(this,Hu,null),(t=l(this,Ji))==null||t.remove(),C(this,Ji,null),C(this,ga,null))}remove(){var t,e,i;if((t=l(this,pa))==null||t.abort(),C(this,pa,null),(e=l(this,Ji))==null||e.remove(),C(this,Ji,null),C(this,Fl,!1),C(this,co,!1),(i=l(this,vn))==null||i.remove(),C(this,vn,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){C(this,Fl,this.isVisible),l(this,Fl)&&(l(this,He).hidden=!0)}maybeShow(){l(this,Qi)||(I(this,Ot,V0).call(this),l(this,Fl)&&(l(this,Ji)||I(this,Ot,Z0).call(this),C(this,Fl,!1),l(this,He).hidden=!1))}get isVisible(){return l(this,Qi)?!1:l(this,He).hidden===!1}}Qi=new WeakMap,Il=new WeakMap,fw=new WeakMap,pw=new WeakMap,Mf=new WeakMap,Lf=new WeakMap,He=new WeakMap,lo=new WeakMap,Dl=new WeakMap,zu=new WeakMap,Rf=new WeakMap,Nf=new WeakMap,co=new WeakMap,Ji=new WeakMap,pa=new WeakMap,ga=new WeakMap,vn=new WeakMap,ma=new WeakMap,Ol=new WeakMap,Cv=new WeakMap,va=new WeakMap,If=new WeakMap,Hu=new WeakMap,Fl=new WeakMap,Yn=new WeakMap,Bl=new WeakMap,Ot=new WeakSet,V0=function(){var e;if(l(this,pa))return;C(this,pa,new AbortController);const{signal:t}=l(this,pa);for(const i of this.trigger)i.addEventListener("click",l(this,Mf),{signal:t}),i.addEventListener("pointerenter",l(this,pw),{signal:t}),i.addEventListener("pointerleave",l(this,fw),{signal:t}),i.classList.add("popupTriggerArea");for(const i of l(this,zu))(e=i.container)==null||e.addEventListener("keydown",l(this,Il),{signal:t})},wS=function(){const t=l(this,zu).find(e=>e.hasCommentButton);t&&C(this,ma,t._normalizePoint(t.commentButtonPosition))},bS=function(){if(l(this,Yn).extraPopupElement&&!l(this,Yn).editor)return;this.renderCommentButton();const[t,e]=l(this,ma),{style:i}=l(this,vn);i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`},xS=function(){l(this,Yn).extraPopupElement||(this.renderCommentButton(),l(this,vn).style.backgroundColor=this.commentButtonColor||"")},G0=function(){const t=l(this,va),e=l(this,lo);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&l(this,va).html||null},SS=function(){var t,e,i;return((i=(e=(t=l(this,Ot,G0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},dI=function(){var t,e,i;return((i=(e=(t=l(this,Ot,G0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},fI=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:l(this,Ot,dI),fontSize:l(this,Ot,SS)?`calc(${l(this,Ot,SS)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return i},pI=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&l(this,co))&&I(this,Ot,q0).call(this)},gI=function(){if(l(this,ga)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:r}}}=l(this,Rf);let o=!!l(this,Nf),c=o?l(this,Nf):l(this,Cv);for(const x of l(this,zu))if(!c||gt.intersect(x.data.rect,c)!==null){c=x.data.rect,o=!0;break}const u=gt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=o?c[2]-c[0]+5:0,p=u[0]+f,m=u[1];C(this,ga,[100*(p-s)/e,100*(m-r)/i]);const{style:v}=l(this,He);v.left=`${l(this,ga)[0]}%`,v.top=`${l(this,ga)[1]}%`},q0=function(){if(l(this,Qi)){l(this,Qi).toggleCommentPopup(this,!1);return}C(this,co,!l(this,co)),l(this,co)?(I(this,Ot,Z0).call(this),l(this,He).addEventListener("click",l(this,Mf)),l(this,He).addEventListener("keydown",l(this,Il))):(I(this,Ot,AS).call(this),l(this,He).removeEventListener("click",l(this,Mf)),l(this,He).removeEventListener("keydown",l(this,Il)))},Z0=function(){l(this,Ji)||this.render(),this.isVisible?l(this,co)&&l(this,He).classList.add("focused"):(I(this,Ot,gI).call(this),l(this,He).hidden=!1,l(this,He).style.zIndex=parseInt(l(this,He).style.zIndex)+1e3)},AS=function(){l(this,He).classList.remove("focused"),!(l(this,co)||!this.isVisible)&&(l(this,He).hidden=!0,l(this,He).style.zIndex=parseInt(l(this,He).style.zIndex)-1e3)};class mI extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ct.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Tv;class UU extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Tv,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=C(this,Tv,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Tv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tv=new WeakMap;var kv;class $U extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,kv,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,c=C(this,kv,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",i-o),c.setAttribute("height",s-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,kv)}addHighlightArea(){this.container.classList.add("highlightArea")}}kv=new WeakMap;var Mv;class WU extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Mv,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,c=C(this,Mv,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",i/2),c.setAttribute("cy",s/2),c.setAttribute("rx",i/2-o/2),c.setAttribute("ry",s/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Mv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mv=new WeakMap;var Lv;class vI extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Lv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:r},width:o,height:c}=this;if(!i)return this.container;const u=this.svgFactory.create(o,c,!0);let d=[];for(let p=0,m=i.length;p<m;p+=2){const v=i[p]-e[0],x=e[3]-i[p+1];d.push(`${v},${x}`)}d=d.join(" ");const f=C(this,Lv,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Lv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lv=new WeakMap;class VU extends vI{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class GU extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Rv,Uu,Nv,ES;class HE extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Nv);R(this,Rv,null);R(this,Uu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ct.HIGHLIGHT:Ct.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:r,popupRef:o}}=this,{transform:c,width:u,height:d}=I(this,Nv,ES).call(this,i,e),f=this.svgFactory.create(u,d,!0),p=C(this,Rv,this.svgFactory.createElement("svg:g"));f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let m=0,v=s.length;m<v;m++){const x=this.svgFactory.createElement(this.svgElementName);l(this,Uu).push(x),x.setAttribute("points",s[m].join(",")),p.append(x)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:r}=e,o=l(this,Rv);if(i>=0&&o.setAttribute("stroke-width",i||1),s)for(let c=0,u=l(this,Uu).length;c<u;c++)l(this,Uu)[c].setAttribute("points",s[c].join(","));if(r){const{transform:c,width:u,height:d}=I(this,Nv,ES).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",c)}}getElementsToTriggerPopup(){return l(this,Uu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rv=new WeakMap,Uu=new WeakMap,Nv=new WeakSet,ES=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class yI extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ct.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class qU extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class ZU extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class XU extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class _I extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ct.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Iv,Dv,PS;class YU extends De{constructor(e){var s;super(e,{isRenderable:!0});R(this,Dv);R(this,Iv,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",I(this,Dv,PS).bind(this)),C(this,Iv,s);const{isMac:r}=En.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&I(this,Dv,PS).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return l(this,Iv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Iv=new WeakMap,Dv=new WeakSet,PS=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Df,$u,Of,jl,Ov,Wu,bc,CS,TS,Ff;let UE=(Ff=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:o,structTreeLayer:c,commentManager:u,linkService:d,annotationStorage:f}){R(this,bc);R(this,Df,null);R(this,$u,null);R(this,Of,null);R(this,jl,new Map);R(this,Ov,null);R(this,Wu,null);this.div=t,C(this,Df,e),C(this,$u,i),C(this,Ov,c||null),C(this,Wu,d||null),C(this,Of,f||new DE),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=u||null}hasEditableAnnotations(){return l(this,jl).size>0}async render(t){var o,c,u;const{annotations:e}=t,i=this.div;yc(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:l(this,Wu),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new ym,annotationStorage:l(this,Of),enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===Ge.POPUP;if(f){const v=s.get(d.id);if(!v)continue;r.elements=v}else if(d.rect[2]===d.rect[0]||d.rect[3]===d.rect[1])continue;r.data=d;const p=mk.create(r);if(!p.isRenderable)continue;if(!f&&d.popupRef){const v=s.get(d.popupRef);v?v.push(p):s.set(d.popupRef,[p])}const m=p.render();d.hidden&&(m.style.visibility="hidden"),await I(this,bc,CS).call(this,m,d.id,r.elements),(c=(o=p.extraPopupElement)==null?void 0:o.popup)==null||c.renderCommentButton(),p._isEditable&&(l(this,jl).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}I(this,bc,TS).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:l(this,Wu),svgFactory:new ym,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=Ff._defaultBorderStyle),e.data=i;const s=mk.create(e);if(!s.isRenderable)continue;const r=s.render();await I(this,bc,CS).call(this,r,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,yc(e,{rotation:t.rotation}),I(this,bc,TS).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(l(this,jl).values())}getEditableAnnotation(t){return l(this,jl).get(t)}addFakeAnnotation(t){var c;const{div:e}=this,{id:i,rotation:s}=t,r=new IU({data:{id:i,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:l(this,Wu),annotationStorage:l(this,Of)}),o=r.render();return e.append(o),(c=l(this,Df))==null||c.moveElementInDOM(e,o,o,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return It(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Hh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Df=new WeakMap,$u=new WeakMap,Of=new WeakMap,jl=new WeakMap,Ov=new WeakMap,Wu=new WeakMap,bc=new WeakSet,CS=async function(t,e,i){var c,u;const s=t.firstChild||t,r=s.id=`${RE}${e}`,o=await((c=l(this,Ov))==null?void 0:c.getAriaAttributes(r));if(o)for(const[d,f]of o)s.setAttribute(d,f);i?i.at(-1).container.after(t):(this.div.append(t),(u=l(this,Df))==null||u.moveElementInDOM(this.div,t,s,!1))},TS=function(){var e;if(!l(this,$u))return;const t=this.div;for(const[i,s]of l(this,$u)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s);const c=l(this,jl).get(i);c&&(c._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,s),c._hasNoCanvas=!1):c.canvas=s)}l(this,$u).clear()},Ff);const g0=/\r\n?|\n/g;var ts,Fv,Vu,es,rn,wI,bI,xI,X0,ka,Y0,K0,SI,MS,AI;const be=class be extends ye{constructor(e){super({...e,name:"freeTextEditor"});R(this,rn);R(this,ts,"");R(this,Fv,`${this.id}-editor`);R(this,Vu,null);R(this,es);nt(this,"_colorPicker",null);this.color=e.color||be._defaultColor||ye._defaultLineColor,C(this,es,e.fontSize||be._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=be.prototype,i=o=>o.isEmpty(),s=_c.TRANSLATE_SMALL,r=_c.TRANSLATE_BIG;return It(this,"_keyboardManager",new my([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){ye.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case $t.FREETEXT_SIZE:be._defaultFontSize=i;break;case $t.FREETEXT_COLOR:be._defaultColor=i;break}}updateParams(e,i){switch(e){case $t.FREETEXT_SIZE:I(this,rn,wI).call(this,i);break;case $t.FREETEXT_COLOR:I(this,rn,bI).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[$t.FREETEXT_SIZE,be._defaultFontSize],[$t.FREETEXT_COLOR,be._defaultColor||ye._defaultLineColor]]}get propertiesToUpdate(){return[[$t.FREETEXT_SIZE,l(this,es)],[$t.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new X_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return $t.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-be._internalPadding*e,-(be._internalPadding+l(this,es))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Vu,new AbortController);const e=this._uiManager.combinedSignal(l(this,Vu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Fv)),this._isDraggable=!0,(e=l(this,Vu))==null||e.abort(),C(this,Vu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=l(this,ts),i=C(this,ts,I(this,rn,xI).call(this).trimEnd());if(e===i)return;const s=r=>{if(C(this,ts,r),!r){this.remove();return}I(this,rn,K0).call(this),this._uiManager.rebuild(this),I(this,rn,X0).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),I(this,rn,X0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){be._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Fv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${l(this,es)}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,v]=this.pageTranslation;let x,_;switch(this.rotation){case 0:x=e+(c[0]-m)/f,_=i+this.height-(c[1]-v)/p;break;case 90:x=e+(c[0]-m)/f,_=i-(c[1]-v)/p,[u,d]=[d,-u];break;case 180:x=e-this.width+(c[0]-m)/f,_=i-(c[1]-v)/p,[u,d]=[-u,-d];break;case 270:x=e+(c[0]-m-this.height*p)/f,_=i+(c[1]-v-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(x*r,_*o,u,d)}else this._moveAfterPaste(e,i);I(this,rn,K0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var x,_,P;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=I(x=be,ka,MS).call(x,i.getData("text")||"").replaceAll(g0,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const w=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(g0,"")),w!==this.editorDiv){let E=f;for(const A of this.editorDiv.childNodes){if(A===w){E=p;continue}E.push(I(_=be,ka,Y0).call(_,A))}}f.push(u.nodeValue.slice(0,d).replaceAll(g0,""))}else if(u===this.editorDiv){let w=f,E=0;for(const A of this.editorDiv.childNodes)E++===d&&(w=p),w.push(I(P=be,ka,Y0).call(P,A))}C(this,ts,`${f.join(`
`)}${r}${p.join(`
`)}`),I(this,rn,K0).call(this);const m=new Range;let v=Math.sumPrecise(f.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const E=w.nodeValue.length;if(v<=E){m.setStart(w,v),m.setEnd(w,v);break}v-=E}o.removeAllRanges(),o.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=be._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,i,s){var c;let r=null;if(e instanceof mI){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:f,rotation:p,id:m,popupRef:v,richText:x,contentsObj:_,creationDate:P,modificationDate:w},textContent:E,textPosition:A,parent:{page:{pageNumber:y}}}=e;if(!E||E.length===0)return null;r=e={annotationType:Ct.FREETEXT,color:Array.from(d),fontSize:u,value:E.join(`
`),position:A,pageIndex:y-1,rect:f.slice(0),rotation:p,annotationElementId:m,id:m,deleted:!1,popupRef:v,comment:(_==null?void 0:_.str)||null,richText:x,creationDate:P,modificationDate:w}}const o=await super.deserialize(e,i,s);return C(o,es,e.fontSize),o.color=gt.makeHexColor(...e.color),C(o,ts,I(c=be,ka,MS).call(c,e.value)),o._initialData=r,e.comment&&o.setCommentData(e),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:i,fontSize:l(this,es),value:I(this,rn,SI).call(this)});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!I(this,rn,AI).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(!i)return null;const{style:s}=i;s.fontSize=`calc(${l(this,es)}px * var(--total-scale-factor))`,s.color=this.color,i.replaceChildren();for(const r of l(this,ts).split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),i.append(o)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,ts)}}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ts=new WeakMap,Fv=new WeakMap,Vu=new WeakMap,es=new WeakMap,rn=new WeakSet,wI=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-l(this,es))*this.parentScale),C(this,es,r),I(this,rn,X0).call(this)},s=l(this,es);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bI=function(e){const i=r=>{this.color=r,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xI=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(I(s=be,ka,Y0).call(s,r)),i=r);return e.join(`
`)},X0=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,c=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},ka=new WeakSet,Y0=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(g0,"")},K0=function(){if(this.editorDiv.replaceChildren(),!!l(this,ts))for(const e of l(this,ts).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},SI=function(){return l(this,ts).replaceAll(""," ")},MS=function(e){return e.replaceAll(" ","")},AI=function(e){const{value:i,fontSize:s,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((c,u)=>c!==r[u])||e.pageIndex!==o},R(be,ka),nt(be,"_freeTextDefaultContent",""),nt(be,"_internalPadding",0),nt(be,"_defaultColor",null),nt(be,"_defaultFontSize",10),nt(be,"_type","freetext"),nt(be,"_editorType",Ct.FREETEXT);let kS=be;class pt{toSVGPath(){pe("Abstract method `toSVGPath` must be implemented.")}get box(){pe("Abstract getter `box` must be implemented.")}serialize(t,e){pe("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,r,o){o||(o=new Float32Array(t.length));for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c]*s,o[c+1]=i+t[c+1]*r;return o}static _rescaleAndSwap(t,e,i,s,r,o){o||(o=new Float32Array(t.length));for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c+1]*s,o[c+1]=i+t[c]*r;return o}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)s[r]=e+t[r],s[r+1]=i+t[r+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,r){switch(r){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,r,o){return[(t+5*i)/6,(e+5*s)/6,(5*i+r)/6,(5*s+o)/6,(i+r)/2,(s+o)/2]}}nt(pt,"PRECISION",1e-4);var ns,pr,Bf,jf,uo,zt,Gu,qu,Bv,jv,zf,Hf,zl,zv,gw,mw,pn,xg,EI,PI,CI,TI,kI,MI;const Uo=class Uo{constructor({x:t,y:e},i,s,r,o,c=0){R(this,pn);R(this,ns);R(this,pr,[]);R(this,Bf);R(this,jf);R(this,uo,[]);R(this,zt,new Float32Array(18));R(this,Gu);R(this,qu);R(this,Bv);R(this,jv);R(this,zf);R(this,Hf);R(this,zl,[]);C(this,ns,i),C(this,Hf,r*s),C(this,jf,o),l(this,zt).set([NaN,NaN,NaN,NaN,t,e],6),C(this,Bf,c),C(this,jv,l(Uo,zv)*s),C(this,Bv,l(Uo,mw)*s),C(this,zf,s),l(this,zl).push(t,e)}isEmpty(){return isNaN(l(this,zt)[8])}add({x:t,y:e}){var B;C(this,Gu,t),C(this,qu,e);const[i,s,r,o]=l(this,ns);let[c,u,d,f]=l(this,zt).subarray(8,12);const p=t-d,m=e-f,v=Math.hypot(p,m);if(v<l(this,Bv))return!1;const x=v-l(this,jv),_=x/v,P=_*p,w=_*m;let E=c,A=u;c=d,u=f,d+=P,f+=w,(B=l(this,zl))==null||B.push(t,e);const y=-w/x,S=P/x,T=y*l(this,Hf),N=S*l(this,Hf);return l(this,zt).set(l(this,zt).subarray(2,8),0),l(this,zt).set([d+T,f+N],4),l(this,zt).set(l(this,zt).subarray(14,18),12),l(this,zt).set([d-T,f-N],16),isNaN(l(this,zt)[6])?(l(this,uo).length===0&&(l(this,zt).set([c+T,u+N],2),l(this,uo).push(NaN,NaN,NaN,NaN,(c+T-i)/r,(u+N-s)/o),l(this,zt).set([c-T,u-N],14),l(this,pr).push(NaN,NaN,NaN,NaN,(c-T-i)/r,(u-N-s)/o)),l(this,zt).set([E,A,c,u,d,f],6),!this.isEmpty()):(l(this,zt).set([E,A,c,u,d,f],6),Math.abs(Math.atan2(A-u,E-c)-Math.atan2(w,P))<Math.PI/2?([c,u,d,f]=l(this,zt).subarray(2,6),l(this,uo).push(NaN,NaN,NaN,NaN,((c+d)/2-i)/r,((u+f)/2-s)/o),[c,u,E,A]=l(this,zt).subarray(14,18),l(this,pr).push(NaN,NaN,NaN,NaN,((E+c)/2-i)/r,((A+u)/2-s)/o),!0):([E,A,c,u,d,f]=l(this,zt).subarray(0,6),l(this,uo).push(((E+5*c)/6-i)/r,((A+5*u)/6-s)/o,((5*c+d)/6-i)/r,((5*u+f)/6-s)/o,((c+d)/2-i)/r,((u+f)/2-s)/o),[d,f,c,u,E,A]=l(this,zt).subarray(12,18),l(this,pr).push(((E+5*c)/6-i)/r,((A+5*u)/6-s)/o,((5*c+d)/6-i)/r,((5*u+f)/6-s)/o,((c+d)/2-i)/r,((u+f)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=l(this,uo),e=l(this,pr);if(isNaN(l(this,zt)[6])&&!this.isEmpty())return I(this,pn,EI).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);I(this,pn,CI).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return I(this,pn,PI).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,r,o){return new LI(t,e,i,s,r,o)}getOutlines(){var p;const t=l(this,uo),e=l(this,pr),i=l(this,zt),[s,r,o,c]=l(this,ns),u=new Float32Array((((p=l(this,zl))==null?void 0:p.length)??0)+2);for(let m=0,v=u.length-2;m<v;m+=2)u[m]=(l(this,zl)[m]-s)/o,u[m+1]=(l(this,zl)[m+1]-r)/c;if(u[u.length-2]=(l(this,Gu)-s)/o,u[u.length-1]=(l(this,qu)-r)/c,isNaN(i[6])&&!this.isEmpty())return I(this,pn,TI).call(this,u);const d=new Float32Array(l(this,uo).length+24+l(this,pr).length);let f=t.length;for(let m=0;m<f;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}f=I(this,pn,MI).call(this,d,f);for(let m=e.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(e[m+v])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[m+v],d[f+1]=e[m+v+1],f+=2}return I(this,pn,kI).call(this,d,f),this.newFreeDrawOutline(d,u,l(this,ns),l(this,zf),l(this,Bf),l(this,jf))}};ns=new WeakMap,pr=new WeakMap,Bf=new WeakMap,jf=new WeakMap,uo=new WeakMap,zt=new WeakMap,Gu=new WeakMap,qu=new WeakMap,Bv=new WeakMap,jv=new WeakMap,zf=new WeakMap,Hf=new WeakMap,zl=new WeakMap,zv=new WeakMap,gw=new WeakMap,mw=new WeakMap,pn=new WeakSet,xg=function(){const t=l(this,zt).subarray(4,6),e=l(this,zt).subarray(16,18),[i,s,r,o]=l(this,ns);return[(l(this,Gu)+(t[0]-e[0])/2-i)/r,(l(this,qu)+(t[1]-e[1])/2-s)/o,(l(this,Gu)+(e[0]-t[0])/2-i)/r,(l(this,qu)+(e[1]-t[1])/2-s)/o]},EI=function(){const[t,e,i,s]=l(this,ns),[r,o,c,u]=I(this,pn,xg).call(this);return`M${(l(this,zt)[2]-t)/i} ${(l(this,zt)[3]-e)/s} L${(l(this,zt)[4]-t)/i} ${(l(this,zt)[5]-e)/s} L${r} ${o} L${c} ${u} L${(l(this,zt)[16]-t)/i} ${(l(this,zt)[17]-e)/s} L${(l(this,zt)[14]-t)/i} ${(l(this,zt)[15]-e)/s} Z`},PI=function(t){const e=l(this,pr);t.push(`L${e[4]} ${e[5]} Z`)},CI=function(t){const[e,i,s,r]=l(this,ns),o=l(this,zt).subarray(4,6),c=l(this,zt).subarray(16,18),[u,d,f,p]=I(this,pn,xg).call(this);t.push(`L${(o[0]-e)/s} ${(o[1]-i)/r} L${u} ${d} L${f} ${p} L${(c[0]-e)/s} ${(c[1]-i)/r}`)},TI=function(t){const e=l(this,zt),[i,s,r,o]=l(this,ns),[c,u,d,f]=I(this,pn,xg).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-s)/o,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-s)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-s)/o,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-s)/o],0),this.newFreeDrawOutline(p,t,l(this,ns),l(this,zf),l(this,Bf),l(this,jf))},kI=function(t,e){const i=l(this,pr);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},MI=function(t,e){const i=l(this,zt).subarray(4,6),s=l(this,zt).subarray(16,18),[r,o,c,u]=l(this,ns),[d,f,p,m]=I(this,pn,xg).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/c,(i[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-r)/c,(s[1]-o)/u],e),e+=24},R(Uo,zv,8),R(Uo,gw,2),R(Uo,mw,l(Uo,zv)+l(Uo,gw));let Y_=Uo;var Uf,Zu,ya,Hv,is,Uv,Ze,vw,RI;class LI extends pt{constructor(e,i,s,r,o,c){super();R(this,vw);R(this,Uf);R(this,Zu,new Float32Array(4));R(this,ya);R(this,Hv);R(this,is);R(this,Uv);R(this,Ze);C(this,Ze,e),C(this,is,i),C(this,Uf,s),C(this,Uv,r),C(this,ya,o),C(this,Hv,c),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],I(this,vw,RI).call(this,c);const[u,d,f,p]=l(this,Zu);for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p;for(let m=0,v=i.length;m<v;m+=2)i[m]=(i[m]-u)/f,i[m+1]=(i[m+1]-d)/p}toSVGPath(){const e=[`M${l(this,Ze)[4]} ${l(this,Ze)[5]}`];for(let i=6,s=l(this,Ze).length;i<s;i+=6){if(isNaN(l(this,Ze)[i])){e.push(`L${l(this,Ze)[i+4]} ${l(this,Ze)[i+5]}`);continue}e.push(`C${l(this,Ze)[i]} ${l(this,Ze)[i+1]} ${l(this,Ze)[i+2]} ${l(this,Ze)[i+3]} ${l(this,Ze)[i+4]} ${l(this,Ze)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,r],o){const c=s-e,u=r-i;let d,f;switch(o){case 0:d=pt._rescale(l(this,Ze),e,r,c,-u),f=pt._rescale(l(this,is),e,r,c,-u);break;case 90:d=pt._rescaleAndSwap(l(this,Ze),e,i,c,u),f=pt._rescaleAndSwap(l(this,is),e,i,c,u);break;case 180:d=pt._rescale(l(this,Ze),s,i,-c,u),f=pt._rescale(l(this,is),s,i,-c,u);break;case 270:d=pt._rescaleAndSwap(l(this,Ze),s,r,-c,-u),f=pt._rescaleAndSwap(l(this,is),s,r,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return l(this,Zu)}newOutliner(e,i,s,r,o,c=0){return new Y_(e,i,s,r,o,c)}getNewOutline(e,i){const[s,r,o,c]=l(this,Zu),[u,d,f,p]=l(this,Uf),m=o*f,v=c*p,x=s*f+u,_=r*p+d,P=this.newOutliner({x:l(this,is)[0]*m+x,y:l(this,is)[1]*v+_},l(this,Uf),l(this,Uv),e,l(this,Hv),i??l(this,ya));for(let w=2;w<l(this,is).length;w+=2)P.add({x:l(this,is)[w]*m+x,y:l(this,is)[w+1]*v+_});return P.getOutlines()}}Uf=new WeakMap,Zu=new WeakMap,ya=new WeakMap,Hv=new WeakMap,is=new WeakMap,Uv=new WeakMap,Ze=new WeakMap,vw=new WeakSet,RI=function(e){const i=l(this,Ze);let s=i[4],r=i[5];const o=[s,r,s,r];let c=s,u=r,d=s,f=r;const p=e?Math.max:Math.min,m=new Float32Array(4);for(let x=6,_=i.length;x<_;x+=6){const P=i[x+4],w=i[x+5];isNaN(i[x])?(gt.pointBoundingBox(P,w,o),u>w?(c=P,u=w):u===w&&(c=p(c,P)),f<w?(d=P,f=w):f===w&&(d=p(d,P))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,gt.bezierBoundingBox(s,r,...i.slice(x,x+6),m),gt.rectBoundingBox(m[0],m[1],m[2],m[3],o),u>m[1]?(c=m[0],u=m[1]):u===m[1]&&(c=p(c,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),s=P,r=w}const v=l(this,Zu);v[0]=o[0]-l(this,ya),v[1]=o[1]-l(this,ya),v[2]=o[2]-o[0]+2*l(this,ya),v[3]=o[3]-o[1]+2*l(this,ya),this.firstPoint=[c,u],this.lastPoint=[d,f]};var $v,Wv,Vv,Hl,gr,vi,NI,Q0,II,DI,RS;class LS{constructor(t,e=0,i=0,s=!0){R(this,vi);R(this,$v);R(this,Wv);R(this,Vv);R(this,Hl,[]);R(this,gr,[]);const r=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:P,y:w,width:E,height:A}of t){const y=Math.floor((P-e)/c)*c,S=Math.ceil((P+E+e)/c)*c,T=Math.floor((w-e)/c)*c,N=Math.ceil((w+A+e)/c)*c,F=[y,T,N,!0],B=[S,T,N,!1];l(this,Hl).push(F,B),gt.rectBoundingBox(y,T,S,N,r)}const u=r[2]-r[0]+2*i,d=r[3]-r[1]+2*i,f=r[0]-i,p=r[1]-i;let m=s?-1/0:1/0,v=1/0;const x=l(this,Hl).at(s?-1:-2),_=[x[0],x[2]];for(const P of l(this,Hl)){const[w,E,A,y]=P;!y&&s?E<v?(v=E,m=w):E===v&&(m=Math.max(m,w)):y&&!s&&(E<v?(v=E,m=w):E===v&&(m=Math.min(m,w))),P[0]=(w-f)/u,P[1]=(E-p)/d,P[2]=(A-p)/d}C(this,$v,new Float32Array([f,p,u,d])),C(this,Wv,[m,v]),C(this,Vv,_)}getOutlines(){l(this,Hl).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of l(this,Hl))e[3]?(t.push(...I(this,vi,RS).call(this,e)),I(this,vi,II).call(this,e)):(I(this,vi,DI).call(this,e),t.push(...I(this,vi,RS).call(this,e)));return I(this,vi,NI).call(this,t)}}$v=new WeakMap,Wv=new WeakMap,Vv=new WeakMap,Hl=new WeakMap,gr=new WeakMap,vi=new WeakSet,NI=function(t){const e=[],i=new Set;for(const o of t){const[c,u,d]=o;e.push([c,u,o],[c,d,o])}e.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=e.length;o<c;o+=2){const u=e[o][2],d=e[o+1][2];u.push(d),d.push(u),i.add(u),i.add(d)}const s=[];let r;for(;i.size>0;){const o=i.values().next().value;let[c,u,d,f,p]=o;i.delete(o);let m=c,v=u;for(r=[c,d],s.push(r);;){let x;if(i.has(f))x=f;else if(i.has(p))x=p;else break;i.delete(x),[c,u,d,f,p]=x,m!==c&&(r.push(m,v,c,v===u?u:d),m=c),v=v===u?d:u}r.push(m,v)}return new KU(s,l(this,$v),l(this,Wv),l(this,Vv))},Q0=function(t){const e=l(this,gr);let i=0,s=e.length-1;for(;i<=s;){const r=i+s>>1,o=e[r][0];if(o===t)return r;o<t?i=r+1:s=r-1}return s+1},II=function([,t,e]){const i=I(this,vi,Q0).call(this,t);l(this,gr).splice(i,0,[t,e])},DI=function([,t,e]){const i=I(this,vi,Q0).call(this,t);for(let s=i;s<l(this,gr).length;s++){const[r,o]=l(this,gr)[s];if(r!==t)break;if(r===t&&o===e){l(this,gr).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,o]=l(this,gr)[s];if(r!==t)break;if(r===t&&o===e){l(this,gr).splice(s,1);return}}},RS=function(t){const[e,i,s]=t,r=[[e,i,s]],o=I(this,vi,Q0).call(this,s);for(let c=0;c<o;c++){const[u,d]=l(this,gr)[c];for(let f=0,p=r.length;f<p;f++){const[,m,v]=r[f];if(!(d<=m||v<=u)){if(m>=u){if(v>d)r[f][1]=d;else{if(p===1)return[];r.splice(f,1),f--,p--}continue}r[f][2]=u,v>d&&r.push([e,d,v])}}}return r};var Gv,$f;class KU extends pt{constructor(e,i,s,r){super();R(this,Gv);R(this,$f);C(this,$f,e),C(this,Gv,i),this.firstPoint=s,this.lastPoint=r}toSVGPath(){const e=[];for(const i of l(this,$f)){let[s,r]=i;e.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const c=i[o],u=i[o+1];c===s?(e.push(`V${u}`),r=u):u===r&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,i,s,r],o){const c=[],u=s-e,d=r-i;for(const f of l(this,$f)){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=e+f[m]*u,p[m+1]=r-f[m+1]*d;c.push(p)}return c}get box(){return l(this,Gv)}get classNamesForOutlining(){return["highlightOutline"]}}Gv=new WeakMap,$f=new WeakMap;class NS extends Y_{newFreeDrawOutline(t,e,i,s,r,o){return new QU(t,e,i,s,r,o)}}class QU extends LI{newOutliner(t,e,i,s,r,o=0){return new NS(t,e,i,s,r,o)}}var Wf,qv,_a,Xu,Zv,Ri,Xv,Yv,Yu,ss,rs,Nn,Vf,Gf,Kn,qf,js,Kv,Dt,IS,J0,OI,FI,BI,DS,zc,Ws,qh,jI,t_,e_,zI,HI,UI,$I,WI;const Jt=class Jt extends ye{constructor(e){super({...e,name:"highlightEditor"});R(this,Dt);R(this,Wf,null);R(this,qv,0);R(this,_a);R(this,Xu,null);R(this,Zv,null);R(this,Ri,null);R(this,Xv,null);R(this,Yv,0);R(this,Yu,null);R(this,ss,null);R(this,rs,null);R(this,Nn,!1);R(this,Vf,null);R(this,Gf,null);R(this,Kn,null);R(this,qf,"");R(this,js);R(this,Kv,"");this.color=e.color||Jt._defaultColor,C(this,js,e.thickness||Jt._defaultThickness),this.opacity=e.opacity||Jt._defaultOpacity,C(this,_a,e.boxes||null),C(this,Kv,e.methodOfCreation||""),C(this,qf,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(C(this,Nn,!0),I(this,Dt,J0).call(this,e),I(this,Dt,zc).call(this)):l(this,_a)&&(C(this,Wf,e.anchorNode),C(this,qv,e.anchorOffset),C(this,Xv,e.focusNode),C(this,Yv,e.focusOffset),I(this,Dt,IS).call(this),I(this,Dt,zc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=Jt.prototype;return It(this,"_keyboardManager",new my([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Nn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,js),methodOfCreation:l(this,Kv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;ye.initialize(e,i),Jt._defaultColor||(Jt._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case $t.HIGHLIGHT_COLOR:Jt._defaultColor=i;break;case $t.HIGHLIGHT_THICKNESS:Jt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return l(this,Gf)}get commentButtonPosition(){return l(this,Vf)}updateParams(e,i){switch(e){case $t.HIGHLIGHT_COLOR:I(this,Dt,OI).call(this,i);break;case $t.HIGHLIGHT_THICKNESS:I(this,Dt,FI).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[$t.HIGHLIGHT_COLOR,Jt._defaultColor],[$t.HIGHLIGHT_THICKNESS,Jt._defaultThickness]]}get propertiesToUpdate(){return[[$t.HIGHLIGHT_COLOR,this.color||Jt._defaultColor],[$t.HIGHLIGHT_THICKNESS,l(this,js)||Jt._defaultThickness],[$t.HIGHLIGHT_FREE,l(this,Nn)]]}onUpdatedColor(){var e,i;(e=this.parent)==null||e.drawLayer.updateProperties(l(this,rs),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=l(this,Zv))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",C(this,Zv,new vm({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(I(this,Dt,e_).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,I(this,Dt,e_).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){I(this,Dt,DS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(I(this,Dt,zc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?I(this,Dt,DS).call(this):e&&(I(this,Dt,zc).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,o,c;const{drawLayer:i}=this.parent;let s;l(this,Nn)?(e=(e-this.rotation+360)%360,s=I(r=Jt,Ws,qh).call(r,l(this,ss).box,e)):s=I(o=Jt,Ws,qh).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(l(this,rs),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(l(this,Kn),{bbox:I(c=Jt,Ws,qh).call(c,l(this,Ri).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();l(this,qf)&&(e.setAttribute("aria-label",l(this,qf)),e.setAttribute("role","mark")),l(this,Nn)?e.classList.add("free"):this.div.addEventListener("keydown",I(this,Dt,jI).bind(this),{signal:this._uiManager._signal});const i=C(this,Yu,document.createElement("div"));return e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,Xu),this.setDims(this.width,this.height),uN(this,l(this,Yu),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Kn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,Kn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:I(this,Dt,t_).call(this,!0);break;case 1:case 3:I(this,Dt,t_).call(this,!1);break}}select(){var e;super.select(),l(this,Kn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,Kn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),l(this,Kn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,Kn),{rootClass:{selected:!1}}),l(this,Nn)||I(this,Dt,t_).call(this,!1))}get _mustFixPosition(){return!l(this,Nn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(l(this,rs),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(l(this,Kn),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:r,y:o}){const{x:c,y:u,width:d,height:f}=s.getBoundingClientRect(),p=new AbortController,m=e.combinedSignal(p),v=x=>{p.abort(),I(this,Ws,$I).call(this,e,x)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",Re,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",_s,{signal:m}),s.addEventListener("pointermove",I(this,Ws,UI).bind(this,e),{signal:m}),this._freeHighlight=new NS({x:r,y:o},[c,u,d,f],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var _,P,w,E;let r=null;if(e instanceof yI){const{data:{quadPoints:A,rect:y,rotation:S,id:T,color:N,opacity:F,popupRef:B,richText:j,contentsObj:H,creationDate:W,modificationDate:K},parent:{page:{pageNumber:$}}}=e;r=e={annotationType:Ct.HIGHLIGHT,color:Array.from(N),opacity:F,quadPoints:A,boxes:null,pageIndex:$-1,rect:y.slice(0),rotation:S,annotationElementId:T,id:T,deleted:!1,popupRef:B,richText:j,comment:(H==null?void 0:H.str)||null,creationDate:W,modificationDate:K}}else if(e instanceof HE){const{data:{inkLists:A,rect:y,rotation:S,id:T,color:N,borderStyle:{rawWidth:F},popupRef:B,richText:j,contentsObj:H,creationDate:W,modificationDate:K},parent:{page:{pageNumber:$}}}=e;r=e={annotationType:Ct.HIGHLIGHT,color:Array.from(N),thickness:F,inkLists:A,boxes:null,pageIndex:$-1,rect:y.slice(0),rotation:S,annotationElementId:T,id:T,deleted:!1,popupRef:B,richText:j,comment:(H==null?void 0:H.str)||null,creationDate:W,modificationDate:K}}const{color:o,quadPoints:c,inkLists:u,opacity:d}=e,f=await super.deserialize(e,i,s);f.color=gt.makeHexColor(...o),f.opacity=d||1,u&&C(f,js,e.thickness),f._initialData=r,e.comment&&f.setCommentData(e);const[p,m]=f.pageDimensions,[v,x]=f.pageTranslation;if(c){const A=C(f,_a,[]);for(let y=0;y<c.length;y+=8)A.push({x:(c[y]-v)/p,y:1-(c[y+1]-x)/m,width:(c[y+2]-c[y])/p,height:(c[y+1]-c[y+5])/m});I(_=f,Dt,IS).call(_),I(P=f,Dt,zc).call(P),f.rotate(f.rotation)}else if(u){C(f,Nn,!0);const A=u[0],y={x:A[0]-v,y:m-(A[1]-x)},S=new NS(y,[0,0,p,m],1,l(f,js)/2,!0,.001);for(let F=0,B=A.length;F<B;F+=2)y.x=A[F]-v,y.y=m-(A[F+1]-x),S.add(y);const{id:T,clipPathId:N}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);I(w=f,Dt,J0).call(w,{highlightOutlines:S.getOutlines(),highlightId:T,clipPathId:N}),I(E=f,Dt,zc).call(E),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=ye._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:i,opacity:this.opacity,thickness:l(this,js),quadPoints:I(this,Dt,zI).call(this),outlines:I(this,Dt,HI).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!I(this,Dt,WI).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Wf=new WeakMap,qv=new WeakMap,_a=new WeakMap,Xu=new WeakMap,Zv=new WeakMap,Ri=new WeakMap,Xv=new WeakMap,Yv=new WeakMap,Yu=new WeakMap,ss=new WeakMap,rs=new WeakMap,Nn=new WeakMap,Vf=new WeakMap,Gf=new WeakMap,Kn=new WeakMap,qf=new WeakMap,js=new WeakMap,Kv=new WeakMap,Dt=new WeakSet,IS=function(){const e=new LS(l(this,_a),.001);C(this,ss,e.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,ss).box;const i=new LS(l(this,_a),.0025,.001,this._uiManager.direction==="ltr");C(this,Ri,i.getOutlines());const{firstPoint:s}=l(this,ss);C(this,Vf,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:r}=l(this,Ri);C(this,Gf,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},J0=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var m,v;if(C(this,ss,e),C(this,Ri,e.getNewOutline(l(this,js)/2+1.5,.0025)),i>=0)C(this,rs,i),C(this,Xu,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),C(this,Kn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,Ri).box,path:{d:l(this,Ri).toSVGPath()}},!0));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,rs),{bbox:I(m=Jt,Ws,qh).call(m,l(this,ss).box,(x-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Kn),{bbox:I(v=Jt,Ws,qh).call(v,l(this,Ri).box,x),path:{d:l(this,Ri).toSVGPath()}})}const[o,c,u,d]=e.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=u,this.height=d;break;case 90:{const[x,_]=this.parentDimensions;this.x=c,this.y=1-o,this.width=u*_/x,this.height=d*x/_;break}case 180:this.x=1-o,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[x,_]=this.parentDimensions;this.x=1-c,this.y=o,this.width=u*_/x,this.height=d*x/_;break}}const{firstPoint:f}=e;C(this,Vf,[(f[0]-o)/u,(f[1]-c)/d]);const{lastPoint:p}=l(this,Ri);C(this,Gf,[(p[0]-o)/u,(p[1]-c)/d])},OI=function(e){const i=(o,c)=>{this.color=o,this.opacity=c,this.onUpdatedColor()},s=this.color,r=this.opacity;this.addCommands({cmd:i.bind(this,e,Jt._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},FI=function(e){const i=l(this,js),s=r=>{C(this,js,r),I(this,Dt,BI).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},BI=function(e){l(this,Nn)&&(I(this,Dt,J0).call(this,{highlightOutlines:l(this,ss).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},DS=function(){l(this,rs)===null||!this.parent||(this.parent.drawLayer.remove(l(this,rs)),C(this,rs,null),this.parent.drawLayer.remove(l(this,Kn)),C(this,Kn,null))},zc=function(e=this.parent){l(this,rs)===null&&({id:Fe(this,rs)._,clipPathId:Fe(this,Xu)._}=e.drawLayer.draw({bbox:l(this,ss).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,Nn)},path:{d:l(this,ss).toSVGPath()}},!1,!0),C(this,Kn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,Nn)},bbox:l(this,Ri).box,path:{d:l(this,Ri).toSVGPath()}},l(this,Nn))),l(this,Yu)&&(l(this,Yu).style.clipPath=l(this,Xu)))},Ws=new WeakSet,qh=function([e,i,s,r],o){switch(o){case 90:return[1-i-r,e,r,s];case 180:return[1-e-s,1-i-r,s,r];case 270:return[i,1-e-s,r,s]}return[e,i,s,r]},jI=function(e){Jt._keyboardManager.exec(this,e)},t_=function(e){if(!l(this,Wf))return;const i=window.getSelection();e?i.setPosition(l(this,Wf),l(this,qv)):i.setPosition(l(this,Xv),l(this,Yv))},e_=function(){return l(this,Nn)?this.rotation:0},zI=function(){if(l(this,Nn))return null;const[e,i]=this.pageDimensions,[s,r]=this.pageTranslation,o=l(this,_a),c=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of o){const v=d*e+s,x=(1-f)*i+r;c[u]=c[u+4]=v,c[u+1]=c[u+3]=x,c[u+2]=c[u+6]=v+p*e,c[u+5]=c[u+7]=x-m*i,u+=8}return c},HI=function(e){return l(this,ss).serialize(e,I(this,Dt,e_).call(this))},UI=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},$I=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},WI=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((s,r)=>s!==i[r])},R(Jt,Ws),nt(Jt,"_defaultColor",null),nt(Jt,"_defaultOpacity",1),nt(Jt,"_defaultThickness",12),nt(Jt,"_type","highlight"),nt(Jt,"_editorType",Ct.HIGHLIGHT),nt(Jt,"_freeHighlightId",-1),nt(Jt,"_freeHighlight",null),nt(Jt,"_freeHighlightClipId","");let K_=Jt;var Ku;class VI{constructor(){R(this,Ku,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){l(this,Ku)[t]=e}toSVGProperties(){const t=l(this,Ku);return C(this,Ku,Object.create(null)),{root:t}}reset(){C(this,Ku,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){pe("Not implemented")}}Ku=new WeakMap;var os,Zf,yn,Qu,Ju,Ul,$l,Wl,th,Xt,OS,FS,BS,Sg,GI,n_,Ag,Zh;const yt=class yt extends ye{constructor(e){super(e);R(this,Xt);R(this,os,null);R(this,Zf);nt(this,"_colorPicker",null);nt(this,"_drawId",null);C(this,Zf,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(I(this,Xt,OS).call(this,e),I(this,Xt,Sg).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[r,o]of Object.entries(i))s.has(r)?Object.assign(e[r],o):e[r]=o;return e}static getDefaultDrawingOptions(e){pe("Not implemented")}static get typesMap(){pe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(l(yt,yn).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)e.push([s,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)e.push([s,i[r]]);return e}_updateProperty(e,i,s){const r=this._drawingOptions,o=r[i],c=u=>{var f;r.updateProperty(i,u);const d=l(this,os).updateProperty(i,u);d&&I(this,Xt,Ag).call(this,d),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(l(this,os).getPathResizingSVGProperties(I(this,Xt,n_).call(this)),{bbox:I(this,Xt,Zh).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(l(this,os).getPathResizedSVGProperties(I(this,Xt,n_).call(this)),{bbox:I(this,Xt,Zh).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:I(this,Xt,Zh).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(l(this,os).getPathTranslatedSVGProperties(I(this,Xt,n_).call(this),this.parentDimensions),{bbox:I(this,Xt,Zh).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,Zf)&&(C(this,Zf,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){I(this,Xt,BS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(I(this,Xt,Sg).call(this),I(this,Xt,Ag).call(this,l(this,os).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),I(this,Xt,BS).call(this)):e&&(this._uiManager.addShouldRescale(this),I(this,Xt,Sg).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties({bbox:I(this,Xt,Zh).call(this)},l(this,os).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&I(this,Xt,Ag).call(this,l(this,os).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");return s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,r,o){pe("Not implemented")}static startDrawing(e,i,s,r){var P;const{target:o,offsetX:c,offsetY:u,pointerId:d,pointerType:f}=r;if(l(yt,$l)&&l(yt,$l)!==f)return;const{viewport:{rotation:p}}=e,{width:m,height:v}=o.getBoundingClientRect(),x=C(yt,Qu,new AbortController),_=e.combinedSignal(x);if(l(yt,Ul)||C(yt,Ul,d),l(yt,$l)??C(yt,$l,f),window.addEventListener("pointerup",w=>{var E;l(yt,Ul)===w.pointerId?this._endDraw(w):(E=l(yt,Wl))==null||E.delete(w.pointerId)},{signal:_}),window.addEventListener("pointercancel",w=>{var E;l(yt,Ul)===w.pointerId?this._currentParent.endDrawingSession():(E=l(yt,Wl))==null||E.delete(w.pointerId)},{signal:_}),window.addEventListener("pointerdown",w=>{l(yt,$l)===w.pointerType&&((l(yt,Wl)||C(yt,Wl,new Set)).add(w.pointerId),l(yt,yn).isCancellable()&&(l(yt,yn).removeLastElement(),l(yt,yn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:_}),window.addEventListener("contextmenu",_s,{signal:_}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:_}),o.addEventListener("touchmove",w=>{w.timeStamp===l(yt,th)&&Re(w)},{signal:_}),e.toggleDrawing(),(P=i._editorUndoBar)==null||P.hide(),l(yt,yn)){e.drawLayer.updateProperties(this._currentDrawId,l(yt,yn).startNew(c,u,m,v,p));return}i.updateUIForDefaultProperties(this),C(yt,yn,this.createDrawerInstance(c,u,m,v,p)),C(yt,Ju,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(l(yt,Ju).toSVGProperties(),l(yt,yn).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(C(yt,th,-1),!l(yt,yn))return;const{offsetX:i,offsetY:s,pointerId:r}=e;if(l(yt,Ul)===r){if(((o=l(yt,Wl))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(yt,yn).add(i,s)),C(yt,th,e.timeStamp),Re(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,C(yt,yn,null),C(yt,Ju,null),C(yt,$l,null),C(yt,th,NaN)),l(yt,Qu)&&(l(yt,Qu).abort(),C(yt,Qu,null),C(yt,Ul,NaN),C(yt,Wl,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,l(yt,yn).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=l(yt,yn),r=this._currentDrawId,o=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:$t.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack($t.DRAW_STEP),!l(yt,yn).isEmpty()){const{pageDimensions:[s,r],scale:o}=i,c=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(yt,yn).getOutlines(s*o,r*o,o,this._INNER_MARGIN),drawingOptions:l(yt,Ju),mustBeCommitted:!e});return this._cleanup(!0),c}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,r,o,c){pe("Not implemented")}static async deserialize(e,i,s){var p,m;const{rawDims:{pageWidth:r,pageHeight:o,pageX:c,pageY:u}}=i.viewport,d=this.deserializeDraw(c,u,r,o,this._INNER_MARGIN,e),f=await super.deserialize(e,i,s);return f.createDrawingOptions(e),I(p=f,Xt,OS).call(p,{drawOutlines:d}),I(m=f,Xt,Sg).call(m),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[i,s]=this.pageTranslation,[r,o]=this.pageDimensions;return l(this,os).serialize([i,s,r,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};os=new WeakMap,Zf=new WeakMap,yn=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Ul=new WeakMap,$l=new WeakMap,Wl=new WeakMap,th=new WeakMap,Xt=new WeakSet,OS=function({drawOutlines:e,drawId:i,drawingOptions:s}){C(this,os,e),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=I(this,Xt,FS).call(this,e,this.parent),I(this,Xt,Ag).call(this,e.box)},FS=function(e,i){const{id:s}=i.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},BS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Sg=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=I(this,Xt,FS).call(this,l(this,os),e)}},GI=function([e,i,s,r]){const{parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[i,1-e,s*(c/o),r*(o/c)];case 180:return[1-e,1-i,s,r];case 270:return[1-i,e,s*(c/o),r*(o/c)];default:return[e,i,s,r]}},n_=function(){const{x:e,y:i,width:s,height:r,parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[1-i,e,s*(o/c),r*(c/o)];case 180:return[1-e,1-i,s,r];case 270:return[i,1-e,s*(o/c),r*(c/o)];default:return[e,i,s,r]}},Ag=function(e){[this.x,this.y,this.width,this.height]=I(this,Xt,GI).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Zh=function(){const{x:e,y:i,width:s,height:r,rotation:o,parentRotation:c,parentDimensions:[u,d]}=this;switch((o*4+c)/90){case 1:return[1-i-r,e,r,s];case 2:return[1-e-s,1-i-r,s,r];case 3:return[i,1-e-s,r,s];case 4:return[e,i-s*(u/d),r*(d/u),s*(u/d)];case 5:return[1-i,e,s*(u/d),r*(d/u)];case 6:return[1-e-r*(d/u),1-i,r*(d/u),s*(u/d)];case 7:return[i-s*(u/d),1-e-r*(d/u),s*(u/d),r*(d/u)];case 8:return[e-s,i-r,s,r];case 9:return[1-i,e-s,r,s];case 10:return[1-e,1-i,s,r];case 11:return[i-r,1-e,r,s];case 12:return[e-r*(d/u),i,r*(d/u),s*(u/d)];case 13:return[1-i-s*(u/d),e-r*(d/u),s*(u/d),r*(d/u)];case 14:return[1-e,1-i-s*(u/d),r*(d/u),s*(u/d)];case 15:return[i,1-e,s*(u/d),r*(d/u)];default:return[e,i,s,r]}},nt(yt,"_currentDrawId",-1),nt(yt,"_currentParent",null),R(yt,yn,null),R(yt,Qu,null),R(yt,Ju,null),R(yt,Ul,NaN),R(yt,$l,null),R(yt,Wl,null),R(yt,th,NaN),nt(yt,"_INNER_MARGIN",3);let Q_=yt;var ho,_n,wn,eh,Xf,ci,In,zs,nh,ih,sh,Yf,i_;class JU{constructor(t,e,i,s,r,o){R(this,Yf);R(this,ho,new Float64Array(6));R(this,_n);R(this,wn);R(this,eh);R(this,Xf);R(this,ci);R(this,In,"");R(this,zs,0);R(this,nh,new yy);R(this,ih);R(this,sh);C(this,ih,i),C(this,sh,s),C(this,eh,r),C(this,Xf,o),[t,e]=I(this,Yf,i_).call(this,t,e);const c=C(this,_n,[NaN,NaN,NaN,NaN,t,e]);C(this,ci,[t,e]),C(this,wn,[{line:c,points:l(this,ci)}]),l(this,ho).set(c,0)}updateProperty(t,e){t==="stroke-width"&&C(this,Xf,e)}isEmpty(){return!l(this,wn)||l(this,wn).length===0}isCancellable(){return l(this,ci).length<=10}add(t,e){[t,e]=I(this,Yf,i_).call(this,t,e);const[i,s,r,o]=l(this,ho).subarray(2,6),c=t-r,u=e-o;return Math.hypot(l(this,ih)*c,l(this,sh)*u)<=2?null:(l(this,ci).push(t,e),isNaN(i)?(l(this,ho).set([r,o,t,e],2),l(this,_n).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(l(this,ho)[0])&&l(this,_n).splice(6,6),l(this,ho).set([i,s,r,o,t,e],0),l(this,_n).push(...pt.createBezierPoints(i,s,r,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(l(this,ci).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,r){C(this,ih,i),C(this,sh,s),C(this,eh,r),[t,e]=I(this,Yf,i_).call(this,t,e);const o=C(this,_n,[NaN,NaN,NaN,NaN,t,e]);C(this,ci,[t,e]);const c=l(this,wn).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),l(this,wn).push({line:o,points:l(this,ci)}),l(this,ho).set(o,0),C(this,zs,0),this.toSVGPath(),null}getLastElement(){return l(this,wn).at(-1)}setLastElement(t){return l(this,wn)?(l(this,wn).push(t),C(this,_n,t.line),C(this,ci,t.points),C(this,zs,0),{path:{d:this.toSVGPath()}}):l(this,nh).setLastElement(t)}removeLastElement(){if(!l(this,wn))return l(this,nh).removeLastElement();l(this,wn).pop(),C(this,In,"");for(let t=0,e=l(this,wn).length;t<e;t++){const{line:i,points:s}=l(this,wn)[t];C(this,_n,i),C(this,ci,s),C(this,zs,0),this.toSVGPath()}return{path:{d:l(this,In)}}}toSVGPath(){const t=pt.svgRound(l(this,_n)[4]),e=pt.svgRound(l(this,_n)[5]);if(l(this,ci).length===2)return C(this,In,`${l(this,In)} M ${t} ${e} Z`),l(this,In);if(l(this,ci).length<=6){const s=l(this,In).lastIndexOf("M");C(this,In,`${l(this,In).slice(0,s)} M ${t} ${e}`),C(this,zs,6)}if(l(this,ci).length===4){const s=pt.svgRound(l(this,_n)[10]),r=pt.svgRound(l(this,_n)[11]);return C(this,In,`${l(this,In)} L ${s} ${r}`),C(this,zs,12),l(this,In)}const i=[];l(this,zs)===0&&(i.push(`M ${t} ${e}`),C(this,zs,6));for(let s=l(this,zs),r=l(this,_n).length;s<r;s+=6){const[o,c,u,d,f,p]=l(this,_n).slice(s,s+6).map(pt.svgRound);i.push(`C${o} ${c} ${u} ${d} ${f} ${p}`)}return C(this,In,l(this,In)+i.join(" ")),C(this,zs,l(this,_n).length),l(this,In)}getOutlines(t,e,i,s){const r=l(this,wn).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),l(this,nh).build(l(this,wn),t,e,i,l(this,eh),l(this,Xf),s),C(this,ho,null),C(this,_n,null),C(this,wn,null),C(this,In,null),l(this,nh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ho=new WeakMap,_n=new WeakMap,wn=new WeakMap,eh=new WeakMap,Xf=new WeakMap,ci=new WeakMap,In=new WeakMap,zs=new WeakMap,nh=new WeakMap,ih=new WeakMap,sh=new WeakMap,Yf=new WeakSet,i_=function(t,e){return pt._normalizePoint(t,e,l(this,ih),l(this,sh),l(this,eh))};var ui,Qv,Jv,as,fo,po,Kf,Qf,rh,Fn,Bo,qI,ZI,XI;class yy extends pt{constructor(){super(...arguments);R(this,Fn);R(this,ui);R(this,Qv,0);R(this,Jv);R(this,as);R(this,fo);R(this,po);R(this,Kf);R(this,Qf);R(this,rh)}build(e,i,s,r,o,c,u){C(this,fo,i),C(this,po,s),C(this,Kf,r),C(this,Qf,o),C(this,rh,c),C(this,Jv,u??0),C(this,as,e),I(this,Fn,ZI).call(this)}get thickness(){return l(this,rh)}setLastElement(e){return l(this,as).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,as).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of l(this,as)){if(e.push(`M${pt.svgRound(i[4])} ${pt.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${pt.svgRound(i[10])} ${pt.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[o,c,u,d,f,p]=i.subarray(s,s+6).map(pt.svgRound);e.push(`C${o} ${c} ${u} ${d} ${f} ${p}`)}}return e.join("")}serialize([e,i,s,r],o){const c=[],u=[],[d,f,p,m]=I(this,Fn,qI).call(this);let v,x,_,P,w,E,A,y,S;switch(l(this,Qf)){case 0:S=pt._rescale,v=e,x=i+r,_=s,P=-r,w=e+d*s,E=i+(1-f-m)*r,A=e+(d+p)*s,y=i+(1-f)*r;break;case 90:S=pt._rescaleAndSwap,v=e,x=i,_=s,P=r,w=e+f*s,E=i+d*r,A=e+(f+m)*s,y=i+(d+p)*r;break;case 180:S=pt._rescale,v=e+s,x=i,_=-s,P=r,w=e+(1-d-p)*s,E=i+f*r,A=e+(1-d)*s,y=i+(f+m)*r;break;case 270:S=pt._rescaleAndSwap,v=e+s,x=i+r,_=-s,P=-r,w=e+(1-f-m)*s,E=i+(1-d-p)*r,A=e+(1-f)*s,y=i+(1-d)*r;break}for(const{line:T,points:N}of l(this,as))c.push(S(T,v,x,_,P,o?new Array(T.length):null)),u.push(S(N,v,x,_,P,o?new Array(N.length):null));return{lines:c,points:u,rect:[w,E,A,y]}}static deserialize(e,i,s,r,o,{paths:{lines:c,points:u},rotation:d,thickness:f}){const p=[];let m,v,x,_,P;switch(d){case 0:P=pt._rescale,m=-e/s,v=i/r+1,x=1/s,_=-1/r;break;case 90:P=pt._rescaleAndSwap,m=-i/r,v=-e/s,x=1/r,_=1/s;break;case 180:P=pt._rescale,m=e/s+1,v=-i/r,x=-1/s,_=1/r;break;case 270:P=pt._rescaleAndSwap,m=i/r+1,v=e/s+1,x=-1/r,_=-1/s;break}if(!c){c=[];for(const E of u){const A=E.length;if(A===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(A===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const y=new Float32Array(3*(A-2));c.push(y);let[S,T,N,F]=E.subarray(0,4);y.set([NaN,NaN,NaN,NaN,S,T],0);for(let B=4;B<A;B+=2){const j=E[B],H=E[B+1];y.set(pt.createBezierPoints(S,T,N,F,j,H),(B-2)*3),[S,T,N,F]=[N,F,j,H]}}}for(let E=0,A=c.length;E<A;E++)p.push({line:P(c[E].map(y=>y??NaN),m,v,x,_),points:P(u[E].map(y=>y??NaN),m,v,x,_)});const w=new this.prototype.constructor;return w.build(p,s,r,1,d,f,o),w}get box(){return l(this,ui)}updateProperty(e,i){return e==="stroke-width"?I(this,Fn,XI).call(this,i):null}updateParentDimensions([e,i],s){const[r,o]=I(this,Fn,Bo).call(this);C(this,fo,e),C(this,po,i),C(this,Kf,s);const[c,u]=I(this,Fn,Bo).call(this),d=c-r,f=u-o,p=l(this,ui);return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(e){return C(this,Qv,e),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,ui).map(pt.svgRound).join(" ")}get defaultProperties(){const[e,i]=l(this,ui);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${pt.svgRound(e)} ${pt.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=l(this,ui);let s=0,r=0,o=0,c=0,u=0,d=0;switch(l(this,Qv)){case 90:r=i/e,o=-e/i,u=e;break;case 180:s=-1,c=-1,u=e,d=i;break;case 270:r=-i/e,o=e/i,d=i;break;default:return""}return`matrix(${s} ${r} ${o} ${c} ${pt.svgRound(u)} ${pt.svgRound(d)})`}getPathResizingSVGProperties([e,i,s,r]){const[o,c]=I(this,Fn,Bo).call(this),[u,d,f,p]=l(this,ui);if(Math.abs(f-o)<=pt.PRECISION||Math.abs(p-c)<=pt.PRECISION){const P=e+s/2-(u+f/2),w=i+r/2-(d+p/2);return{path:{"transform-origin":`${pt.svgRound(e)} ${pt.svgRound(i)}`,transform:`${this.rotationTransform} translate(${P} ${w})`}}}const m=(s-2*o)/(f-2*o),v=(r-2*c)/(p-2*c),x=f/s,_=p/r;return{path:{"transform-origin":`${pt.svgRound(u)} ${pt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${x} ${_}) translate(${pt.svgRound(o)} ${pt.svgRound(c)}) scale(${m} ${v}) translate(${pt.svgRound(-o)} ${pt.svgRound(-c)})`}}}getPathResizedSVGProperties([e,i,s,r]){const[o,c]=I(this,Fn,Bo).call(this),u=l(this,ui),[d,f,p,m]=u;if(u[0]=e,u[1]=i,u[2]=s,u[3]=r,Math.abs(p-o)<=pt.PRECISION||Math.abs(m-c)<=pt.PRECISION){const w=e+s/2-(d+p/2),E=i+r/2-(f+m/2);for(const{line:A,points:y}of l(this,as))pt._translate(A,w,E,A),pt._translate(y,w,E,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${pt.svgRound(e)} ${pt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(s-2*o)/(p-2*o),x=(r-2*c)/(m-2*c),_=-v*(d+o)+e+o,P=-x*(f+c)+i+c;if(v!==1||x!==1||_!==0||P!==0)for(const{line:w,points:E}of l(this,as))pt._rescale(w,_,P,v,x,w),pt._rescale(E,_,P,v,x,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${pt.svgRound(e)} ${pt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[r,o]=s,c=l(this,ui),u=e-c[0],d=i-c[1];if(l(this,fo)===r&&l(this,po)===o)for(const{line:f,points:p}of l(this,as))pt._translate(f,u,d,f),pt._translate(p,u,d,p);else{const f=l(this,fo)/r,p=l(this,po)/o;C(this,fo,r),C(this,po,o);for(const{line:m,points:v}of l(this,as))pt._rescale(m,u,d,f,p,m),pt._rescale(v,u,d,f,p,v);c[2]*=f,c[3]*=p}return c[0]=e,c[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${pt.svgRound(e)} ${pt.svgRound(i)}`}}}get defaultSVGProperties(){const e=l(this,ui);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${pt.svgRound(e[0])} ${pt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}ui=new WeakMap,Qv=new WeakMap,Jv=new WeakMap,as=new WeakMap,fo=new WeakMap,po=new WeakMap,Kf=new WeakMap,Qf=new WeakMap,rh=new WeakMap,Fn=new WeakSet,Bo=function(e=l(this,rh)){const i=l(this,Jv)+e/2*l(this,Kf);return l(this,Qf)%180===0?[i/l(this,fo),i/l(this,po)]:[i/l(this,po),i/l(this,fo)]},qI=function(){const[e,i,s,r]=l(this,ui),[o,c]=I(this,Fn,Bo).call(this,0);return[e+o,i+c,s-2*o,r-2*c]},ZI=function(){const e=C(this,ui,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of l(this,as)){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)gt.pointBoundingBox(r[u],r[u+1],e);continue}let o=r[4],c=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,m,v,x,_]=r.subarray(u,u+6);gt.bezierBoundingBox(o,c,f,p,m,v,x,_,e),o=x,c=_}}const[i,s]=I(this,Fn,Bo).call(this);e[0]=Qn(e[0]-i,0,1),e[1]=Qn(e[1]-s,0,1),e[2]=Qn(e[2]+i,0,1),e[3]=Qn(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},XI=function(e){const[i,s]=I(this,Fn,Bo).call(this);C(this,rh,e);const[r,o]=I(this,Fn,Bo).call(this),[c,u]=[r-i,o-s],d=l(this,ui);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d};class Jw extends VI{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ye._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Jw(this._viewParameters);return t.updateAll(this),t}}var yw,YI;const dd=class dd extends Q_{constructor(e){super({...e,name:"inkEditor"});R(this,yw);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){ye.initialize(e,i),this._defaultDrawingOptions=new Jw(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return It(this,"typesMap",new Map([[$t.INK_THICKNESS,"stroke-width"],[$t.INK_COLOR,"stroke"],[$t.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,r,o){return new JU(e,i,s,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,r,o,c){return yy.deserialize(e,i,s,r,o,c)}static async deserialize(e,i,s){let r=null;if(e instanceof HE){const{data:{inkLists:c,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:v},popupRef:x,richText:_,contentsObj:P,creationDate:w,modificationDate:E},parent:{page:{pageNumber:A}}}=e;r=e={annotationType:Ct.INK,color:Array.from(p),thickness:v,opacity:m,paths:{points:c},boxes:null,pageIndex:A-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:x,richText:_,comment:(P==null?void 0:P.str)||null,creationDate:w,modificationDate:E}}const o=await super.deserialize(e,i,s);return o._initialData=r,e.comment&&o.setCommentData(e),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new X_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return $t.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=dd.getDefaultDrawingOptions({stroke:gt.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":c}}=this,u=Object.assign(super.serialize(e),{color:ye._colorManager.convert(r),opacity:o,thickness:c,paths:{lines:i,points:s}});return this.addComment(u),e?(u.isCopy=!0,u):this.annotationElementId&&!I(this,yw,YI).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};yw=new WeakSet,YI=function(e){const{color:i,thickness:s,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((c,u)=>c!==i[u])||e.thickness!==s||e.opacity!==r||e.pageIndex!==o},nt(dd,"_type","ink"),nt(dd,"_editorType",Ct.INK),nt(dd,"_defaultDrawingOptions",null);let jS=dd;class zS extends yy{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const m0=8,tg=3;var oh,te,HS,mr,KI,QI,US,s_,JI,tD,eD,$S,WS,nD;class _o{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},r,o,c,u){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const p=200,m=f.font=`${i} ${s} ${p}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:x,actualBoundingBoxAscent:_,actualBoundingBoxDescent:P,fontBoundingBoxAscent:w,fontBoundingBoxDescent:E,width:A}=f.measureText(t),y=1.5,S=Math.ceil(Math.max(Math.abs(v)+Math.abs(x)||0,A)*y),T=Math.ceil(Math.max(Math.abs(_)+Math.abs(P)||p,Math.abs(w)+Math.abs(E)||p)*y);d=new OffscreenCanvas(S,T),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,S,T),f.fillStyle="black",f.fillText(t,S*(y-1)/2,T*(3-y)/2);const N=I(this,te,$S).call(this,f.getImageData(0,0,S,T).data),F=I(this,te,eD).call(this,N),B=I(this,te,WS).call(this,F),j=I(this,te,US).call(this,N,S,T,B);return this.processDrawnLines({lines:{curves:j,width:S,height:T},pageWidth:r,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,r){const[o,c,u]=I(this,te,nD).call(this,t),[d,f]=I(this,te,tD).call(this,o,c,u,Math.hypot(c,u)*l(this,oh).sigmaSFactor,l(this,oh).sigmaR,l(this,oh).kernelSize),p=I(this,te,WS).call(this,f),m=I(this,te,US).call(this,d,c,u,p);return this.processDrawnLines({lines:{curves:m,width:c,height:u},pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:o,areContours:c}){s%180!==0&&([e,i]=[i,e]);const{curves:u,width:d,height:f}=t,p=t.thickness??0,m=[],v=Math.min(e/d,i/f),x=v/e,_=v/i,P=[];for(const{points:E}of u){const A=o?I(this,te,JI).call(this,E):E;if(!A)continue;P.push(A);const y=A.length,S=new Float32Array(y),T=new Float32Array(3*(y===2?2:y-2));if(m.push({line:T,points:S}),y===2){S[0]=A[0]*x,S[1]=A[1]*_,T.set([NaN,NaN,NaN,NaN,S[0],S[1]],0);continue}let[N,F,B,j]=A;N*=x,F*=_,B*=x,j*=_,S.set([N,F,B,j],0),T.set([NaN,NaN,NaN,NaN,N,F],0);for(let H=4;H<y;H+=2){const W=S[H]=A[H]*x,K=S[H+1]=A[H+1]*_;T.set(pt.createBezierPoints(N,F,B,j,W,K),(H-2)*3),[N,F,B,j]=[B,j,W,K]}}if(m.length===0)return null;const w=c?new zS:new yy;return w.build(m,e,i,1,s,c?0:p,r),{outline:w,newCurves:P,areContours:c,thickness:p,width:d,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:r}){let o=1/0,c=-1/0,u=0;for(const A of t){u+=A.length;for(let y=2,S=A.length;y<S;y++){const T=A[y]-A[y-2];o=Math.min(o,T),c=Math.max(c,T)}}let d;o>=-128&&c<=127?d=Int8Array:o>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const f=t.length,p=m0+tg*f,m=new Uint32Array(p);let v=0;m[v++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*d.BYTES_PER_ELEMENT,m[v++]=0,m[v++]=s,m[v++]=r,m[v++]=e?0:1,m[v++]=Math.max(0,Math.floor(i??0)),m[v++]=f,m[v++]=d.BYTES_PER_ELEMENT;for(const A of t)m[v++]=A.length-2,m[v++]=A[0],m[v++]=A[1];const x=new CompressionStream("deflate-raw"),_=x.writable.getWriter();await _.ready,_.write(m);const P=d.prototype.constructor;for(const A of t){const y=new P(A.length-2);for(let S=2,T=A.length;S<T;S++)y[S-2]=A[S]-A[S-2];_.write(y)}_.close();const w=await new Response(x.readable).arrayBuffer(),E=new Uint8Array(w);return QR(E)}static async decompressSignature(t){try{const e=A6(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,c=0;for await(const A of i)o||(o=new Uint8Array(new Uint32Array(A.buffer,0,4)[0])),o.set(A,c),c+=A.length;const u=new Uint32Array(o.buffer,0,o.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=u[2],p=u[3],m=u[4]===0,v=u[5],x=u[6],_=u[7],P=[],w=(m0+tg*x)*Uint32Array.BYTES_PER_ELEMENT;let E;switch(_){case Int8Array.BYTES_PER_ELEMENT:E=new Int8Array(o.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:E=new Int16Array(o.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:E=new Int32Array(o.buffer,w);break}c=0;for(let A=0;A<x;A++){const y=u[tg*A+m0],S=new Float32Array(y+2);P.push(S);for(let T=0;T<tg-1;T++)S[T]=u[tg*A+m0+T+1];for(let T=0;T<y;T++)S[T+2]=S[T]+E[c++]}return{areContours:m,thickness:v,outlines:P,width:f,height:p}}catch(e){return Tt(`decompressSignature: ${e}`),null}}}oh=new WeakMap,te=new WeakSet,HS=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},mr=new WeakMap,KI=function(t,e,i,s,r,o,c){const u=I(this,te,HS).call(this,i,s,r,o);for(let d=0;d<8;d++){const f=(-d+u-c+16)%8,p=l(this,mr)[2*f],m=l(this,mr)[2*f+1];if(t[(i+p)*e+(s+m)]!==0)return f}return-1},QI=function(t,e,i,s,r,o,c){const u=I(this,te,HS).call(this,i,s,r,o);for(let d=0;d<8;d++){const f=(d+u+c+16)%8,p=l(this,mr)[2*f],m=l(this,mr)[2*f+1];if(t[(i+p)*e+(s+m)]!==0)return f}return-1},US=function(t,e,i,s){const r=t.length,o=new Int32Array(r);for(let f=0;f<r;f++)o[f]=t[f]<=s?1:0;for(let f=1;f<i-1;f++)o[f*e]=o[f*e+e-1]=0;for(let f=0;f<e;f++)o[f]=o[e*i-1-f]=0;let c=1,u;const d=[];for(let f=1;f<i-1;f++){u=1;for(let p=1;p<e-1;p++){const m=f*e+p,v=o[m];if(v===0)continue;let x=f,_=p;if(v===1&&o[m-1]===0)c+=1,_-=1;else if(v>=1&&o[m+1]===0)c+=1,_+=1,v>1&&(u=v);else{v!==1&&(u=Math.abs(v));continue}const P=[p,f],w=_===p+1,E={isHole:w,points:P,id:c,parent:0};d.push(E);let A;for(const H of d)if(H.id===u){A=H;break}A?A.isHole?E.parent=w?A.parent:u:E.parent=w?u:A.parent:E.parent=w?u:0;const y=I(this,te,KI).call(this,o,e,f,p,x,_,0);if(y===-1){o[m]=-c,o[m]!==1&&(u=Math.abs(o[m]));continue}let S=l(this,mr)[2*y],T=l(this,mr)[2*y+1];const N=f+S,F=p+T;x=N,_=F;let B=f,j=p;for(;;){const H=I(this,te,QI).call(this,o,e,B,j,x,_,1);S=l(this,mr)[2*H],T=l(this,mr)[2*H+1];const W=B+S,K=j+T;P.push(K,W);const $=B*e+j;if(o[$+1]===0?o[$]=-c:o[$]===1&&(o[$]=c),W===f&&K===p&&B===N&&j===F){o[m]!==1&&(u=Math.abs(o[m]));break}else x=B,_=j,B=W,j=K}}}return d},s_=function(t,e,i,s){if(i-e<=4){for(let N=e;N<i-2;N+=2)s.push(t[N],t[N+1]);return}const r=t[e],o=t[e+1],c=t[i-4]-r,u=t[i-3]-o,d=Math.hypot(c,u),f=c/d,p=u/d,m=f*o-p*r,v=u/c,x=1/d,_=Math.atan(v),P=Math.cos(_),w=Math.sin(_),E=x*(Math.abs(P)+Math.abs(w)),A=x*(1-E+E**2),y=Math.max(Math.atan(Math.abs(w+P)*A),Math.atan(Math.abs(w-P)*A));let S=0,T=e;for(let N=e+2;N<i-2;N+=2){const F=Math.abs(m-f*t[N+1]+p*t[N]);F>S&&(T=N,S=F)}S>(d*y)**2?(I(this,te,s_).call(this,t,e,T+2,s),I(this,te,s_).call(this,t,T,i,s)):s.push(r,o)},JI=function(t){const e=[],i=t.length;return I(this,te,s_).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},tD=function(t,e,i,s,r,o){const c=new Float32Array(o**2),u=-2*s**2,d=o>>1;for(let _=0;_<o;_++){const P=(_-d)**2;for(let w=0;w<o;w++)c[_*o+w]=Math.exp((P+(w-d)**2)/u)}const f=new Float32Array(256),p=-2*r**2;for(let _=0;_<256;_++)f[_]=Math.exp(_**2/p);const m=t.length,v=new Uint8Array(m),x=new Uint32Array(256);for(let _=0;_<i;_++)for(let P=0;P<e;P++){const w=_*e+P,E=t[w];let A=0,y=0;for(let T=0;T<o;T++){const N=_+T-d;if(!(N<0||N>=i))for(let F=0;F<o;F++){const B=P+F-d;if(B<0||B>=e)continue;const j=t[N*e+B],H=c[T*o+F]*f[Math.abs(j-E)];A+=j*H,y+=H}}const S=v[w]=Math.round(A/y);x[S]++}return[v,x]},eD=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},$S=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,r=1/0;for(let c=0,u=i.length;c<u;c++){const d=i[c]=t[c<<2];s=Math.max(s,d),r=Math.min(r,d)}const o=255/(s-r);for(let c=0,u=i.length;c<u;c++)i[c]=(i[c]-r)*o;return i},WS=function(t){let e,i=-1/0,s=-1/0;const r=t.findIndex(u=>u!==0);let o=r,c=r;for(e=r;e<256;e++){const u=t[e];u>i&&(e-o>s&&(s=e-o,c=e-1),i=u,o=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e},nD=function(t){const e=t,{width:i,height:s}=t,{maxDim:r}=l(this,oh);let o=i,c=s;if(i>r||s>r){let m=i,v=s,x=Math.log2(Math.max(i,s)/r);const _=Math.floor(x);x=x===_?_-1:_;for(let w=0;w<x;w++){o=Math.ceil(m/2),c=Math.ceil(v/2);const E=new OffscreenCanvas(o,c);E.getContext("2d").drawImage(t,0,0,m,v,0,0,o,c),m=o,v=c,t!==e&&t.close(),t=E.transferToImageBitmap()}const P=Math.min(r/o,r/c);o=Math.round(o*P),c=Math.round(c*P)}const d=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,o,c),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,o,c);const f=d.getImageData(0,0,o,c).data;return[I(this,te,$S).call(this,f),o,c]},R(_o,te),R(_o,oh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),R(_o,mr,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class $E extends VI{constructor(){super(),super.updateProperties({fill:ye._defaultLineColor,"stroke-width":0})}clone(){const t=new $E;return t.updateAll(this),t}}class WE extends Jw{constructor(t){super(t),super.updateProperties({stroke:ye._defaultLineColor,"stroke-width":1})}clone(){const t=new WE(this._viewParameters);return t.updateAll(this),t}}var Vl,go,Gl,ah;const Vi=class Vi extends Q_{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});R(this,Vl,!1);R(this,go,null);R(this,Gl,null);R(this,ah,null);this._willKeepAspectRatio=!0,C(this,Gl,e.signatureData||null),C(this,go,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){ye.initialize(e,i),this._defaultDrawingOptions=new $E,this._defaultDrawnSignatureOptions=new WE(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return It(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,go)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(l(this,Gl)){const{lines:r,mustSmooth:o,areContours:c,description:u,uuid:d,heightInPage:f}=l(this,Gl),{rawDims:{pageWidth:p,pageHeight:m},rotation:v}=this.parent.viewport,x=_o.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:v,innerMargin:Vi._INNER_MARGIN,mustSmooth:o,areContours:c});this.addSignature(x,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,go)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){C(this,ah,e),this.addEditToolbar()}getUuid(){return l(this,ah)}get description(){return l(this,go)}set description(e){C(this,go,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:r,height:o}=l(this,Gl),c=Math.max(r,o),u=_o.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:s,width:r,height:o},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,s,r){const{x:o,y:c}=this,{outline:u}=C(this,Gl,e);C(this,Vl,u instanceof zS),this.description=s;let d;l(this,Vl)?d=Vi.getDefaultDrawingOptions():(d=Vi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=i/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return _o.process(e,i,s,r,Vi._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:o}=this.parent.viewport;return _o.extractContoursFromText(e,i,s,r,o,Vi._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return _o.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:r,innerMargin:Vi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Vi.getDefaultDrawingOptions():(this._drawingOptions=Vi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(e),{isSignature:!0,areContours:l(this,Vl),color:[0,0,0],thickness:l(this,Vl)?0:r});return this.addComment(o),e?(o.paths={lines:i,points:s},o.uuid=l(this,ah),o.isCopy=!0):o.lines=i,l(this,go)&&(o.accessibilityData={type:"Figure",alt:l(this,go)}),o}static deserializeDraw(e,i,s,r,o,c){return c.areContours?zS.deserialize(e,i,s,r,o,c):yy.deserialize(e,i,s,r,o,c)}static async deserialize(e,i,s){var o;const r=await super.deserialize(e,i,s);return C(r,Vl,e.areContours),r.description=((o=e.accessibilityData)==null?void 0:o.alt)||"",C(r,ah,e.uuid),r}};Vl=new WeakMap,go=new WeakMap,Gl=new WeakMap,ah=new WeakMap,nt(Vi,"_type","signature"),nt(Vi,"_editorType",Ct.SIGNATURE),nt(Vi,"_defaultDrawingOptions",null);let VS=Vi;var Ee,bn,ql,wa,Zl,Jf,ba,lh,mo,ls,tp,Yt,Eg,Pg,r_,o_,a_,qS,l_,iD;class GS extends ye{constructor(e){super({...e,name:"stampEditor"});R(this,Yt);R(this,Ee,null);R(this,bn,null);R(this,ql,null);R(this,wa,null);R(this,Zl,null);R(this,Jf,"");R(this,ba,null);R(this,lh,!1);R(this,mo,null);R(this,ls,!1);R(this,tp,!1);C(this,wa,e.bitmapUrl),C(this,Zl,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){ye.initialize(e,i)}static isHandlingMimeForPasting(e){return W_.includes(e)}static paste(e,i){i.pasteEditor({mode:Ct.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:c}=e||this.copyCanvas(null,null,!0).imageData,u=await s.guess({name:"altText",request:{data:r,width:o,height:c,channels:r.length/(o*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e;l(this,bn)&&(C(this,Ee,null),this._uiManager.imageManager.deleteId(l(this,bn)),(e=l(this,ba))==null||e.remove(),C(this,ba,null),l(this,mo)&&(clearTimeout(l(this,mo)),C(this,mo,null))),super.remove()}rebuild(){if(!this.parent){l(this,bn)&&I(this,Yt,r_).call(this);return}super.rebuild(),this.div!==null&&(l(this,bn)&&l(this,ba)===null&&I(this,Yt,r_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(l(this,ql)||l(this,Ee)||l(this,wa)||l(this,Zl)||l(this,bn)||l(this,lh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,lh)||(l(this,Ee)?I(this,Yt,o_).call(this):I(this,Yt,r_).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(C(this,bn,s),r&&C(this,Ee,r),C(this,lh,!1),I(this,Yt,o_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,mo)!==null&&clearTimeout(l(this,mo)),C(this,mo,setTimeout(()=>{C(this,mo,null),I(this,Yt,qS).call(this)},200))}copyCanvas(e,i,s=!1){e||(e=224);const{width:r,height:o}=l(this,Ee),c=new Mr;let u=l(this,Ee),d=r,f=o,p=null;if(i){if(r>i||o>i){const N=Math.min(i/r,i/o);d=Math.floor(r*N),f=Math.floor(o*N)}p=document.createElement("canvas");const v=p.width=Math.ceil(d*c.sx),x=p.height=Math.ceil(f*c.sy);l(this,ls)||(u=I(this,Yt,a_).call(this,v,x));const _=p.getContext("2d");_.filter=this._uiManager.hcmFilter;let P="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":C6.isDarkMode&&(P="#8f8f9d",w="#42414d");const E=15,A=E*c.sx,y=E*c.sy,S=new OffscreenCanvas(A*2,y*2),T=S.getContext("2d");T.fillStyle=P,T.fillRect(0,0,A*2,y*2),T.fillStyle=w,T.fillRect(0,0,A,y),T.fillRect(A,y,A,y),_.fillStyle=_.createPattern(S,"repeat"),_.fillRect(0,0,v,x),_.drawImage(u,0,0,u.width,u.height,0,0,v,x)}let m=null;if(s){let v,x;if(c.symmetric&&u.width<e&&u.height<e)v=u.width,x=u.height;else if(u=l(this,Ee),r>e||o>e){const w=Math.min(e/r,e/o);v=Math.floor(r*w),x=Math.floor(o*w),l(this,ls)||(u=I(this,Yt,a_).call(this,v,x))}const P=new OffscreenCanvas(v,x).getContext("2d",{willReadFrequently:!0});P.drawImage(u,0,0,u.width,u.height,0,0,v,x),m={width:v,height:x,data:P.getImageData(0,0,v,x).data}}return{canvas:p,width:d,height:f,imageData:m}}static async deserialize(e,i,s){var P;let r=null,o=!1;if(e instanceof _I){const{data:{rect:w,rotation:E,id:A,structParent:y,popupRef:S,richText:T,contentsObj:N,creationDate:F,modificationDate:B},container:j,parent:{page:{pageNumber:H}},canvas:W}=e;let K,$;W?(delete e.canvas,{id:K,bitmap:$}=s.imageManager.getFromCanvas(j.id,W),W.remove()):(o=!0,e._hasNoCanvas=!0);const J=((P=await i._structTree.getAriaAttributes(`${RE}${A}`))==null?void 0:P.get("aria-label"))||"";r=e={annotationType:Ct.STAMP,bitmapId:K,bitmap:$,pageIndex:H-1,rect:w.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:J},isSvg:!1,structParent:y,popupRef:S,richText:T,comment:(N==null?void 0:N.str)||null,creationDate:F,modificationDate:B}}const c=await super.deserialize(e,i,s),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:v}=e;o?(s.addMissingCanvas(e.id,c),C(c,lh,!0)):p&&s.imageManager.isValidId(p)?(C(c,bn,p),d&&C(c,Ee,d)):C(c,wa,f),C(c,ls,m);const[x,_]=c.pageDimensions;return c.width=(u[2]-u[0])/x,c.height=(u[3]-u[1])/_,v&&(c.altTextData=v),c._initialData=r,e.comment&&c.setCommentData(e),C(c,tp,!!r),c}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:l(this,bn),isSvg:l(this,ls)});if(this.addComment(s),e)return s.bitmapUrl=I(this,Yt,l_).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=I(this,Yt,iD).call(this,s);return u.isSame?null:(u.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(i===null)return s;i.stamps||(i.stamps=new Map);const c=l(this,ls)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(l(this,bn)))i.stamps.set(l(this,bn),{area:c,serialized:s}),s.bitmap=I(this,Yt,l_).call(this,!1);else if(l(this,ls)){const u=i.stamps.get(l(this,bn));c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=I(this,Yt,l_).call(this,!1))}return s}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ee=new WeakMap,bn=new WeakMap,ql=new WeakMap,wa=new WeakMap,Zl=new WeakMap,Jf=new WeakMap,ba=new WeakMap,lh=new WeakMap,mo=new WeakMap,ls=new WeakMap,tp=new WeakMap,Yt=new WeakSet,Eg=function(e,i=!1){if(!e){this.remove();return}C(this,Ee,e.bitmap),i||(C(this,bn,e.id),C(this,ls,e.isSvg)),e.file&&C(this,Jf,e.file.name),I(this,Yt,o_).call(this)},Pg=function(){if(C(this,ql,null),this._uiManager.enableWaiting(!1),!!l(this,ba)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ee)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ee)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},r_=function(){if(l(this,bn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,bn)).then(s=>I(this,Yt,Eg).call(this,s,!0)).finally(()=>I(this,Yt,Pg).call(this));return}if(l(this,wa)){const s=l(this,wa);C(this,wa,null),this._uiManager.enableWaiting(!0),C(this,ql,this._uiManager.imageManager.getFromUrl(s).then(r=>I(this,Yt,Eg).call(this,r)).finally(()=>I(this,Yt,Pg).call(this)));return}if(l(this,Zl)){const s=l(this,Zl);C(this,Zl,null),this._uiManager.enableWaiting(!0),C(this,ql,this._uiManager.imageManager.getFromFile(s).then(r=>I(this,Yt,Eg).call(this,r)).finally(()=>I(this,Yt,Pg).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=W_.join(",");const i=this._uiManager._signal;C(this,ql,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),I(this,Yt,Eg).call(this,r)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>I(this,Yt,Pg).call(this))),e.click()},o_=function(){var d;const{div:e}=this;let{width:i,height:s}=l(this,Ee);const[r,o]=this.pageDimensions,c=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>c*r||s>c*o){const f=Math.min(c*r/i,c*o/s);i*=f,s*=f}this._uiManager.enableWaiting(!1);const u=C(this,ba,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=i/r,this.height=s/o,this.setDims(),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),I(this,Yt,qS).call(this),l(this,tp)||(this.parent.addUndoableEditor(this),C(this,tp,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,Jf)&&this.div.setAttribute("aria-description",l(this,Jf)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},a_=function(e,i){const{width:s,height:r}=l(this,Ee);let o=s,c=r,u=l(this,Ee);for(;o>2*e||c>2*i;){const d=o,f=c;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(o,c);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,c),u=p.transferToImageBitmap()}return u},qS=function(){const[e,i]=this.parentDimensions,{width:s,height:r}=this,o=new Mr,c=Math.ceil(s*e*o.sx),u=Math.ceil(r*i*o.sy),d=l(this,ba);if(!d||d.width===c&&d.height===u)return;d.width=c,d.height=u;const f=l(this,ls)?l(this,Ee):I(this,Yt,a_).call(this,c,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)},l_=function(e){if(e){if(l(this,ls)){const r=this._uiManager.imageManager.getSvgUrl(l(this,bn));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=l(this,Ee),i.getContext("2d").drawImage(l(this,Ee),0,0),i.toDataURL()}if(l(this,ls)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*Fa.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Fa.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,o);return c.getContext("2d").drawImage(l(this,Ee),0,0,l(this,Ee).width,l(this,Ee).height,0,0,r,o),c.transferToImageBitmap()}return structuredClone(l(this,Ee))},iD=function(e){var c;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=e.pageIndex===i,o=(((c=e.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},nt(GS,"_type","stamp"),nt(GS,"_editorType",Ct.STAMP);var ch,ep,Xl,Yl,xa,Ni,Kl,np,ip,vr,Sa,xn,Aa,Ql,sp,wt,Jl,fe,ZS,sD,Ur,XS,YS,c_;const nr=class nr{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:o,drawLayer:c,textLayer:u,viewport:d,l10n:f}){R(this,fe);R(this,ch);R(this,ep,!1);R(this,Xl,null);R(this,Yl,null);R(this,xa,null);R(this,Ni,new Map);R(this,Kl,!1);R(this,np,!1);R(this,ip,!1);R(this,vr,null);R(this,Sa,null);R(this,xn,null);R(this,Aa,null);R(this,Ql,null);R(this,sp,-1);R(this,wt);const p=[...l(nr,Jl).values()];if(!nr._initialized){nr._initialized=!0;for(const m of p)m.initialize(f,t)}t.registerEditorTypes(p),C(this,wt,t),this.pageIndex=e,this.div=i,C(this,ch,r),C(this,Xl,o),this.viewport=d,C(this,xn,u),this.drawLayer=c,this._structTree=s,l(this,wt).addLayer(this)}get isEmpty(){return l(this,Ni).size===0}get isInvisible(){return this.isEmpty&&l(this,wt).getMode()===Ct.NONE}updateToolbar(t){l(this,wt).updateToolbar(t)}updateMode(t=l(this,wt).getMode()){switch(I(this,fe,c_).call(this),t){case Ct.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ct.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ct.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Ct.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of l(nr,Jl).values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=l(this,xn))==null?void 0:e.div)}setEditingState(t){l(this,wt).setEditingState(t)}addCommands(t){l(this,wt).addCommands(t)}cleanUndoStack(t){l(this,wt).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=l(this,Xl))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;C(this,ip,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=l(this,Ql))==null||i.abort(),C(this,Ql,null);const t=new Set;for(const s of l(this,fe,ZS))s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,wt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));const e=l(this,Xl);if(e)for(const s of e.getEditableAnnotations()){if(s.hide(),l(this,wt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}C(this,ip,!1),l(this,wt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(C(this,np,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,xn)&&!l(this,Ql)){C(this,Ql,new AbortController);const s=l(this,wt).combinedSignal(l(this,Ql));l(this,xn).div.addEventListener("pointerdown",r=>{const{clientX:c,clientY:u,timeStamp:d}=r,f=l(this,sp);if(d-f>500){C(this,sp,d);return}C(this,sp,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(c,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const x=new RegExp(`^${hm}[0-9]+$`);for(const P of m)if(x.test(P.id)){v=P.id;break}if(!v)return;const _=l(this,Ni).get(v);(_==null?void 0:_.annotationElementId)===null&&(r.stopPropagation(),r.preventDefault(),_.dblclick(r))},{signal:s,capture:!0})}const t=l(this,Xl);if(t){const s=new Map,r=new Map;for(const c of l(this,fe,ZS)){if(c.disableEditing(),!c.annotationElementId){c.updateFakeAnnotationElement(t);continue}if(c.serialize()!==null){s.set(c.annotationElementId,c);continue}else r.set(c.annotationElementId,c);(i=this.getEditableAnnotation(c.annotationElementId))==null||i.show(),c.remove()}const o=t.getEditableAnnotations();for(const c of o){const{id:u}=c.data;if(l(this,wt).isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=s.get(u),d&&(l(this,wt).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}I(this,fe,c_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const s of l(nr,Jl).values())e.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,np,!1)}getEditableAnnotation(t){var e;return((e=l(this,Xl))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){l(this,wt).getActive()!==t&&l(this,wt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=l(this,xn))!=null&&t.div&&!l(this,Aa)){C(this,Aa,new AbortController);const e=l(this,wt).combinedSignal(l(this,Aa));l(this,xn).div.addEventListener("pointerdown",I(this,fe,sD).bind(this),{signal:e}),l(this,xn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=l(this,xn))!=null&&t.div&&l(this,Aa)&&(l(this,Aa).abort(),C(this,Aa,null),l(this,xn).div.classList.remove("highlighting"))}enableClick(){if(l(this,Yl))return;C(this,Yl,new AbortController);const t=l(this,wt).combinedSignal(l(this,Yl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=l(this,Yl))==null||t.abort(),C(this,Yl,null)}attach(t){l(this,Ni).set(t.id,t);const{annotationElementId:e}=t;e&&l(this,wt).isDeletedAnnotationElement(e)&&l(this,wt).removeDeletedAnnotationElement(t)}detach(t){var e;l(this,Ni).delete(t.id),(e=l(this,ch))==null||e.removePointerInTextLayer(t.contentDiv),!l(this,np)&&t.annotationElementId&&l(this,wt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),l(this,wt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(l(this,wt).addDeletedAnnotationElement(t.annotationElementId),ye.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),l(this,wt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!l(this,ip)),l(this,wt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!l(this,xa)&&(t._focusEventsAllowed=!1,C(this,xa,setTimeout(()=>{C(this,xa,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:l(this,wt)._signal}),e.focus())},0))),t._structTreeParentId=(i=l(this,ch))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of l(this,Ni).values())if(e.uid===t)return e;return null}getNextId(){return l(this,wt).getId()}combinedSignal(t){return l(this,wt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=l(this,fe,Ur))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await l(this,wt).updateMode(t.mode);const{offsetX:i,offsetY:s}=I(this,fe,YS).call(this),r=this.getNextId(),o=I(this,fe,XS).call(this,{parent:this,id:r,x:i,y:s,uiManager:l(this,wt),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=l(nr,Jl).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,l(this,wt)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),r=I(this,fe,XS).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:l(this,wt),isCentered:e,...i});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(t={}){this.createAndAddNewEditor(I(this,fe,YS).call(this),!0,t)}setSelected(t){l(this,wt).setSelected(t)}toggleSelected(t){l(this,wt).toggleSelected(t)}unselect(t){l(this,wt).unselect(t)}pointerup(t){var s;const{isMac:e}=En.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!l(this,Kl)||(C(this,Kl,!1),(s=l(this,fe,Ur))!=null&&s.isDrawer&&l(this,fe,Ur).supportMultipleDrawings))return;if(!l(this,ep)){C(this,ep,!0);return}const i=l(this,wt).getMode();if(i===Ct.STAMP||i===Ct.SIGNATURE){l(this,wt).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(l(this,wt).getMode()===Ct.HIGHLIGHT&&this.enableTextSelection(),l(this,Kl)){C(this,Kl,!1);return}const{isMac:e}=En.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(C(this,Kl,!0),(s=l(this,fe,Ur))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=l(this,wt).getActive();C(this,ep,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),l(this,vr)){l(this,fe,Ur).startDrawing(this,l(this,wt),!1,t);return}l(this,wt).setCurrentDrawingSession(this),C(this,vr,new AbortController);const e=l(this,wt).combinedSignal(l(this,vr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(C(this,Sa,null),this.commitOrRemove())},{signal:e}),l(this,fe,Ur).startDrawing(this,l(this,wt),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&C(this,Sa,e);return}l(this,Sa)&&setTimeout(()=>{var e;(e=l(this,Sa))==null||e.focus(),C(this,Sa,null)},0)}endDrawingSession(t=!1){return l(this,vr)?(l(this,wt).setCurrentDrawingSession(null),l(this,vr).abort(),C(this,vr,null),C(this,Sa,null),l(this,fe,Ur).endDrawing(t)):null}findNewParent(t,e,i){const s=l(this,wt).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return l(this,vr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,vr)&&l(this,fe,Ur).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=l(this,wt).getActive())==null?void 0:t.parent)===this&&(l(this,wt).commitOrRemove(),l(this,wt).setActiveEditor(null)),l(this,xa)&&(clearTimeout(l(this,xa)),C(this,xa,null));for(const i of l(this,Ni).values())(e=l(this,ch))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,l(this,Ni).clear(),l(this,wt).removeLayer(this)}render({viewport:t}){this.viewport=t,yc(this.div,t);for(const e of l(this,wt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){l(this,wt).commitOrRemove(),I(this,fe,c_).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,yc(this.div,{rotation:i}),e!==i)for(const s of l(this,Ni).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return l(this,wt).viewParameters.realScale}};ch=new WeakMap,ep=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,xa=new WeakMap,Ni=new WeakMap,Kl=new WeakMap,np=new WeakMap,ip=new WeakMap,vr=new WeakMap,Sa=new WeakMap,xn=new WeakMap,Aa=new WeakMap,Ql=new WeakMap,sp=new WeakMap,wt=new WeakMap,Jl=new WeakMap,fe=new WeakSet,ZS=function(){return l(this,Ni).size!==0?l(this,Ni).values():l(this,wt).getEditors(this.pageIndex)},sD=function(t){l(this,wt).unselectAll();const{target:e}=t;if(e===l(this,xn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&l(this,xn).div.contains(e)){const{isMac:i}=En.platform;if(t.button!==0||t.ctrlKey&&i)return;l(this,wt).showAllEditors("highlight",!0,!0),l(this,xn).div.classList.add("free"),this.toggleDrawing(),K_.startHighlighting(this,l(this,wt).direction==="ltr",{target:l(this,xn).div,x:t.x,y:t.y}),l(this,xn).div.addEventListener("pointerup",()=>{l(this,xn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,wt)._signal}),t.preventDefault()}},Ur=function(){return l(nr,Jl).get(l(this,wt).getMode())},XS=function(t){const e=l(this,fe,Ur);return e?new e.prototype.constructor(t):null},YS=function(){const{x:t,y:e,width:i,height:s}=this.boundingClientRect,r=Math.max(0,t),o=Math.max(0,e),c=Math.min(window.innerWidth,t+i),u=Math.min(window.innerHeight,e+s),d=(r+c)/2-t,f=(o+u)/2-e,[p,m]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:p,offsetY:m}},c_=function(){for(const t of l(this,Ni).values())t.isEmpty()&&t.remove()},nt(nr,"_initialized",!1),R(nr,Jl,new Map([kS,jS,GS,K_,VS].map(t=>[t._editorType,t])));let J_=nr;var yr,hi,uh,ty,_w,rD,Eo,KS,oD,QS;const ln=class ln{constructor({pageIndex:t}){R(this,Eo);R(this,yr,null);R(this,hi,new Map);R(this,uh,new Map);this.pageIndex=t}setParent(t){if(!l(this,yr)){C(this,yr,t);return}if(l(this,yr)!==t){if(l(this,hi).size>0)for(const e of l(this,hi).values())e.remove(),t.append(e);C(this,yr,t)}}static get _svgFactory(){return It(this,"_svgFactory",new ym)}draw(t,e=!1,i=!1){const s=Fe(ln,ty)._++,r=I(this,Eo,KS).call(this),o=ln._svgFactory.createElement("defs");r.append(o);const c=ln._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),e&&l(this,uh).set(s,c);const d=i?I(this,Eo,oD).call(this,o,u):null,f=ln._svgFactory.createElement("use");return r.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(r,t),l(this,hi).set(s,r),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const i=Fe(ln,ty)._++,s=I(this,Eo,KS).call(this),r=ln._svgFactory.createElement("defs");s.append(r);const o=ln._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e){const p=ln._svgFactory.createElement("mask");r.append(p),u=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const m=ln._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const v=ln._svgFactory.createElement("use");p.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=ln._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${c}`),u&&d.setAttribute("mask",`url(#${u})`);const f=d.cloneNode();return s.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(s,t),l(this,hi).set(i,s),i}finalizeDraw(t,e){l(this,uh).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var u;if(!e)return;const{root:i,bbox:s,rootClass:r,path:o}=e,c=typeof t=="number"?l(this,hi).get(t):t;if(c){if(i&&I(this,Eo,QS).call(this,c,i),s&&I(u=ln,_w,rD).call(u,c,s),r){const{classList:d}=c;for(const[f,p]of Object.entries(r))d.toggle(f,p)}if(o){const f=c.firstChild.firstChild;I(this,Eo,QS).call(this,f,o)}}}updateParent(t,e){if(e===this)return;const i=l(this,hi).get(t);i&&(l(e,yr).append(i),l(this,hi).delete(t),l(e,hi).set(t,i))}remove(t){l(this,uh).delete(t),l(this,yr)!==null&&(l(this,hi).get(t).remove(),l(this,hi).delete(t))}destroy(){C(this,yr,null);for(const t of l(this,hi).values())t.remove();l(this,hi).clear(),l(this,uh).clear()}};yr=new WeakMap,hi=new WeakMap,uh=new WeakMap,ty=new WeakMap,_w=new WeakSet,rD=function(t,[e,i,s,r]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*s}%`,o.height=`${100*r}%`},Eo=new WeakSet,KS=function(){const t=ln._svgFactory.create(1,1,!0);return l(this,yr).append(t),t.setAttribute("aria-hidden",!0),t},oD=function(t,e){const i=ln._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=ln._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},QS=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},R(ln,_w),R(ln,ty,0);let tw=ln;globalThis._pdfjsTestingUtils={HighlightOutliner:LS};globalThis.pdfjsLib={AbortException:Oa,AnnotationEditorLayer:J_,AnnotationEditorParamsType:$t,AnnotationEditorType:Ct,AnnotationEditorUIManager:_c,AnnotationLayer:UE,AnnotationMode:yo,AnnotationType:Ge,applyOpacity:iN,build:aI,ColorPicker:vm,createValidAbsoluteUrl:kE,CSSConstants:nN,DOMSVGFactory:ym,DrawLayer:tw,FeatureTest:En,fetchData:Ep,findContrastColor:sN,getDocument:BE,getFilenameFromUrl:JR,getPdfFilenameFromUrl:tN,getRGB:Pp,getUuid:LE,getXfaPageViewport:eN,GlobalWorkerOptions:$s,ImageKind:Bg,InvalidPDFException:$_,isDataScheme:gy,isPdfFile:Kw,isValidExplicitDest:FN,MathClamp:Qn,noContextMenu:_s,normalizeUnicode:KR,OPS:pp,OutputScale:Mr,PasswordResponses:XR,PDFDataRangeTransport:jE,PDFDateString:pm,PDFWorker:gp,PermissionFlag:ZR,PixelsPerInch:Fa,RenderingCancelledException:Yw,renderRichText:IE,ResponseException:dm,setLayerDimensions:yc,shadow:It,SignatureExtractor:_o,stopEvent:Re,SupportedImageMimeTypes:W_,TextLayer:mm,TouchManager:gm,updateUrlHash:ME,Util:gt,VerbosityLevel:dy,version:oI,XfaLayer:NE};const t$=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Oa,AnnotationEditorLayer:J_,AnnotationEditorParamsType:$t,AnnotationEditorType:Ct,AnnotationEditorUIManager:_c,AnnotationLayer:UE,AnnotationMode:yo,AnnotationType:Ge,CSSConstants:nN,ColorPicker:vm,DOMSVGFactory:ym,DrawLayer:tw,FeatureTest:En,GlobalWorkerOptions:$s,ImageKind:Bg,InvalidPDFException:$_,MathClamp:Qn,OPS:pp,OutputScale:Mr,PDFDataRangeTransport:jE,PDFDateString:pm,PDFWorker:gp,PasswordResponses:XR,PermissionFlag:ZR,PixelsPerInch:Fa,RenderingCancelledException:Yw,ResponseException:dm,SignatureExtractor:_o,SupportedImageMimeTypes:W_,TextLayer:mm,TouchManager:gm,Util:gt,VerbosityLevel:dy,XfaLayer:NE,applyOpacity:iN,build:aI,createValidAbsoluteUrl:kE,fetchData:Ep,findContrastColor:sN,getDocument:BE,getFilenameFromUrl:JR,getPdfFilenameFromUrl:tN,getRGB:Pp,getUuid:LE,getXfaPageViewport:eN,isDataScheme:gy,isPdfFile:Kw,isValidExplicitDest:FN,noContextMenu:_s,normalizeUnicode:KR,renderRichText:IE,setLayerDimensions:yc,shadow:It,stopEvent:Re,updateUrlHash:ME,version:oI},Symbol.toStringTag,{value:"Module"}));var vk=Object.prototype.hasOwnProperty;function yk(n,t,e){for(e of n.keys())if(xd(e,t))return e}function xd(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&xd(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=yk(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=yk(t,s),!s)||!xd(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(vk.call(n,e)&&++i&&!vk.call(t,e)||!(e in t)||!xd(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function _y(n){let t=!1;return{promise:new Promise((i,s)=>{n.then(r=>!t&&i(r)).catch(r=>!t&&s(r))}),cancel(){t=!0}}}const e$=["onCopy","onCut","onPaste"],n$=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],i$=["onFocus","onBlur"],s$=["onInput","onInvalid","onReset","onSubmit"],r$=["onLoad","onError"],o$=["onKeyDown","onKeyPress","onKeyUp"],a$=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],l$=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],c$=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],u$=["onSelect"],h$=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],d$=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],f$=["onScroll"],p$=["onWheel"],g$=["onAnimationStart","onAnimationEnd","onAnimationIteration"],m$=["onTransitionEnd"],v$=["onToggle"],y$=["onChange"],_$=[...e$,...n$,...i$,...s$,...r$,...o$,...a$,...l$,...c$,...u$,...h$,...d$,...f$,...p$,...g$,...m$,...y$,...v$];function aD(n,t){const e={};for(const i of _$){const s=n[i];s&&(t?e[i]=r=>s(r,t(i)):e[i]=s)}return e}var w$="Invariant failed";function de(n,t){if(!n)throw new Error(w$)}var b$=function(){},x$=b$;const ti=nA(x$),lD=D.createContext(null),S$="noopener noreferrer nofollow";class A${constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return de(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){de(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||S$,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{de(this.pdfDocument),de(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{de(Array.isArray(e));const i=e[0];new Promise(s=>{de(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(r=>{s(r)}).catch(()=>{de(!1)}):typeof i=="number"?s(i):de(!1)}).then(s=>{const r=s+1;de(this.pdfViewer),de(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}goToPage(t){const e=t-1;de(this.pdfViewer),de(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Sd({children:n,type:t}){return M.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const _k={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function E$(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function mp(){return D.useReducer(E$,{value:void 0,error:void 0})}const tb=typeof window<"u",cD=tb&&window.location.protocol==="file:";function P$(n){return typeof n<"u"}function Ic(n){return P$(n)&&n!==null}function C$(n){return typeof n=="string"}function T$(n){return n instanceof ArrayBuffer}function k$(n){return de(tb),n instanceof Blob}function JS(n){return C$(n)&&/^data:/.test(n)}function wk(n){de(JS(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function M$(){return tb&&window.devicePixelRatio||1}const uD="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function bk(){ti(!cD,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${uD}`)}function L$(){ti(!cD,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${uD}`)}function bh(n){n!=null&&n.cancel&&n.cancel()}function tA(n,t){return Object.defineProperty(n,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),n}function hD(n){return n.name==="AbortException"||n.name==="RenderingCancelledException"}function R$(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:N$}=t$,I$=(n,t)=>{switch(t){case _k.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case _k.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function xk(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const D$=D.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:r,file:o,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:v,onLoadSuccess:x,onPassword:_=I$,onSourceError:P,onSourceSuccess:w,options:E,renderMode:A,rotate:y,scale:S,...T},N){const[F,B]=mp(),{value:j,error:H}=F,[W,K]=mp(),{value:$,error:J}=W,q=D.useRef(new A$),Y=D.useRef([]),U=D.useRef(void 0),G=D.useRef(void 0);o&&o!==U.current&&xk(o)&&(ti(!xd(o,U.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),U.current=o),E&&E!==G.current&&(ti(!xd(E,G.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),G.current=E);const X=D.useRef({scrollPageIntoView:_t=>{const{dest:xt,pageNumber:Pt,pageIndex:Gt=Pt-1}=_t;if(p){p({dest:xt,pageIndex:Gt,pageNumber:Pt});return}const Ut=Y.current[Gt];if(Ut){Ut.scrollIntoView();return}ti(!1,`An internal link leading to page ${Pt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(N,()=>({linkService:q,pages:Y,viewer:X}),[]);function it(){w&&w()}function Q(){H&&(ti(!1,H.toString()),P&&P(H))}function et(){B({type:"RESET"})}D.useEffect(et,[o,B]);const ot=D.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return JS(o)?{data:wk(o)}:(bk(),{url:o});if(o instanceof N$)return{range:o};if(T$(o))return{data:o};if(tb&&k$(o))return{data:await R$(o)};if(de(typeof o=="object"),de(xk(o)),"url"in o&&typeof o.url=="string"){if(JS(o.url)){const{url:_t,...xt}=o;return{data:wk(_t),...xt}}bk()}return o},[o]);D.useEffect(()=>{const _t=_y(ot());return _t.promise.then(xt=>{B({type:"RESOLVE",value:xt})}).catch(xt=>{B({type:"REJECT",error:xt})}),()=>{bh(_t)}},[ot,B]),D.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){Q();return}it()}},[j]);function ut(){$&&(x&&x($),Y.current=new Array($.numPages),q.current.setDocument($))}function ht(){J&&(ti(!1,J.toString()),m&&m(J))}D.useEffect(function(){K({type:"RESET"})},[K,j]),D.useEffect(function(){if(!j)return;const xt=E?{...j,...E}:j,Pt=BE(xt);v&&(Pt.onProgress=v),_&&(Pt.onPassword=_);const Gt=Pt;return Gt.promise.then(Ut=>{Gt.destroyed||K({type:"RESOLVE",value:Ut})}).catch(Ut=>{Gt.destroyed||K({type:"REJECT",error:Ut})}),()=>{Gt.destroy()}},[E,K,j]),D.useEffect(()=>{if(!(typeof $>"u")){if($===!1){ht();return}ut()}},[$]),D.useEffect(function(){q.current.setViewer(X.current),q.current.setExternalLinkRel(s),q.current.setExternalLinkTarget(r)},[s,r]);const at=D.useCallback((_t,xt)=>{Y.current[_t]=xt},[]),Rt=D.useCallback(_t=>{delete Y.current[_t]},[]),Qt=D.useMemo(()=>({imageResourcesPath:u,linkService:q.current,onItemClick:p,pdf:$,registerPage:at,renderMode:A,rotate:y,scale:S,unregisterPage:Rt}),[u,p,$,at,A,y,S,Rt]),Bt=D.useMemo(()=>aD(T,()=>$),[T,$]);function mt(){function _t(Pt){return!!(Pt!=null&&Pt.pdf)}if(!_t(Qt))throw new Error("pdf is undefined");const xt=typeof t=="function"?t(Qt):t;return M.jsx(lD.Provider,{value:Qt,children:xt})}function lt(){return o?$==null?M.jsx(Sd,{type:"loading",children:typeof d=="function"?d():d}):$===!1?M.jsx(Sd,{type:"error",children:typeof i=="function"?i():i}):mt():M.jsx(Sd,{type:"no-data",children:typeof f=="function"?f():f})}return M.jsx("div",{className:bp("react-pdf__Document",e),ref:c,...Bt,children:lt()})});function dD(){return D.useContext(lD)}function fD(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(r){for(var o=0,c=e;o<c.length;o++){var u=c[o];typeof u=="function"?u(r):u&&(u.current=r)}}}const pD=D.createContext(null);function eb(){return D.useContext(pD)}function O$(){const n=dD(),t=eb();de(t);const e={...n,...t},{filterAnnotations:i,imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:v,scale:x=1}=e;de(p),de(f),de(r);const[_,P]=mp(),{value:w,error:E}=_,A=D.useRef(null);ti(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function y(){w&&c&&c(w)}function S(){E&&(ti(!1,E.toString()),o&&o(E))}D.useEffect(function(){P({type:"RESET"})},[P,f]),D.useEffect(function(){if(!f)return;const j=_y(f.getAnnotations()),H=j;return j.promise.then(W=>{P({type:"RESOLVE",value:W})}).catch(W=>{P({type:"REJECT",error:W})}),()=>{bh(H)}},[P,f]),D.useEffect(()=>{if(w!==void 0){if(w===!1){S();return}y()}},[w]);function T(){d&&d()}function N(B){ti(!1,`${B}`),u&&u(B)}const F=D.useMemo(()=>f.getViewport({scale:x,rotation:v}),[f,v,x]);return D.useEffect(function(){if(!p||!f||!r||!w)return;const{current:j}=A;if(!j)return;const H=F.clone({dontFlip:!0}),W={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:j,l10n:null,linkService:r,page:f,structTreeLayer:null,viewport:H},K={annotations:i?i({annotations:w}):w,annotationStorage:p.annotationStorage,div:j,imageResourcesPath:s,linkService:r,page:f,renderForms:m,viewport:H};j.innerHTML="";try{new UE(W).render(K),T()}catch($){N($)}return()=>{}},[w,i,s,r,f,p,m,F]),M.jsx("div",{className:bp("react-pdf__Page__annotations","annotationLayer"),ref:A})}const gD={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},F$=/^H(\d+)$/;function B$(n){return n in gD}function nb(n){return"children"in n}function mD(n){return nb(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function j$(n){const t={};if(nb(n)){const{role:e}=n,i=e.match(F$);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(B$(e)){const s=gD[e];s&&(t.role=s)}}return t}function vD(n){const t={};if(nb(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),mD(n)){const[e]=n.children;if(e){const i=vD(e);return{...t,...i}}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function z$(n){return n?{...j$(n),...vD(n)}:null}function yD({className:n,node:t}){const e=D.useMemo(()=>z$(t),[t]),i=D.useMemo(()=>!nb(t)||mD(t)?null:t.children.map((s,r)=>M.jsx(yD,{node:s},r)),[t]);return M.jsx("span",{className:n,...e,children:i})}function H$(){const n=eb();de(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=mp(),{value:r,error:o}=i,{customTextRenderer:c,page:u}=n;function d(){r&&e&&e(r)}function f(){o&&(ti(!1,o.toString()),t&&t(o))}return D.useEffect(function(){s({type:"RESET"})},[s,u]),D.useEffect(function(){if(c||!u)return;const m=_y(u.getStructTree()),v=m;return m.promise.then(x=>{s({type:"RESOLVE",value:x})}).catch(x=>{s({type:"REJECT",error:x})}),()=>bh(v)},[c,u,s]),D.useEffect(()=>{if(r!==void 0){if(r===!1){f();return}d()}},[r]),r?M.jsx(yD,{className:"react-pdf__Page__structTree structTree",node:r}):null}const Sk=yo;function U$(n){const t=eb();de(t);const e={...t,...n},{_className:i,canvasBackground:s,devicePixelRatio:r=M$(),onRenderError:o,onRenderSuccess:c,page:u,renderForms:d,renderTextLayer:f,rotate:p,scale:m}=e,{canvasRef:v}=n;de(u);const x=D.useRef(null);function _(){u&&c&&c(tA(u,m))}function P(y){hD(y)||(ti(!1,y.toString()),o&&o(y))}const w=D.useMemo(()=>u.getViewport({scale:m*r,rotation:p}),[r,u,p,m]),E=D.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);D.useEffect(function(){if(!u)return;u.cleanup();const{current:S}=x;if(!S)return;S.width=w.width,S.height=w.height,S.style.width=`${Math.floor(E.width)}px`,S.style.height=`${Math.floor(E.height)}px`,S.style.visibility="hidden";const T={annotationMode:d?Sk.ENABLE_FORMS:Sk.ENABLE,canvas:S,canvasContext:S.getContext("2d",{alpha:!1}),viewport:w};s&&(T.background=s);const N=u.render(T),F=N;return N.promise.then(()=>{S.style.visibility="",_()}).catch(P),()=>bh(F)},[s,u,d,w,E]);const A=D.useCallback(()=>{const{current:y}=x;y&&(y.width=0,y.height=0)},[]);return D.useEffect(()=>A,[A]),M.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:fD(v,x),style:{display:"block",userSelect:"none"},children:f?M.jsx(H$,{}):null})}function $$(n){return"str"in n}function W$(){const n=eb();de(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:o,pageIndex:c,pageNumber:u,rotate:d,scale:f}=n;de(o);const[p,m]=mp(),{value:v,error:x}=p,_=D.useRef(null);ti(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function P(){v&&i&&i(v)}function w(){x&&(ti(!1,x.toString()),e&&e(x))}D.useEffect(function(){m({type:"RESET"})},[o,m]),D.useEffect(function(){if(!o)return;const F=_y(o.getTextContent()),B=F;return F.promise.then(j=>{m({type:"RESOLVE",value:j})}).catch(j=>{m({type:"REJECT",error:j})}),()=>bh(B)},[o,m]),D.useEffect(()=>{if(v!==void 0){if(v===!1){w();return}P()}},[v]);const E=D.useCallback(()=>{r&&r()},[r]),A=D.useCallback(N=>{hD(N)||(ti(!1,N.toString()),s&&s(N))},[s]);function y(){const N=_.current;N&&N.classList.add("selecting")}function S(){const N=_.current;N&&N.classList.remove("selecting")}const T=D.useMemo(()=>o.getViewport({scale:f,rotation:d}),[o,d,f]);return D.useLayoutEffect(function(){if(!o||!v)return;const{current:F}=_;if(!F)return;F.innerHTML="";const B=o.streamTextContent({includeMarkedContent:!0}),j={container:F,textContentSource:B,viewport:T},H=new mm(j),W=H;return H.render().then(()=>{const K=document.createElement("div");K.className="endOfContent",F.append(K);const $=F.querySelectorAll('[role="presentation"]');if(t){let J=0;v.items.forEach((q,Y)=>{if(!$$(q))return;const U=$[J];if(!U)return;const G=t({pageIndex:c,pageNumber:u,itemIndex:Y,...q});U.innerHTML=G,J+=q.str&&q.hasEOL?2:1})}E()}).catch(A),()=>bh(W)},[t,A,E,o,c,u,v,T]),M.jsx("div",{className:bp("react-pdf__Page__textContent","textLayer"),onMouseUp:S,onMouseDown:y,ref:_})}const Ak=1;function V$(n){const e={...dD(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:o,children:c,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:p,error:m="Failed to load the page.",filterAnnotations:v,height:x,inputRef:_,loading:P="Loading page",noData:w="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:A,onGetStructTreeError:y,onGetStructTreeSuccess:S,onGetTextError:T,onGetTextSuccess:N,onLoadError:F,onLoadSuccess:B,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:H,onRenderError:W,onRenderSuccess:K,onRenderTextLayerError:$,onRenderTextLayerSuccess:J,pageIndex:q,pageNumber:Y,pdf:U,registerPage:G,renderAnnotationLayer:X=!0,renderForms:it=!1,renderMode:Q="canvas",renderTextLayer:et=!0,rotate:ot,scale:ut=Ak,unregisterPage:ht,width:at,...Rt}=e,[Qt,Bt]=mp(),{value:mt,error:lt}=Qt,_t=D.useRef(null);de(U);const xt=Ic(Y)?Y-1:q??null,Pt=Y??(Ic(q)?q+1:null),Gt=ot??(mt?mt.rotate:null),Ut=D.useMemo(()=>{if(!mt)return null;let ii=1;const Si=ut??Ak;if(at||x){const Ce=mt.getViewport({scale:1,rotation:Gt});at?ii=at/Ce.width:x&&(ii=x/Ce.height)}return Si*ii},[x,mt,Gt,ut,at]);D.useEffect(function(){return()=>{Ic(xt)&&s&&ht&&ht(xt)}},[s,U,xt,ht]);function Ye(){if(B){if(!mt||!Ut)return;B(tA(mt,Ut))}if(s&&G){if(!Ic(xt)||!_t.current)return;G(xt,_t.current)}}function an(){lt&&(ti(!1,lt.toString()),F&&F(lt))}D.useEffect(function(){Bt({type:"RESET"})},[Bt,U,xt]),D.useEffect(function(){if(!U||!Pt)return;const Si=_y(U.getPage(Pt)),Ce=Si;return Si.promise.then(xs=>{Bt({type:"RESOLVE",value:xs})}).catch(xs=>{Bt({type:"REJECT",error:xs})}),()=>bh(Ce)},[Bt,U,Pt]),D.useEffect(()=>{if(mt!==void 0){if(mt===!1){an();return}Ye()}},[mt,Ut]);const Pn=D.useMemo(()=>Ic(xt)&&Pt&&Ic(Gt)&&Ic(Ut)?{_className:i,canvasBackground:r,customTextRenderer:f,devicePixelRatio:p,filterAnnotations:v,onGetAnnotationsError:E,onGetAnnotationsSuccess:A,onGetStructTreeError:y,onGetStructTreeSuccess:S,onGetTextError:T,onGetTextSuccess:N,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:H,onRenderError:W,onRenderSuccess:K,onRenderTextLayerError:$,onRenderTextLayerSuccess:J,page:mt,pageIndex:xt,pageNumber:Pt,renderForms:it,renderTextLayer:et,rotate:Gt,scale:Ut}:null,[i,r,f,p,v,E,A,y,S,T,N,j,H,W,K,$,J,mt,xt,Pt,it,et,Gt,Ut]),Cn=D.useMemo(()=>aD(Rt,()=>mt&&(Ut?tA(mt,Ut):void 0)),[Rt,mt,Ut]),bi=`${xt}@${Ut}/${Gt}`;function Hn(){switch(Q){case"custom":return de(d),M.jsx(d,{},`${bi}_custom`);case"none":return null;case"canvas":default:return M.jsx(U$,{canvasRef:o},`${bi}_canvas`)}}function Ha(){return et?M.jsx(W$,{},`${bi}_text`):null}function Ua(){return X?M.jsx(O$,{},`${bi}_annotations`):null}function Ke(){function ii(Ce){return!!(Ce!=null&&Ce.page)}if(!ii(Pn))throw new Error("page is undefined");const Si=typeof c=="function"?c(Pn):c;return M.jsxs(pD.Provider,{value:Pn,children:[Hn(),Ha(),Ua(),Si]})}function xi(){return Pt?U===null||mt===void 0||mt===null?M.jsx(Sd,{type:"loading",children:typeof P=="function"?P():P}):U===!1||mt===!1?M.jsx(Sd,{type:"error",children:typeof m=="function"?m():m}):Ke():M.jsx(Sd,{type:"no-data",children:typeof w=="function"?w():w})}return M.jsx("div",{className:bp(i,u),"data-page-number":Pt,ref:fD(_,_t),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ut}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Cn,children:xi()})}L$();$s.workerSrc="pdf.worker.mjs";var eA={exports:{}};(function(n,t){(function(e,i){i(t)})(Dk,function(e){class i{constructor(y,S){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=S,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class s extends i{constructor(y,S,T){super(y,T),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=S}draw(y){const S=this.render.getContext(),T=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,F=this.render.getRect().height;S.save(),S.translate(T.x,T.y),S.beginPath();for(let B of this.state.area)B!==null&&(B=this.render.convertToGlobal(B),S.lineTo(B.x-T.x,B.y-T.y));S.rotate(this.state.angle),S.clip(),this.isLoad?S.drawImage(this.image,0,0,N,F):this.drawLoader(S,{x:0,y:0},N,F),S.restore()}simpleDraw(y){const S=this.render.getRect(),T=this.render.getContext(),N=S.pageWidth,F=S.height,B=y===1?S.left+S.pageWidth:S.left,j=S.top;this.isLoad?T.drawImage(this.image,B,j,N,F):this.drawLoader(T,{x:B,y:j},N,F)}drawLoader(y,S,T,N){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(S.x+1,S.y+1,T-1,N-1),y.stroke(),y.fill();const F={x:S.x+T/2,y:S.y+N/2};y.beginPath(),y.lineWidth=10,y.arc(F.x,F.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class r{constructor(y,S){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=S,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let S=0;S<this.pages.length;S++)this.portraitSpread.push([S]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let S=y;S<this.pages.length;S+=2)S<this.pages.length-1?this.landscapeSpread.push([S,S+1]):(this.landscapeSpread.push([S]),this.pages[S].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const S=this.getSpread();for(let T=0;T<S.length;T++)if(y===S[T][0]||y===S[T][1])return T;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const S=this.pages.indexOf(y);return S<this.pages.length-1?this.pages[S+1]:null}prevBy(y){const S=this.pages.indexOf(y);return S>0?this.pages[S-1]:null}getFlippingPage(y){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[S].newTemporaryCopy():this.pages[S-1];{const T=y===0?this.getSpread()[S+1]:this.getSpread()[S-1];return T.length===1||y===0?this.pages[T[0]]:this.pages[T[1]]}}getBottomPage(y){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[S+1]:this.pages[S-1];{const T=y===0?this.getSpread()[S+1]:this.getSpread()[S-1];return T.length===1?this.pages[T[0]]:y===0?this.pages[T[1]]:this.pages[T[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const S=this.getSpreadIndexByPage(y);S!==null&&(this.currentSpreadIndex=S,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class o extends r{constructor(y,S,T){super(y,S),this.imagesHref=T}load(){for(const y of this.imagesHref){const S=new s(this.render,y,"soft");S.load(),this.pages.push(S)}this.createSpread()}}class c{static GetDistanceBetweenTwoPoint(y,S){return y===null||S===null?1/0:Math.sqrt(Math.pow(S.x-y.x,2)+Math.pow(S.y-y.y,2))}static GetSegmentLength(y){return c.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,S){const T=y[0].y-y[1].y,N=S[0].y-S[1].y,F=y[1].x-y[0].x,B=S[1].x-S[0].x;return Math.acos((T*N+F*B)/(Math.sqrt(T*T+F*F)*Math.sqrt(N*N+B*B)))}static PointInRect(y,S){return S===null?null:S.x>=y.left&&S.x<=y.width+y.left&&S.y>=y.top&&S.y<=y.top+y.height?S:null}static GetRotatedPoint(y,S,T){return{x:y.x*Math.cos(T)+y.y*Math.sin(T)+S.x,y:y.y*Math.cos(T)-y.x*Math.sin(T)+S.y}}static LimitPointToCircle(y,S,T){if(c.GetDistanceBetweenTwoPoint(y,T)<=S)return T;const N=y.x,F=y.y,B=T.x,j=T.y;let H=Math.sqrt(Math.pow(S,2)*Math.pow(N-B,2)/(Math.pow(N-B,2)+Math.pow(F-j,2)))+N;T.x<0&&(H*=-1);let W=(H-N)*(F-j)/(N-B)+F;return N-B+F===0&&(W=S),{x:H,y:W}}static GetIntersectBetweenTwoSegment(y,S,T){return c.PointInRect(y,c.GetIntersectBeetwenTwoLine(S,T))}static GetIntersectBeetwenTwoLine(y,S){const T=y[0].y-y[1].y,N=S[0].y-S[1].y,F=y[1].x-y[0].x,B=S[1].x-S[0].x,j=y[0].x*y[1].y-y[1].x*y[0].y,H=S[0].x*S[1].y-S[1].x*S[0].y,W=T*H-N*j,K=F*H-B*j,$=-(j*B-H*F)/(T*B-N*F),J=-(T*H-N*j)/(T*B-N*F);if(isFinite($)&&isFinite(J))return{x:$,y:J};if(Math.abs(W-K)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,S){const T=Math.abs(y.x-S.x),N=Math.abs(y.y-S.y),F=Math.max(T,N),B=[y];function j(H,W,K,$,J){return W>H?H+J*(K/$):W<H?H-J*(K/$):H}for(let H=1;H<=F;H+=1)B.push({x:j(y.x,S.x,T,F,H),y:j(y.y,S.y,N,F,H)});return B}}class u extends i{constructor(y,S,T){super(y,T),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=S,this.element.classList.add("stf__item"),this.element.classList.add("--"+T)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const S=y||this.nowDrawingDensity,T=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,F=this.render.getRect().height;this.element.classList.remove("--simple");const B=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${N}px;
            height: ${F}px;
        `;S==="hard"?this.drawHard(B):this.drawSoft(T,B)}drawHard(y=""){const S=this.render.getRect().left+this.render.getRect().width/2,T=this.state.hardDrawingAngle,N=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${T}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${S}px, 0, 0) rotateY(${T}deg);`);this.element.style.cssText=N}drawSoft(y,S=""){let T="polygon( ";for(const F of this.state.area)if(F!==null){let B=this.render.getDirection()===1?{x:-F.x+this.state.position.x,y:F.y-this.state.position.y}:{x:F.x-this.state.position.x,y:F.y-this.state.position.y};B=c.GetRotatedPoint(B,{x:0,y:0},this.state.angle),T+=B.x+"px "+B.y+"px, "}T=T.slice(0,-2),T+=")";const N=S+`transform-origin: 0 0; clip-path: ${T}; -webkit-clip-path: ${T};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=N}simpleDraw(y){const S=this.render.getRect(),T=S.pageWidth,N=S.height,F=y===1?S.left+S.pageWidth:S.left,B=S.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${N}px; 
            left: ${F}px; 
            top: ${B}px; 
            width: ${T}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class d extends r{constructor(y,S,T,N){super(y,S),this.element=T,this.pagesElement=N}load(){for(const y of this.pagesElement){const S=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");S.load(),this.pages.push(S)}this.createSpread()}}class f{constructor(y,S,T,N){this.direction=y,this.corner=S,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(T,10),this.pageHeight=parseInt(N,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const y=[];let S=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?S=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(S=!1)),y.push(this.bottomIntersectPoint),(S||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?c.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=c.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let S=y;if(this.updateAngleAndGeometry(S),S=this.corner==="top"?this.checkPositionAtCenterLine(S,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(S,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(S.x-this.pageWidth)<1&&Math.abs(S.y)<1)throw new Error("Point is too small");return S}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const S=this.pageWidth-y.x+1,T=this.corner==="bottom"?this.pageHeight-y.y:y.y;let N=2*Math.acos(S/Math.sqrt(T*T+S*S));T<0&&(N=-N);const F=Math.PI-N;if(!isFinite(N)||F>=0&&F<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(N=-N),N}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,S){return{topLeft:this.getRotatedPoint(y[0],S),topRight:this.getRotatedPoint(y[1],S),bottomLeft:this.getRotatedPoint(y[2],S),bottomRight:this.getRotatedPoint(y[3],S)}}getRotatedPoint(y,S){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+S.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+S.y}}calculateIntersectPoint(y){const S={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(S,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(S,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(S,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(S,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,S,T){let N=y;const F=c.LimitPointToCircle(S,this.pageWidth,N);N!==F&&(N=F,this.updateAngleAndGeometry(N));const B=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let j=this.rect.bottomRight,H=this.rect.topLeft;if(this.corner==="bottom"&&(j=this.rect.topRight,H=this.rect.bottomLeft),j.x<=0){const W=c.LimitPointToCircle(T,B,H);W!==N&&(N=W,this.updateAngleAndGeometry(N))}return N}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class p{constructor(y,S){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=S}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const S=this.getBoundsRect();this.setState("flipping");const T=S.height/10,N=this.calc.getCorner()==="bottom"?S.height-T:T,F=this.calc.getCorner()==="bottom"?S.height:0;this.calc.calc({x:S.pageWidth-T,y:N}),this.animateFlippingTo({x:S.pageWidth-T,y:N},{x:-S.pageWidth,y:F},!0)}start(y){this.reset();const S=this.render.convertToBook(y),T=this.getBoundsRect(),N=this.getDirectionByPoint(S),F=S.y>=T.height/2?"bottom":"top";if(!this.checkDirection(N))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(N),this.bottomPage=this.app.getPageCollection().getBottomPage(N),this.render.getOrientation()==="landscape")if(N===1){const B=this.app.getPageCollection().nextBy(this.flippingPage);B!==null&&this.flippingPage.getDensity()!==B.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),B.setDrawingDensity("hard"))}else{const B=this.app.getPageCollection().prevBy(this.flippingPage);B!==null&&this.flippingPage.getDensity()!==B.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),B.setDrawingDensity("hard"))}return this.render.setDirection(N),this.calc=new f(N,F,T.pageWidth.toString(10),T.height.toString(10)),!0}catch{return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const S=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*S)/100):this.flippingPage.setHardAngle(-90*(200-2*S)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),S,this.calc.getDirection())}}flipToPage(y,S){const T=this.app.getPageCollection().getCurrentSpreadIndex(),N=this.app.getPageCollection().getSpreadIndexByPage(y);try{N>T&&(this.app.getPageCollection().setCurrentSpreadIndex(N-1),this.flipNext(S)),N<T&&(this.app.getPageCollection().setCurrentSpreadIndex(N+1),this.flipPrev(S))}catch{}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),S=this.getBoundsRect(),T=this.calc.getCorner()==="bottom"?S.height:0;y.x<=0?this.animateFlippingTo(y,{x:-S.pageWidth,y:T},!0):this.animateFlippingTo(y,{x:S.pageWidth,y:T},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const S=this.getBoundsRect(),T=S.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:T-1,y:1});const N=50,F=this.calc.getCorner()==="bottom"?S.height-1:1,B=this.calc.getCorner()==="bottom"?S.height-N:N;this.animateFlippingTo({x:T-1,y:F},{x:T-N,y:B},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,S,T,N=!0){const F=c.GetCordsFromTwoPoint(y,S),B=[];for(const H of F)B.push(()=>this.do(H));const j=this.getAnimationDuration(F.length);this.render.startAnimation(B,j,()=>{this.calc&&(T&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),N&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const S=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-S.pageWidth<=S.width/5)return 1}else if(y.x<S.width/2)return 1;return 0}getAnimationDuration(y){const S=this.app.getSettings().flippingTime;return y>=1e3?S:y/1e3*S}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const S of y)if(this.state===S)return!0;return!1}isPointOnCorners(y){const S=this.getBoundsRect(),T=S.pageWidth,N=Math.sqrt(Math.pow(T,2)+Math.pow(S.height,2))/5,F=this.render.convertToBook(y);return F.x>0&&F.y>0&&F.x<S.width&&F.y<S.height&&(F.x<N||F.x>S.width-N)&&(F.y<N||F.y>S.height-N)}}class m{constructor(y,S){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=S,this.app=y;const T=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=T.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const S=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);S<this.animation.frames.length?this.animation.frames[S]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=S=>{this.render(S),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,S,T){this.finishAnimation(),this.animation={frames:y,duration:S,durationFrame:S/y.length,onAnimateEnd:T,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const S=this.getBlockWidth(),T=S/2,N=this.getBlockHeight()/2,F=this.setting.width/this.setting.height;let B=this.setting.width,j=this.setting.height,H=T-B;return this.setting.size==="stretch"?(S<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),B=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,B>this.setting.maxWidth&&(B=this.setting.maxWidth),j=B/F,j>this.getBlockHeight()&&(j=this.getBlockHeight(),B=j*F),H=y==="portrait"?T-B/2-B:T-B):S<2*B&&this.app.getSettings().usePortrait&&(y="portrait",H=T-B/2-B),this.boundsRect={left:H,top:N-j/2,width:2*B,height:j,pageWidth:B},y}setShadowData(y,S,T,N){if(!this.app.getSettings().drawShadow)return;const F=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:S,width:3*this.getRect().pageWidth/4*T/100,opacity:(100-T)*F/100/100,direction:N,progress:2*T}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const S=this.getRect();return{x:y.x-S.left,y:y.y-S.top}}isSafari(){return this.safari}convertToPage(y,S){S||(S=this.direction);const T=this.getRect();return{x:S===0?y.x-T.left-T.width/2:T.width/2-y.x+T.left,y:y.y-T.top}}convertToGlobal(y,S){if(S||(S=this.direction),y==null)return null;const T=this.getRect();return{x:S===0?y.x+T.left+T.width/2:T.width/2-y.x+T.left,y:y.y+T.top}}convertRectToGlobal(y,S){return S||(S=this.direction),{topLeft:this.convertToGlobal(y.topLeft,S),topRight:this.convertToGlobal(y.topRight,S),bottomLeft:this.convertToGlobal(y.bottomLeft,S),bottomRight:this.convertToGlobal(y.bottomRight,S)}}}class v extends m{constructor(y,S,T){super(y,S),this.canvas=T,this.ctx=T.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const T={x:y.left+y.width/2-S/2,y:0};this.ctx.translate(T.x,T.y);const N=this.ctx.createLinearGradient(0,0,S,0);N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),N.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),N.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),N.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),N.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,S,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),T.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),T.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(T.topLeft.x,T.topLeft.y),this.ctx.lineTo(T.topRight.x,T.topRight.y),this.ctx.lineTo(T.bottomRight.x,T.bottomRight.y),this.ctx.lineTo(T.bottomLeft.x,T.bottomLeft.y),this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const N=3*this.shadow.width/4,F=this.ctx.createLinearGradient(0,0,N,0);this.shadow.direction===0?(this.ctx.translate(-N,-100),F.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),F.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=F,this.ctx.fillRect(0,0,N,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class x{constructor(y,S,T){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=F=>{if(this.checkTarget(F.target)){const B=this.getMousePos(F.clientX,F.clientY);this.app.startUserTouch(B),F.preventDefault()}},this.onTouchStart=F=>{if(this.checkTarget(F.target)&&F.changedTouches.length>0){const B=F.changedTouches[0],j=this.getMousePos(B.clientX,B.clientY);this.touchPoint={point:j,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(j)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||F.preventDefault()}},this.onMouseUp=F=>{const B=this.getMousePos(F.clientX,F.clientY);this.app.userStop(B)},this.onMouseMove=F=>{const B=this.getMousePos(F.clientX,F.clientY);this.app.userMove(B,!1)},this.onTouchMove=F=>{if(F.changedTouches.length>0){const B=F.changedTouches[0],j=this.getMousePos(B.clientX,B.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-j.x)>10||this.app.getState()!=="read")&&F.cancelable&&this.app.userMove(j,!0),this.app.getState()!=="read"&&F.preventDefault()):this.app.userMove(j,!0)}},this.onTouchEnd=F=>{if(F.changedTouches.length>0){const B=F.changedTouches[0],j=this.getMousePos(B.clientX,B.clientY);let H=!1;if(this.touchPoint!==null){const W=j.x-this.touchPoint.point.x,K=Math.abs(j.y-this.touchPoint.point.y);Math.abs(W)>this.swipeDistance&&K<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(W>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),H=!0),this.touchPoint=null}this.app.userStop(j,H)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=S;const N=this.app.getSettings().usePortrait?1:2;y.style.minWidth=T.minWidth*N+"px",y.style.minHeight=T.minHeight+"px",T.size==="fixed"&&(y.style.minWidth=T.width*N+"px",y.style.minHeight=T.height+"px"),T.autoSize&&(y.style.width="100%",y.style.maxWidth=2*T.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=T.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,S){const T=this.distElement.getBoundingClientRect();return{x:y-T.left,y:S-T.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class _ extends x{constructor(y,S,T,N){super(y,S,T),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=N;for(const F of N)this.distElement.appendChild(F);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const S of y)this.distElement.appendChild(S);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class P extends x{constructor(y,S,T){super(y,S,T),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),S=parseInt(y.getPropertyValue("width"),10),T=parseInt(y.getPropertyValue("height"),10);this.canvas.width=S,this.canvas.height=T}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class w extends m{constructor(y,S,T){super(y,S),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=T,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),S=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let T=(100-S)*(2.5*y.pageWidth)/100+20;T>y.pageWidth&&(T=y.pageWidth);let N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${T}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*S/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;N+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=N}drawHardOuterShadow(){const y=this.getRect();let S=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;S>y.pageWidth&&(S=y.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${S}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=T}drawInnerShadow(){const y=this.getRect(),S=3*this.shadow.width/4,T=this.getDirection()===0?S:0,N=this.getDirection()===0?"to left":"to right",F=this.convertToGlobal(this.shadow.pos),B=this.shadow.angle+3*Math.PI/2,j=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let H="polygon( ";for(const K of j){let $=this.getDirection()===1?{x:-K.x+this.shadow.pos.x,y:K.y-this.shadow.pos.y}:{x:K.x-this.shadow.pos.x,y:K.y-this.shadow.pos.y};$=c.GetRotatedPoint($,{x:T,y:100},B),H+=$.x+"px "+$.y+"px, "}H=H.slice(0,-2),H+=")";const W=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${S}px;
            height: ${2*y.height}px;
            background: linear-gradient(${N},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${T}px 100px;
            transform: translate3d(${F.x-T}px, ${F.y-100}px, 0) rotate(${B}rad);
            clip-path: ${H};
            -webkit-clip-path: ${H};
        `;this.innerShadow.style.cssText=W}drawOuterShadow(){const y=this.getRect(),S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.shadow.angle+3*Math.PI/2,N=this.getDirection()===1?this.shadow.width:0,F=this.getDirection()===0?"to right":"to left",B=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let j="polygon( ";for(const W of B)if(W!==null){let K=this.getDirection()===1?{x:-W.x+this.shadow.pos.x,y:W.y-this.shadow.pos.y}:{x:W.x-this.shadow.pos.x,y:W.y-this.shadow.pos.y};K=c.GetRotatedPoint(K,{x:N,y:100},T),j+=K.x+"px "+K.y+"px, "}j=j.slice(0,-2),j+=")";const H=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${F}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${N}px 100px;
            transform: translate3d(${S.x-N}px, ${S.y-100}px, 0) rotate(${T}rad);
            clip-path: ${j};
            -webkit-clip-path: ${j};
        `;this.outerShadow.style.cssText=H}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class E{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const S=this._default;if(Object.assign(S,y),S.size!=="stretch"&&S.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(S.width<=0||S.height<=0)throw new Error("Invalid width or height");if(S.flippingTime<=0)throw new Error("Invalid flipping time");return S.size==="stretch"?(S.minWidth<=0&&(S.minWidth=100),S.maxWidth<S.minWidth&&(S.maxWidth=2e3),S.minHeight<=0&&(S.minHeight=100),S.maxHeight<S.minHeight&&(S.maxHeight=2e3)):(S.minWidth=S.width,S.maxWidth=S.width,S.minHeight=S.height,S.maxHeight=S.height),S}}(function(A,y){y===void 0&&(y={});var S=y.insertAt;if(typeof document<"u"){var T=document.head||document.getElementsByTagName("head")[0],N=document.createElement("style");N.type="text/css",S==="top"&&T.firstChild?T.insertBefore(N,T.firstChild):T.appendChild(N),N.styleSheet?N.styleSheet.cssText=A:N.appendChild(document.createTextNode(A))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),e.PageFlip=class extends class{constructor(){this.events=new Map}on(A,y){return this.events.has(A)?this.events.get(A).push(y):this.events.set(A,[y]),this}off(A){this.events.delete(A)}trigger(A,y,S=null){if(this.events.has(A))for(const T of this.events.get(A))T({data:S,object:y})}}{constructor(A,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new E().getSettings(y),this.block=A}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(A){this.ui=new P(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new v(this,this.setting,y),this.flipController=new p(this.render,this),this.pages=new o(this,this.render,A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(A){this.ui=new _(this.block,this,this.setting,A),this.render=new w(this,this.setting,this.ui.getDistElement()),this.flipController=new p(this.render,this),this.pages=new d(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(A){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new o(this,this.render,A),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(A){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new d(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.ui.updateItems(A),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(A){this.pages.show(A)}flipNext(A="top"){this.flipController.flipNext(A)}flipPrev(A="top"){this.flipController.flipPrev(A)}flip(A,y="top"){this.flipController.flipToPage(A,y)}updateState(A){this.trigger("changeState",this,A)}updatePageIndex(A){this.trigger("flip",this,A)}updateOrientation(A){this.ui.setOrientationStyle(A),this.update(),this.trigger("changeOrientation",this,A)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(A){return this.pages.getPage(A)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(A){this.mousePosition=A,this.isUserTouch=!0,this.isUserMove=!1}userMove(A,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&c.GetDistanceBetweenTwoPoint(this.mousePosition,A)>5&&(this.isUserMove=!0,this.flipController.fold(A)):this.flipController.showCorner(A)}userStop(A,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(A)))}},Object.defineProperty(e,"__esModule",{value:!0})})})(eA,eA.exports);var G$=eA.exports;const q$=rt.forwardRef((n,t)=>{const e=D.useRef(null),i=D.useRef([]),s=D.useRef(),[r,o]=D.useState([]);D.useImperativeHandle(t,()=>({pageFlip:()=>s.current}));const c=D.useCallback(()=>{s.current&&s.current.clear()},[]),u=D.useCallback(()=>{const d=s.current;d&&(d.off("flip"),d.off("changeOrientation"),d.off("changeState"),d.off("init"),d.off("update"))},[]);return D.useEffect(()=>{if(i.current=[],n.children){const d=rt.Children.map(n.children,f=>rt.cloneElement(f,{ref:p=>{p&&i.current.push(p)}}));(!n.renderOnlyPageLengthChange||r.length!==d.length)&&(d.length<r.length&&c(),o(d))}},[n.children]),D.useEffect(()=>{const d=()=>{const f=s.current;f&&(n.onFlip&&f.on("flip",p=>n.onFlip(p)),n.onChangeOrientation&&f.on("changeOrientation",p=>n.onChangeOrientation(p)),n.onChangeState&&f.on("changeState",p=>n.onChangeState(p)),n.onInit&&f.on("init",p=>n.onInit(p)),n.onUpdate&&f.on("update",p=>n.onUpdate(p)))};r.length>0&&i.current.length>0&&(u(),e.current&&!s.current&&(s.current=new G$.PageFlip(e.current,n)),s.current.getFlipController()?s.current.updateFromHtml(i.current):s.current.loadFromHTML(i.current),d())},[r]),rt.createElement("div",{ref:e,className:n.className,style:n.style},r)}),Z$=rt.memo(q$),X$="/barkaas-website/assets/food-C54aDfEu.pdf",Y$="/barkaas-website/assets/drinks-BQBemYua.pdf";$s.workerSrc=new URL("/barkaas-website/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();const K$=({pdfUrl:n})=>{const[t,e]=D.useState(0),[i,s]=D.useState(1.414),[r,o]=D.useState(1e3),[c,u]=D.useState(!1),d=D.useRef(null);D.useEffect(()=>{const P=()=>{const w=window.innerWidth;u(w<768),w<640?o(Math.min(w-32,500)):w<1024?o(Math.min(w-48,800)):o(Math.min(w-48,1200))};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const f=async P=>{e(P.numPages);const E=(await P.getPage(1)).getViewport({scale:1});s(E.height/E.width)},p=()=>{var P;return(P=d.current)==null?void 0:P.pageFlip().flipNext()},m=()=>{var P;return(P=d.current)==null?void 0:P.pageFlip().flipPrev()},v=Math.floor(c?r:r/2),x=Math.floor(v*i),_=c?v:v*2;return M.jsxs("div",{className:"w-full flex flex-col items-center overflow-x-clip",children:[c&&M.jsxs("div",{className:"flex gap-4 mb-4",children:[M.jsx(Fi,{onClick:m,variant:"outline",size:"sm",className:"text-gold",children:" Previous"}),M.jsx(Fi,{onClick:p,variant:"outline",size:"sm",className:"text-gold",children:"Next "})]}),M.jsx("div",{className:"flex items-center gap-4 py-6 overflow-x-clip w-full justify-center",children:M.jsx("div",{className:"relative mx-auto overflow-hidden touch-none",style:{width:_,height:x,maxWidth:"100%",minWidth:c?"100%":"auto"},children:M.jsx(D$,{file:n,onLoadSuccess:f,loading:M.jsx("div",{className:"flex items-center justify-center",style:{height:x},children:M.jsx(p3,{className:"w-12 h-12 animate-spin text-gold"})}),children:t>0&&M.jsx(Z$,{ref:d,width:v,height:x,size:"fixed",autoSize:!1,showCover:!1,mobileScrollSupport:!0,className:"shadow-2xl rounded-lg mx-auto",flippingTime:c?500:700,maxShadowOpacity:.5,showPageCorners:!0,useMouseEvents:!0,swipeDistance:c?50:0,clickEventForward:!0,usePortrait:c,disableFlipByClick:!1,children:Array.from({length:t}).map((P,w)=>M.jsx("div",{className:"overflow-hidden bg-white touch-pan-x",style:{width:v,height:x},children:M.jsx(V$,{pageNumber:w+1,width:v,renderAnnotationLayer:!1,renderTextLayer:!1})},w))},`${c}-${v}`)})})}),c&&M.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Swipe or tap to flip pages"})]})},Q$=()=>{const[n,t]=D.useState("food"),e={food:{pdfUrl:X$},beverage:{pdfUrl:Y$}};return M.jsxs(uy,{children:[M.jsxs("section",{className:"py-12 md:py-16 bg-pattern-arabesque text-center",children:[M.jsx("p",{className:"text-gold tracking-[0.25em] uppercase text-sm mb-4",children:"Discover"}),M.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-heading text-gradient-gold font-bold",children:"Our Menu"})]}),M.jsx("section",{className:"py-4 md:py-8 overflow-x-clip",children:M.jsxs("div",{className:"container mx-auto px-2 sm:px-4 overflow-x-clip",children:[M.jsxs("div",{className:"flex justify-center gap-3 sm:gap-6 mb-6 md:mb-8",children:[M.jsx(Fi,{variant:n==="food"?"gold":"outline",onClick:()=>t("food"),size:"sm",className:"px-10 py-4 md:px-12 md:py-6 text-base md:text-lg font-heading rounded-full transition-transform duration-200 hover:scale-[1.02]",children:"Food"}),M.jsx(Fi,{variant:n==="beverage"?"gold":"outline",onClick:()=>t("beverage"),size:"sm",className:"px-10 py-4 md:px-12 md:py-6 text-base md:text-lg font-heading rounded-full transition-transform duration-200 hover:scale-[1.02]",children:"Beverages"})]}),M.jsx(K$,{pdfUrl:e[n].pdfUrl},n)]})})]})},Xh=D.forwardRef(({className:n,type:t,...e},i)=>M.jsx("input",{type:t,className:ei("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...e}));Xh.displayName="Input";var J$="Label",_D=D.forwardRef((n,t)=>M.jsx(wi.label,{...n,ref:t,onMouseDown:e=>{var s;e.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));_D.displayName=J$;var wD=_D;const tW=nE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jo=D.forwardRef(({className:n,...t},e)=>M.jsx(wD,{ref:e,className:ei(tW(),n),...t}));jo.displayName=wD.displayName;const bD=D.forwardRef(({className:n,...t},e)=>M.jsx("textarea",{className:ei("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:e,...t}));bD.displayName="Textarea";const eW=["12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM","8:30 PM","9:00 PM","9:30 PM"],nW=[1,2,3,4,5,6,7,8],iW=()=>{const[n,t]=D.useState({name:"",email:"",phone:"",date:"",time:"",guests:"",occasion:"",notes:""}),e=s=>{s.preventDefault(),Sz.success("Reservation request submitted! We'll confirm shortly."),t({name:"",email:"",phone:"",date:"",time:"",guests:"",occasion:"",notes:""})},i=s=>{t({...n,[s.target.name]:s.target.value})};return M.jsxs(uy,{children:[M.jsx("section",{className:"py-20 bg-pattern-arabesque",children:M.jsxs("div",{className:"container mx-auto px-4 text-center",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Reservations"}),M.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Book a Table"}),M.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Reserve your spot for an unforgettable dining experience. We recommend booking in advance, especially for weekends and special occasions."})]})}),M.jsx("section",{className:"py-16",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsx("div",{className:"max-w-2xl mx-auto",children:M.jsxs("form",{onSubmit:e,className:"space-y-6",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsxs(jo,{htmlFor:"name",className:"flex items-center gap-2 text-foreground",children:[M.jsx(T2,{size:16,className:"text-gold"}),"Full Name"]}),M.jsx(Xh,{id:"name",name:"name",value:n.name,onChange:i,placeholder:"Your name",required:!0,className:"bg-card border-border focus:border-gold"})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(jo,{htmlFor:"email",className:"flex items-center gap-2 text-foreground",children:[M.jsx(P2,{size:16,className:"text-gold"}),"Email Address"]}),M.jsx(Xh,{id:"email",name:"email",type:"email",value:n.email,onChange:i,placeholder:"your@email.com",required:!0,className:"bg-card border-border focus:border-gold"})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(jo,{htmlFor:"phone",className:"flex items-center gap-2 text-foreground",children:[M.jsx(C2,{size:16,className:"text-gold"}),"Phone Number"]}),M.jsx(Xh,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:i,placeholder:"+971 XX XXX XXXX",required:!0,className:"bg-card border-border focus:border-gold"})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(jo,{htmlFor:"guests",className:"flex items-center gap-2 text-foreground",children:[M.jsx(k2,{size:16,className:"text-gold"}),"Number of Guests"]}),M.jsxs("select",{id:"guests",name:"guests",value:n.guests,onChange:i,required:!0,className:"w-full h-10 px-3 rounded-md bg-card border border-border text-foreground focus:border-gold focus:outline-none focus:ring-1 focus:ring-gold",children:[M.jsx("option",{value:"",children:"Select guests"}),nW.map(s=>M.jsxs("option",{value:s,children:[s," ",s===1?"Guest":"Guests"]},s)),M.jsx("option",{value:"9+",children:"9+ Guests (Private Event)"})]})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(jo,{htmlFor:"date",className:"flex items-center gap-2 text-foreground",children:[M.jsx(u3,{size:16,className:"text-gold"}),"Preferred Date"]}),M.jsx(Xh,{id:"date",name:"date",type:"date",value:n.date,onChange:i,required:!0,className:"bg-card border-border focus:border-gold"})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(jo,{htmlFor:"time",className:"flex items-center gap-2 text-foreground",children:[M.jsx(E2,{size:16,className:"text-gold"}),"Preferred Time"]}),M.jsxs("select",{id:"time",name:"time",value:n.time,onChange:i,required:!0,className:"w-full h-10 px-3 rounded-md bg-card border border-border text-foreground focus:border-gold focus:outline-none focus:ring-1 focus:ring-gold",children:[M.jsx("option",{value:"",children:"Select time"}),eW.map(s=>M.jsx("option",{value:s,children:s},s))]})]})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx(jo,{htmlFor:"occasion",className:"text-foreground",children:"Special Occasion (Optional)"}),M.jsx(Xh,{id:"occasion",name:"occasion",value:n.occasion,onChange:i,placeholder:"Birthday, Anniversary, Business Dinner, etc.",className:"bg-card border-border focus:border-gold"})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx(jo,{htmlFor:"notes",className:"text-foreground",children:"Special Requests (Optional)"}),M.jsx(bD,{id:"notes",name:"notes",value:n.notes,onChange:i,placeholder:"Dietary restrictions, seating preferences, etc.",rows:4,className:"bg-card border-border focus:border-gold resize-none"})]}),M.jsx(Fi,{type:"submit",variant:"gold",size:"xl",className:"w-full",children:"Request Reservation"}),M.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Our team will contact you to confirm your reservation within 24 hours."})]})})})})]})},sW="/barkaas-website/assets/about-1-dBGNP0r9.png",rW="/barkaas-website/assets/about-2-CZInUpjZ.png",xD="/barkaas-website/assets/SMP_4117-BZ8EGCPG.jpg",oW=Object.freeze(Object.defineProperty({__proto__:null,default:xD},Symbol.toStringTag,{value:"Module"})),SD="/barkaas-website/assets/SMP_4249-BuvoWixN.jpg",aW=Object.freeze(Object.defineProperty({__proto__:null,default:SD},Symbol.toStringTag,{value:"Module"})),AD="/barkaas-website/assets/SMP_4261-Cjn-q8z-.jpg",lW=Object.freeze(Object.defineProperty({__proto__:null,default:AD},Symbol.toStringTag,{value:"Module"})),ED="/barkaas-website/assets/SMP_3896-uY4Oyz1N.jpg",cW=Object.freeze(Object.defineProperty({__proto__:null,default:ED},Symbol.toStringTag,{value:"Module"})),PD="/barkaas-website/assets/DSC0914-D4olmagS.jpg",uW=Object.freeze(Object.defineProperty({__proto__:null,default:PD},Symbol.toStringTag,{value:"Module"})),hW="/barkaas-website/assets/about-3-CDxEln_T.png",CD="/barkaas-website/assets/mixmandi-CPXdf0SA.jpg",dW=Object.freeze(Object.defineProperty({__proto__:null,default:CD},Symbol.toStringTag,{value:"Module"})),fW=()=>M.jsxs(uy,{children:[M.jsx("section",{className:"bg-pattern-arabesque",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[M.jsxs("div",{className:"text-center lg:text-left pt-16 animate-[fadeInUp_0.8s_ease-out]",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2 animate-[fadeIn_1s_ease-out_0.2s_both]",children:"India's Largest Indo-Arabic Chain"}),M.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4 animate-[fadeInUp_0.8s_ease-out_0.3s_both]",children:"Welcome to Barkaas"}),M.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto lg:mx-0 animate-[fadeInUp_0.8s_ease-out_0.5s_both]",children:"Spanning over 32 locations and continuously expanding, Barkaas is a prominent name in authentic Indo-Arabic cuisine, with vibrant establishments in key cities such as Bangalore, Hyderabad, Vishakhapatnam, Kolkata, Patna, Aligarh, Indore and Lucknow. Our widespread presence across the nation highlights our dedication to delivering unparalleled culinary experiences, ensuring that every corner of India can savour the true essence of our exquisite flavors. With a secret recipe that is replicated across all restaurants, Barkaas is a legendary story waiting to be experienced."})]}),M.jsxs("div",{className:"relative group animate-[fadeInRight_1s_ease-out_0.4s_both]",children:[M.jsx("div",{className:"absolute inset-0 -z-10 group-hover:opacity-100 opacity-0 transition-all duration-500"}),M.jsx("img",{src:sW,alt:"Signature Barkaas Mandi Platter",className:"w-full object-cover transition-all duration-500 group-hover:scale-105"})]})]})})}),M.jsx("section",{className:"py-8",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[M.jsx("div",{className:"relative overflow-hidden rounded-lg group animate-[fadeInLeft_0.8s_ease-out]",children:M.jsx("img",{src:rW,alt:"Barkaas Mandi Platter",className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"})}),M.jsxs("div",{className:"animate-[fadeInRight_0.8s_ease-out_0.2s_both]",children:[M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Our Heritage"}),M.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.4s_both]",children:"Get lost in the tingling aroma of our traditional Mandi and Biryani as you enter a world of blended paradise. Immerse yourself in a dining experience where the rich legacies of Mughal and Afghani cultures converge to craft a truly memorable feast."}),M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:'At Barkaas, our philosophy of "food that unites people" comes alive through an array of over 20 exquisite varieties of Mandi and Biryani. We invite you to gather with friends and family around our generous, flavorful platters, celebrating togetherness and creating lasting memories over each delectable bite. Spices dance in your palette as our deeply marinated meat and fish steal the show. A tall glass of our signature falooda and you are in food heaven.'})]})]})]})})}),M.jsx("section",{className:"py-16 bg-secondary",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[M.jsxs("div",{className:"animate-[fadeInLeft_0.8s_ease-out]",children:[M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Our Majlis Seating"}),M.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.4s_both]",children:"Where Families Gather, Stories Are Shared, and Meals Are Celebrated. At Barkaas, dining is more than just food. Its a shared experience. Our traditional Majlis-style seating brings families and friends together the way it was always meant to be: seated close, connected, and comfortable."}),M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:"From shared platters to single-plate meals, every dish is enjoyed the traditional way, encouraging togetherness, conversation, and warmth. Whether its a quiet family meal or a joyful gathering, our Majlis creates the perfect setting to slow down, share, and savour. Sit together. Eat together. Celebrate together. Thats the Barkaas way."})]})]}),M.jsx("div",{className:"relative animate-[fadeInRight_0.8s_ease-out_0.3s_both]",children:M.jsx("img",{src:TE,alt:"Barkaas Falooda and Desserts",className:"w-full transition-transform duration-500 hover:scale-105 border rounded-3xl shadow-xl"})})]})})}),M.jsx("section",{className:"py-16 bg-burgundy/20",children:M.jsxs("div",{className:"container mx-auto px-4",children:[M.jsxs("div",{className:"text-center mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"The Magic Behind the Masala"}),M.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto pt-4",children:"At Barkaas, we infuse each dish with our signature blend of freshly ground, in-house masalas, crafted daily to preserve peak freshness and deliver unparalleled flavor. Each recipe is a testament to our dedication, offering a unique and exceptional taste experience that sets every bite apart."})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[M.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.1s_both]",children:[M.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Mandi Masala"}),M.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Mandi rice preparation."})]}),M.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.2s_both]",children:[M.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Fahm Masala"}),M.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Al Fahm and Chicken Gravy."})]}),M.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.3s_both]",children:[M.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"Mutton Masala"}),M.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in our Mutton Mandi and Mutton Raan."})]}),M.jsxs("div",{className:"group p-6 rounded-xl border border-gold/75 hover:shadow-xl hover:-translate-y-2 bg-card/80 backdrop-blur-sm transition-all duration-300 text-center hover:bg-burgundy/20 animate-[fadeInUp_0.6s_ease-out_0.4s_both]",children:[M.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground group-hover:text-gold transition-colors",children:"BBQ Masala"}),M.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors leading-relaxed",children:"Used in the marination of all our charcoal-grilled products."})]})]})]})}),M.jsxs("section",{className:"py-20",children:[M.jsxs("div",{className:"container mx-auto px-4 max-w-6xl lg:max-w-5xl",children:[M.jsxs("div",{className:"text-center mb-16 animate-[fadeInUp_0.8s_ease-out]",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-4 inline-block px-6 py-3 bg-gold/10 rounded-full",children:"From Yemen to India"}),M.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-foreground",children:"Authentic Mandi"})]}),M.jsx("p",{className:"text-muted-foreground max-w-4xl mx-auto mb-20 text-center leading-relaxed text-lg px-8 animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:`The word "Mandi" comes from the Arabic word 'nada', meaning dew or dewy, referring to the moist texture of the meat. The origins of this authentic dish can be traced back to Yemen while being prevalent in most areas of the Arabian Peninsula and also in Egypt and other countries. Now trending in India, this dish is a magical blend of meat, rice and a range of brilliant spices. Moist meat, our secret recipe and a forgotten tale brought back to life  you are in for a timeless treat.`})]}),M.jsx("div",{className:"w-full mt-12",children:M.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-0 max-w-none w-full",children:[M.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.1s_both]",children:M.jsx("img",{src:xD,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),M.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.15s_both]",children:M.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Big Daddy Mandi"})}),M.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.2s_both]",children:M.jsx("img",{src:SD,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),M.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.25s_both]",children:M.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Murgh Mussalam Mandi"})}),M.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.3s_both]",children:M.jsx("img",{src:AD,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),M.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.35s_both]",children:M.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Mutton Raan Mandi"})}),M.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.45s_both]",children:M.jsx("img",{src:qR,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),M.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.4s_both]",children:M.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"BBQ Mandi"})}),M.jsx("div",{className:"group relative h-[180px] overflow-hidden border-r border-b border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.45s_both]",children:M.jsx("img",{src:CD,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),M.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-b border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-6 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.55s_both]",children:M.jsx("span",{className:"font-bold text-lg text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Arabian Mix Mandi"})}),M.jsx("div",{className:"group relative h-[180px] overflow-hidden border-border/40 hover:border-gold/60 hover:shadow-2xl transition-all duration-400 hover:scale-[1.02] animate-[fadeIn_0.5s_ease-out_0.65s_both]",children:M.jsx("img",{src:ED,alt:"Mandi",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),M.jsx("div",{className:"group relative h-[180px] bg-card/90 backdrop-blur-sm border-r border-border/40 hover:shadow-2xl transition-all duration-400 flex items-center justify-center p-8 hover:-translate-y-1 animate-[fadeIn_0.5s_ease-out_0.6s_both]",children:M.jsx("span",{className:"font-bold text-xl text-foreground group-hover:text-gold transition-colors text-center leading-tight tracking-wide",children:"Mutton Mudfoon Mandi"})})]})})]}),M.jsx("section",{className:"py-16 bg-secondary",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[M.jsxs("div",{className:"animate-[fadeInLeft_0.8s_ease-out]",children:[M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Desserts & Faloodas"}),M.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.2s_both]",children:"Imagine the creaminess of an authentic falooda and the popping colours of the many textures and flavours that surround it. And now envision this rich decadent dessert but with even more exotic ingredients like tender coconut pudding, rabdi, kulfi, condensed milk, topped with the taste of tropic like like kiwi, dragon fruit, pomegranate and roasted almonds, cashews, and raisins."}),M.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:[M.jsx("strong",{children:"Kunafa:"})," Golden crisp shredded pastry embracing luscious creamy filling, drizzled with aromatic syrup and sprinkled with chopped nuts."]}),M.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.4s_both]",children:[M.jsx("strong",{children:"Kaddu ka Kheer:"})," Fragrant spiced pumpkin pudding simmered to perfection with rich milk, aromatic cardamom, and a hint of saffron."]}),M.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.5s_both]",children:[M.jsx("strong",{children:"Qubani ka Meetha:"})," Sumptuous slow-cooked apricot delight topped with slivers of nuts and a generous dollop of fresh cream."]}),M.jsxs("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:[M.jsx("strong",{children:"Shahi Tukda:"})," Royal bread pudding fried golden, bathed in creamy saffron-cardamom milk sauce, garnished with nuts and raisins."]})]})]}),M.jsx("div",{className:"relative animate-[fadeInRight_0.8s_ease-out_0.3s_both]",children:M.jsx("img",{src:hW,alt:"Barkaas Falooda and Desserts",className:"w-full transition-transform duration-500 hover:scale-105"})})]})})}),M.jsx("section",{className:"py-16",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[M.jsx("img",{src:PD,alt:"Barkaas Majlis-Style Dining",className:"rounded-lg shadow-2xl w-full transition-transform duration-500 hover:scale-105 animate-[fadeInLeft_0.8s_ease-out]"}),M.jsxs("div",{className:"animate-[fadeInRight_0.8s_ease-out_0.2s_both]",children:[M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-6",children:"Dining Experience"}),M.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:'Together we dine, embracing our ethos  "food that unites people." Inspired by the traditional Arab hospitality of private guest areas, our Majlis-style seating invites you to relax on low tables and cushions, offering a cosy and engaging dining experience. This style reflects the essence of Middle Eastern warmth and generosity, where every guest is treated with the utmost respect and kindness.'}),M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.5s_both]",children:"Immerse yourself in our delectable cuisine while enjoying the comfort and camaraderie that come with sharing a meal in such a welcoming setting. Comfortable seating with a touch of the authenticity and cultural heritage of the Arabian Peninsula for an elegant and immersive fine dining experience. "})]})]})]})})}),M.jsx("section",{className:"py-16 bg-secondary",children:M.jsxs("div",{className:"container mx-auto px-4",children:[M.jsxs("div",{className:"text-center mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Since 2016"}),M.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground",children:"Our Journey"})]}),M.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 text-muted-foreground leading-relaxed text-center",children:[M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.3s_both]",children:"Founded in 2016 by visionaries Gowtham Kudapa, Sandeep Palavalasa, Nagarjuna Gannamani, and Vamsi Maddineni, our brand began its culinary journey in Vijayawada. Since launching our expansion phase in 2018, we have steadily grown into a leading name in the industry, driven by a commitment to excellence, authenticity, and innovation. Every milestone reflects our passion for delivering exceptional dining experiences that bring people together through food."}),M.jsx("p",{className:"animate-[fadeIn_0.8s_ease-out_0.6s_both]",children:'Today, we proudly operate 32 outlets across the country, serving over 20 million customers annually with an average rating of 4.3. Supported by a dedicated team of 1,000+ employees, our efforts were recognized when we were awarded "Promising Arabic Restaurant Chain of the Year 2022" by Franchise India, underscoring our continued pursuit of quality and innovation.'})]})]})}),M.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
      `})]}),pW="/barkaas-website/assets/DSC1092-CtOFKgvi.jpg",gW=Object.freeze(Object.defineProperty({__proto__:null,default:pW},Symbol.toStringTag,{value:"Module"})),mW="/barkaas-website/assets/DSC1093-B8u0feR1.jpg",vW=Object.freeze(Object.defineProperty({__proto__:null,default:mW},Symbol.toStringTag,{value:"Module"})),yW="/barkaas-website/assets/RON1141-B7XrNPtp.jpg",_W=Object.freeze(Object.defineProperty({__proto__:null,default:yW},Symbol.toStringTag,{value:"Module"})),wW="/barkaas-website/assets/RON3045-q2HVkfUs.jpg",bW=Object.freeze(Object.defineProperty({__proto__:null,default:wW},Symbol.toStringTag,{value:"Module"})),xW="/barkaas-website/assets/RON3066-DWx3TyPm.jpg",SW=Object.freeze(Object.defineProperty({__proto__:null,default:xW},Symbol.toStringTag,{value:"Module"})),AW="/barkaas-website/assets/010A1576-CUCh6MMK.jpg",EW=Object.freeze(Object.defineProperty({__proto__:null,default:AW},Symbol.toStringTag,{value:"Module"})),PW="/barkaas-website/assets/010A1647-CM-XTowj.jpg",CW=Object.freeze(Object.defineProperty({__proto__:null,default:PW},Symbol.toStringTag,{value:"Module"})),TW="/barkaas-website/assets/010A1682-DZZCnA6E.jpg",kW=Object.freeze(Object.defineProperty({__proto__:null,default:TW},Symbol.toStringTag,{value:"Module"})),MW="/barkaas-website/assets/010A1765-F_RIy2nR.jpg",LW=Object.freeze(Object.defineProperty({__proto__:null,default:MW},Symbol.toStringTag,{value:"Module"})),RW="/barkaas-website/assets/010A1828-DPlwkNIr.jpg",NW=Object.freeze(Object.defineProperty({__proto__:null,default:RW},Symbol.toStringTag,{value:"Module"})),IW="/barkaas-website/assets/010A1851-j-ISxG2w.jpg",DW=Object.freeze(Object.defineProperty({__proto__:null,default:IW},Symbol.toStringTag,{value:"Module"})),OW="/barkaas-website/assets/010A1858-BDs3N45j.jpg",FW=Object.freeze(Object.defineProperty({__proto__:null,default:OW},Symbol.toStringTag,{value:"Module"})),BW="/barkaas-website/assets/0X4A9932-CwoL-KWS.jpg",jW=Object.freeze(Object.defineProperty({__proto__:null,default:BW},Symbol.toStringTag,{value:"Module"})),zW="/barkaas-website/assets/SMP_3392-BQjB7QAh.jpg",HW=Object.freeze(Object.defineProperty({__proto__:null,default:zW},Symbol.toStringTag,{value:"Module"})),UW="/barkaas-website/assets/SMP_3530-B6a208ch.jpg",$W=Object.freeze(Object.defineProperty({__proto__:null,default:UW},Symbol.toStringTag,{value:"Module"})),WW="/barkaas-website/assets/SMP_3558-DXxpTQI4.jpg",VW=Object.freeze(Object.defineProperty({__proto__:null,default:WW},Symbol.toStringTag,{value:"Module"})),GW="/barkaas-website/assets/SMP_3613-CRBthWd3.jpg",qW=Object.freeze(Object.defineProperty({__proto__:null,default:GW},Symbol.toStringTag,{value:"Module"})),ZW="/barkaas-website/assets/SMP_3658-5ERwtstd.jpg",XW=Object.freeze(Object.defineProperty({__proto__:null,default:ZW},Symbol.toStringTag,{value:"Module"})),YW="/barkaas-website/assets/SMP_3687-BuRLGUmB.jpg",KW=Object.freeze(Object.defineProperty({__proto__:null,default:YW},Symbol.toStringTag,{value:"Module"})),QW="/barkaas-website/assets/SMP_3738-BvTC20PT.jpg",JW=Object.freeze(Object.defineProperty({__proto__:null,default:QW},Symbol.toStringTag,{value:"Module"})),tV="/barkaas-website/assets/SMP_3778-DWfPGxar.jpg",eV=Object.freeze(Object.defineProperty({__proto__:null,default:tV},Symbol.toStringTag,{value:"Module"})),nV="/barkaas-website/assets/SMP_3900-SpdZb0a8.jpg",iV=Object.freeze(Object.defineProperty({__proto__:null,default:nV},Symbol.toStringTag,{value:"Module"})),sV="/barkaas-website/assets/SMP_3955-CDOJg2ZC.jpg",rV=Object.freeze(Object.defineProperty({__proto__:null,default:sV},Symbol.toStringTag,{value:"Module"})),oV="/barkaas-website/assets/SMP_3994-L5Jcau7w.jpg",aV=Object.freeze(Object.defineProperty({__proto__:null,default:oV},Symbol.toStringTag,{value:"Module"})),lV="/barkaas-website/assets/SMP_4008-D0ZmvMGC.jpg",cV=Object.freeze(Object.defineProperty({__proto__:null,default:lV},Symbol.toStringTag,{value:"Module"})),uV="/barkaas-website/assets/SMP_4021-CXgHDSQK.jpg",hV=Object.freeze(Object.defineProperty({__proto__:null,default:uV},Symbol.toStringTag,{value:"Module"})),dV="/barkaas-website/assets/SMP_4160-D11UN9Yi.jpg",fV=Object.freeze(Object.defineProperty({__proto__:null,default:dV},Symbol.toStringTag,{value:"Module"})),pV="/barkaas-website/assets/SMP_4239-BPWyBff_.jpg",gV=Object.freeze(Object.defineProperty({__proto__:null,default:pV},Symbol.toStringTag,{value:"Module"})),mV="/barkaas-website/assets/SMP_4283-Ccdy2gjG.jpg",vV=Object.freeze(Object.defineProperty({__proto__:null,default:mV},Symbol.toStringTag,{value:"Module"})),yV="/barkaas-website/assets/SMP_4288-DM7TpGoM.jpg",_V=Object.freeze(Object.defineProperty({__proto__:null,default:yV},Symbol.toStringTag,{value:"Module"})),wV=()=>{const[n,t]=D.useState("All"),[e,i]=D.useState(null),[s,r]=D.useState([]),o=[{fileName:"0X4A9932",name:"",subcategory:"Mandi"},{fileName:"SMP_3896",name:"",subcategory:"Mandi"},{fileName:"SMP_3900",name:"",subcategory:"Mandi"},{fileName:"SMP_3955",name:"",subcategory:"Mandi"},{fileName:"SMP_4117",name:"",subcategory:"Mandi"},{fileName:"SMP_4249",name:"",subcategory:"Mandi"},{fileName:"SMP_4261",name:"",subcategory:"Mandi"},{fileName:"SMP_3530",name:"",subcategory:"Biryani"},{fileName:"SMP_3994",name:"",subcategory:"Biryani"},{fileName:"010A1851",name:"",subcategory:"Starter"},{fileName:"010A1858",name:"",subcategory:"Starter"},{fileName:"SMP_3392",name:"",subcategory:"Starter"},{fileName:"SMP_3613",name:"",subcategory:"Starter"},{fileName:"SMP_3738",name:"",subcategory:"Starter"},{fileName:"SMP_3778",name:"",subcategory:"Starter"},{fileName:"SMP_4008",name:"",subcategory:"Starter"},{fileName:"SMP_4021",name:"",subcategory:"Starter"},{fileName:"SMP_4239",name:"",subcategory:"Starter"},{fileName:"SMP_4288",name:"",subcategory:"Starter"},{fileName:"010A1765",name:"",subcategory:"Dessert"},{fileName:"010A1828",name:"",subcategory:"Dessert"},{fileName:"SMP_3558",name:"",subcategory:"Dessert"},{fileName:"SMP_3658",name:"",subcategory:"Dessert"},{fileName:"SMP_3687",name:"",subcategory:"Dessert"},{fileName:"SMP_4283",name:"",subcategory:"Dessert"},{fileName:"010A1576",name:"",subcategory:"Drink"},{fileName:"010A1647",name:"",subcategory:"Drink"},{fileName:"010A1682",name:"",subcategory:"Drink"}];D.useEffect(()=>{const d=Object.assign({"/src/assets/ambience/DSC0914.jpg":uW,"/src/assets/ambience/DSC1092.jpg":gW,"/src/assets/ambience/DSC1093.jpg":vW,"/src/assets/ambience/DSC1109.jpg":e6,"/src/assets/ambience/RON1141.jpg":_W,"/src/assets/ambience/RON3045.jpg":bW,"/src/assets/ambience/RON3054.jpg":t6,"/src/assets/ambience/RON3063.jpg":i6,"/src/assets/ambience/RON3066.jpg":SW,"/src/assets/ambience/RON3068.jpg":n6}),f=Object.assign({"/src/assets/food/010A1576.jpg":EW,"/src/assets/food/010A1647.jpg":CW,"/src/assets/food/010A1682.jpg":kW,"/src/assets/food/010A1765.jpg":LW,"/src/assets/food/010A1828.jpg":NW,"/src/assets/food/010A1851.jpg":DW,"/src/assets/food/010A1858.jpg":FW,"/src/assets/food/0X4A9932.jpg":jW,"/src/assets/food/DSC1137.jpg":a6,"/src/assets/food/SMP_3392.jpg":HW,"/src/assets/food/SMP_3530.jpg":$W,"/src/assets/food/SMP_3558.jpg":VW,"/src/assets/food/SMP_3613.jpg":qW,"/src/assets/food/SMP_3658.jpg":XW,"/src/assets/food/SMP_3687.jpg":KW,"/src/assets/food/SMP_3738.jpg":JW,"/src/assets/food/SMP_3778.jpg":eV,"/src/assets/food/SMP_3896.jpg":cW,"/src/assets/food/SMP_3900.jpg":iV,"/src/assets/food/SMP_3955.jpg":rV,"/src/assets/food/SMP_3994.jpg":aV,"/src/assets/food/SMP_4008.jpg":cV,"/src/assets/food/SMP_4021.jpg":hV,"/src/assets/food/SMP_4117.jpg":oW,"/src/assets/food/SMP_4160.jpg":fV,"/src/assets/food/SMP_4239.jpg":gV,"/src/assets/food/SMP_4249.jpg":aW,"/src/assets/food/SMP_4261.jpg":lW,"/src/assets/food/SMP_4283.jpg":vV,"/src/assets/food/SMP_4288.jpg":_V,"/src/assets/food/mixmandi.jpg":dW}),p=Object.entries(d).map(([x,_],P)=>{var E;const w=((E=x.split("/").pop())==null?void 0:E.split(".")[0])||`ambience-${P}`;return{id:P+1,src:_.default,alt:`${w.charAt(0).toUpperCase()+w.slice(1)} - Restaurant Interior`,category:"Ambiance"}}),v=Object.entries(f).map(([x,_],P)=>{var A;const w=((A=x.split("/").pop())==null?void 0:A.split(".")[0])||`food-${P}`,E=o.find(y=>y.fileName===w);return{id:p.length+P+1,src:_.default,alt:(E==null?void 0:E.name)||`${w.charAt(0).toUpperCase()+w.slice(1)} Dish`,category:"Food",subcategory:E==null?void 0:E.subcategory,fileName:w}}).sort((x,_)=>{const P=o.findIndex(y=>y.fileName===x.fileName),w=o.findIndex(y=>y.fileName===_.fileName);return(P===-1?9999:P)-(w===-1?9999:w)});r([...p,...v])},[]);const c=["All","Food","Ambiance"],u=n==="All"?s:s.filter(d=>d.category===n);return M.jsxs(uy,{children:[M.jsx("section",{className:"py-20 bg-pattern-arabesque",children:M.jsxs("div",{className:"container mx-auto px-4 text-center",children:[M.jsx("p",{className:"text-gold font-medium tracking-[0.2em] uppercase mb-2",children:"Visual Journey"}),M.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold text-gradient-gold mb-4",children:"Our Gallery"}),M.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore the beauty of our restaurant, from our elegant interiors to our exquisite culinary creations."})]})}),M.jsx("section",{className:"py-2",children:M.jsxs("div",{className:"container mx-auto px-4",children:[M.jsx("div",{className:"flex justify-center gap-3 mb-12",children:c.map(d=>M.jsx("button",{onClick:()=>t(d),className:ei("px-6 py-2 rounded-full text-sm font-medium transition-all duration-300",n===d?"bg-gold text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-gold/20 hover:text-foreground"),children:d},d))}),M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map((d,f)=>M.jsxs("div",{className:ei("group relative overflow-hidden rounded-lg cursor-pointer",f===0&&"sm:col-span-2 sm:row-span-2"),onClick:()=>i(d),children:[M.jsx("img",{src:d.src,alt:d.alt,className:ei("w-full object-cover transition-transform duration-500 group-hover:scale-110",f===0?"h-full min-h-[400px]":"aspect-square")}),M.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),M.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[M.jsx("p",{className:"text-foreground font-medium",children:d.alt}),M.jsx("p",{className:"text-gold text-sm",children:d.subcategory||d.category})]})]},d.id))})]})}),e&&M.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 flex items-center justify-center p-4",onClick:()=>i(null),children:[M.jsx("button",{className:"absolute top-4 right-4 text-foreground hover:text-gold transition-colors",onClick:()=>i(null),"aria-label":"Close",children:M.jsx(iE,{size:32})}),M.jsx("img",{src:e.src,alt:e.alt,className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:d=>d.stopPropagation()})]})]})},bV=()=>{const n=Ch();return D.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),M.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:M.jsxs("div",{className:"text-center",children:[M.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),M.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),M.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},xV=new V5,SV=()=>M.jsx(q5,{client:xV,children:M.jsxs(b5,{children:[M.jsx(iz,{}),M.jsx(Oz,{}),M.jsxs(WH,{children:[M.jsx(ZH,{}),M.jsxs(FH,{children:[M.jsx(Fc,{path:"/",element:M.jsx(p6,{})}),M.jsx(Fc,{path:"/menu",element:M.jsx(Q$,{})}),M.jsx(Fc,{path:"/book",element:M.jsx(iW,{})}),M.jsx(Fc,{path:"/about",element:M.jsx(fW,{})}),M.jsx(Fc,{path:"/gallery",element:M.jsx(wV,{})}),M.jsx(Fc,{path:"*",element:M.jsx(bV,{})})]})]})]})});YL(document.getElementById("root")).render(M.jsx(SV,{}));
